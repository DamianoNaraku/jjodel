{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/measurabletemplate/measurabletemplate.component.html","./src/guiElements/console/console.component.html","./src/guiElements/dam-context-menu/dam-context-menu.component.html","./src/guiElements/graph-tab-html/graph-tab-html.component.html","./src/guiElements/isidebar/isidebar.component.html","./src/guiElements/m-graph-html/m-graph-html.component.html","./src/guiElements/mm-graph-html/mm-graph-html.component.html","./src/guiElements/mminput/mminput.component.html","./src/guiElements/mmsidebar/mmsidebar.component.html","./src/guiElements/msidebar/msidebar.component.html","./src/guiElements/property-barr/property-barr.component.html","./src/guiElements/style-editor/style-editor.component.html","./src/guiElements/top-bar/m2tcreator/m2tcreator.component.html","./src/guiElements/top-bar/top-bar.component.html","./node_modules/tslib/tslib.es6.js","./src/Database/LocalStorage.ts","./src/GuiStyles/global.ts","./src/GuiStyles/viewpoint.ts","./src/Model/EAnnotation.ts","./src/Model/EAnnotationDetail.ts","./src/Model/MetaMetaModel.ts","./src/Model/MetaModel.ts","./src/Model/Model.ts","./src/Model/iModel.ts","./src/Model/mPackage/MMPackage.ts","./src/Model/mPackage/MPackage.component.ts","./src/Model/mPackage/iPackage.ts","./src/Model/modelPiece.ts","./src/ServerCommunication/Synchronization/ModelUpdateMessage.ts","./src/ServerCommunication/Synchronization/SendManager.ts","./src/app/User.ts","./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/measurabletemplate/measurabletemplate.component.css","./src/app/measurabletemplate/measurabletemplate.component.ts","./src/common/Database.ts","./src/common/Joiner.ts","./src/common/StringSimilarity.js","./src/common/measurable.ts","./src/common/prj_json2xml.js","./src/common/prj_xml2json.js","./src/common/util.ts","./src/environments/environment.ts","./src/guiElements/changelog/ChangelogEntry.ts","./src/guiElements/console/console.component.css","./src/guiElements/console/console.component.ts","./src/guiElements/dam-context-menu/dam-context-menu.component.css","./src/guiElements/dam-context-menu/dam-context-menu.component.ts","./src/guiElements/graph-tab-html/graph-tab-html.component.css","./src/guiElements/graph-tab-html/graph-tab-html.component.ts","./src/guiElements/isidebar/isidebar.component.css","./src/guiElements/isidebar/isidebar.component.ts","./src/guiElements/m-graph-html/m-graph-html.component.css","./src/guiElements/m-graph-html/m-graph-html.component.ts","./src/guiElements/mGraph/Edge/EdgePoint.ts","./src/guiElements/mGraph/Edge/ExtEdge.ts","./src/guiElements/mGraph/Edge/edgeStyle.ts","./src/guiElements/mGraph/Edge/iEdge.ts","./src/guiElements/mGraph/Field/iField.ts","./src/guiElements/mGraph/Layouting.ts","./src/guiElements/mGraph/Vertex/Mark.ts","./src/guiElements/mGraph/Vertex/iVertex.ts","./src/guiElements/mGraph/iGraph.ts","./src/guiElements/mm-graph-html/mm-graph-html.component.css","./src/guiElements/mm-graph-html/mm-graph-html.component.ts","./src/guiElements/mminput/mminput.component.css","./src/guiElements/mminput/mminput.component.ts","./src/guiElements/mmsidebar/mmsidebar.component.css","./src/guiElements/mmsidebar/mmsidebar.component.ts","./src/guiElements/msidebar/msidebar.component.css","./src/guiElements/msidebar/msidebar.component.ts","./src/guiElements/property-barr/property-barr.component.css","./src/guiElements/property-barr/property-barr.component.ts","./src/guiElements/propertyBar/propertyBar.ts","./src/guiElements/style-editor/style-editor.component.css","./src/guiElements/style-editor/style-editor.component.ts","./src/guiElements/top-bar/m2tcreator/m2tcreator.component.css","./src/guiElements/top-bar/m2tcreator/m2tcreator.component.ts","./src/guiElements/top-bar/top-bar.component.css","./src/guiElements/top-bar/top-bar.component.ts","./src/mClass/EEnum.ts","./src/mClass/IClassifier.ts","./src/mClass/MClass.ts","./src/mClass/classChild/ELiteral.ts","./src/mClass/classChild/Features/Attributes/MAttribute.ts","./src/mClass/classChild/Features/Attributes/iAttribute.ts","./src/mClass/classChild/Features/Attributes/mmAttribute.ts","./src/mClass/classChild/Features/References/M2Reference.ts","./src/mClass/classChild/Features/References/MReference.ts","./src/mClass/classChild/Features/References/iReference.ts","./src/mClass/classChild/Features/iFeature.ts","./src/mClass/classChild/Operations/eOperation.ts","./src/mClass/classChild/Operations/eParameter.ts","./src/mClass/classChild/Type.ts","./src/mClass/classChild/Typedd.ts","./src/mClass/iClass.ts","./src/mClass/m2Class.ts","./src/main.ts"],"names":[],"mappings":"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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"\"","export default \"<div id=\\\"measurableTemplateGeneratorShell\\\" class=\\\"template colChild\\\">\\n  <label class=\\\"labelmeasurable\\\">\\n    <input class=\\\"ismeasurable\\\" type=\\\"checkbox\\\"><span>is measurable</span>\\n  </label>\\n  <div class=\\\"meas_acc0\\\">\\n    <h7 class=\\\"ruletitle btn btn-link collapsed maintitle\\\" type=\\\"button\\\" data-parent=\\\".meas_acc0\\\" data-toggle=\\\"collapse\\\" data-target=\\\".meas_acc0 > .measurableSettingRoot\\\">\\n      <span class=\\\"innertitle\\\">Measurable Settings</span>\\n    </h7>\\n    <div class=\\\"measurableSettingRoot collapse\\\">\\n      <div class=\\\"boxesroot\\\">\\n        <div class=\\\"resizable boxroot\\\">\\n          <h6 class=\\\"boxtitle\\\">Resizable handles</h6>\\n          <div class=\\\"rectangledrawing outer\\\">\\n            <div class=\\\"top row\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"arrow corner top left\\\" direction=\\\"nw\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"arrow side top\\\" direction=\\\"n\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"arrow corner top right\\\" direction=\\\"ne\\\">\\n            </div>\\n            <div class=\\\"mid row\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"arrow side left\\\" direction=\\\"w\\\">\\n              <div class=\\\"middle\\\">\\n                <div class=\\\"rectangledrawing inner\\\">\\n                  <div class=\\\"top row\\\">\\n                    <div class=\\\"corner top left\\\" direction=\\\"nw\\\"></div>\\n                    <div class=\\\"side top\\\" direction=\\\"n\\\"></div>\\n                    <div class=\\\"corner top right\\\" direction=\\\"ne\\\"></div>\\n                  </div>\\n                  <div class=\\\"mid row\\\">\\n                    <div class=\\\"side left\\\" direction=\\\"w\\\"></div>\\n                    <div class=\\\"middle\\\">\\n                    </div>\\n                    <div class=\\\"side right\\\" direction=\\\"e\\\"></div>\\n                  </div>\\n                  <div class=\\\"bot row\\\">\\n                    <div class=\\\"corner bot left\\\" direction=\\\"sw\\\"></div>\\n                    <div class=\\\"side bot\\\" direction=\\\"s\\\"></div>\\n                    <div class=\\\"corner bot right\\\" direction=\\\"se\\\"></div>\\n                  </div>\\n                </div>\\n              </div>\\n              <input type=\\\"checkbox\\\" class=\\\"arrow side right\\\" direction=\\\"e\\\">\\n            </div>\\n            <div class=\\\"bot row\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"arrow corner bot left\\\" direction=\\\"sw\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"arrow side bot\\\" direction=\\\"s\\\">\\n              <input type=\\\"checkbox\\\" class=\\\"arrow corner bot right\\\" direction=\\\"se\\\">\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"draggable boxroot\\\">\\n          <h6 class=\\\"boxtitle\\\">Draggable directions</h6>\\n          <div class=\\\"rectangledrawing directions\\\">\\n            <input type=\\\"checkbox\\\" class=\\\"arrow arrowh drag\\\" direction=\\\"x\\\">\\n            <input type=\\\"checkbox\\\" class=\\\"arrow arrowv drag\\\" direction=\\\"y\\\">\\n          </div>\\n        </div>\\n      </div>\\n\\n\\n      <div class=\\\"meas_acc\\\">\\n        <input class=\\\"form-control rulesearch\\\" type=\\\"text\\\" placeholder=\\\"Search\\\" aria-label=\\\"Search\\\">\\n        <!-- dynamically generated accordions will be placed below -->\\n      </div>\\n\\n      <div class=\\\"rule template\\\">\\n        <h7 class=\\\"ruletitle btn btn-link collapsed\\\" type=\\\"button\\\" data-parent=\\\".meas_acc\\\" data-toggle=\\\"collapse\\\" data-target=\\\"DYNAMICALLYFILLED\\\">###</h7>\\n        <div class=\\\"rulecontainer columncontainer collapse template\\\">\\n\\n          <div class=\\\"leftx column\\\"><button class=\\\"ruledelete btn btn-danger\\\">X</button>\\n          </div>\\n          <div class=\\\"rightx column rowcontainer fill break mb-3\\\">\\n            <div class=\\\"row break\\\">\\n              <label class=\\\"compoundInputprefix nobreak input-group-prepend form-control\\\">\\n                <span class=\\\"prefix form-control\\\">_</span>\\n                <input type=\\\"text\\\" class=\\\"form-control attrname\\\" placeholder=\\\"DYNAMICALLYFILLED\\\" pattern=\\\"^[\\\\S]*$\\\">\\n                <select class=\\\"operator trigger\\\">\\n                  <optgroup label=\\\"When\\\">\\n                    <option>Start</option>\\n                    <option>ing</option>\\n                    <option selected>End</option>\\n                  </optgroup>\\n                </select>\\n              </label>\\n              <span class=\\\"botmarg\\\"><span class=\\\"postName\\\">holds rule:</span></span>\\n            </div>\\n            <div class=\\\"row break\\\">\\n              <span class=\\\"botmarg\\\"><span class=\\\"preleft prefix form-control\\\">####</span></span>\\n              <input type=\\\"text\\\" class=\\\"form-control leftside\\\" placeholder=\\\"DYNAMICALLYFILLED\\\">\\n              <span class=\\\"eventsplitpoint operatorcontainer\\\">\\n                <span class=\\\"operator\\\">=</span>\\n                <select class=\\\"operator relational\\\">\\n                  <optgroup label=\\\"Operator\\\">\\n                    <option>&lt;=</option>\\n                    <option selected>=</option>\\n                    <option>&gt;=</option>\\n                  </optgroup>\\n                </select></span>\\n              <input type=\\\"text\\\" class=\\\"form-control rightside\\\" placeholder=\\\"#######\\\">\\n            </div><input type=\\\"text\\\" class=\\\"form-control target\\\" placeholder=\\\"Rel. target selector\\\">\\n            <div class=\\\"measurabledebug rowcontainer\\\">\\n              <button class=\\\"btn btn-primary executedebug\\\">Test it!</button>\\n              <span class=\\\"debugrows\\\" tabindex=\\\"-1\\\">\\n                <span class=\\\"measurableoktext\\\"><span>Debug output: </span></span>\\n                <span class=\\\"measurablewarningtext\\\" tabindex=\\\"-1\\\"><span>Left: </span><span class=\\\"measurableoutputtext debugleft\\\"></span></span>\\n                <span class=\\\"measurablewarningtext\\\" tabindex=\\\"-1\\\"><span>Operator: </span><span class=\\\"measurableoutputtext debugoperator\\\"></span></span>\\n                <span class=\\\"measurablewarningtext\\\" tabindex=\\\"-1\\\"><span>Right: </span><span class=\\\"measurableoutputtext debugright\\\"></span></span>\\n                <span class=\\\"measurablewarningtext\\\" tabindex=\\\"-1\\\"><span>Target: </span><span class=\\\"measurableoutputtext debugtarget\\\"></span></span>\\n                <span class=\\\"measurablewarningtext\\\" tabindex=\\\"-1\\\"><span>Triggered: </span><span class=\\\"measurableoutputtext debugtriggers\\\"></span></span>\\n                <!--\\n                <span class=\\\"measurablewarningtext\\\" tabindex=\\\"-1\\\"><span>Warnings: </span><span class=\\\"text\\\"></span></span>\\n                <span class=\\\"measurableerrortext\\\" tabindex=\\\"-1\\\"><span>Errors: </span><span class=\\\"text\\\"></span></span>\\n                -->\\n              </span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<!--\\n\\n\\n  NB: non è possibile inserire N relativeTarget direttamente, ma è possibile usarne uno in ogni _Variable, memorizzare i dati d'interesse sul bersaglio nella variabile ed accedervi in altri attributi.\\n  esempio: come inserire un nodo equidistante tra due nodi bersaglio.\\n  _target1=\\\"positionX\\\"\\n  relativetargetof_target1=\\\"#leftside\\\"\\n  _target2=\\\"positionX\\\"\\n  relativetargetof_target2=\\\"#rightside\\\"\\n  _import=\\\"positionX = (a.target1 + a.target2) / 2\\\"\\n\\n  angle:false,\\n  class Rotatableoptions {\\n  degrees: string = 'false | number';\\n  radians: string = 'false | number';\\nhandle: string = 'url', //  internamente richiede come parametro un $('imageselector')... crea un elemento con quell'immagine. e appendilo al vertice con display: none per evitare di ricrearne uno ogni volta che crei un vertice, almeno così viene anche cancellato assieme al vertice. prova se l'url netto va bene lo stesso in overloading\\n  handleOffsetX: string = 'width / 2';\\n  handleOffsetY: string = '-20'; // internamente è: handleOffset: { top: 0, left: 0 }\\n  rotationCenterOffsetX: string = 'width / 2';\\n  rotationCenterOffsetY: string = 'height / 2';\\n  // internamente è: rotationCenterOffset: { top: 0, left: 0 } from the center of the element\\n  step: string = 'degree', // internamente ha \\\"snap = boolean\\\" e step = number, setta anche snap = true se trovi step come attributo measur-rotatable.\\n  transforms: string = 'null | {scaleY: 2}'; // non chiaro neanche negli esempi demo. googla.\\n  wheelRotate: string = 'false' // NB: non previene lo scroll della pagina come azione default.\\n  onRotating: string = 'rotate: function(event, ui) { ... }'; // NB: se la sua trimmed version non inizia con function oppure con /^([^)]+)[\\\\s]*=>$/ allora aggiungicelo tu a tempo di esecuzione? o non vale la pena per degradazione performance?.\\n  onRotationStart: string = same as above // in realtà è \\\"start\\\"\\n  onRotationEnd: string = same as above // in realtà è \\\"stop\\\"\\n  }\\n\\n--->\\n\"","export default \"<div class=\\\"mmconsole resizableBorder resizableContent\\\" data-resizabletop=\\\"true\\\" original=\\\"true\\\" data-resizableleft=\\\"true\\\" data-resizableright=\\\"true\\\" data-resizablebottom=\\\"true\\\">\\r\\n  <div class=\\\"consoleRoot\\\">\\r\\n    <div class=\\\"consoleContent\\\"></div>\\r\\n    <div class=\\\"inputLine\\\" tabindex=\\\"-1\\\">\\r\\n      <span class=\\\"input\\\" contenteditable=\\\"true\\\"></span>\\r\\n      <label class=\\\"suggestion\\\"></label>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","export default \"<div id=\\\"damContextMenuTemplateContainer\\\" class=\\\"contextMenuRoot\\\">\\r\\n    <ul class=\\\"vertex contextMenu\\\">\\r\\n      <li class=\\\"Vertex changeType popupRightParent\\\" uif=\\\"classifier\\\">\\r\\n        <span>Change type</span>\\r\\n        <ul class=\\\"typelist popupRight\\\">\\r\\n          <li class=\\\"typeli fallback unclickable\\\" style=\\\"cursor: no-drop; color: red;\\\">##ERROR MSG TO FILL##</li>\\r\\n          <li class=\\\"typeli description unclickable\\\"><span>Best match:</span></li>\\r\\n          <li class=\\\"typeli separator unclickable\\\"></li>\\r\\n          <li class=\\\"typeli description unclickable\\\"><span>Other options</span></li>\\r\\n          <li class=\\\"typeli template\\\" data-index=\\\"-1\\\">\\r\\n            <span class=\\\"typeli change text\\\"></span>\\r\\n        </ul>\\r\\n      </li>\\r\\n      <li class=\\\"Vertex delete\\\" uif=\\\"classifier\\\">Delete classifier</li>\\r\\n\\r\\n      <li class=\\\"Vertex todo duplicate\\\" uif=\\\"classifier\\\">Duplicate classifier</li>\\r\\n      <li class=\\\"Vertex extend\\\" uif=\\\"m2 && class\\\">Extend class</li>\\r\\n      <li class=\\\"Vertex delete\\\" uif=\\\"m2 && feature\\\">Delete feature</li>\\r\\n      <li class=\\\"Vertex todo duplicate\\\" uif=\\\"m2 && feature\\\">Duplicate feature</li>\\r\\n      <li class=\\\"Vertex delete\\\" uif=\\\"m2 && operation\\\">Delete operation</li>\\r\\n      <li class=\\\"Vertex todo duplicate\\\" uif=\\\"m2 && operation\\\">Duplicate operation</li>\\r\\n      <li class=\\\"Reference popupRightParent\\\" uif=\\\"reference\\\">References\\r\\n        <ul class=\\\"reflist popupRight\\\">\\r\\n          <li class=\\\"refli template\\\" data-index=\\\"-1\\\"><span class=\\\"index\\\"></span><span class=\\\"text\\\"></span><button class=\\\"refli delete btn btn-sm btn-danger\\\">X</button></li>\\r\\n          <li class=\\\"refli\\\"><button class=\\\"firstempty btn btn-sm btn-primary\\\">Select first empty</button></li>\\r\\n          <li class=\\\"refli\\\"><label><input class=\\\"byindex\\\" type=\\\"number\\\" digit=\\\"2\\\" value=\\\"0\\\" min=\\\"0\\\" step=\\\"1\\\"><button class=\\\"byindex btn btn-sm btn-outline-primary\\\">Select by index</button></label></li>\\r\\n        </ul>\\r\\n      </li>\\r\\n      <li class=\\\"Feature todo autofixinstances\\\" uif=\\\"m2 && feature\\\">Autofix instances</li>\\r\\n      <li class=\\\"Feature todo autofix\\\" uif=\\\"m1 && feature\\\">Autofix conformity</li>\\r\\n      <li class=\\\"separator\\\"  uif=\\\"classifier || m2 && feature || m2 && operation || m2 && annotation\\\"></li>\\r\\n      <li class=\\\"Vertex up\\\" uif=\\\"classifier\\\">Push vertex Up (Z-order)</li>\\r\\n      <li class=\\\"Vertex down\\\" uif=\\\"classifier\\\">Push vertex Down (Z-order)</li>\\r\\n      <li class=\\\"Feature up\\\" uif=\\\"m2 && feature\\\">Move feature Up</li>\\r\\n      <li class=\\\"Feature down\\\" uif=\\\"m2 && feature\\\">Move feature Down</li>\\r\\n      <li class=\\\"Feature up\\\" uif=\\\"m2 && operation\\\">Move operation Up</li>\\r\\n      <li class=\\\"Feature down\\\" uif=\\\"m2 && operation\\\">Move operation Down</li>\\r\\n      <li class=\\\"Feature up\\\" uif=\\\"m2 && annotation\\\">Move annotation Up</li>\\r\\n      <li class=\\\"Feature down\\\" uif=\\\"m2 && annotation\\\">Move annotation Down</li>\\r\\n    </ul>\\r\\n    <ul class=\\\"extedge contextMenu\\\" uif=\\\"extedge\\\">\\r\\n      <li class=\\\"edge delete\\\">Delete generalization</li>\\r\\n      <li class=\\\"edge change\\\">Edit generalization</li>\\r\\n    </ul>\\r\\n    <ul class=\\\"edge contextMenu\\\" uif=\\\"edge\\\">\\r\\n      <li class=\\\"edge delete\\\">Delete reference</li>\\r\\n      <li class=\\\"edge change\\\">Edit reference</li>\\r\\n    </ul>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"UtabContainer main\\\" data-selectedTab=\\\"1\\\">\\r\\n  <ul class=\\\"UtabHeaderContainer main\\\">\\r\\n    <li class=\\\"UtabHeader main\\\" data-target=\\\"1\\\">MetaModel</li>\\r\\n    <li class=\\\"UtabHeader main\\\" data-target=\\\"2\\\">Model</li>\\r\\n  </ul>\\r\\n  <div class=\\\"UtabContentContainer\\\">\\r\\n    <div class=\\\"UtabContent main\\\" data-target=\\\"1\\\"><app-mm-graph-html></app-mm-graph-html></div>\\r\\n    <div class=\\\"UtabContent main\\\" data-target=\\\"2\\\"><app-m-graph-html></app-m-graph-html></div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","export default \"<p>\\r\\n  isidebar works!\\r\\n</p>\\r\\n\"","export default \"<div class=\\\"verticalFillingContainer\\\">\\r\\n  <div class=\\\"verticalFiller horizontalFillingContainer\\\">\\r\\n    <div class=\\\"sidebarShell resizableBorder\\\" data-resizableRight=\\\"true\\\">\\r\\n      <div id='model_sidebar'></div>\\r\\n    </div>\\r\\n    <div class=\\\"editorShell horizontalFiller\\\">\\r\\n      <ul class =\\\"viewpointShell\\\">\\r\\n        <h6>Viewpoints</h6>\\r\\n        <li class=\\\"viewpointrow default\\\">\\r\\n          <label class=\\\"name\\\">\\r\\n            <input type=\\\"radio\\\" checked>\\r\\n            <input class=\\\"name form-control-sm\\\" type=\\\"text\\\" value=\\\"Default\\\" readonly><button class=\\\"duplicate\\\"></button>\\r\\n          </label>\\r\\n        </li>\\r\\n        <li class=\\\"viewpointrow template\\\">\\r\\n          <label class=\\\"checkbox\\\"><input type=\\\"checkbox\\\"></label>\\r\\n          <label class=\\\"name\\\"><input class=\\\"name form-control-sm\\\" type=\\\"text\\\">\\r\\n            <span class=\\\"buttons\\\">\\r\\n            <button class=\\\"duplicate\\\"></button><button class=\\\"edit\\\"></button><button class=\\\"remove\\\"></button>\\r\\n          </span>\\r\\n          </label>\\r\\n        </li>\\r\\n      </ul>\\r\\n      <svg class=\\\"graph\\\" id='model_editor'>\\r\\n        <g class=\\\"gridContainer\\\">\\r\\n          <defs></defs>\\r\\n          <rect class=\\\"grid\\\"></rect>\\r\\n        </g>\\r\\n      </svg>\\r\\n      <div id='model_navigatorOutlineContainer'></div>\\r\\n    </div>\\r\\n    <!-- style of propertybar must be inline for resizableBorder js -->\\r\\n    <div class=\\\"UtabContainer propertyBarContainer resizableBorder\\\" data-resizableLeft=\\\"true\\\" data-selectedTab=\\\"2\\\" style=\\\"width: 283px;\\\">\\r\\n      <ul class=\\\"UtabHeaderContainer\\\">\\r\\n        <li class=\\\"UtabHeader\\\" data-target=\\\"1\\\">Style</li>\\r\\n        <li class=\\\"UtabHeader\\\" data-target=\\\"2\\\">Structured</li>\\r\\n        <li class=\\\"UtabHeader\\\" data-target=\\\"3\\\">Raw</li>\\r\\n      </ul>\\r\\n      <div class=\\\"UtabContentContainer\\\">\\r\\n        <div class=\\\"UtabContent\\\" data-target=\\\"1\\\"><app-style-editor [isM2]=\\\"false\\\"></app-style-editor></div>\\r\\n        <div class=\\\"UtabContent\\\" data-target=\\\"2\\\"><app-property-barr [isM2]=\\\"false\\\"></app-property-barr></div>\\r\\n        <div class=\\\"UtabContent\\\" data-target=\\\"3\\\">\\r\\n          <div class=\\\"rawContainer\\\">\\r\\n            <h2 class=\\\"rawTitle\\\">Raw eCore fragment</h2>\\r\\n            <textarea class=\\\"rawecore\\\"></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"MDefaultStyles customized\\\"></div>\\r\\n  <div class=\\\"MDefaultStyles immutable\\\">\\r\\n    <foreignobject class=\\\"template Class\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"200\\\" height=\\\"40\\\" style=\\\"outline: 1px solid black; background:white; color:black;\\\">\\r\\n      <div class=\\\"Class Vertex vertexShell\\\" style=\\\"background:white; height:auto; width:100%; overflow: auto;\\\" data-autosizey=\\\"1\\\">\\r\\n        <div class=\\\"VertexHeader\\\" style=\\\"height:20px; width:100%; text-align:center; display:flex;\\\">\\r\\n          <div style=\\\"text-align:center; order:2; flex-grow:1; flex-shrink:1; flex-basis:10px; color:dodgerblue; margin:auto; padding-left:4px;\\\">($##metaParent.name$)</div>\\r\\n        </div>\\r\\n        <div class=\\\"specialjs AttributeContainer\\\" style=\\\"display: flex; flex-direction: column;\\\"></div>\\r\\n        <div class=\\\"specialjs ReferenceContainer\\\" style=\\\"display: flex; flex-direction: column;\\\"></div>\\r\\n        <div class=\\\"specialjs OperationContainer\\\" style=\\\"display: flex; flex-direction: column;\\\"></div>\\r\\n      </div>\\r\\n    </foreignobject>\\r\\n\\r\\n    <div class=\\\"template Reference\\\" style=\\\"width:100%; height:22px; padding-left:5px; display:flex; margin:auto;\\\">\\r\\n      <span style=\\\"display:flex; order:0; flex-grow:1; flex-shrink:1; margin:auto; color:darkorange;\\\">*$##metaParent.type.printablename$</span>\\r\\n      <span style=\\\"display:flex; order:1; flex-basis:10px; flex-grow:2; flex-shrink:2; min-width:3px; margin:auto;\\\">$##metaParent.name$</span>\\r\\n      <button class=\\\"LinkVertex\\\" style=\\\"order:3; width:22px; height:22px; padding:0; margin:auto;\\\">-></button>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template Attribute\\\" style=\\\"width:100%; height:22px; padding-left:5px; display:flex;\\\">\\r\\n      <span style=\\\"order:0; flex-basis:10px; flex-grow:2; flex-shrink:2; min-width:3px; margin:auto; color:darkorange;\\\">$##metaParent.type.printablename$</span>\\r\\n      <span style=\\\"order:1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px; margin:auto;\\\">$##metaParent.name$&nbsp;=&nbsp;</span>\\r\\n      <input type=\\\"text\\\" placeholder=\\\"empty string\\\" value=\\\"$##valuesStr$\\\" style=\\\"background:transparent; color:inherit; border:none; order:2; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template Operation\\\" style=\\\"width:100%; height: 22px; padding-left: 5px; display:flex;\\\">\\r\\n      <div class=\\\"specialjs signature\\\" data-maxargumentchars=\\\"10\\\" data-maxarguments=\\\"2\\\" style=\\\"min-width:100%\\\"></div>\\r\\n      <div class=\\\"specialjs operationDetail\\\" style=\\\"margin:2px; padding:2px; order:2; border: 3px solid #28a745; border-top-color:transparent; margin-top:0;\\\">\\r\\n        <div style=\\\"display: flex; width: 100%;\\\">\\r\\n          <select disabled data-primitive=\\\"true\\\" data-enum=\\\"true\\\" data-class=\\\"true\\\" data-void=\\\"true\\\" style=\\\"background:transparent; color:inherit; border:none; display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;\\\"></select>\\r\\n          <input disabled type=\\\"text\\\" placeholder=\\\"Operation Name\\\" value=\\\"$##name$\\\" style=\\\"background:transparent; color:inherit; border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;\\\">\\r\\n        </div>\\r\\n        <div class=\\\"parameterList\\\" style=\\\"display: flex; width: 100%;\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template Parameter\\\" style=\\\"width:100%; height:22px; padding-left: 5px; display:flex;\\\">\\r\\n      <select disabled data-primitive=\\\"true\\\" data-enum=\\\"true\\\" data-class=\\\"true\\\" style=\\\"background:transparent; color:inherit; border:none;display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;\\\"></select>\\r\\n      <input disabled type=\\\"text\\\" placeholder=\\\"Parameter Name\\\" value=\\\"$##name$\\\" style=\\\"background:transparent; color:inherit; border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"visContainer\\\" style=\\\"position:absolute; top:0px; display: none;\\\">\\r\\n  <div id=\\\"m_visGraph\\\" style=\\\"position:absolute; left: 100px; width: 30vw; height: 100vh; background: wheat;\\\"></div>\\r\\n  <div id=\\\"m_visOptions\\\" style=\\\"position:absolute; width: 100px; height: 100vh; background: white\\\"></div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"verticalFillingContainer\\\">\\r\\n  <div class=\\\"verticalFiller horizontalFillingContainer\\\">\\r\\n    <div class=\\\"sidebarShell resizableBorder\\\" data-resizableRight=\\\"true\\\">\\r\\n      <div id='metamodel_sidebar'></div>\\r\\n    </div>\\r\\n    <div class=\\\"editorShell horizontalFiller\\\">\\r\\n      <ul class =\\\"viewpointShell\\\">\\r\\n        <h6>Viewpoints</h6>\\r\\n        <li class=\\\"viewpointrow default\\\">\\r\\n          <label class=\\\"name\\\">\\r\\n            <input type=\\\"radio\\\" checked>\\r\\n            <input class=\\\"name form-control-sm\\\" type=\\\"text\\\" value=\\\"Default\\\" readonly><button class=\\\"duplicate\\\"></button>\\r\\n          </label>\\r\\n        </li>\\r\\n        <li class=\\\"viewpointrow template\\\">\\r\\n          <label class=\\\"checkbox\\\"><input type=\\\"checkbox\\\"></label>\\r\\n          <label class=\\\"name\\\"><input class=\\\"name form-control-sm\\\" type=\\\"text\\\">\\r\\n            <span class=\\\"buttons\\\">\\r\\n            <button class=\\\"duplicate\\\"></button><button class=\\\"edit\\\"></button><button class=\\\"remove\\\"></button>\\r\\n          </span>\\r\\n          </label>\\r\\n        </li>\\r\\n      </ul>\\r\\n      <svg class=\\\"graph\\\" id='metamodel_editor'>\\r\\n        <g class=\\\"gridContainer\\\">\\r\\n          <defs></defs>\\r\\n          <rect class=\\\"grid\\\"></rect>\\r\\n        </g>\\r\\n      </svg>\\r\\n      <div id='metamodel_navigatorOutlineContainer'></div>\\r\\n    </div>\\r\\n    <!-- style of propertybar must be inline for resizableBorder js -->\\r\\n    <div class=\\\"UtabContainer propertyBarContainer resizableBorder\\\" data-resizableLeft=\\\"true\\\" data-selectedTab=\\\"2\\\" style=\\\"width: 283px;\\\">\\r\\n      <ul class=\\\"UtabHeaderContainer\\\">\\r\\n        <li class=\\\"UtabHeader\\\" data-target=\\\"1\\\">Style</li>\\r\\n        <li class=\\\"UtabHeader\\\" data-target=\\\"2\\\">Structured</li>\\r\\n        <li class=\\\"UtabHeader\\\" data-target=\\\"3\\\">Raw</li>\\r\\n      </ul>\\r\\n      <div class=\\\"UtabContentContainer\\\">\\r\\n        <div class=\\\"UtabContent\\\" data-target=\\\"1\\\"><app-style-editor [isM2]=\\\"true\\\"></app-style-editor></div>\\r\\n        <div class=\\\"UtabContent\\\" data-target=\\\"2\\\"><app-property-barr [isM2]=\\\"true\\\"></app-property-barr></div>\\r\\n        <div class=\\\"UtabContent\\\" data-target=\\\"3\\\">\\r\\n          <div class=\\\"rawContainer\\\">\\r\\n            <h2 class=\\\"rawTitle\\\">Raw eCore fragment</h2>\\r\\n            <textarea class=\\\"rawecore\\\"></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"MMDefaultStyles customized\\\"></div>\\r\\n  <div class=\\\"MMDefaultStyles immutable\\\">\\r\\n    <foreignobject class=\\\"template Class\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"200\\\" height=\\\"40\\\" style=\\\"outline: 1px solid black; background:white; color:black;\\\">\\r\\n      <div class=\\\"Class Vertex vertexShell\\\" style=\\\"background:white; height:auto; width:100%; overflow: auto;\\\" data-autosizey=\\\"1\\\">\\r\\n        <div class=\\\"VertexHeader\\\" style=\\\"height:20px; width:100%; text-align:center; display:flex;\\\">\\r\\n          <input value=\\\"$##name$\\\" placeholder=\\\"Object name\\\" pattern=\\\"[a-zA-Z_\\\\u0024][a-zA-Z\\\\d_\\\\u0024]*\\\" style=\\\"background:transparent; color:inherit; border:none; text-align:right; order:1; flex-grow:1; flex-shrink:1; flex-basis:10px; min-width:10px; color:inherit; border:none; padding-right:4px;\\\">\\r\\n          <div style=\\\"text-align:left; order:2; flex-grow:1; flex-shrink:1; flex-basis:10px; color:dodgerblue; margin:auto; padding-left:4px;\\\">($##className$)</div>\\r\\n        </div>\\r\\n        <div class=\\\"specialjs AttributeContainer\\\" style=\\\"display: flex; flex-direction: column;\\\"></div>\\r\\n        <div class=\\\"specialjs ReferenceContainer\\\" style=\\\"display: flex; flex-direction: column;\\\"></div>\\r\\n        <div class=\\\"specialjs OperationContainer\\\" style=\\\"display: flex; flex-direction: column;\\\"></div>\\r\\n        <div class=\\\"addFieldButtonContainer\\\" style=\\\"width: 100%; text-align: center;\\\">\\r\\n          <span style=\\\"display:flex; margin:auto;\\\">Add</span>\\r\\n          <style id=\\\"addfieldcss_class\\\">\\r\\n            ::ng-deep .addFieldButtonContainer{ display: flex; max-height: 20px; min-height: 20px; overflow: hidden;}\\r\\n            ::ng-deep .addFieldButtonContainer{ opacity: 0; padding-top: 20px; }\\r\\n            ::ng-deep .Vertex:hover .addFieldButtonContainer{ opacity: 1; padding-top: 0; }\\r\\n          </style>\\r\\n          <select class=\\\"AddFieldSelect\\\" style=\\\"background:transparent; color:inherit; display:flex; margin:auto;\\\">\\r\\n            <optgroup label=\\\"FeatureType\\\">\\r\\n              <option value=\\\"Attribute\\\" selected=\\\"\\\">Attribute</option>\\r\\n              <option value=\\\"Reference\\\">Reference</option>\\r\\n              <option value=\\\"Operation\\\">Operation</option>\\r\\n            </optgroup>\\r\\n          </select>\\r\\n          <span style=\\\"display:flex; margin:auto;\\\">field</span>\\r\\n          <button class=\\\"addFieldButton\\\" style=\\\"color:inherit; background:rgba(127, 127, 127, 0.2);\\\">Go</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </foreignobject>\\r\\n\\r\\n    <foreignobject class=\\\"template EEnum\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"200\\\" height=\\\"40\\\" style=\\\"outline: 1px solid black; background:white; color:black;\\\">\\r\\n      <div class=\\\"Class Vertex vertexShell EEnum\\\" style=\\\"background:white; height:auto; width:100%; overflow: auto;\\\" data-autosizey=\\\"1\\\">\\r\\n        <div class=\\\"VertexHeader\\\" style=\\\"height:20px; width:100%; text-align:center; display:flex;\\\">\\r\\n          <input value=\\\"$##name$\\\" placeholder=\\\"Object name\\\" pattern=\\\"[a-zA-Z_\\\\u0024][a-zA-Z\\\\d_\\\\u0024]*\\\" style=\\\"background:transparent; color:inherit; border:none; text-align:right; order:1; flex-grow:1; flex-shrink:1; flex-basis:10px; min-width:10px; color:inherit; border:none; padding-right:4px;\\\">\\r\\n          <div style=\\\"text-align:left; order:2; flex-grow:1; flex-shrink:1; flex-basis:10px; color:red; margin:auto; padding-left:4px;\\\">(Enum)</div>\\r\\n        </div>\\r\\n        <div class=\\\"specialjs LiteralContainer\\\" style=\\\"display: flex; flex-direction: column;\\\"></div>\\r\\n        <div class=\\\"addFieldButtonContainer\\\" style=\\\"width: 100%; text-align: center;\\\">\\r\\n          <style id=\\\"addfieldcss_enum\\\">\\r\\n            .addFieldButtonContainer{ display: flex; max-height: 20px; min-height: 20px; overflow: hidden;}\\r\\n            .addFieldButtonContainer{ opacity: 0; padding-top: 20px; }\\r\\n            .Vertex:hover .addFieldButtonContainer{ opacity: 1; padding-top: 0; }\\r\\n          </style>\\r\\n          <span style=\\\"display:flex; margin:auto;\\\">Add</span>\\r\\n          <select class=\\\"AddFieldSelect\\\" disabled style=\\\"background:transparent; color:inherit; display:flex; margin:auto;\\\">\\r\\n            <optgroup label=\\\"FeatureType\\\">\\r\\n              <option value=\\\"Literal\\\" selected=\\\"\\\">Literal</option>\\r\\n            </optgroup>\\r\\n          </select>\\r\\n          <span style=\\\"display:flex; margin:auto;\\\">field</span>\\r\\n          <button class=\\\"addFieldButton\\\" style=\\\"color:inherit; background:rgba(127, 127, 127, 0.2);\\\">Go</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </foreignobject>\\r\\n\\r\\n    <div class=\\\"template Reference\\\" style=\\\"width:100%; height: 22px; padding-left:5px; display:flex;\\\">\\r\\n      <select data-class=\\\"true\\\" style=\\\"background:transparent; color:inherit; border:none; display:flex; order:3; flex-grow:1; flex-basis:0; min-width:0;\\\"></select>\\r\\n      <input type=\\\"text\\\" placeholder=\\\"Reference Name\\\" pattern=\\\"[a-zA-Z_\\\\u0024][a-zA-Z\\\\d_\\\\u0024]*\\\" value=\\\"$##name$\\\" style=\\\"background:transparent; color:inherit; border:none; order: 1; flex-basis:10px; flex-grow:2; flex-shrink:2; min-width:3px;\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template Attribute EString EInteger\\\" style=\\\"width:100%; height:22px; padding-left:5px; display:flex;\\\">\\r\\n      <select data-primitive=\\\"true\\\" data-enum=\\\"true\\\" style=\\\"background:transparent; color:inherit; border:none; display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;\\\"></select>\\r\\n      <input type=\\\"text\\\" placeholder=\\\"Attribute Name\\\" pattern=\\\"[a-zA-Z_\\\\u0024][a-zA-Z\\\\d_\\\\u0024]*\\\" value=\\\"$##name$\\\" style=\\\"background:transparent; color:inherit; border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template ELiteral\\\" style=\\\"width:100%; height:22px; display:flex; padding-left:5px; padding-right:10px;\\\">\\r\\n      <input class=\\\"value\\\" type=\\\"number\\\" placeholder=\\\"auto\\\" value=\\\"$##ordinal$\\\" style=\\\"background:transparent; border:none; display: flex; width: 30px;\\\">\\r\\n      <input class=\\\"name\\\" type=\\\"text\\\" placeholder=\\\"name\\\" value=\\\"$##name$\\\" pattern=\\\"[a-zA-Z_\\\\u0024][a-zA-Z\\\\d_\\\\u0024]*\\\" style=\\\"background:transparent; border:none; display:flex; flex-grow:1; flex-shrink:1; flex-basis:3px; min-width:3px;\\\">\\r\\n      <input class=\\\"literal\\\" type=\\\"text\\\" placeholder=\\\"literal\\\" value=\\\"$$#literal$\\\" style=\\\"background:transparent; color:inherit; border:none; display:flex; flex-grow:1; text-align: right; flex-basis:3px; min-width:3px;\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template Operation\\\" style=\\\"width:100%; display:flex; flex-flow:column;\\\">\\r\\n      <div class=\\\"specialjs signature\\\" data-maxargumentchars=\\\"10\\\" data-maxarguments=\\\"2\\\" style=\\\"height:22px; min-width:100%\\\"></div>\\r\\n      <div class=\\\"specialjs operationDetail\\\" style=\\\"margin:2px; padding:2px; order:2; border: 3px solid #28a745; border-top-color: transparent; margin-top:0;\\\">\\r\\n        <div style=\\\"display: flex; width: 100%;\\\">\\r\\n          <select data-primitive=\\\"true\\\" data-enum=\\\"true\\\" data-class=\\\"true\\\" data-void=\\\"true\\\" style=\\\"background:transparent; color:inherit; border:none; display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;\\\"></select>\\r\\n          <input disabled type=\\\"text\\\" placeholder=\\\"Return Type\\\" value=\\\"Return type\\\" style=\\\"background:transparent; color:inherit; border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;\\\">\\r\\n        </div>\\r\\n        <div class=\\\"parameterList\\\" style=\\\"display: flex; width: 100%; flex-flow:column;\\\">\\r\\n          <button class=\\\"addParameterButton btn btn-sm btn-success\\\" style=\\\"width: 100%; height: 22px; padding:0; text-align: center\\\">+</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template Parameter\\\" style=\\\"width: 100%; height: 22px; border-bottom:1px solid lightgray; display:flex;\\\">\\r\\n      <select data-primitive=\\\"true\\\" data-enum=\\\"true\\\" data-class=\\\"true\\\" style=\\\"background:transparent; color:inherit; border:none; display:flex; order:2; flex-grow:1; flex-shrink:1; flex-basis:3px; min-width:3px; text-align: right;\\\"></select>\\r\\n      <input type=\\\"text\\\" placeholder=\\\"Parameter Name\\\" pattern=\\\"[a-zA-Z_\\\\u0024]*[a-zA-Z\\\\d_\\\\u0024]+\\\" value=\\\"$##name$\\\" style=\\\"background:transparent; color:inherit; border:none; display: flex; order: 1; flex-basis:10px; flex-grow:1; flex-shrink:1; min-width:3px;\\\">\\r\\n      <button class=\\\"delete\\\" style=\\\"order: 3; padding:0 5px;\\\">X</button>\\r\\n      <!-- correct validator pattern for variable names:  == ^[a-zA-Z_$][a-zA-Z\\\\d_$]+$   ==    [a-zA-Z_\\\\u0024][a-zA-Z\\\\d_\\\\u0024]*\\r\\n       PS: luckily pattern always implies ^ and $ for start and end delimiters. because \\\\u0024 might not work for end of line $ substitute -->\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"visContainer\\\" style=\\\"position:absolute; top:40px; display: none;\\\">\\r\\n  <div id=\\\"mm_visGraph\\\" style=\\\"position:absolute; left: 100px; width: 30vw; height: 100vh; background: wheat;\\\"></div>\\r\\n  <div id=\\\"mm_visOptions\\\" style=\\\"position:absolute; width: 100px; height: 100vh; background: white\\\"></div>\\r\\n</div>\\r\\n\"","export default \"<!-- <input id=\\\"MM_INPUT\\\" value = \\\"<?xml version='1.0' encoding='UTF-8'?>\\r\\n<ecore:EPackage xmi:version='2.0' xmlns:xmi='http://www.omg.org/XMI' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'\\r\\n    xmlns:ecore='http://www.eclipse.org/emf/2002/Ecore' name='bowling' nsURI='http://org/eclipse/example/bowling' nsPrefix='org.eclipse.example.bowling'>\\r\\n  <eClassifiers xsi:type='ecore:EClass' name='Player'>\\r\\n    <eStructuralFeatures xsi:type='ecore:EAttribute' name='name' eType='ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString'/>\\r\\n  </eClassifiers>\\r\\n  <eClassifiers xsi:type='ecore:EClass' name='League'>\\r\\n    <eStructuralFeatures xsi:type='ecore:EAttribute' name='name' eType='ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString'/>\\r\\n    <eStructuralFeatures xsi:type='ecore:EReference' name='players' upperBound='-1'\\r\\n        eType='#//Player' containment='true'/>\\r\\n  </eClassifiers>\\r\\n</ecore:EPackage>\\\"> -->\\r\\n\\r\\n<input id=\\\"MM_INPUT\\\" value = '{\\r\\n  \\\"ecore:EPackage\\\": {\\r\\n    \\\"@xmlns:xmi\\\": \\\"http://www.omg.org/XMI\\\",\\r\\n    \\\"@xmlns:xsi\\\": \\\"http://www.w3.org/2001/XMLSchema-instance\\\",\\r\\n    \\\"@xmlns:ecore\\\": \\\"http://www.eclipse.org/emf/2002/Ecore\\\",\\r\\n    \\\"@xmi:version\\\": \\\"2.0\\\",\\r\\n    \\\"@name\\\": \\\"bowling\\\",\\r\\n    \\\"@nsURI\\\": \\\"http://org/eclipse/example/bowling\\\",\\r\\n    \\\"@nsPrefix\\\": \\\"org.eclipse.example.bowling\\\",\\r\\n    \\\"eClassifiers\\\": [\\r\\n      {\\r\\n        \\\"@xsi:type\\\": \\\"ecore:EClass\\\",\\r\\n        \\\"@name\\\": \\\"Player\\\",\\r\\n        \\\"eStructuralFeatures\\\": {\\r\\n          \\\"@xsi:type\\\": \\\"ecore:EAttribute\\\",\\r\\n          \\\"@name\\\": \\\"name\\\",\\r\\n          \\\"@eType\\\": \\\"ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString\\\"\\r\\n        }\\r\\n      },\\r\\n      {\\r\\n        \\\"@xsi:type\\\": \\\"ecore:EClass\\\",\\r\\n        \\\"@name\\\": \\\"League\\\",\\r\\n        \\\"eStructuralFeatures\\\": [\\r\\n          {\\r\\n            \\\"@xsi:type\\\": \\\"ecore:EAttribute\\\",\\r\\n            \\\"@name\\\": \\\"name\\\",\\r\\n            \\\"@eType\\\": \\\"ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString\\\"\\r\\n          },\\r\\n          {\\r\\n            \\\"@xsi:type\\\": \\\"ecore:EReference\\\",\\r\\n            \\\"@name\\\": \\\"players\\\",\\r\\n            \\\"@upperBound\\\": \\\"@1\\\",\\r\\n            \\\"@eType\\\": \\\"#//Player\\\",\\r\\n            \\\"@containment\\\": \\\"true\\\"\\r\\n          }\\r\\n        ]\\r\\n      }\\r\\n    ]\\r\\n  }\\r\\n}'>\\r\\n\\r\\n\\r\\n\"","export default \"<p>\\r\\n  mmsidebar works!\\r\\n</p>\\r\\n\"","export default \"<p>\\r\\n  msidebar works!\\r\\n</p>\\r\\n\"","export default \"<div class=\\\"property_sidebar\\\">\\r\\n  <div class=\\\"propertySidebarCurrentContent\\\"></div>\\r\\n  <div class=\\\"propertySidebarTemplates template\\\">\\r\\n    <div class=\\\"minimizer single\\\"></div>\\r\\n    <div class=\\\"content\\\">\\r\\n      <label class=\\\"model todo\\\">URI:<input class = \\\"uri m1disable\\\" pattern=\\\"^[a-zA-Z_$][a-zA-Z_$0-9]*$\\\"></label>\\r\\n      <label class=\\\"model todo\\\">Namespace:<input class = \\\"namespace m1disable\\\" pattern=\\\"^[a-zA-Z_$][a-zA-Z_$0-9]*$\\\"></label>\\r\\n      <label class=\\\"class m2hide\\\"><span>Is Root</span><input type=\\\"checkbox\\\" class=\\\"isRoot\\\"></label>\\r\\n\\r\\n      <label class=\\\"class m1hide\\\">is interface <input class=\\\"isinterface\\\" type=\\\"checkbox\\\"></label>\\r\\n      <label class=\\\"class m1hide\\\">is abstract <input class=\\\"isabstract\\\" type=\\\"checkbox\\\"></label>\\r\\n      <label class=\\\"class\\\">Access <select class=\\\"m1disable accessModifier\\\"></select></label>\\r\\n\\r\\n      <label class=\\\"operation todo\\\">Access modifier:<select class=\\\"specialjs visibilitySelector m1disable\\\"></select></label>\\r\\n      <label class=\\\"literal\\\">Ordinal:<input class=\\\"value\\\" type=\\\"number\\\"></label>\\r\\n      <label>Name:<input class=\\\"name m1disable\\\" placeholder=\\\"nameless\\\" pattern=\\\"^[a-zA-Z_$][a-zA-Z_$0-9]*$\\\"></label>\\r\\n      <label class=\\\"literal\\\">Literal:<input class=\\\"literal\\\" placeholder=\\\"will inherit from name\\\" pattern=\\\"^[a-zA-Z_$][a-zA-Z_$0-9]*$\\\"></label>\\r\\n      <label class=\\\"parameter\\\">Type:<select class=\\\"m1disable\\\" data-primitive=\\\"true\\\" data-enum=\\\"true\\\" data-class=\\\"true\\\"></select></label>\\r\\n      <label class=\\\"attribute\\\">Type:<select class=\\\"m1disable\\\" data-primitive=\\\"true\\\" data-enum=\\\"true\\\"></select></label>\\r\\n      <label class=\\\"reference\\\">Target Type:<select class=\\\"m1disable\\\" data-class=\\\"true\\\"></select></label>\\r\\n      <label class=\\\"attribute m2hide\\\">Value:<input type=\\\"text\\\" class=\\\"attributeValue\\\" placeholder=\\\"[ empty ]\\\"></label>\\r\\n      <label class=\\\"reference\\\">Is containment:<input type=\\\"checkbox\\\" class=\\\"referenceContainment m1disable\\\"></label>\\r\\n      <label class=\\\"parameter todo\\\">Is ordered:<input type=\\\"checkbox\\\" class=\\\"ordered m1disable\\\"></label>\\r\\n      <label class=\\\"parameter todo\\\">Values are unique:<input type=\\\"checkbox\\\" class=\\\"unique m1disable\\\"></label>\\r\\n      <label class=\\\"attribute reference parameter\\\">LowerBound:<input type=\\\"number\\\" step=\\\"1\\\" min=\\\"-1\\\" class=\\\"lowerbound m1disable\\\" placeholder=\\\"-1\\\"></label>\\r\\n      <label class=\\\"attribute reference parameter\\\">UpperBound:<input type=\\\"number\\\" step=\\\"1\\\" min=\\\"-1\\\" class=\\\"upperbound m1disable\\\" placeholder=\\\"-1\\\"></label>\\r\\n      <label class=\\\"operation todo\\\">Exceptions:<input class=\\\"exceptions\\\" placeholder=\\\"throwable exceptions, comma-separated.\\\"></label>\\r\\n      <div class=\\\"replaceVarOn model\\\"><label>Packages: ($##childrens.length$)</label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content list packageList\\\"></div></div></div>\\r\\n      <div class=\\\"replaceVarOn package\\\"><label>Classes / Interfaces: ($##classes.length$)</label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content classList\\\"></div></div></div>\\r\\n      <div class=\\\"replaceVarOn package\\\"><label>Enumerations: ($##enums.length$)</label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content enumList\\\"></div></div></div>\\r\\n      <div class=\\\"class\\\"><label>Attributes: <span class=\\\"attributeCount\\\"></span></label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content attributeList\\\"></div></div></div>\\r\\n      <div class=\\\"class\\\"><label>References: <span class=\\\"referenceCount\\\"></span></label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content referenceList\\\"></div></div></div>\\r\\n      <div class=\\\"class\\\"><label>Operations: <span class=\\\"operationCount\\\"></span></label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content operationList\\\"></div></div></div>\\r\\n      <div class=\\\"replaceVarOn operation\\\"><label>Parameters: ($##childrens.length$)</label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content parameterList\\\"></div></div></div>\\r\\n      <div class=\\\"replaceVarOn enum\\\"><label>Literals: ($##childrens.length$)</label>\\r\\n        <div class=\\\"wastemplate list\\\"><div class=\\\"minimizer\\\"></div><div class=\\\"content literalList\\\"></div></div></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"styleContainer\\\">\\r\\n  <div class=\\\"StyleEditorDisplay\\\">\\r\\n\\r\\n  </div>\\r\\n  <div class=\\\"styleTemplates styleEditor\\\">\\r\\n    <div class=\\\"template model\\\">\\r\\n      <!--\\r\\n      <label>\\r\\n        <input type=\\\"number\\\" class=\\\"gridX\\\" min=\\\"0\\\" step=\\\"1\\\" placeholder=\\\"off\\\">\\r\\n        <span>Grid X</span>\\r\\n      </label>\\r\\n      <label>\\r\\n        <input type=\\\"number\\\" class=\\\"gridY\\\" min=\\\"0\\\" step=\\\"1\\\" placeholder=\\\"off\\\">\\r\\n        <span>Grid Y</span>\\r\\n      </label>\\r\\n      <label>\\r\\n        <input type=\\\"number\\\" class=\\\"zoomX\\\" min=\\\"0.0001\\\" step=\\\"0.1\\\" placeholder=\\\"1\\\">\\r\\n        <span>Zoom</span>\\r\\n      </label>\\r\\n      <label display = \\\"none\\\">\\r\\n        <input type=\\\"number\\\" class=\\\"zoomY\\\" min=\\\"0.0001\\\" step=\\\"0.1\\\" placeholder=\\\"1\\\">\\r\\n        <span>Zoom Y</span>\\r\\n      </label>\\r\\n      <label><input type=\\\"checkbox\\\" class=\\\"showGrid\\\"><span>Show grid</span></label>\\r\\n      <label><input type=\\\"color\\\" class=\\\"graphColor\\\"><span>Background color</span></label>\\r\\n      -->\\r\\n      <table><tbody>\\r\\n      <tr>\\r\\n        <td>Grid X</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"gridX\\\" min=\\\"0\\\" step=\\\"1\\\" placeholder=\\\"off\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Grid Y</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"gridY\\\" min=\\\"0\\\" step=\\\"1\\\"  placeholder=\\\"off\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Zoom</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"zoomX\\\" min=\\\"0.0001\\\" step=\\\"0.1\\\" placeholder=\\\"1\\\"></td>\\r\\n        <td style=\\\"display: none\\\">X: <input type=\\\"number\\\" class=\\\"zoomXOLD\\\" min=\\\"0.0001\\\" step=\\\"0.1\\\" placeholder=\\\"1\\\"> Y: <input type=\\\"number\\\" class=\\\"zoomY\\\" min=\\\"0.0001\\\" step=\\\"0.1\\\" placeholder=\\\"1\\\"></td>\\r\\n      </tr>\\r\\n      <tr><td colspan=\\\"2\\\"><label><input type=\\\"checkbox\\\" class=\\\"showGrid\\\">Show grid</label></td></tr>\\r\\n      <tr><td colspan=\\\"2\\\"><label><input type=\\\"checkbox\\\" class=\\\"useGrid\\\">Use grid</label></td></tr>\\r\\n      <tr><td colspan=\\\"2\\\"><label><input type=\\\"color\\\" class=\\\"gridColor1\\\">Grid color 1</label></td></tr>\\r\\n      <tr><td colspan=\\\"2\\\"><label><input type=\\\"color\\\" class=\\\"gridColor2\\\">Grid color 2</label></td></tr>\\r\\n      </tbody></table>\\r\\n\\r\\n      <label class=\\\"onlyVerticalContainer\\\" uif=\\\"!running\\\">\\r\\n        <button class=\\\"btn btn-primary layout start dynamic_uif\\\">Start auto-layouting</button></label>\\r\\n\\r\\n\\r\\n      <div class=\\\"layoutingRoot\\\" uif=\\\"running\\\">\\r\\n        <h5>Auto-layout options</h5>\\r\\n        <label class=\\\"onlyVerticalContainer\\\">\\r\\n          <button class=\\\"btn btn-primary layout stabilize\\\">Stabilize</button>\\r\\n          <span style=\\\"margin:auto 0.5rem\\\">in</span>\\r\\n          <input type=\\\"number\\\" class=\\\"stabilizeSteps lopt\\\" min=\\\"0\\\" step=\\\"1\\\" placeholder=\\\"off\\\" value=\\\"10\\\" data-key=\\\"custom.stabilizeSteps\\\">\\r\\n          <span style=\\\"margin-left: 0.5rem\\\">steps</span>\\r\\n        </label>\\r\\n        <label class=\\\"onlyVerticalContainer\\\"><button class=\\\"btn btn-primary layout stop\\\">Stop</button></label>\\r\\n\\r\\n        <label>How to manage edge points?\\r\\n          <select class=\\\"edgePointTreatment form-group\\\"><optgroup label=\\\"How to manage edge points?\\\">\\r\\n            <option value=\\\"delete\\\">Remove them</option>\\r\\n            <option value=\\\"vertex\\\" selected>Treat them as vertexes</option>\\r\\n            <option value=\\\"ignore\\\">Keep absolute position (ignore)<option>\\r\\n            <option value=\\\"relative\\\">Keep relative position between source & target</option>\\r\\n            <!--\\r\\n              1) treat them as vertex (default)\\r\\n              2) keep absolute position (ignore) (might cause a mess because they stand still)\\r\\n              3) keep relative position. Rimane a (x%, y%) distanza tra source e target, memorizzo un vettore direzione\\r\\n                 con modulo in percentuale sulla distanza tra i 2 vertici,\\r\\n                 così rispetto ai vertici rimane statico, anche se in realtà si è mosso assieme a loro.\\r\\n            -->\\r\\n          </optgroup></select>\\r\\n        </label>\\r\\n        <div>\\r\\n          <label>\\r\\n            <input type=\\\"checkbox\\\" class=\\\"lopt dynamic_uif\\\" data-key=\\\"layout.hierarchical.enabled\\\">Hierarchical\\r\\n          </label>\\r\\n          <label>\\r\\n            <input type=\\\"checkbox\\\" class=\\\"lopt dynamic_uif\\\" data-key=\\\"physics.enabled\\\">\\r\\n            Physics\\r\\n          </label>\\r\\n          <div uif=\\\"physics\\\">\\r\\n            <label>Simulation mode\\r\\n              <select class=\\\"dynamic_uif lopt\\\" data-key=\\\"physics.solver\\\">\\r\\n                <optgroup label=\\\"Simulation\\\">\\r\\n                  <option value=\\\"barnesHut\\\">BarnesHut</option>\\r\\n                  <option value=\\\"forceAtlas2Based\\\">Force Atlas 2</option>\\r\\n                  <option value=\\\"repulsion\\\">Repulsion</option>\\r\\n                  <option value=\\\"hierarchicalRepulsion\\\">hierarchicalRepulsion</option>\\r\\n                </optgroup>\\r\\n              </select>\\r\\n            </label>\\r\\n\\r\\n            <div uif=\\\"hr\\\">\\r\\n              <label>\\r\\n                <input type=\\\"checkbox\\\" class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.blockShifting\\\">\\r\\n                Block shifting\\r\\n              </label>\\r\\n              <label>\\r\\n                <input type=\\\"checkbox\\\" class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.edgeMinimization\\\">\\r\\n                Edge minimization\\r\\n              </label>\\r\\n              <label>\\r\\n                <input type=\\\"checkbox\\\" class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.parentCentralization\\\">\\r\\n                Parent centralization\\r\\n              </label>\\r\\n              <label>\\r\\n                <input type=\\\"number\\\" class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.levelSeparation\\\" min=\\\"0\\\" step=\\\"1\\\">\\r\\n                Level separation\\r\\n              </label>\\r\\n              <label>\\r\\n                <input type=\\\"number\\\" class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.nodeSpacing\\\" min=\\\"0\\\" step=\\\"1\\\">\\r\\n                Node spacing\\r\\n              </label>\\r\\n              <label>\\r\\n                <input type=\\\"number\\\" class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.treeSpacing\\\" min=\\\"0\\\" step=\\\"1\\\">\\r\\n                Tree spacing\\r\\n              </label>\\r\\n              <label>Direction\\r\\n                <select class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.direction\\\">\\r\\n                  <optgroup label=\\\"Direction\\\">\\r\\n                    <option value=\\\"UD\\\">Up - Down</option>\\r\\n                    <option value=\\\"DU\\\">Down - Up</option>\\r\\n                    <option value=\\\"LR\\\">Left - Right</option>\\r\\n                    <option value=\\\"RL\\\">Right - Left</option>\\r\\n                  </optgroup>\\r\\n                </select>\\r\\n              </label>\\r\\n              <label>Sort method\\r\\n                <select class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.sortMethod\\\">\\r\\n                  <optgroup label=\\\"Sort method\\\">\\r\\n                    <option value=\\\"hubsize\\\">hubsize</option>\\r\\n                    <option value=\\\"directed\\\">directed</option>\\r\\n                  </optgroup>\\r\\n                </select>\\r\\n              </label>\\r\\n              <label>Shake towards\\r\\n                <select class=\\\"lopt\\\" data-key=\\\"layout.hierarchical.shakeTowards\\\">\\r\\n                  <optgroup label=\\\"Shake towards\\\">\\r\\n                    <option value=\\\"leaves\\\">leaves</option>\\r\\n                    <option value=\\\"roots\\\">roots</option>\\r\\n                  </optgroup>\\r\\n                </select>\\r\\n              </label>\\r\\n            </div>\\r\\n            <label uif=\\\"atl || bar\\\">\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.theta\\\"> Theta\\r\\n            </label>\\r\\n            <label uif=\\\"atl || bar\\\">\\r\\n              <input type=\\\"number\\\" min=\\\"any\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.gravitationalConstant\\\"> Gravitational constant\\r\\n            </label>\\r\\n            <label uif=\\\"atl || bar || rep || hr\\\">\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.centralGravity\\\"> Central gravity\\r\\n            </label>\\r\\n            <label uif=\\\"atl || bar || rep || hr\\\">\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.springLength\\\"> Spring length\\r\\n            </label>\\r\\n            <label uif=\\\"atl || bar || rep || hr\\\">\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.springConstant\\\"> Spring constant\\r\\n            </label>\\r\\n            <label uif=\\\"atl || bar || rep || hr\\\">\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.damping\\\"> Damping\\r\\n            </label>\\r\\n            <label uif=\\\"atl || bar || hr\\\">\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.avoidOverlap\\\"> Avoid overlap\\r\\n            </label>\\r\\n            <label uif=\\\"rep || hr\\\">\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.bh.nodeDistance\\\"> Node distance\\r\\n            </label>\\r\\n            <label>\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.minVelocity\\\"> Min velocity\\r\\n            </label>\\r\\n            <label>\\r\\n              <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.maxVelocity\\\"> Max velocity\\r\\n            </label>\\r\\n\\r\\n            <label>\\r\\n              <input type=\\\"checkbox\\\" step=\\\"any\\\" class=\\\"dynamic_uif lopt\\\" data-key=\\\"physics.stabilization.enabled\\\"> Stabilization\\r\\n            </label>\\r\\n            <div uif=\\\"stabilization\\\">\\r\\n              <label>\\r\\n                <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.stabilization.iterations\\\"> Iterations\\r\\n              </label>\\r\\n              <label>\\r\\n                <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"physics.stabilization.updateInterval\\\"> Update interval (ms)\\r\\n              </label>\\r\\n              <label>\\r\\n                <input type=\\\"number\\\" step=\\\"any\\\" class=\\\"lopt\\\" data-key=\\\"custom.scale_factor\\\"> Scale factor\\r\\n              </label>\\r\\n              <label class=\\\"whatisthis\\\">\\r\\n                <input type=\\\"checkbox\\\" class=\\\"lopt\\\" data-key=\\\"physics.stabilization.onlyDynamicEdges\\\"> onlyDynamicEdges???\\r\\n              </label>\\r\\n              <label class=\\\"whatisthis\\\">\\r\\n                <input type=\\\"checkbox\\\" class=\\\"lopt\\\" data-key=\\\"physics.stabilization.fit\\\"> Fit??\\r\\n              </label>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template htmlstyle\\\">\\r\\n      <div class=\\\"top\\\">\\r\\n        <label class=\\\"colChild\\\">\\r\\n          <div class=\\\"roww\\\">\\r\\n            <h6 class=\\\"vertexStyle separator htmllevel\\\"></h6>\\r\\n          </div>\\r\\n          <!--\\r\\n          <div class=\\\"colChild\\\">\\r\\n            <span class=\\\"stylelabel\\\">Applied view:</span>\\r\\n            <select class=\\\"stylename\\\"></select>\\r\\n          </div>\\r\\n          -->\\r\\n        </label>\\r\\n        <button class=\\\"btn btn-danger styledelete\\\" matTooltip=\\\"Remove style customization\\\">X</button>\\r\\n        <button class=\\\"helpButton btn btn-info\\\" matTooltip=\\\"todo: explain .EndPoint, .TypeSelector, .ClassSelector...\\\">?</button>\\r\\n      </div>\\r\\n      <label class=\\\"allowEdit\\\"><span>This style is being inherited and cannot be modified here.<br>You need a local copy to allow Edit.</span><button class=\\\"allowEdit btn btn-secondary\\\">Make it</button></label>\\r\\n      <div contenteditable=\\\"true\\\" class=\\\"html\\\" placeholder=\\\"Html for $##name$ (m2 class).\\\"></div>\\r\\n\\r\\n      <!--\\r\\n      <div class=\\\"roww nowrap detailButtonContainer\\\">\\r\\n        <button target=\\\"div.detail.measurable\\\" class=\\\"detail measurable btn btn-primary\\\">\\r\\n            <span class=\\\"closed\\\">\\r\\n              <label class=\\\"measurable\\\">\\r\\n                <input type=\\\"checkbox\\\">\\r\\n                <span>Measurable</span>\\r\\n              </label>\\r\\n              <div class=\\\"HorizontalContainer\\\"><span class=\\\"HorizontalChild\\\">⮟</span><span class=\\\"HorizontalChild\\\">⮟</span><span class=\\\"HorizontalChild\\\">⮟</span></div>\\r\\n            </span>\\r\\n          <span class=\\\"opened\\\">\\r\\n              <div class=\\\"HorizontalContainer\\\"><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span></div>\\r\\n            </span>\\r\\n        </button>\\r\\n        <button target=\\\"div.detail.save\\\" class=\\\"detail save btn btn-primary\\\">\\r\\n          <span class=\\\"closed\\\">Save detail</span>\\r\\n          <span class=\\\"opened\\\">\\r\\n              <div class=\\\"HorizontalContainer\\\"><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span></div>\\r\\n            </span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"detail measurable\\\" style=\\\"display: none\\\">\\r\\n        < !--\\r\\n                          left\\t  right\\t  eval\\r\\n\\r\\n          r_\\t\\t      str\\t    any\\t    /     <-- add dataset to name input.\\r\\n          d_\\t\\t      str\\t    any\\t    /\\r\\n          _\\t\\t        /\\t      js\\t    any\\r\\n          _rule\\t\\t    $##a$  \\tjs\\t    any\\r\\n          _export\\t\\t  jq\\t    js\\t    any\\r\\n          _chainFinal\\texport\\r\\n          _chain\\t\\t  export\\r\\n          _constraint\\tsize\\t  js\\t    bool\\tinequality\\r\\n          _dstyle\\t\\t  /\\t      js->css\\tstr\\r\\n          _import\\t\\t  size\\t  js\\t    any\\r\\n        -- >\\r\\n        <div class=\\\"template measurable _root roww columnContainer\\\">\\r\\n          <button class=\\\"deleteRule columnChild btn btn-danger\\\">X</button>\\r\\n          <div class=\\\"columnChild\\\">\\r\\n            <div class=\\\"roww hideOn r_ d_\\\">\\r\\n              <label>\\r\\n                <span>Name</span>\\r\\n                <span class=\\\"nameprefix\\\">_</span>\\r\\n                <input class=\\\"fill name\\\" type=\\\"text\\\" placeholder=\\\"attribute name\\\" pattern=\\\"[.]+\\\">\\r\\n              </label>\\r\\n            </div>\\r\\n            <label class=\\\"expressionRoot\\\">\\r\\n              <input class=\\\"leftside hideOn _ _dstyle _chain _chainFinal\\\" type=\\\"text\\\" placeholder=\\\"Left side\\\">\\r\\n              <span class=\\\"operatortext hideOn _constraint _ _dstyle operator\\\">=</span>\\r\\n              <select class=\\\"hideOn _ _dstyle operator\\\"><optgroup label=\\\"operator\\\">\\r\\n                <option value=\\\"<=\\\">&lt;=</option>\\r\\n                <option value=\\\"=\\\">=</option>\\r\\n                <option value=\\\">=\\\">&gt;=</option>\\r\\n              </optgroup></select>\\r\\n              <input class=\\\"rightside hideon_chain _chainFinal \\\" type=\\\"text\\\" placeholder=\\\"Right side\\\">\\r\\n            </label>\\r\\n            <div class=\\\"roww hideOn r_ d_\\\">\\r\\n              <label>\\r\\n                <span>Relative target</span>\\r\\n                <input class=\\\"fill relativetarget\\\" type=\\\"text\\\" placeholder=\\\"jQuery selector\\\">\\r\\n              </label>\\r\\n            </div>\\r\\n            <div class=\\\"roww hideOn r_ d_\\\">\\r\\n              <label>\\r\\n                <span>Evaluation (debug)</span>\\r\\n                <input readonly class=\\\"fill evaluation\\\" type=\\\"text\\\" placeholder=\\\"empty string\\\">\\r\\n              </label>\\r\\n            </div>\\r\\n            <a class=\\\"roww outputerror left\\\"></a>\\r\\n            <a class=\\\"roww outputerror right\\\"></a>\\r\\n          </div>\\r\\n        </div>\\r\\n        < !-- TEMPLATES END -- >\\r\\n        <h6 class=\\\"addHeader\\\">\\r\\n          <button class=\\\"btn btn-secondary addmeasurable\\\">Add</button>\\r\\n          <select class=\\\"attributetypeadd\\\"><optgroup label=\\\"Attribute type\\\">\\r\\n            <option value=\\\"d_\\\">jQueryUI drag option</option>\\r\\n            <option value=\\\"r_\\\">jQueryUI resize option</option>\\r\\n            <option value=\\\"_rule\\\">_rule</option>\\r\\n            <option value=\\\"_dstyle\\\">_dstyle</option>\\r\\n            <option value=\\\"_export\\\">_export</option>\\r\\n            <option value=\\\"_constraint\\\">_constraint</option>\\r\\n            <option value=\\\"_import\\\">_import</option>\\r\\n            <option value=\\\"_chain\\\">_chain</option>\\r\\n            <option value=\\\"_chainFinal\\\">_chainFinal</option>\\r\\n            <option value=\\\"_\\\">_ (Pseudo-variable)</option>\\r\\n          </optgroup></select>\\r\\n        </h6>\\r\\n\\r\\n        <h6>_D</h6>\\r\\n        <div class=\\\"d_Container\\\"></div>\\r\\n        <h6>_R</h6>\\r\\n        <div class=\\\"r_Container\\\"></div>\\r\\n        <h6>_ (Pseudo-variables)</h6>\\r\\n        <div class=\\\"_Container\\\"></div>\\r\\n        <h6>_Rule</h6>\\r\\n        <div class=\\\"_ruleContainer\\\"></div>\\r\\n        <h6>_Export</h6>\\r\\n        <div class=\\\"_exportContainer\\\"></div>\\r\\n        <h6>_Constraint</h6>\\r\\n        <div class=\\\"_constraintContainer\\\"></div>\\r\\n        <h6>_Dstyle</h6>\\r\\n        <div class=\\\"_dstyleContainer\\\"></div>\\r\\n        <h6>_Import</h6>\\r\\n        <div class=\\\"_importContainer\\\"></div>\\r\\n        <h6>_Chain</h6>\\r\\n        <div class=\\\"_chainContainer\\\"></div>\\r\\n        <h6>_ChainFinal</h6>\\r\\n        <div class=\\\"_chainFinalContainer\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"detail save\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"saveasrow\\\">\\r\\n          <button class=\\\"delete btn btn-secondary\\\">Delete</button>\\r\\n          <button class=\\\"saveas btn btn-secondary\\\">Save as</button>\\r\\n          <input class=\\\"saveas form-control\\\" placeholder=\\\"new style name\\\">\\r\\n        </div>\\r\\n        <h6>Style is compatible with:</h6>\\r\\n        <div class=\\\"compatibleRow\\\">\\r\\n          <label><span>M2 Elements</span><input class=\\\"metamodel\\\" type=\\\"checkbox\\\"></label>\\r\\n          <label><span>M1 Elements</span><input class=\\\"model\\\" type=\\\"checkbox\\\"></label>\\r\\n        </div>\\r\\n        <h6>And appliable to:</h6>\\r\\n        <div class=\\\"compatibleRow\\\">\\r\\n          <label><span>Class</span><input class=\\\"class\\\" type=\\\"checkbox\\\"></label>\\r\\n          <label><span>Attributes</span><input class=\\\"attribute\\\" type=\\\"checkbox\\\"></label>\\r\\n          <label><span>References</span><input class=\\\"reference\\\" type=\\\"checkbox\\\"></label>\\r\\n          <label><span>Operations</span><input class=\\\"operation\\\" type=\\\"checkbox\\\"></label>\\r\\n          <label><span>Parameters</span><input class=\\\"parameter\\\" type=\\\"checkbox\\\"></label>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      < !-- <div class=\\\"separatorShell\\\">\\r\\n        <h6 class=\\\"vertexStyle separator\\\">\\r\\n          <label><span>Preview&nbsp;of&nbsp;</span>\\r\\n            <select class=\\\"previewselector\\\"></select>\\r\\n          </label></h6>\\r\\n        <button class=\\\"helpButton vertex btn btn-info\\\" matTooltip=\\\"todo: explain .EndPoint, .TypeSelector, .ClassSelector...\\\">?</button>\\r\\n      </div> -->\\r\\n\\r\\n      <!-- start of new measurable -->\\r\\n\\r\\n      <div class=\\\"columnContainer\\\"><div class=\\\"measurablePlaceholder\\\"></div></div>\\r\\n\\r\\n\\r\\n      <!-- end of new measurable -->\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"template modelpiece\\\">\\r\\n      <!-- https://www.key-shortcut.com/en/writing-systems/35-symbols/arrows -->\\r\\n      <div class=\\\"arrowContainer\\\">\\r\\n        <button class=\\\"arrow up btn btn-primary\\\" title=\\\"Go up a level in the html DOM\\\">⇪</button>\\r\\n        <h6 class=\\\"tsclass\\\">TS_Class</h6>\\r\\n        <button class=\\\"arrow upp btn btn-primary\\\" title=\\\"Go to the root level\\\">🢁</button>\\r\\n        <button class=\\\"arrow down btn btn-primary\\\" style=\\\"display:none\\\" title=\\\"Go to the previous level\\\">⇩</button>\\r\\n      </div>\\r\\n      <label class=\\\"iclass show\\\">\\r\\n        <input type=\\\"checkbox\\\" class=\\\"showAsEdge\\\">\\r\\n        <span class=\\\"showAsEdgeText\\\">#####</span>\\r\\n      </label>\\r\\n      <div class=\\\"style own colContainer\\\"></div>\\r\\n      <div class=\\\"sizeContainer\\\" style=\\\"display: flex;\\\">\\r\\n        <div class=\\\"sizeContainerHalf\\\">\\r\\n          <label class=\\\"sizelabel\\\">\\r\\n            <input class=\\\"sizex\\\" digit=\\\"5\\\" type=\\\"number\\\">\\r\\n            <span>X</span>\\r\\n          </label>\\r\\n          <label class=\\\"sizelabel\\\">\\r\\n            <input class=\\\"sizey\\\" digit=\\\"5\\\" type=\\\"number\\\">\\r\\n            <span>Y</span>\\r\\n          </label>\\r\\n        </div>\\r\\n        <div class=\\\"sizeContainerHalf\\\">\\r\\n          <label class=\\\"sizelabel\\\">\\r\\n            <input class=\\\"sizew\\\" digit=\\\"5\\\" type=\\\"number\\\">\\r\\n            <span>Width</span>\\r\\n          </label>\\r\\n          <label class=\\\"sizelabel\\\">\\r\\n            <input class=\\\"sizeh\\\" digit=\\\"5\\\" type=\\\"number\\\">\\r\\n            <span>Height</span>\\r\\n          </label>\\r\\n        </div>\\r\\n        <label class=\\\"autosizecontainer\\\"><input type=\\\"checkbox\\\" class=\\\"autoheight\\\"><span>Adapt height to content</span></label>\\r\\n        <label class=\\\"autosizecontainer\\\"><input type=\\\"checkbox\\\" class=\\\"autowidth\\\"><span>Adapt width to content</span></label>\\r\\n        <label class=\\\"autosizecontainer\\\"><input type=\\\"checkbox\\\" class=\\\"autolayout\\\"><span>Include in Auto-layout</span></label>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"separatorShell\\\"></div>\\r\\n      <label class=\\\"\\\">\\r\\n        <input type=\\\"checkbox\\\" class=\\\"asDefault\\\">\\r\\n        <span>Use as default style</span>\\r\\n      </label>\\r\\n      <div class=\\\"roww nowrap detailButtonContainer\\\">\\r\\n        <button target=\\\"div.detail.style.inherited\\\" class=\\\"detail inherited btn btn-primary\\\">\\r\\n          <span class=\\\"closed\\\">Inherited Style</span>\\r\\n          <span class=\\\"opened\\\">\\r\\n              <div class=\\\"HorizontalContainer\\\"><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span></div>\\r\\n            </span>\\r\\n        </button>\\r\\n        <button target=\\\"div.detail.style.inheritable\\\" class=\\\"detail inheritable btn btn-primary\\\">\\r\\n          <span class=\\\"closed\\\">Inheritable Style</span>\\r\\n          <span class=\\\"opened\\\">\\r\\n              <div class=\\\"HorizontalContainer\\\"><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span><span class=\\\"HorizontalChild\\\">⮝</span></div>\\r\\n            </span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- detail style instances colContainer ... -->\\r\\n\\r\\n      <div class=\\\"detail style inheritable colContainer\\\"></div>\\r\\n      <div class=\\\"detail style inherited colContainer\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"template edge\\\">\\r\\n      <h1>Edge style</h1>\\r\\n      <table><tbody>\\r\\n      <tr>\\r\\n        <td>Style</td>\\r\\n        <td><select class=\\\"edgeStyle\\\"><optgroup label=\\\"Edge style\\\">\\r\\n          <option value=\\\"straight\\\" title=\\\"./img/icons/edge/straight.jpg\\\">Straight</option>\\r\\n          <option value=\\\"angular23Auto\\\" title=\\\"./img/icons/edge/angular23.jpg\\\">Angulated (auto)</option>\\r\\n          <option value=\\\"angular2\\\" title=\\\"./img/icons/edge/angular2.jpg\\\">Angulated (2)</option>\\r\\n          <option value=\\\"angular3\\\" title=\\\"./img/icons/edge/angular3.jpg\\\">Angulated (3)</option>\\r\\n        </optgroup></select></td>\\r\\n      </tr>\\r\\n      <tr><td colspan=\\\"2\\\" class=\\\"title\\\">On normal status</td></tr>\\r\\n      <tr>\\r\\n        <td>Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgeColor common\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Width</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgeWidth common\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr><td colspan=\\\"2\\\" class=\\\"title\\\">On highlight preview</td></tr>\\r\\n      <tr>\\r\\n        <td>Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgeColor highlight\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Width</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgeWidth highlight\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr><td colspan=\\\"2\\\" class=\\\"title\\\">On selection</td></tr>\\r\\n      <tr>\\r\\n        <td>Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgeColor selected\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Width</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgeWidth selected\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      </tbody></table>\\r\\n      <h1>EdgePoint style</h1>\\r\\n      <table><tbody>\\r\\n      <tr><td colspan=\\\"2\\\" class=\\\"title\\\">On normal status</td></tr>\\r\\n      <tr>\\r\\n        <td>Radius</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgePoint radius\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Border Width</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgePoint strokeW\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Border Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgePoint stroke\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Fill Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgePoint fill\\\"></td>\\r\\n      </tr>\\r\\n      <tr><td colspan=\\\"2\\\" class=\\\"title\\\">On bounding preview</td></tr>\\r\\n      <tr>\\r\\n        <td>Radius</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgePointPreview radius\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Border Width</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgePointPreview strokeW\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Border Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgePointPreview stroke\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Fill Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgePointPreview fill\\\"></td>\\r\\n      </tr>\\r\\n      <tr><td colspan=\\\"2\\\" class=\\\"title\\\">While moving</td></tr>\\r\\n      <tr>\\r\\n        <td>Radius</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgePointSelected radius\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Border Width</td>\\r\\n        <td><input type=\\\"number\\\" class=\\\"edgePointSelected strokeW\\\" min=\\\"0\\\" step=\\\"0.1\\\" placeholder=\\\"0\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Border Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgePointSelected stroke\\\"></td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Fill Color</td>\\r\\n        <td><input type=\\\"color\\\" class=\\\"edgePointSelected fill\\\"></td>\\r\\n      </tr>\\r\\n      </tbody></table>\\r\\n      <div contenteditable=\\\"true\\\" class=\\\"edgeStyle label html\\\" placeholder=\\\"Label of link. Not filled means without label.\\\"></div>\\r\\n      <div class=\\\"separatorShell\\\">\\r\\n        <h6 class=\\\"edgeStyle separator\\\">Preview:</h6>\\r\\n        <button class=\\\"helpButton edgeLabel\\\" matTooltip=\\\"todo: explain .EndPoint, .TypeSelector, .ClassSelector...\\\">?</button>\\r\\n      </div>\\r\\n      <div class=\\\"edgeStyle preview\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","export default \"DROPPED: dovrei trovare una implementazione dello standard MTL in js (model to text standard)\\ndovrei salvare la regola usando m2t, con l'aggiunta di variabili pre-esistenti definite qui.\\nal momento della chiamata della trasformazione m2t prima dell'esecuzione si apre un popup su come assegnare eventuali parametri.\\nes per mysql: [checkbox] Ignore duplicates, [checkbox]remove old value... [textarea (array of json strings)] GenerateRedundantKeysFor... (classlist)\\nse chiamo mysql in m2 mi genero bd, tabella e vincoli, se chiamo in s1 genero \\\"insert into\\\"...\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n<p>m2tcreator works!</p>\\n<h3>M2T creation</h3>\\n<span>M2T Options as json</span>\\n<textarea class=\\\"m2t-options\\\"></textarea>\\n\\n\\n\\n\\n\\n\\n<label>M2T help text<textarea [(ngModel)]=\\\"helptext\\\"></textarea></label>\\n\\n<label>name <input></label>\\n<label>min values count<input type=\\\"number\\\" min=\\\"0\\\" value=\\\"1\\\"></label>\\n<label>max values count<input type=\\\"number\\\" min=\\\"1\\\" value=\\\"1\\\"></label>\\n<h3>Paramater list</h3>\\n<label>Parameter type\\n  <select>\\n  <option>enum</option>\\n  <option>string</option>\\n  <option>number</option>\\n  <option>boolean</option>\\n</select></label>\\n<div uif=\\\"type-enum\\\">\\n  <label>Enumeration allowed values (as json array)<textarea>[\\\"example1\\\", \\\"example2\\\"]</textarea></label>\\n  <label>Default value<input type=\\\"text\\\">example1</label>\\n</div>\\n\\n<label uif=\\\"type-number\\\">numeric min value<input step=\\\"any\\\" value=\\\"0\\\"></label>\\n<label uif=\\\"type-number\\\">numeric max value<input step=\\\"any\\\" value=\\\"100\\\"></label>\\n<label uif=\\\"type-number\\\">user help text<input step=\\\"any\\\" value=\\\"100\\\"></label>\\n\"","export default \"<div id='topbarShell'>\\r\\n  <div id='topbar'>\\r\\n    <div class=\\\"dropdownContainer root user\\\">\\r\\n      <button class=\\\"todo dropdownTitle\\\">User</button>\\r\\n      <ul class=\\\"dropdownContent\\\">\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"todo dropdownpadding\\\">Logout</div></li>\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"todo dropdownpadding\\\">Preferences</div></li>\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"todo dropdownpadding\\\">Account</div></li>\\r\\n      </ul>\\r\\n    </div>\\r\\n    <div class=\\\"dropdownContainer root metametamodel\\\">\\r\\n      <button class=\\\"dropdownTitle\\\">Meta-Metamodel</button>\\r\\n      <ul class=\\\"dropdownContent\\\">\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"dropdownpadding TypeMapping\\\">Type mapping</div></li>\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"todo dropdownpadding VertexStyle\\\">Vertex Style</div></li>\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"todo dropdownpadding EdgeStyle\\\">Edge Style</div></li>\\r\\n      </ul>\\r\\n    </div>\\r\\n    <div class=\\\"dropdownContainer root metamodel\\\">\\r\\n      <button class=\\\"dropdownTitle\\\">Metamodel</button>\\r\\n      <ul class=\\\"dropdownContent\\\">\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"dropdownpadding save\\\">Save</div></li>\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Recent</div>\\r\\n            <ul class=\\\"dropdownContent right recentSaveContainer\\\">\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 1</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 2</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 3</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 4</div></li>\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Export</div>\\r\\n            <ul class=\\\"dropdownContent right\\\">\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Model</div>\\r\\n                  <ul class=\\\"dropdownContent right model\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding download_JSON_String\\\">To eCore/JSON string</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding download_JSON\\\">Download eCore/JSON file</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding download_XMI\\\">Download eCore/XMI file</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Vertices layout</div>\\r\\n                  <ul class=\\\"dropdownContent right vertex\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadFile\\\">Download file (.jv)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadTxt\\\">To text</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Viewpoints</div>\\r\\n                  <ul class=\\\"dropdownContent right viewpoints\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadFile\\\">Download file (.jvp)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadTxt\\\">To text</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Import</div>\\r\\n            <ul class=\\\"dropdownContent right\\\">\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Model</div>\\r\\n                  <ul class=\\\"dropdownContent right model\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadEmpty\\\">New empty metamodel</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadFile\\\">From file (eCore/XMI)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadTxt\\\">From text (eCore/JSON)</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Vertices layout</div>\\r\\n                  <ul class=\\\"dropdownContent right vertex\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadEmpty\\\">Reset vertex position</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadFile\\\">From file (.jv)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadTxt\\\">From text (.jv)</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Viewpoints</div>\\r\\n                  <ul class=\\\"dropdownContent right viewpoints\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadEmpty\\\">Reset viewpoints</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadFile\\\">From file (.jvp)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadTxt\\\">From text</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Model To Text</div>\\r\\n            <ul class=\\\"dropdownContent right m2t-m2-list\\\">\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding todo\\\" (click)=\\\"createM2T_Rule('m2')\\\">Create M2T rule</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding todo\\\">Import M2T rule</div></li>\\r\\n              <li class=\\\"dropdownContent right separator\\\"></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding\\\" (click)=\\\"displayResult('byText', m2t_byText_m2())\\\">By text</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding\\\" (click)=\\\"displayResult('MySQL', m2t_mysql_m2())\\\">MySQL</div></li>\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div>\\r\\n    <div class=\\\"dropdownContainer root model\\\">\\r\\n      <button class=\\\"dropdownTitle\\\">Model</button>\\r\\n      <ul class=\\\"dropdownContent\\\">\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"dropdownpadding save\\\">Save</div></li>\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Recent</div>\\r\\n            <ul class=\\\"dropdownContent right recentSaveContainer\\\">\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 1</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 2</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 3</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding recentsave\\\">example 4</div></li>\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Export</div>\\r\\n            <ul class=\\\"dropdownContent right\\\">\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Model</div>\\r\\n                  <ul class=\\\"dropdownContent right model\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding download_JSON_String\\\">To eCore/JSON string</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding download_JSON\\\">Download eCore/JSON file</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding download_XMI\\\">Download eCore/XMI file</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Vertices layout</div>\\r\\n                  <ul class=\\\"dropdownContent right vertex\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadFile\\\">Download file (.jv)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadTxt\\\">To text</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Viewpoints</div>\\r\\n                  <ul class=\\\"dropdownContent right viewpoints\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadFile\\\">Download file (.jvp)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding downloadTxt\\\">To text</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Import</div>\\r\\n            <ul class=\\\"dropdownContent right\\\">\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Model</div>\\r\\n                  <ul class=\\\"dropdownContent right model\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadEmpty\\\">New empty metamodel</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadFile\\\">From file (XMI)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadTxt\\\">From text (JSON)</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Vertices layout</div>\\r\\n                  <ul class=\\\"dropdownContent right vertex\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadEmpty\\\">Reset vertex position</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadFile\\\">From file (.jv)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadTxt\\\">From text (.jv)</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n              <li class=\\\"dropdownContent right\\\">\\r\\n                <div class=\\\"dropdownContainer right\\\">\\r\\n                  <div class=\\\"dropdownTitle right\\\">Viewpoints</div>\\r\\n                  <ul class=\\\"dropdownContent right viewpoints\\\">\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadEmpty\\\">Reset viewpoints</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadFile\\\">From file (.jvp)</div></li>\\r\\n                    <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding loadTxt\\\">From text</div></li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </li>\\r\\n\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n\\r\\n        <li class=\\\"dropdownContent\\\">\\r\\n          <div class=\\\"dropdownContainer right\\\">\\r\\n            <div class=\\\"dropdownTitle right\\\">Model To Text</div>\\r\\n            <ul class=\\\"dropdownContent right m2t-m2-list\\\">\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding todo\\\" (click)=\\\"createM2T_Rule('m1')\\\">Create M2T rule</div></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding todo\\\">Import M2T rule</div></li>\\r\\n              <li class=\\\"dropdownContent right separator\\\"></li>\\r\\n              <li class=\\\"dropdownContent right\\\"><div class=\\\"dropdownpadding\\\" (click)=\\\"displayResult('MySQL', m2t_mysql_m1())\\\">MySQL</div></li>\\r\\n            </ul>\\r\\n          </div>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div>\\r\\n    <div class=\\\"dropdownContainer root themes\\\">\\r\\n      <button class=\\\"dropdownTitle\\\">Themes</button>\\r\\n      <ul class=\\\"dropdownContent\\\">\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"dropdownpadding\\\">\\r\\n          <label>\\r\\n            <input class=\\\"themename\\\" type=\\\"radio\\\" name=\\\"themename\\\" value=\\\"Dark\\\">\\r\\n            <span>Dark</span>\\r\\n          </label>\\r\\n        </div></li>\\r\\n        <li class=\\\"dropdownContent\\\"><div class=\\\"dropdownpadding\\\">\\r\\n          <label>\\r\\n            <input class=\\\"themename\\\" type=\\\"radio\\\" name=\\\"themename\\\" value=\\\"Light\\\" checked>\\r\\n            <span>Light</span>\\r\\n          </label>\\r\\n        </div></li>\\r\\n      </ul>\\r\\n    </div>\\r\\n    <div class=\\\"dropdownContainer root Changelog\\\">\\r\\n      <button class=\\\"dropdownTitle changelogbutton\\\">Changelog</button>\\r\\n    </div>\\r\\n  <div id=\\\"TypeMapper\\\" class=\\\"screenWideShadow\\\" data-closebuttontarget=\\\"1\\\" style=\\\"display: none;\\\">\\r\\n    <div id=\\\"TypeMapperContent\\\" class=\\\"popupContent\\\">\\r\\n      <h1>Type mapping</h1>\\r\\n      <button class=\\\"closeButton\\\" data-closebuttontarget=\\\"1\\\">X</button>\\r\\n      <br>\\r\\n      <div class=\\\"typemaprow columnContainer\\\">\\r\\n        <select class=\\\"typemapselector btn-sm\\\" (change)=\\\"topbar.changeTypeMap()\\\" style=\\\"margin: auto; margin-left:0;\\\">\\r\\n          <optgroup label=\\\"Predefined type mappings\\\">\\r\\n            <option value=\\\"predefined.java\\\">Java (default)</option>\\r\\n            <option value=\\\"predefined.c89\\\">C 89</option>\\r\\n            <option value=\\\"predefined.MySQL\\\">MySQL</option>\\r\\n          </optgroup>\\r\\n          <optgroup label=\\\"Customized type mappings\\\">\\r\\n            <option *ngFor=\\\"let typemap of topbar?.typemapArr\\\" value=\\\"{{typemap}}\\\">{{typemap.substring(typemap.indexOf('.') + 1)}}</option>\\r\\n          </optgroup>\\r\\n        </select>\\r\\n        <button style=\\\"margin:auto; margin-right: 0;\\\" class=\\\"btn btn-primary addcustomtypmap\\\"\\r\\n                (click)=\\\"topbar.createTypeMap($event)\\\">Add custom mapping</button>\\r\\n      </div>\\r\\n      <div class=\\\"TypeList\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n  <div class=\\\"changelogRoot\\\" style=\\\"display: none\\\">\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {IModel, Json, TopBar, U, InputPopup, ViewRule, ViewPoint, Dictionary, GraphSize} from '../common/Joiner';\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport BlurEvent = JQuery.BlurEvent;\r\nimport ClickEvent = JQuery.ClickEvent;\r\n\r\nexport class SaveListEntry {\r\n  static vertexPos = new SaveListEntry('_LastOpenedVertexPos', 'VertexPos', '_SaveListVertexPos');\r\n  static view = new SaveListEntry('_LastOpenedView', 'ViewRule', '_SaveListView');\r\n  static model = new SaveListEntry('_LastOpened', '', '_SaveList');\r\n  lastopened: string;\r\n  prefix: string;\r\n  listname: string;\r\n\r\n  constructor(lastopened: string, prefix: string, listname: string) {\r\n    this.lastopened = lastopened;\r\n    this.prefix = prefix;\r\n    this.listname = listname; }\r\n}\r\n\r\nexport class LocalStorage {\r\n  private static reservedprefix: string = '_';\r\n  prefix: string = '' + '';\r\n  print = true;\r\n  popupTmp: InputPopup = null;\r\n  private model: IModel = null;\r\n  private isAutosavetmp: boolean;\r\n  private saveAstmp: boolean;\r\n  private vertexSaveStr: string;\r\n\r\n  static getLastOpened(modelNumber: 1 | 2): {model: string, vertexpos: string, view: string} {\r\n    const ret: {model: string, vertexpos: string, view: string} = {model: null, vertexpos: null, view: null};\r\n    ret.model = localStorage.getItem(LocalStorage.reservedprefix + 'm' + modelNumber + '_' + SaveListEntry.model.lastopened);\r\n    ret.view = localStorage.getItem(LocalStorage.reservedprefix + 'm' + modelNumber + '_' + SaveListEntry.view.lastopened);\r\n    ret.vertexpos = localStorage.getItem(LocalStorage.reservedprefix + 'm' + modelNumber + '_' + SaveListEntry.vertexPos.lastopened);\r\n    return ret; }\r\n\r\n  static deleteLastOpened(modelNumber: 1 | 2): void { this.setLastOpened(modelNumber, null, null, null); }\r\n\r\n  static setLastOpened(modelNumber: 1 | 2, model: string = null, view: string = null, vertex: string = null): void {\r\n    const prefix = LocalStorage.reservedprefix + 'm' + modelNumber + '_';\r\n    if (model) localStorage.setItem(prefix + SaveListEntry.model.lastopened, model);\r\n    else localStorage.removeItem(prefix +  SaveListEntry.model.lastopened);\r\n    if (view) localStorage.setItem(prefix + SaveListEntry.view.lastopened, view);\r\n    else localStorage.removeItem(prefix +  SaveListEntry.view.lastopened);\r\n    if (vertex) localStorage.setItem(prefix + SaveListEntry.vertexPos.lastopened, vertex);\r\n    else localStorage.removeItem(prefix +  SaveListEntry.vertexPos.lastopened); }\r\n\r\n  getViewPoints(): {view: string, vertexPos: string} {\r\n    const m: IModel = this.model;\r\n    const ret = {view: null, vertexPos: null};\r\n    if (!m.name) return ret;\r\n    ret.view = this.get(m.name, SaveListEntry.view);\r\n    ret.vertexPos = this.get(m.name, SaveListEntry.vertexPos);\r\n    return ret; }\r\n\r\n  constructor(model: IModel) {\r\n    this.model = model;\r\n    this.prefix = model.getPrefixNum() + '_'; }\r\n\r\n  private addToList(key: string, listname: string): void {\r\n    const saveKeyList: string[] = this.getKeyList(listname, null);\r\n    if (U.arrayContains(saveKeyList, key)) return;\r\n    saveKeyList.push(key);\r\n    this.overwriteList(listname, saveKeyList); }\r\n\r\n  private removeFromList(key: string, listname: string): void {\r\n    const saveKeyList: string[] = this.getKeyList(listname, null);\r\n    if (!U.arrayContains(saveKeyList, key)) return;\r\n    U.arrayRemoveAll(saveKeyList, key);\r\n    this.overwriteList(listname, saveKeyList); }\r\n\r\n  private overwriteList(listname: string, value: string[]): void {\r\n    U.pe(!Array.isArray(value), 'recent savelist must be an array.');\r\n    localStorage.setItem(LocalStorage.reservedprefix + this.prefix + listname, JSON.stringify(value));\r\n    TopBar.topbar.updateRecents(); }\r\n\r\n  getKeyList(listname: string, limit: number = null): string[] {\r\n    const ret: string[] = JSON.parse(localStorage.getItem(LocalStorage.reservedprefix + this.prefix + listname));\r\n    if (!ret) { return []; }\r\n    U.pe(!Array.isArray(ret), 'savelist got is not an array:', ret);\r\n    return isNaN(limit) ? ret : ret.splice(limit); }\r\n\r\n  add(key: string = null, val: string, saveList: SaveListEntry): void {\r\n    U.pe(val !== '' + val, 'parameter should be string:', val);\r\n    if (val !== '' + val) { val = JSON.stringify(val); }\r\n    key = key ? this.prefix + saveList.prefix + key : null;\r\n    if (val !== 'null' && val !== 'undefined') localStorage.setItem(LocalStorage.reservedprefix + this.prefix + saveList.lastopened, val);\r\n    else localStorage.removeItem(LocalStorage.reservedprefix + this.prefix + saveList.lastopened);\r\n    if (!key) { return; }\r\n    this.addToList(key, saveList.listname);\r\n    localStorage.setItem(key, val);\r\n  }\r\n\r\n  remove(oldKey: string, saveList: SaveListEntry): void {\r\n    if (!oldKey) return;\r\n    oldKey = this.prefix + saveList.prefix + oldKey;\r\n    this.removeFromList(oldKey, saveList.listname);\r\n    localStorage.removeItem(oldKey); }\r\n\r\n  get(key: string, saveList: SaveListEntry): string {\r\n    key = this.prefix + saveList.prefix + key;\r\n    return localStorage.getItem(key); }\r\n\r\n  rename(oldKey: string, newKey: string, saveList: SaveListEntry): void {\r\n    const oldVal: any = this.get(oldKey, saveList);\r\n    if (U.isUnset(oldVal)) return;\r\n    this.remove(oldKey, saveList);\r\n    this.add(newKey, oldVal, saveList); }\r\n\r\n  p(arg1: any, ...restArgs: any[]): void { U.pif(this.print, arg1, ...restArgs); }\r\n\r\n  private finishSave(saveVal: string): void {\r\n    const m: IModel = this.model;\r\n    U.pe(!m.name, 'model name should be filled with a validated user input.');\r\n\r\n    // must be recalculated, model.name might have been changed by user input (saveas or un-named model being given a name)\r\n    let viewpointSave: string = JSON.stringify(m.generateViewPointSaveArr());\r\n    this.add(m.name, saveVal, SaveListEntry.model);\r\n    this.add(m.name, viewpointSave, SaveListEntry.view);\r\n    this.add(m.name, this.vertexSaveStr, SaveListEntry.vertexPos);\r\n    this.p(m.name + ' VertexPositions saved:', saveVal);\r\n    this.p(m.name + ' ViewPoints saved:', viewpointSave);\r\n    this.p(m.name + ' Model saved:', this.vertexSaveStr);\r\n  }\r\n\r\n  private save_BlurEvent(e: BlurEvent | KeyDownEvent, saveVal: string): void {\r\n    const input: HTMLInputElement = e.currentTarget as HTMLInputElement;\r\n    if (!+input.getAttribute('valid')) return;\r\n    this.finishSave(saveVal); }\r\n\r\n  private save_OnKeyDown(e: KeyDownEvent, saveVal: string): void {\r\n    // this.save_OnChange(e, popup, model);\r\n    if (e.key !== 'return') { return; }\r\n    this.save_BlurEvent(e, saveVal); }\r\n\r\n  private save_OnChange(e: ChangeEvent, model: IModel): void {\r\n    this.p('onchange');\r\n    const input: HTMLInputElement = e.currentTarget as HTMLInputElement;\r\n    let error: boolean = false;\r\n    try { model.setName(input.value); } catch (e) { error = true; } finally {}\r\n    if (error || input.value !== model.name) {\r\n      this.popupTmp.setErrText('invalid or already registered name, a fix');\r\n      input.setAttribute('valid', '0');\r\n      if (model.name) { input.value = model.name; }\r\n      return; }\r\n    input.setAttribute('valid', '1'); }\r\n\r\n  saveModel(isAutosave: boolean, saveAs: boolean = false): void {\r\n    U.pe(!!this.popupTmp, 'should not be allowed to have 2 popup for the same Storage. this would lead to a conflict mixing data.');\r\n    this.isAutosavetmp = isAutosave;\r\n    this.saveAstmp = saveAs;\r\n    const model: IModel = this.model;\r\n    const ecoreJSONStr: string = model.generateModelString();\r\n    this.vertexSaveStr = JSON.stringify(model.generateVertexPositionSaveArr() as Dictionary<string, GraphSize>);\r\n    const name = model.name;\r\n    const viepointJSONStr: string = JSON.stringify(model.generateViewPointSaveArr() as Json[]);\r\n    this.p('save ' + this.prefix + 'Model[' + name + '] = ', ecoreJSONStr, 'viewpoints:', viepointJSONStr);\r\n\r\n    this.add(null, ecoreJSONStr, SaveListEntry.model);\r\n    this.add(null, viepointJSONStr, SaveListEntry.view);\r\n    this.add(null, this.vertexSaveStr, SaveListEntry.vertexPos);\r\n\r\n    const onblur = (e: BlurEvent) => { this.save_BlurEvent(e, ecoreJSONStr); };\r\n    const onkeydown = (e: KeyDownEvent) => { this.save_OnKeyDown(e, ecoreJSONStr); };\r\n    const onchange = (e: any) => { this.save_OnChange(e, model); };\r\n    this.p('isAutosave:', isAutosave, 'saveAs:', saveAs, 'model.name:', model.name);\r\n\r\n    // save with a name.\r\n    if (name && name !== '') { this.finishSave(ecoreJSONStr); return; }\r\n    // autosave without a name.\r\n    if (isAutosave) { return; }\r\n    // saveas without a name.\r\n    if (saveAs) {\r\n      const onSuccess = (e: ClickEvent, value: string, input: HTMLElement, btn: HTMLButtonElement) => { model.setName(value); this.popupTmp = this.popupTmp.destroy(); };\r\n      const onAbort = (e: ClickEvent, value: string, input: HTMLElement, btn: HTMLButtonElement) => { this.popupTmp = this.popupTmp.destroy(); };\r\n      const validator = (value: string, input: HTMLElement) => {\r\n        const oldVal = model.name;\r\n        const ret = model.setName(value) === value;\r\n        if (oldVal) model.setName(oldVal);\r\n        return ret; };\r\n      this.popupTmp = new InputPopup();\r\n      this.popupTmp.setText('Choose a name for the ' + model.friendlyClassName(), '', '');\r\n      this.popupTmp.setInputNode('input', 'text', '^[a-zA-Z_$][a-zA-Z_$0-9]*$', true);\r\n      this.popupTmp.setInput('', 'Enter ' + model.friendlyClassName() + ' name');\r\n      this.popupTmp.addOkButton(null, [onSuccess]);\r\n      this.popupTmp.onCloseButton([onAbort]);\r\n      this.popupTmp.setValidation(validator, U.getTSClassName(model) + ' name is already used or contains invalid pattern.');\r\n      this.popupTmp.show(); return; }\r\n    // user clicked save without a name\r\n  }\r\n\r\n  pushToServer(): void {}\r\n\r\n  autosave(turn: boolean, permanendNotImplemented: boolean = false): void {\r\n    localStorage.setItem('autosave', '' + turn);\r\n  }\r\n\r\n}\r\n\r\nexport class LocalStorageM {\r\n\r\n\r\n}\r\nexport class LocalStorageM3 extends LocalStorageM {\r\n\r\n}\r\nexport class LocalStorageM2 extends LocalStorageM {\r\n\r\n}\r\nexport class LocalStorageM1 extends LocalStorageM {\r\n\r\n}\r\n\r\nexport class LocalStorageStyles extends LocalStorage {\r\n\r\n}\r\n","import {ReservedStorageKey, TopBar, U} from '../common/Joiner';\r\n\r\nexport class WebsiteTheme{\r\n  static readonly Dark: string = 'Dark';\r\n  static readonly Light: string = 'Light';\r\n\r\n  static setTheme(checkbox: HTMLInputElement = null) {\r\n    let s: string = checkbox && checkbox.value;\r\n    let oldTheme = localStorage.getItem(ReservedStorageKey.userTheme);\r\n    if (!s) { s = oldTheme; }\r\n    if (!s) {\r\n      let radio: HTMLInputElement = TopBar.topbar.$topbar.find('input.themename:checked')[0] as HTMLInputElement;\r\n      U.pe(!radio, 'a theme must be selected');\r\n      s = radio.value; }\r\n    if (!checkbox) { checkbox = TopBar.$checkboxesTheme.filter('[value=\"'+s+'\"]')[0]; }\r\n    localStorage.setItem(ReservedStorageKey.userTheme, '' + s);\r\n    TopBar.$checkboxesTheme.removeAttr('checked');\r\n    checkbox.checked = true;\r\n    const change = (property: string) => { document.documentElement.style.setProperty('--' + property, 'var(--' + s + property + ')'); }\r\n    change('mainFontColor');\r\n    change('mainBackgroundColor');\r\n    change('mainBorderColor');\r\n    change('secondaryBorderColor');\r\n    change('popupBackgroundColor');\r\n    change('altBackgroundColor');\r\n    change('altFontColor');\r\n    document.body.classList.remove(oldTheme);\r\n    document.body.classList.add(s);\r\n  }\r\n\r\n  static get(): string { return (TopBar.topbar.$topbar.find('input.themename:checked')[0] as HTMLInputElement).value; }\r\n}\r\n","import {\r\n  IAttribute,\r\n  M2Class,\r\n  IEdge,\r\n  IModel,\r\n  IPackage,\r\n  IReference,\r\n  ModelPiece,\r\n  PropertyBarr,\r\n  Status,\r\n  U,\r\n  IClass,\r\n  EdgeModes,\r\n  EOperation,\r\n  EParameter,\r\n  Database,\r\n  Size,\r\n  AttribETypes,\r\n  Dictionary,\r\n  // Options,\r\n  Point,\r\n  GraphPoint,\r\n  IVertex, GraphSize, EdgeStyle, Json, StyleComplexEntry, IClassifier, ELiteral, MReference, EEnum,\r\n} from '../common/Joiner';\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nimport BlurEvent = JQuery.BlurEvent;\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport KeyboardEventBase = JQuery.KeyboardEventBase;\r\nimport KeyUpEvent = JQuery.KeyUpEvent;\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport SelectEvent = JQuery.SelectEvent;\r\n\r\nexport class StyleVisibility {\r\n  public static _public: string = 'public';\r\n  public static _private: string = 'private';\r\n  // approccio estendibile ai gruppi senza neanche creare nuove tabelle.\r\n  public static _publicExceptUserList: string = 'crea una relationship table key=tutto= (owner+stylename+utenteCheNONPuòVedere)';\r\n  public static _privateExceptUserList: string = 'crea una relationship table key=tutto= (owner+stylename+utenteChePuòVedere)';  // lo vede nessuno tranne...\r\n  visibility: string;\r\n}\r\n\r\nexport class ViewHtmlSettings{\r\n  name: string;\r\n  styleVisibility: StyleVisibility;\r\n  userOwner: string;\r\n  imgPreviewBase64: string;\r\n  elementStylingCount: number;\r\n  userImportingThis: number;\r\n  forkCounter: number;\r\n  ForkedFromStr_user: string;\r\n  ForkedFromStr_name: string;\r\n  AllowedOnM2: boolean;\r\n  AllowedOnM1: boolean;\r\n  allowedOnClass: boolean;\r\n  allowedOnAttribute: boolean;\r\n  allowedOnReference: boolean;\r\n  allowedOnOperation: boolean;\r\n  allowedOnParameter: boolean;\r\n  featuredependency: {template: string, namesArray: string, typesArray: string}[] = []; // dot separated. \"Class\" as typeof (m1class | m2class) instead of the name\r\n  protected html: Element = null;\r\n  private htmlstr: string;\r\n\r\n  toJSON(nameOrIndex: string): Json {\r\n    this.updateHtmlMetaData();\r\n    const copy0: any = {};\r\n    for (let key in this) { copy0[key] = this[key]; }\r\n    const copy: ViewHtmlSettings = copy0;\r\n    copy.htmlstr = this.html.outerHTML;\r\n    delete copy.html;\r\n    return copy; }\r\n\r\n  toString(): string { return JSON.stringify(this); }\r\n\r\n  updateHtml(): void {\r\n    this.html = U.toHtml(this.htmlstr);\r\n    // todo: inserisci tutti gli attributi metadata nell html.\r\n  }\r\n  updateHtmlMetaData(): void {\r\n    this.htmlstr = this.html.outerHTML;\r\n    const $meta = $(this.html).find('meta');\r\n    const setValue = (jq: JQuery<Element>): string => { return jq.length === 0 ? '' : jq[0].innerHTML; };\r\n    const isTrue = (jq: JQuery<Element>): boolean => { return jq.length > 0 && jq[0].innerHTML  === '1' || jq[0].innerHTML === 'true'; };\r\n    $meta.find('owner').text(this.userOwner);\r\n    $meta.find('name').text(this.name);\r\n    $meta.find('isM1').text(this.AllowedOnM1);\r\n    $meta.find('isM2').text(this.AllowedOnM2);\r\n    $meta.find('isClass').text(this.allowedOnClass);\r\n    $meta.find('isAttribute').text(this.allowedOnAttribute);\r\n    $meta.find('isReference').text(this.allowedOnReference);\r\n    $meta.find('isOperation').text(this.allowedOnOperation);\r\n    $meta.find('isParameter').text(this.allowedOnParameter);\r\n    $meta.find('preview').html(this.imgPreviewBase64);\r\n    let featuredependencystr: string = '';\r\n    let i: number;\r\n    for (i = 0; i < this.featuredependency.length; i++) {\r\n      const f = this.featuredependency[i];\r\n      featuredependencystr += '<dependency><template>' + f.template + '</template><names>' + f.namesArray + '</names><types>' + f.typesArray + '</types></template>';\r\n    }\r\n    $meta.find('featuredependencyList').html(featuredependencystr);\r\n  }\r\n\r\n  public setHtml(html: Element): void { return this.setHtml0(html, null); }\r\n  public setHtmlStr(html: string): void { return this.setHtml0(null, html); }\r\n  private setHtml0(html: Element, htmlstr: string): void {\r\n    // U.pe(!html && !htmlstr, 'both html and htmlstr are null.');\r\n    // U.pe(true, this, html, htmlstr, !html, !htmlstr, !html && !htmlstr);\r\n    if (!html) { html = U.toHtml(htmlstr); }\r\n    if (!htmlstr) { htmlstr = html ? html.outerHTML : null; }\r\n    U.pe(!html || !htmlstr, this, 'html is null:', html, 'htmlstr:', htmlstr, 'html?', !html, 'htmlstr?', !htmlstr, 'html && htmlstr?', !html && !htmlstr);\r\n    U.pe(!!html.parentElement || !!html.parentNode, 'parentElement shuld be null here:', html, this);\r\n    this.html = html;\r\n    const $meta: JQuery<Element> = $(html).find('meta');\r\n    const getValue = (jq: JQuery<Element>): string => { return jq.length === 0 ? '' : jq[0].innerHTML; };\r\n    const isTrue = (jq: JQuery<Element>): boolean => { return jq.length > 0 && (jq[0].innerHTML  === '1' || jq[0].innerHTML === 'true'); };\r\n    this.userOwner = getValue($meta.find('owner'));\r\n    this.name = getValue($meta.find('name'));\r\n    this.AllowedOnM1 = isTrue($meta.find('isM1'));\r\n    this.AllowedOnM2 = isTrue($meta.find('isM2'));\r\n    this.allowedOnClass = isTrue($meta.find('isClass'));\r\n    this.allowedOnAttribute = isTrue($meta.find('isAttribute'));\r\n    this.allowedOnReference = isTrue($meta.find('isReference'));\r\n    this.allowedOnOperation = isTrue($meta.find('isOperation'));\r\n    this.allowedOnParameter = isTrue($meta.find('isParameter'));\r\n    const $tmp: JQuery<HTMLElement> = $meta.find('preview') as JQuery<HTMLElement>;\r\n    this.imgPreviewBase64 = $tmp.length > 0 ? $tmp[0].innerText : U.toBase64Image(U.toHtml('<div>Select a instance to initializeFromModel' +\r\n      ' the preview.</div>')); }\r\n  public getHtml(): Element { return this.html; }\r\n  public getHtmlstr(): string { return this.html.outerHTML; }\r\n\r\n  clone(json: ViewHtmlSettings) {\r\n    this.allowedOnClass = json.allowedOnClass;\r\n    this.allowedOnAttribute = json.allowedOnAttribute;\r\n    this.allowedOnReference = json.allowedOnReference;\r\n    this.allowedOnOperation = json.allowedOnOperation;\r\n    this.allowedOnParameter = json.allowedOnParameter;\r\n    this.AllowedOnM1 = json.AllowedOnM1;\r\n    this.AllowedOnM2 = json.AllowedOnM2;\r\n    this.elementStylingCount = json.elementStylingCount;\r\n    this.featuredependency = json.featuredependency;\r\n    this.forkCounter = json.forkCounter;\r\n    this.ForkedFromStr_name = json.ForkedFromStr_name;\r\n    this.ForkedFromStr_user = json.ForkedFromStr_user;\r\n    //this.htmlstr = json.htmlstr;\r\n    if (json.htmlstr) this.html = U.toHtml(json.htmlstr);\r\n    U.pe(!(this.html instanceof Element), 'invalid htmlstr:', json.htmlstr, json);\r\n  }\r\n\r\n  setDependencyArray(featuredependency: {template: string, namesArray: string, typesArray: string}[]): void {\r\n    // todo: insert metadata into html, copy from ModelPieceStyleEntry\r\n  }\r\n\r\n  saveToDB() {\r\n\r\n  }\r\n}\r\n\r\nexport class ViewRule {\r\n  static allByID: Dictionary<number, ViewRule> = {};\r\n  static maxID: number = 0;\r\n  public id: number;\r\n  public viewpoint: ViewPoint;\r\n  public target: ModelPiece = null;\r\n  protected targetStr: string = null;\r\n  htmlo: ViewHtmlSettings = null;\r\n  htmli: ViewHtmlSettings = null;\r\n  /// for classes\r\n  public displayAsEdge: boolean = false;\r\n  public vertexSize: GraphSize = null;\r\n  /// for classes or references\r\n  public edgeViews: EdgeViewRule[] = [];\r\n  protected viewpointstr: string;\r\n  isDefault: boolean = false;\r\n\r\n  static getbyID(id: number): ViewRule { return ViewRule.allByID[id]; }\r\n  static getbyHtml(html0: Element): ViewRule {\r\n    let html: HTMLElement = html0 as HTMLElement;\r\n    while (html && html.dataset && !html.dataset.styleid) html = html.parentElement;\r\n    return ViewRule.getbyID(html && html.dataset ? +html.dataset.styleid : null); }\r\n\r\n  constructor(owner: ViewPoint, target: ModelPiece = null) {\r\n    ViewRule[this.id = ViewRule.maxID++] = this;\r\n    if (owner) owner.views.push(this);\r\n    this.viewpoint = owner;\r\n    this.target = target;\r\n    this.setTargetStr();\r\n  }\r\n\r\n  // will be called by JSON.serialize() before starting, replacing the original parameter.\r\n  toJSON(nameOrIndex: string): Json{\r\n    const copy0: any = {};\r\n    this.setViewpointStr();\r\n    this.setTargetStr();\r\n    for (let key in this) { copy0[key] = this[key]; }\r\n    const copy: ViewRule = copy0;\r\n    if (this.target instanceof IClassifier) this.vertexSize = this.target.getVertex().getSize();\r\n    delete copy.id;\r\n    delete copy.target;\r\n    delete copy.viewpoint;\r\n    return copy; }\r\n\r\n  // redundant explicit call toJSON just to make the IDE realize i'm using it.\r\n  toJsonString(): string { return JSON.stringify(this.toJSON(null)); }\r\n\r\n  setViewpointStr(): void { this.viewpointstr = this.viewpoint ? this.viewpoint.name : null; }\r\n  setTargetStr(): void {\r\n    this.targetStr = this.target ? this.target.getKeyStr() : null;\r\n    U.pe(!this.targetStr && !!this.target, 'failed to get targetstr from:', this.target);\r\n  }\r\n\r\n  updateViewpoint(vp: ViewPoint = null): void {\r\n    this.viewpoint = vp || ViewPoint.get(this.viewpointstr);\r\n    const arr = this.edgeViews ? this.edgeViews : [];\r\n    let i: number;\r\n    for (i = 0; i < arr.length; i++) { arr[i].updateViewpoint(vp); } }\r\n\r\n  updateTarget(): void {\r\n    const root: IModel = this.viewpoint.target;\r\n    const path: number[] = JSON.parse(this.targetStr);\r\n    const realindexfollowed: {indexFollowed: string[] | number[], debugArr: {index: string | number, elem: any}[]} = {indexFollowed: [], debugArr:[]};\r\n    this.target = ModelPiece.getByKey(path, realindexfollowed);\r\n    if (realindexfollowed.indexFollowed.length !== path.length) {\r\n      U.pw(true, 'unable to find target of view:', this, ' search output:', realindexfollowed);\r\n      this.target = null; }\r\n  }\r\n\r\n  clone(json: ViewRule): void {\r\n    if(json.setViewpointStr) { json.setViewpointStr(); }\r\n    for(let key in json) {\r\n      switch (key){\r\n        default: U.pe(true, 'unexpected key', key, json); break;\r\n        case 'id': case 'target': case 'isDefault': break;\r\n        case 'targetStr': this.targetStr = json[key]; break;\r\n        case 'htmlo':\r\n          if (!json.htmlo) { this.htmlo = null; break; }\r\n          if (!this.htmlo) { this.htmlo = new ViewHtmlSettings(); }\r\n          this.htmlo.clone(json.htmlo); break;\r\n        case 'htmli':\r\n          if (!json.htmli) { this.htmli = null; break; }\r\n          if (!this.htmli) { this.htmli = new ViewHtmlSettings(); }\r\n          this.htmli.clone(json.htmli); break;\r\n        case 'displayAsEdge': this.displayAsEdge = json.displayAsEdge; break;\r\n        case 'vertexSize': this.vertexSize = json.vertexSize ? new GraphSize().clone(json.vertexSize) : null; break;\r\n        case 'edgeViews':\r\n          this.edgeViews = [];\r\n          const arr = json.edgeViews ? json.edgeViews : [];\r\n          let i: number;\r\n          for (i = 0; i < arr.length; i++) {\r\n            U.ArrayAdd(this.edgeViews, new EdgeViewRule(this.viewpoint).clone(arr[i]));\r\n          }\r\n          break;\r\n        case 'viewpointstr': this.viewpointstr = json.viewpointstr; break; }\r\n    }\r\n    this.updateViewpoint();\r\n    this.updateTarget();\r\n    this.setDefault(json.isDefault);\r\n  }\r\n  duplicate(): ViewRule {\r\n    const duplicate = new ViewRule(null);\r\n    duplicate.clone(this);\r\n    return duplicate; }\r\n\r\n  isEmpty(): boolean { return this.equals(new ViewRule(this.viewpoint)); }\r\n  equals(other: ViewRule): boolean { return this.toString() === other.toString(); }\r\n  // should only be called from ViewPoint\r\n  apply(target: ModelPiece = null): void {\r\n    this.target = target || this.target || ModelPiece.getByKeyStr(this.targetStr);\r\n    console.log(this);\r\n    this.viewpoint.viewsDictionary[this.target.id] = this;\r\n    U.ArrayAdd(this.target.views, this);\r\n  }\r\n  // should only be called from ViewPoint\r\n  detach() {\r\n    // if (!this.target) return; target must never be deleted in Viewww.\r\n    U.arrayRemoveAll(this.target.views, this);\r\n    U.ArrayAdd(this.target.detachedViews, this);\r\n    delete this.viewpoint.viewsDictionary[this.target.id];\r\n    this.setTargetStr();\r\n    // this.target = null; target must never be deleted in ViewRule\r\n  }\r\n\r\n  getViewPoint(): ViewPoint { return this.viewpoint; }\r\n\r\n  delete(): void {\r\n    this.setDefault(false);\r\n    this.detach();\r\n    U.arrayRemoveAll(this.viewpoint.views, this);\r\n    U.arrayRemoveAll(this.target.detachedViews, this);\r\n  }\r\n\r\n  unsetDefault(): ViewRule {\r\n    this.isDefault = false;\r\n    const vp: ViewPoint = this.getViewPoint();\r\n    let defaultvr: ViewRule = vp.getDefault(this.target, false);\r\n    if (defaultvr !== this) return defaultvr;\r\n    const m: ModelPiece = this.target;\r\n    const asEdge: boolean = this instanceof EdgeViewRule;\r\n    return vp.setDefault(false, this); }\r\n\r\n  setDefault(isDefault: boolean = false): ViewRule {\r\n    console.log('setDefault()', isDefault, this.target);\r\n    if (this.isDefault === isDefault) return this;\r\n    if (!isDefault) return this.unsetDefault();\r\n    this.isDefault = true;\r\n    const vp: ViewPoint = this.getViewPoint();\r\n    let defaultvr: ViewRule = vp.getDefault(this.target, false);\r\n    if (defaultvr === this) return this;\r\n    return vp.setDefault(true, this); }\r\n\r\n}\r\n\r\nexport class DefaultStyleMap {\r\n  // model: ViewRule;\r\n  // package: ViewRule;\r\n  class: ViewRule;\r\n  enum: ViewRule;\r\n  literal: ViewRule;\r\n  attribute: ViewRule;\r\n  reference: ViewRule;\r\n  operation: ViewRule;\r\n  parameter: ViewRule;\r\n  edge: EdgeViewRule;\r\n  extEdge: EdgeViewRule;\r\n}\r\nexport class ViewPoint extends ViewRule{\r\n  static allnames: Dictionary<string, ViewPoint> = {};\r\n  target: IModel;\r\n  name: string;\r\n  views: ViewRule[];\r\n  viewsDictionary: Dictionary<number, ViewRule>;\r\n  zoom: Point;\r\n  scroll: GraphPoint;\r\n  gridShow: boolean;\r\n  grid: GraphPoint;\r\n  isApplied: boolean = false;\r\n  defaultStyleMap: DefaultStyleMap;\r\n/*\r\n  static getAppliedViews_TOMOVE(m: ModelPiece): ViewRule[] {\r\n    let i: number;\r\n    const arr: ViewRule[] = [];\r\n    for (let name in ViewPoint.allnames) {\r\n      const vp: ViewPoint = ViewPoint.allnames[name];\r\n      const v: ViewRule = vp.getMpStyle(m);\r\n      if (v) arr.push(v);\r\n    }\r\n    return arr; }*/\r\n\r\n  static get(value: string): ViewPoint {\r\n    return ViewPoint.allnames[value];\r\n  }\r\n  // abstract _isApplied(): boolean;\r\n  constructor(target: IModel, name: string = null) {\r\n    super(null);\r\n    this.scroll = new Point(0, 0);\r\n    this.zoom = new Point(1, 1);\r\n    this.grid = new Point(20, 20);\r\n    this.viewsDictionary = {};\r\n    this.views = [];\r\n    this.defaultStyleMap = new DefaultStyleMap();\r\n    this.setname(name);\r\n    this.updateTarget(target); }\r\n\r\n  updateTarget(m: IModel = null): void { this.apply(m, true); }\r\n\r\n  getMpStyle(m: ModelPiece): ViewRule { return this.viewsDictionary[m.id]; }\r\n\r\n  setDefault(set: boolean, vr: ViewRule = null): ViewRule {\r\n    const asEdge: boolean = vr instanceof EdgeViewRule;\r\n    const m: ModelPiece = vr.target;\r\n    const val: ViewRule = set ? vr : null;\r\n    const end = () => {\r\n      this.target.refreshGUI_Alone();\r\n      this.target.refreshInstancesGUI();\r\n      return vr; }\r\n\r\n    if (asEdge) {\r\n      if (m instanceof IClass) {\r\n        if (m.shouldBeDisplayedAsEdge()) { this.defaultStyleMap.edge = val as EdgeViewRule; }\r\n        else { this.defaultStyleMap.extEdge = val as EdgeViewRule; }\r\n        return end(); }\r\n      if (m instanceof IReference) { this.defaultStyleMap.edge = val as EdgeViewRule; return end(); }\r\n        U.pe(true, 'ViewPoint.getDefaultMpStyle() unexpected edge style: ', m, asEdge);\r\n    }\r\n    if (m instanceof ELiteral) this.defaultStyleMap.literal = val; else\r\n    if (m instanceof EParameter) this.defaultStyleMap.parameter = val; else\r\n    if (m instanceof EOperation) this.defaultStyleMap.operation = val; else\r\n    if (m instanceof IReference) this.defaultStyleMap.reference = val; else\r\n    if (m instanceof IAttribute) this.defaultStyleMap.attribute = val; else\r\n    if (m instanceof IClass) this.defaultStyleMap.class = val; else\r\n    if (m instanceof EEnum) this.defaultStyleMap.enum = val; else\r\n    U.pe(true, 'ViewPoint.getDefaultMpStyle() unexpected MP style: ', m, asEdge, vr);\r\n    return end(); }\r\n\r\n  getDefault(m: ModelPiece, asEdge: boolean = false): ViewRule {\r\n    if (asEdge) {\r\n      if (m instanceof IClass) return m.shouldBeDisplayedAsEdge() ? this.defaultStyleMap.edge : this.defaultStyleMap.extEdge;\r\n      if (m instanceof IReference) return this.defaultStyleMap.edge;\r\n      U.pe(true, 'ViewPoint.getDefaultMpStyle() unexpected edge style: ', m, asEdge); }\r\n    if (m instanceof ELiteral) return this.defaultStyleMap.literal;\r\n    if (m instanceof EParameter) return this.defaultStyleMap.parameter;\r\n    if (m instanceof EOperation) return this.defaultStyleMap.operation;\r\n    if (m instanceof IReference) return this.defaultStyleMap.reference;\r\n    if (m instanceof IAttribute) return this.defaultStyleMap.attribute;\r\n    if (m instanceof IClass) return this.defaultStyleMap.class;\r\n    if (m instanceof EEnum) return this.defaultStyleMap.enum;\r\n    U.pe(true, 'ViewPoint.getDefaultMpStyle() unexpected MP style: ', m, asEdge); }\r\n\r\n  setname(s: string) {\r\n    if (!s) s = 'ViewPoint 1';\r\n    if (s === this.name) return;\r\n    if (ViewPoint.allnames[this.name] === this) { delete ViewPoint.allnames[this.name]; }\r\n    while (s in ViewPoint.allnames) { s = U.increaseEndingNumber(s); }\r\n    ViewPoint.allnames[this.name = s] = this; }\r\n\r\n  toJSON(nameOrIndex: string): Json {\r\n    const copy0: any = {};\r\n    this.setTargetStr();\r\n    for (let key in this) { copy0[key] = this[key]; }\r\n    const copy: ViewPoint = copy0;\r\n    delete copy.viewpoint;\r\n    delete copy.viewpointstr;\r\n    delete copy.viewsDictionary;\r\n    delete copy.target;\r\n    return copy; }\r\n\r\n  // toString(): string { return JSON.stringify(this); }\r\n  // should only be called from ViewPointShell\r\n  apply(m: IModel = null, onlyAttach: boolean = false, debug: boolean = false): void {\r\n    if (m !== this.target) this.detach();\r\n    this.target = m = (m || this.target);\r\n    U.pe(!this.target, 'called ViewPoint.apply() without a target.', this);\r\n    U.pif(debug, 'add() PRE:', this.target.viewpoints.map((vp) => vp.name), this.target.viewpoints);\r\n    U.arrayRemoveAll(this.target.viewpoints, this);\r\n    U.pif(debug, 'add() MID:', this.target.viewpoints.map((vp) => vp.name), this.target.viewpoints, this.target.viewpoints.indexOf(this));\r\n    U.pif(debug, this.target.viewpoints);\r\n    // U.pw(true, 'stopped');\r\n    // todo: il browser chrome è impazzito e mi fa il sort per nome ogni volta che faccio push.\r\n    this.target.viewpoints.push(this); // NON usare U.ArrayAdd(), la rimozione è necessaria per garantire che venga sempre aggiunto in fondo.\r\n    U.pif(debug, this.target.viewpoints);\r\n    U.pif(debug, 'add() POST:', this.target.viewpoints.map((vp) => vp.name), this.target.viewpoints);\r\n    if (onlyAttach) return;\r\n    let i: number;\r\n    for (i  = 0; i < this.views.length; i++) {\r\n      let v: ViewRule = this.views[i];\r\n      v.apply();\r\n    }\r\n    this.isApplied = true;\r\n\r\n    // U.pe(true, 'stopped here still works');\r\n  }\r\n  // should only be called from ViewPointShell\r\n  detach(): void {\r\n    if (!this.isApplied) return;\r\n    // NB: don't remove from model.viewPoints, just de-apply it.\r\n    for(let istr in this.viewsDictionary) {\r\n      let i: number = +istr;\r\n      let v: ViewRule = this.viewsDictionary[i];\r\n      v.detach();\r\n    }\r\n    this.isApplied = false;\r\n  }\r\n  // should only be called from ViewPointShell\r\n  delete() {\r\n    this.detach();\r\n    U.arrayRemoveAll(this.target.viewpoints, this);\r\n    this.target = null;\r\n  }\r\n// anche quando il viewpoint contenente il default style non è attivo, quello parte lo stesso sopra il default nativo\r\n // quando cancello lo stile che è diventato il default, tutti continuano ad avere lo stile default\r\n  clone(json: ViewPoint): void {\r\n    if (json.target && json.setTargetStr) json.setTargetStr();\r\n    let i: number;\r\n    for(let key in json) {\r\n      switch (key){\r\n        default: U.pe(true, 'unexpected key:', key, json); break;\r\n        case 'id': case 'target': case 'viewpoint': case 'isDefault': case 'defaultStyleMap': break;\r\n        case 'htmlo':\r\n          if (!json.htmlo) { this.htmlo = null; continue; }\r\n          if (!this.htmlo) this.htmlo = new ViewHtmlSettings();\r\n          this.htmlo.clone(json.htmlo);\r\n          break;\r\n        case 'htmli':\r\n          if (!json.htmli) { this.htmli = null; continue; }\r\n          if (!this.htmli) this.htmli = new ViewHtmlSettings();\r\n          this.htmli.clone(json.htmli as ViewHtmlSettings);\r\n          break;\r\n        case 'isApplied': this.isApplied = json.isApplied; break;\r\n        case 'name': this.setname(json.name); break;\r\n        case 'targetStr':\r\n          if (!json.targetStr) break;\r\n          this.targetStr = json.targetStr;\r\n          const m: IModel = ModelPiece.getByKeyStr(this.targetStr) as IModel;\r\n          U.pe(!m, 'failed to find VP.target:', this, this.targetStr, Status.status);\r\n          this.updateTarget(m); break;\r\n        case 'edgeViews':\r\n          this.edgeViews = [];\r\n          if (!json.edgeViews) continue;\r\n          for (i = 0; i < json.edgeViews.length; i++) {\r\n            const v: EdgeViewRule = new EdgeViewRule(this);\r\n            v.clone(json.edgeViews[i]);\r\n            U.ArrayAdd(this.edgeViews, v); } break;\r\n        case 'views':\r\n          this.views = [];\r\n          if (!json.views) continue;\r\n          for (i = 0; i < json.views.length; i++) {\r\n            const v: ViewRule = new ViewRule(this);\r\n            v.clone(json.views[i]);\r\n            U.ArrayAdd(this.views, v); } break;\r\n        case 'grid': this.grid = new Point(json.grid.x, json.grid.y); break;\r\n        case 'gridShow': this.gridShow = json.gridShow; break;\r\n        case 'scroll': this.scroll = new GraphPoint(json.scroll.x, json.scroll.y); break;\r\n        case 'zoom': this.zoom = new GraphPoint(json.zoom.x, json.zoom.y);  break;\r\n        case 'vertexSize': this.vertexSize = json.vertexSize ? new GraphSize(json.vertexSize.x, json.vertexSize.y) : null; break;\r\n        case 'displayAsEdge': this.displayAsEdge = json.displayAsEdge; break;\r\n      }\r\n    }\r\n  }\r\n\r\n  duplicate(): ViewRule {\r\n    const duplicate = new ViewPoint(null);\r\n    duplicate.clone(this);\r\n    return duplicate; }\r\n\r\n  isEmpty(): boolean {\r\n    const SingleLinkedTempVp = new ViewPoint(null);\r\n    SingleLinkedTempVp.target = this.target;\r\n    // NB: il target deve essere settato così \"raw\" non tramite costruttore e funzioni perchè non deve inserirlo nei viewpoints[] del target.\r\n    return this.equals(SingleLinkedTempVp, true); }\r\n\r\n  equals(other: ViewPoint, ignoreName: boolean = true): boolean {\r\n    const tmp = this.name;\r\n    if (ignoreName) this.name = other.name;\r\n    const ret: boolean = this.toString() === other.toString();\r\n    this.name = tmp;\r\n    return ret; }\r\n}\r\n\r\nexport class EdgeViewRule extends ViewRule {\r\n  public common: EdgeStyle;\r\n  public highlight: EdgeStyle;\r\n  public selected: EdgeStyle;\r\n  public midPoints: EdgePointView[];\r\n  public edgeIndex: number;\r\n\r\n  clone(obj0: Json): EdgeViewRule {\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class EdgePointView extends ViewRule {\r\n  clone(obj0: Json): void { }\r\n\r\n\r\n}\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IReference,\r\n  Status,\r\n  DetectZoom,\r\n  Model,\r\n  ECoreAttribute,\r\n  ECoreClass,\r\n  ECorePackage,\r\n  ECoreReference,\r\n  ECoreRoot,\r\n  Point,\r\n  GraphPoint,\r\n  IModel,\r\n  Size,\r\n  MAttribute,\r\n  MReference,\r\n  MClass,\r\n  M2Class,\r\n  EdgeStyle,\r\n  M2Reference,\r\n  M2Attribute,\r\n  M3Package,\r\n  M3Reference,\r\n  M3Attribute,\r\n  M3Feature,\r\n  EdgeModes,\r\n  EdgePointStyle, EOperation, EParameter, Typedd, Type, IClassifier, ECoreAnnotation, EAnnotationDetail, Dictionary\r\n} from '../common/Joiner';\r\n\r\nexport class EAnnotation extends ModelPiece {\r\n  childrens: EAnnotationDetail[];\r\n  referencesStr: string;\r\n  references: ModelPiece;\r\n\r\n  constructor(parent: ModelPiece, json: Json){\r\n    super(parent, null);\r\n    if (this.parent) { U.arrayRemoveAll(this.parent.childrens, this); this.parent.annotations.push(this); }\r\n    this.parse(json); }\r\n\r\n  duplicate(nameAppend?: string, newParent?: ModelPiece): ModelPiece {\r\n    return undefined; // todo\r\n  }\r\n\r\n  fullname(): string { return this.parent.fullname() + '//' + this.name; }\r\n\r\n  setReferencesStr(): void {\r\n    // todo?? se è il main package diventa \"#//\"\r\n  }\r\n\r\n  prepareSerialize(): void { this.setReferencesStr(); }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, MClass> = null): Json {\r\n    const json: Json = {};\r\n    this.prepareSerialize();\r\n    let i: number;\r\n    const childarr: Json[] = [];\r\n    for (i = 0; i < this.childrens.length; i++) { childarr.push(this.childrens[i].generateModel(loopDetectionObj)); }\r\n    Json.write(json, ECoreAnnotation.source, this.name);\r\n    Json.write(json, ECoreAnnotation.references, this.referencesStr);\r\n    Json.write(json, ECoreAnnotation.details, childarr);\r\n    return json; }\r\n\r\n\r\n  getVertex(canMakeIt: boolean = true): IVertex { return this.parent.getVertex(canMakeIt); }\r\n\r\n  parse(json: Json, destructive?: boolean): void {\r\n    let key: string;\r\n    this.childrens = [];\r\n    if (!json) { json = {}; }\r\n    for(key in json){\r\n      const value = json[key];\r\n      switch (key) {\r\n      default: U.pe(true, 'unexpected field in EAnnotation:  ' + key + ' => |' + value + '|'); break;\r\n      case ECoreAnnotation.details: break;\r\n      case ECoreAnnotation.references: break;\r\n      case ECoreAnnotation.source: break;\r\n      }\r\n    }\r\n    this.referencesStr = Json.read(json, ECoreAnnotation.source, '#/');\r\n    this.setName(Json.read(json, ECoreAnnotation.name, 'EAnnotation_1'));\r\n\r\n    const details: Json[] = Json.getDetails(json);\r\n    for (let i = 0; i < details.length; i++) { new EAnnotationDetail(this, details[i]); }\r\n  }\r\n\r\n}\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IReference,\r\n  Status,\r\n  DetectZoom,\r\n  Model,\r\n  ECoreAttribute,\r\n  ECoreClass,\r\n  ECorePackage,\r\n  ECoreReference,\r\n  ECoreRoot,\r\n  Point,\r\n  GraphPoint,\r\n  IModel,\r\n  Size,\r\n  MAttribute,\r\n  MReference,\r\n  MClass,\r\n  M2Class,\r\n  EdgeStyle,\r\n  M2Reference,\r\n  M2Attribute,\r\n  M3Package,\r\n  M3Reference,\r\n  M3Attribute,\r\n  M3Feature,\r\n  EdgeModes,\r\n  EdgePointStyle, EOperation, EParameter, Typedd, Type, IClassifier, ECoreAnnotation, EAnnotation, Dictionary\r\n} from '../common/Joiner';\r\nimport {ECoreDetail} from './iModel';\r\n\r\nexport class EAnnotationDetail extends ModelPiece {\r\n  parent: EAnnotation;\r\n  value: string;\r\n\r\n  constructor(parent: ModelPiece, json: Json){\r\n    super(parent, null);\r\n    this.parse(json); }\r\n\r\n  duplicate(nameAppend?: string, newParent?: ModelPiece): ModelPiece {\r\n    return undefined; // todo\r\n  }\r\n\r\n  fullname(): string { return this.parent.fullname() + '.' + this.name; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, MClass> = null): Json {\r\n    const json: Json = {};\r\n    if (this.name !== null) Json.write(json, ECoreDetail.key, this.name);\r\n    if (this.value !== null) Json.write(json, ECoreDetail.value, this.value);\r\n    return json; }\r\n\r\n  getVertex(canMakeIt: boolean = true): IVertex { return this.parent.getVertex(canMakeIt); }\r\n\r\n  parse(json: Json, destructive?: boolean): void {\r\n    let key: string;\r\n    this.childrens = [];\r\n    if (!json) { json = {}; }\r\n    for(key in json){\r\n      const value = json[key];\r\n      switch (key) {\r\n        default: U.pe(true, 'unexpected field in EDetail:  ' + key + ' => |' + value + '|'); break;\r\n        case ECoreDetail.key: break;\r\n        case ECoreDetail.value: break; }\r\n    }\r\n    this.value = Json.read(json, ECoreDetail.value, '');\r\n    this.setName(Json.read(json, ECoreDetail.key, 'DetailKey1'));\r\n  }\r\n\r\n}\r\n","import {\r\n  AttribETypes,\r\n  Dictionary, EOperation, EParameter,\r\n  IAttribute, IClass,\r\n  IModel,\r\n  Json, M3Attribute,\r\n  M3Class,\r\n  M3Package,\r\n  M3Reference,\r\n  MetaModel,\r\n  ModelPiece, PropertyBarr,\r\n  ShortAttribETypes,\r\n  Status,\r\n  U\r\n} from '../common/Joiner';\r\n\r\nexport class MetaMetaModel extends IModel {\r\n  static emptyMetaMetaModel: string = '' + 'empty Meta-MetaModel: todo'; // todo\r\n  childrens: M3Package[];\r\n  metaParent: MetaMetaModel;\r\n  instances: MetaModel[];\r\n\r\n  constructor(json?: Json) { super(null); this.parse(json, true); }\r\n\r\n  conformability(metaparent: MetaMetaModel, outObj: any = null, debug: boolean = false): number { return 1; }\r\n\r\n  getAllClasses(): M3Class[] { return super.getAllClasses() as M3Class[]; }\r\n  getAllReferences(): M3Reference[] { return super.getAllReferences() as M3Reference[]; }\r\n\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json { return undefined; }\r\n\r\n  getPrefix(): string { return 'mmm'; }\r\n  getPrefixNum(): string { return 'm3'; }\r\n  isM1(): boolean { return false; }\r\n  isM2(): boolean { return false; }\r\n  isM3(): boolean { return true; }\r\n\r\n  parse(json: Json, destructive?: boolean): void {\r\n    this.name = 'Meta-Metamodel';\r\n    const useless = new M3Package(this, null); }\r\n\r\n  getDefaultPackage(): M3Package {\r\n    if (this.childrens.length !== 0) { return this.childrens[0]; }\r\n    U.ArrayAdd(this.childrens, new M3Package(this, null));\r\n    return this.childrens[0]; }\r\n\r\n  getPackage(): M3Package { return this.getDefaultPackage(); }\r\n\r\n  getClass(fullname: string = null, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): M3Class {\r\n    return this.getDefaultPackage().classes[0]; }\r\n\r\n  getAttribute(): M3Attribute { return this.getClass().attributes[0]; }\r\n  getReference(): M3Reference { return this.getClass().references[0]; }\r\n  getOperation(): EOperation { return this.getClass().getBasicOperations()[0]; }\r\n  getParameter(): EParameter { return this.getOperation().childrens[0]; }\r\n  duplicate(nameAppend: string = '_Copy'): MetaMetaModel { U.pe(true, 'invalid operation: m3.duplicate();'); return this; }\r\n  refreshGUI(debug: boolean = false): void{ }\r\n  refreshGUI_Alone(debug: boolean = true): void{ }\r\n}\r\n","import {\r\n  Json,\r\n  U,\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  MetaMetaModel,\r\n  IModel,\r\n  ModelNone,\r\n  MPackage,\r\n  Model,\r\n  M2Package,\r\n  IReference,\r\n  MReference,\r\n  M2Reference,\r\n  M3Package,\r\n  ECoreRoot,\r\n  M3Class,\r\n  M3Reference,\r\n  Status,\r\n  ViewPoint,\r\n  Type, Dictionary, IClass\r\n} from '../common/Joiner';\r\nimport {EAnnotation} from './EAnnotation';\r\n\r\n\r\nexport class MetaModel extends IModel {\r\n  static emptyModel: string = '{}';\r\n  static emptyModelOld: string =\r\n  '{ \"ecore:EPackage\": {\\n' +\r\n  '    \"@xmlns:xmi\": \"http://www.omg.org/XMI\",\\n' +\r\n  '    \"@xmlns:xsi\": \"http://www.w3.org/2001/XMLSchema-instance\",\\n' +\r\n  '    \"@xmlns:ecore\": \"http://www.eclipse.org/emf/2002/Ecore\",\\n' +\r\n  '    \"@xmi:version\": \"2.0\",\\n' +\r\n  '    \"eClassifiers\": []' +\r\n  '  }' +\r\n  '}';\r\n\r\n  metaParent: MetaMetaModel;\r\n  instances: Model[];\r\n  childrens: M2Package[];\r\n\r\n  constructor(json: Json, metaParent: MetaMetaModel) { super(metaParent); this.parse(json, true); }\r\n\r\n  getAllClasses(): M2Class[] { return super.getAllClasses() as M2Class[]; }\r\n  getAllReferences(): M2Reference[] { return super.getAllReferences() as M2Reference[]; }\r\n  getClass(fullname: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): M2Class {\r\n    return super.getClass(fullname, caseSensitive,  throwErr, debug) as M2Class; }\r\n\r\n  getClassFromEcoreStr(targetstr: string): M2Class {\r\n    U.pe(!targetstr || targetstr.indexOf(Type.classTypePrefix) !== 0, 'getClassFromString(): not a ecore class name:', targetstr);\r\n    const classes: M2Class[] = this.getAllClasses();\r\n    let i: number;\r\n    for (i = 0; i < classes.length; i++) { if(classes[i].getEcoreTypeName() === targetstr) return classes[i]; }\r\n    return null; }\r\n\r\n  getEcoreStr_Class_Dictionary(): Dictionary<string, M2Class> {\r\n    const classes: M2Class[] = this.getAllClasses();\r\n    let i: number;\r\n    const dic: Dictionary<string, M2Class> = {};\r\n    for (i = 0; i < classes.length; i++) { dic[classes[i].getEcoreTypeName()] = classes[i]; }\r\n    return dic; }\r\n\r\n  getClassByNameSpace(fullnamespace: string, caseSensitive: boolean = false, canThrow: boolean = false): M2Class {\r\n    const classes: M2Class[] = this.getAllClasses();\r\n    let i: number;\r\n    if (caseSensitive) { fullnamespace = fullnamespace.toLowerCase(); }\r\n    let justNameMatchFallback: M2Class = null;\r\n    let namestr: string = fullnamespace.substr(fullnamespace.lastIndexOf(':') + 1);\r\n    if (!caseSensitive) { namestr = namestr.toLowerCase(); }\r\n    for (i = 0; i < classes.length; i++) {\r\n      const mmclass: M2Class = classes[i];\r\n      if ( (caseSensitive ? mmclass.name : mmclass.name.toLowerCase()) === namestr) { justNameMatchFallback = mmclass; }\r\n      let mmclassNS = mmclass.getNamespaced();\r\n      if (!mmclassNS) { continue; }\r\n      if (caseSensitive) { mmclassNS = mmclassNS.toLowerCase(); }\r\n      if (mmclassNS === fullnamespace) { return mmclass; } }\r\n    U.pe(!justNameMatchFallback, 'class |' + fullnamespace + '| not found. classArr:', classes);\r\n    return justNameMatchFallback; }\r\n/*\r\n  fixReferences(): void {\r\n    const arr: M2Reference[] = this.getAllReferences();\r\n    let i = -1;\r\n    while (++i < arr.length) {\r\n      arr[i].linkClass();\r\n      U.pe(!arr[i].classType, arr[i], Status.status.loadedLogic);\r\n    } }*/\r\n\r\n\r\n  parse(json: Json, destructive: boolean = true): void {\r\n    if (destructive) { this.childrens = []; }\r\n    const childrens = Json.getChildrens(json);\r\n    const annotations = Json.getAnnotations(json);\r\n    let i;\r\n    for (i = 0; i < annotations.length; i++) {\r\n      const child = annotations[i];\r\n      // metaParent = U.findMetaParentP(this, child);\r\n      if (destructive) { new EAnnotation(this, child); continue; }\r\n      U.pe(true, 'Non-destructive m2-model parse: to do');\r\n    }\r\n    for (i = 0; i < childrens.length; i++) {\r\n      const child = childrens[i];\r\n      const metaParent: M3Package = null;\r\n      // metaParent = U.findMetaParentP(this, child);\r\n      if (destructive) { new M2Package(this, child); continue; }\r\n      U.pe(true, 'Non-destructive m2-model parse: to do');\r\n    }\r\n  }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    const packageArr = [];\r\n    let i;\r\n    for (i = 0; i < this.childrens.length; i++) {\r\n      const pkg = this.childrens[i];\r\n      packageArr.push(pkg.generateModel(loopDetectionObj));\r\n    }\r\n    const model = new Json(null);\r\n    model[ECoreRoot.ecoreEPackage] = packageArr;\r\n    return model; }\r\n\r\n  getDefaultPackage(): M2Package {\r\n    if (this.childrens.length !== 0) { return this.childrens[0]; }\r\n    U.ArrayAdd(this.childrens, new M2Package(this, null) );\r\n    return this.childrens[0]; }\r\n\r\n  conformability(metaparent: MetaMetaModel, outObj?: any, debug?: boolean): number { return 1; }\r\n\r\n  getPrefix(): string { return 'mm'; }\r\n  getPrefixNum(): string { return 'm2'; }\r\n  isM1(): boolean { return false; }\r\n  isM2(): boolean { return true; }\r\n  isM3(): boolean { return false; }\r\n\r\n  duplicate(nameAppend: string = '_Copy'): MetaModel {\r\n    const m = new MetaModel(null, null);\r\n    m.copy(this);\r\n    m.refreshGUI();\r\n    return m; }\r\n\r\n  calculateViolations(){\r\n    let classes: M2Class[] = this.getAllClasses();\r\n    for (let i = 0; i < classes.length; i++) {\r\n      classes[i].calculateInheritanceViolations(true);\r\n    }\r\n  }\r\n}\r\n","import {\r\n  IModel,\r\n  Json,\r\n  IPackage,\r\n  M2Class,\r\n  IFeature,\r\n  IAttribute,\r\n  IReference,\r\n  MetaModel,\r\n  U,\r\n  IVertex,\r\n  IEdge,\r\n  EdgeStyle, MPackage,\r\n  ModelPiece, Status, MClass, ECoreClass, ModelNone, M3Class, M3Reference, M2Package, MReference, IClass, Dictionary\r\n} from '../common/Joiner';\r\n\r\nexport class Model extends IModel {\r\n  public static emptyModel = '{}';\r\n  metaParent: MetaModel;\r\n  // instances: ModelNone[];\r\n  childrens: MPackage[];\r\n  classRoot: MClass = null;\r\n\r\n  constructor(json: Json, metaModel: MetaModel) {\r\n    super(metaModel);\r\n    this.parse(json, true); }\r\n\r\n  // fixReferences(): void {/*useless here? or useful in loops?*/}\r\n\r\n  getClassRoot(): MClass {\r\n    if (this.classRoot) { return this.classRoot; }\r\n    const classes = this.getAllClasses();\r\n    if (classes.length) U.pw(true, 'Failed to get m1 class root.<br>You need to select a root class in M1\\'s structured editor', this);\r\n\r\n    if (classes.length && classes[0]) {\r\n      classes[0].setRoot(true);\r\n      U.ps(true, 'Class root automatically selected.'); }\r\n    return null; }\r\n\r\n  parse(json: Json, destructive: boolean, metamodel: MetaModel = null): void {\r\n    if (!metamodel) {metamodel = Status.status.mm; }\r\n    U.pe(!metamodel, 'parsing a model requires a metamodel linked');\r\n    if (json === '{}') json = {};\r\n    U.pw(json === '' + json, 'ModelPiece.parse() parameter must be a parsed ECORE/json. autofixed.', json);\r\n    if (json === '' + json) json = JSON.parse(json + '');\r\n    if (destructive) { this.childrens = []; }\r\n    let key: string;\r\n    for (key in json) {\r\n      if (!json.hasOwnProperty(key)) { continue; }\r\n      const namespacedclass: string = key;\r\n      const mmclass: M2Class = this.metaParent.getClassByNameSpace(namespacedclass, false, true);\r\n      const value: Json = json[key];\r\n      new MClass(this.getDefaultPackage(), value, mmclass);\r\n    }\r\n\r\n    /*\r\n    {\r\n      \"org.eclipse.example.bowling:League\": { <-- :classroot\r\n        \"-xmlns:xmi\": \"http://www.omg.org/XMI\",\r\n        \"-xmlns:org.eclipse.example.bowling\": \"https://org/eclipse/example/bowling\",\r\n        \"-xmi:version\": \"2.0\",\r\n        \"Players\": [\r\n          { \"-name\": \"tizio\" },\r\n          { \"-name\": \"asd\" }\r\n        ]\r\n      }\r\n    }\r\n    */\r\n  }\r\n  // parse(deep: boolean) { super.parse(deep); }\r\n\r\n  getAllClasses(): MClass[] { return super.getAllClasses() as MClass[]; }\r\n  getAllReferences(): MReference[] { return super.getAllReferences() as MReference[]; }\r\n  getClass(fullname: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): MClass {\r\n    return super.getClass(fullname, caseSensitive, throwErr, debug) as MClass; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    const json: Json =  {};\r\n    const classRoot: MClass = this.getClassRoot();\r\n    if (!classRoot) return Model.emptyModel;\r\n\r\n    // U.pe(!U.isObject(loopDetectionObj), \"loopdetection not object param:\", loopDetectionObj, loopDetectionObj || {});\r\n    json[classRoot.metaParent.getNamespaced()] = classRoot.generateModel(loopDetectionObj, true);\r\n    return json; }\r\n\r\n  // namespace(set: string = null): string { return this.metaParent.namespace(set); }\r\n\r\n  getDefaultPackage(): MPackage {\r\n    if (this.childrens.length !== 0) { return this.childrens[0]; }\r\n    new MPackage(this, null, this.metaParent.getDefaultPackage());\r\n    return this.childrens[0]; }\r\n\r\n\r\n  conformability(metaparent: MetaModel, outObj?: any, debug?: boolean): number {\r\n    U.pw(true, 'm1.conformability(): to do.');\r\n    return 1; }\r\n\r\n\r\n  getPrefix(): string { return 'm'; }\r\n  getPrefixNum(): string { return 'm1'; }\r\n  isM1(): boolean { return true; }\r\n  isM2(): boolean { return false; }\r\n  isM3(): boolean { return false; }\r\n\r\n  duplicate(nameAppend: string = '_Copy'): Model {\r\n    const m = new Model(null, null);\r\n    m.copy(this);\r\n    m.refreshGUI();\r\n    return m; }\r\n}\r\n","import {\r\n  Status,\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  MetaMetaModel,\r\n  LocalStorage,\r\n  IGraph,\r\n  IReference,\r\n  MetaModel,\r\n  MClass,\r\n  TopBar,\r\n  ModelNone,\r\n  IClass,\r\n  Model,\r\n  M3Package,\r\n  M3Class,\r\n  ViewPoint,\r\n  EEnum,\r\n  IClassifier,\r\n  GraphSize,\r\n  Dictionary,\r\n  SaveListEntry, //, Options\r\n}             from '../common/Joiner';\r\nimport {Meta} from '@angular/platform-browser';\r\n\r\nexport abstract class IModel extends ModelPiece {\r\n  parent: ModelNone;\r\n  childrens: IPackage[];\r\n  metaParent: IModel;\r\n  instances: IModel[];\r\n\r\n  graph: IGraph = null;\r\n  sidebar: ISidebar = null;\r\n  storage: LocalStorage = null;\r\n  namespaceVar: string = null;\r\n  uriVar: string = null;\r\n  viewpoints: ViewPoint[] = [];\r\n  // viewpoint: ViewPoint;\r\n  /*\r\n  constructor(json: Json, metaParent: MetaModel, skipParse: boolean = false) {\r\n    super(null, metaParent);\r\n    // todo: mi sa che chiama parse a ripetizione: Modelpiece.parse, IFeature.parse, IAttribute.parse, M2Attribute.parse...\r\n    if (!skipParse) { this.parse(json, true); }\r\n  }*/\r\n  static isValidURI(str: string): boolean { return str.indexOf(' ') !== -1 && true; }\r\n  static removeInvalidNameChars(name: string): string { return U.multiReplaceAll(name, [' '], ['']); }\r\n  // abstract conformsTo(meta: IModel): boolean;\r\n  abstract generateModel(loopDetectionObj?: Dictionary<number /*MClass id*/, MClass>): Json;\r\n  abstract conformability(metaparent: IModel, outObj?: any/*.refPermutation, .attrPermutation*/, debug?: boolean): number;\r\n\r\n  constructor(metaVersion?: IModel) {\r\n    super(null, metaVersion);\r\n    this.storage = new LocalStorage(this); }\r\n\r\n  uri(str: string = null): string {\r\n    if (str) { if (IModel.isValidURI(str)) { return this.uriVar = str; } else { return null; } }\r\n    if (this.uriVar) { return this.uriVar; }\r\n    return this.uriVar = 'http://default/uri/to/change'; }\r\n\r\n  namespace(value: string = null): string {\r\n    let pos: number;\r\n    if (value) {\r\n      this.namespaceVar = value;\r\n      pos = this.namespaceVar.lastIndexOf(':');\r\n      this.namespaceVar = pos === -1 ? this.namespaceVar : this.namespaceVar.substring(0, pos);\r\n    }\r\n    const ns: string = this.namespaceVar;\r\n    if (!ns) { return this.namespace('default.namespace.to.change'); }\r\n    pos = ns.lastIndexOf(':');\r\n    return pos === -1 ? ns : ns.substring(0, pos); }\r\n\r\n  getAllClasses(): IClass[] {\r\n    const arr: IClass[] = [];\r\n    const packages: IPackage[] = this.childrens;\r\n    let i;\r\n    for (i = 0; i < packages.length; i++) { packages[i].classes.forEach( (elem: IClass) => {arr.push(elem); } ); }\r\n    return arr; }\r\n\r\n  getAllEnums(): EEnum[] {\r\n    const arr: EEnum[] = [];\r\n    const packages: IPackage[] = this.childrens;\r\n    let i;\r\n    for (i = 0; i < packages.length; i++) { packages[i].enums.forEach( (elem: EEnum) => {arr.push(elem); } ); }\r\n    return arr; }\r\n\r\n  fullname(): string { return this.name; }\r\n\r\n  getVertex(canMakeIt: boolean = null): IVertex { return null; }\r\n\r\n  getAllReferences(): IReference[] {\r\n    const arr: IReference[] = [];\r\n    const classes: IClass[] = this.getAllClasses();\r\n    let i;\r\n    for (i = 0; i < classes.length; i++) {\r\n      classes[i].references.forEach( (elem: IReference) => {arr.push(elem); } );\r\n    }\r\n    return arr; }\r\n\r\n  getPackage(fullname: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): IPackage {\r\n    if (fullname.indexOf('.') !== -1) { U.pe(throwErr, 'not a package name:', fullname); return null; }\r\n    let i;\r\n    for ( i = 0; i < this.childrens.length; i++) { if (this.childrens[i].name === fullname) { return this.childrens[i]; } }\r\n    U.pe(throwErr, 'Package does not exist:', fullname);\r\n    return null; }\r\n\r\n  getClass(fullname: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): IClass {\r\n    let tks: string[] = fullname.split('.');\r\n    if (tks.length !== 2) {\r\n      tks[1] = tks[0];\r\n      tks[0] = null;\r\n      // U.pe(throwErr, 'not a full class name:', fullname); return null;\r\n    }\r\n    const name: string = tks[1];\r\n    const pkg: IPackage = tks[0] ? this.getPackage(tks[0], caseSensitive, throwErr, debug) : this.getDefaultPackage();\r\n    return pkg.getClass(name, caseSensitive, throwErr, debug);\r\n  }\r\n\r\n\r\n  // fieldChanged(e: JQuery.ChangeEvent) { U.pe(true, 'should never happen', e); }\r\n\r\n  abstract duplicate(nameAppend?: string): IModel;\r\n\r\n  getEmptyModel(): string {\r\n    if (this instanceof MetaMetaModel) return MetaMetaModel.emptyMetaMetaModel;\r\n    if (this instanceof MetaModel) return MetaModel.emptyModel;\r\n    if (this instanceof Model) return Model.emptyModel;\r\n    return null; }\r\n\r\n  delete(): void {\r\n    this.storage.remove(this.name, SaveListEntry.model);\r\n    // set empty (meta)model as most recent anonymous savefile and next to be opened.\r\n    LocalStorage.deleteLastOpened(this instanceof MetaModel ? 2 : 1);\r\n    /*this.storage.add(null, null, SaveListEntry.model);\r\n    this.storage.add(null, null, SaveListEntry.view);\r\n    this.storage.add(null, null, SaveListEntry.vertexPos);*/\r\n    U.refreshPage(); }\r\n\r\n  refreshGUI_Alone(debug: boolean = true): void {\r\n    let i: number;\r\n    for (i = 0; i < this.childrens.length; i++ ) { this.childrens[i].refreshGUI_Alone(debug); } }\r\n\r\n  isNameTaken(name: string): boolean { return !!this.storage.get(name, SaveListEntry.model); }\r\n\r\n  setName(value: string, refreshGUI: boolean = false): string {\r\n    const oldname: string = this.name;\r\n    if (this.isNameTaken(value)) { U.pw(true, 'tried to saveToDB a model with a name already in use'); return oldname; }\r\n    super.setName(value);\r\n    this.storage.rename(oldname, this.name, SaveListEntry.model);\r\n    if (this.graph.propertyBar.selectedModelPiece === this) this.graph.propertyBar.refreshGUI();\r\n    return this.name; }\r\n\r\n  save(isAutosave: boolean, saveAs: boolean = false): void {\r\n    this.storage.saveModel(isAutosave, saveAs); }\r\n\r\n  abstract getDefaultPackage(): IPackage;\r\n  abstract isM3(): boolean;\r\n  abstract isM2(): boolean;\r\n  abstract isM1(): boolean;\r\n\r\n  isMMM(): boolean { return this.isM3(); }\r\n  isMM(): boolean { return this.isM2(); }\r\n  isM(): boolean { return this.isM1(); }\r\n\r\n  abstract getPrefix(): string;\r\n  abstract getPrefixNum(): string;\r\n\r\n  addClass(parent: IPackage = null, meta: IClass = null): IClass {\r\n    if (!parent) { parent = this.getDefaultPackage(); }\r\n    return parent.addEmptyClass(meta); }\r\n\r\n  friendlyClassName(toLower: boolean = true): string {\r\n    if (this instanceof MetaMetaModel) { return 'Meta-metamodel'.toLowerCase(); }\r\n    if (this instanceof MetaModel) { return 'Metamodel'.toLowerCase(); }\r\n    if (this instanceof Model) { return 'Model'.toLowerCase(); }\r\n    U.pe(true, 'unexpected'); return 'error'; }\r\n\r\n    getLastView(): ViewPoint {\r\n      let i: number;\r\n      for (i = this.viewpoints.length; --i >= 0; ) {\r\n        const vp: ViewPoint = this.viewpoints[i];\r\n        if (vp.isApplied) return vp; }\r\n      return null;\r\n    }\r\n\r\n  public static getByName(name: string): IModel {\r\n    if (Status.status.mmm.fullname() === name) return Status.status.mmm;\r\n    if (Status.status.mm.fullname() === name) return Status.status.mm;\r\n    if (Status.status.m.fullname() === name) return Status.status.m;\r\n    return null; }\r\n\r\n  readVertexPositionSaveArr(dic: Dictionary<string, GraphSize>): void {\r\n    for (let key in dic) {\r\n      const value: GraphSize = new GraphSize().clone(dic[key]);\r\n      const mp = ModelPiece.getByKeyStr(key);\r\n      if (!mp) { U.pw(true, 'invalid vertex save, failed to get targetmodelpiece: ', key, dic, this); continue; }\r\n      mp.getVertex().setSize(value);\r\n    }\r\n  }\r\n  generateVertexPositionSaveArr(): Dictionary<string, GraphSize> {\r\n    let i: number;\r\n    let j: number;\r\n    let ret: Dictionary<string, GraphSize> = {};\r\n    let arr: IClassifier[][] = [this.getAllEnums(), this.getAllClasses()];\r\n    for (j = 0; j < arr.length; j++)\r\n      for (i = 0; i < arr[j].length; i++) { ret[arr[j][i].getKeyStr()] = arr[j][i].getVertex().getSize(); }\r\n    return ret; }\r\n\r\n  generateViewPointSaveArr(): Json[] {\r\n    /*let i: number;\r\n    let tmp: any = [];\r\n    for (i = 0; i < this.viewpoints.length; i++) { tmp.push(this.viewpoints[i].toJSON()); }\r\n    return tmp;*/\r\n    return this.viewpoints; }\r\n}\r\n\r\n\r\nexport class ECoreRoot {\r\n  static ecoreEPackage: string;\r\n  public static initializeAllECoreEnums(): void {\r\n    ECoreRoot.ecoreEPackage = 'ecore:EPackage';\r\n\r\n    ECorePackage.eAnnotations = ECoreClass.eAnnotations = ECoreEnum.eAnnotations = EcoreLiteral.eAnnotations =\r\n      ECoreReference.eAnnotations = ECoreAttribute.eAnnotations = ECoreOperation.eAnnotations = ECoreParameter.eAnnotations = 'eAnnotations';\r\n\r\n    ECoreAnnotation.source = Status.status.XMLinlineMarker + 'source';\r\n    ECoreAnnotation.references = Status.status.XMLinlineMarker + 'references'; // \"#/\" for target = package.\r\n    ECoreAnnotation.details = 'details'; // arr\r\n    ECoreDetail.key = Status.status.XMLinlineMarker + 'key'; // can have spaces\r\n    ECoreDetail.value = Status.status.XMLinlineMarker + 'value';\r\n\r\n    ECorePackage.eClassifiers = 'eClassifiers';\r\n    ECorePackage.xmlnsxmi = Status.status.XMLinlineMarker + 'xmlns:xmi'; // typical value: http://www.omg.org/XMI\r\n    ECorePackage.xmlnsxsi = Status.status.XMLinlineMarker + 'xmlns:xsi'; // typical value: http://www.w3.org/2001/XMLSchema-instance\r\n    ECorePackage.xmiversion = Status.status.XMLinlineMarker + 'xmi:version'; // typical value: \"2.0\"\r\n    ECorePackage.xmlnsecore = Status.status.XMLinlineMarker + 'xmlns:ecore';\r\n    ECorePackage.nsURI = Status.status.XMLinlineMarker + 'nsURI'; // typical value: \"http://org/eclipse/example/bowling\"\r\n    ECorePackage.nsPrefix = Status.status.XMLinlineMarker + 'nsPrefix'; // typical value: org.eclipse.example.bowling\r\n    ECorePackage.namee = Status.status.XMLinlineMarker + 'name';\r\n\r\n    ECoreClass.eStructuralFeatures = 'eStructuralFeatures';\r\n    ECoreClass.eOperations = 'eOperations';\r\n    ECoreClass.xsitype = Status.status.XMLinlineMarker + 'xsi:type'; // \"ecore:EClass\"\r\n    ECoreClass.namee = ECorePackage.namee;\r\n    ECoreClass.eSuperTypes = Status.status.XMLinlineMarker + 'eSuperTypes'; // space separated: \"#name1 #name2\"...\r\n    ECoreClass.instanceTypeName = Status.status.XMLinlineMarker + 'instanceTypeName';  // raw str\r\n    ECoreClass.instanceTypeName = Status.status.XMLinlineMarker + 'instanceTypeName';\r\n    ECoreClass.abstract = Status.status.XMLinlineMarker + 'abstract'; // bool\r\n    ECoreClass.interface = Status.status.XMLinlineMarker + 'interface'; // bool\r\n\r\n    ECoreEnum.instanceTypeName = ECoreClass.instanceTypeName;\r\n    ECoreEnum.serializable = 'serializable'; // \"false\", \"true\"\r\n    ECoreEnum.xsitype = ECoreClass.xsitype; // \"ecore:EEnum\"\r\n    ECoreEnum.eLiterals = 'eLiterals';\r\n    ECoreEnum.namee = ECorePackage.namee;\r\n\r\n    EcoreLiteral.literal = 'literal';\r\n    EcoreLiteral.namee = ECorePackage.namee;\r\n    EcoreLiteral.value = 'value'; // any integer (-inf, +inf), not null. limiti = a type int 32 bit?\r\n\r\n    ECoreReference.xsitype = Status.status.XMLinlineMarker + 'xsi:type'; // \"ecore:EReference\"\r\n    ECoreReference.eType = Status.status.XMLinlineMarker + 'eType'; // \"#//Player\"\r\n    ECoreReference.containment = Status.status.XMLinlineMarker + 'containment'; // \"true\"\r\n    ECoreReference.upperbound = Status.status.XMLinlineMarker + 'upperBound'; // \"@1\"\r\n    ECoreReference.lowerbound = Status.status.XMLinlineMarker + 'lowerBound'; // does even exists?\r\n    ECoreReference.namee = Status.status.XMLinlineMarker + 'name';\r\n\r\n    ECoreAttribute.xsitype = Status.status.XMLinlineMarker + 'xsi:type'; // \"ecore:EAttribute\",\r\n    ECoreAttribute.eType = Status.status.XMLinlineMarker + 'eType'; // \"ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString\"\r\n    ECoreAttribute.namee = Status.status.XMLinlineMarker + 'name';\r\n\r\n\r\n    ECoreOperation.eParameters = 'eParameters';\r\n    ECoreOperation.namee = Status.status.XMLinlineMarker + 'name'; // \"EExceptionNameCustom\",\r\n    ECoreOperation.ordered = Status.status.XMLinlineMarker + 'ordered'; // \"false\",\r\n    ECoreOperation.unique = Status.status.XMLinlineMarker + 'unique'; // \"false\",\r\n    ECoreOperation.lowerBound = Status.status.XMLinlineMarker + 'lowerBound'; // \"5\", ma che senso ha su una funzione?? è il return?\r\n    ECoreOperation.upperBound = Status.status.XMLinlineMarker + 'upperBound';\r\n    ECoreOperation.eType = Status.status.XMLinlineMarker + 'eType'; // \"#//Classname\",\r\n    ECoreOperation.eexceptions = Status.status.XMLinlineMarker + 'eExceptions';\r\n    // \"#//ClassnameException1 #//ClassNameException2 (also custom classes) ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt\r\n\r\n    ECoreParameter.namee = Status.status.XMLinlineMarker + 'name';\r\n    ECoreParameter.ordered = Status.status.XMLinlineMarker + 'ordered'; // \"false\";\r\n    ECoreParameter.unique = Status.status.XMLinlineMarker + 'unique'; // \"false\"\r\n    ECoreParameter.lowerBound = Status.status.XMLinlineMarker + 'lowerBound'; // \"1\"\r\n    ECoreParameter.upperBound = Status.status.XMLinlineMarker + 'upperBound'; // \"2\"\r\n    ECoreParameter.eType = Status.status.XMLinlineMarker + 'eType'; // \"ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDoubl\r\n\r\n    XMIModel.type = Status.status.XMLinlineMarker + 'type';\r\n    XMIModel.namee = Status.status.XMLinlineMarker + 'name'; }\r\n}\r\n\r\nexport class ECoreAnnotation {\r\n  static source: string;\r\n  static references: string;\r\n  static details: string;}\r\n\r\nexport class ECoreDetail {\r\n  static key: string;\r\n  static value: string; }\r\n\r\nexport class ECorePackage {\r\n  static eAnnotations: string;\r\n  static eClassifiers: string;\r\n  static xmlnsxmi: string;\r\n  static xmlnsxsi: string;\r\n  static xmiversion: string;\r\n  static xmlnsecore: string;\r\n  static nsURI: string;\r\n  static nsPrefix: string;\r\n  static namee: string;\r\n}\r\n\r\nexport class ECoreClass {\r\n  static eAnnotations: string;\r\n  static eStructuralFeatures: string;\r\n  static xsitype: string;\r\n  static namee: string;\r\n  static eOperations: string;\r\n  static instanceTypeName: string;\r\n  static eSuperTypes: string;\r\n  static abstract: string;\r\n  static interface: string;\r\n\r\n  // static defaultValue = Status.status.XMLinlineMarker + 'defaultValue';  // visualizzato in ecore ma mai salvato dentro il file. inutilizzato\r\n  // nelle classi, assume il valore di \"[name] = [NumericValue]\" senza le [] negli enum.\r\n}\r\n\r\nexport class ECoreEnum {\r\n  static eAnnotations: string;\r\n  static xsitype: string;\r\n  static namee: string;\r\n  static instanceTypeName: string;\r\n  static serializable: string;\r\n  static eLiterals: string;\r\n}\r\n\r\nexport class EcoreLiteral {\r\n  static eAnnotations: string;\r\n  static namee: string;\r\n  static value: string;\r\n  static literal: string;\r\n}\r\n\r\n\r\nexport class ECoreReference {\r\n  static eAnnotations: string;\r\n  static xsitype: string;\r\n  static eType: string;\r\n  static containment: string;\r\n  static upperbound: string;\r\n  static lowerbound: string;\r\n  static namee: string; }\r\n\r\nexport class ECoreAttribute {\r\n  static eAnnotations: string;\r\n  static xsitype: string;\r\n  static eType: string;\r\n  static namee: string;\r\n}\r\n\r\nexport class ECoreOperation {\r\n  static eAnnotations: string;\r\n  static eType: string;\r\n  static eexceptions: string;\r\n  static upperBound: string;\r\n  static lowerBound: string;\r\n  static unique: string;\r\n  static ordered: string;\r\n  static namee: string;\r\n  static eParameters: string; }\r\n\r\nexport class ECoreParameter {\r\n  static eAnnotations: string;\r\n  static namee: string;\r\n  static ordered: string;\r\n  static unique: string;\r\n  static lowerBound: string;\r\n  static upperBound: string;\r\n  static eType: string;\r\n  }\r\n\r\nexport class XMIModel {\r\n  static type: string;\r\n  static namee: string; }\r\n","import {\r\n  Json,\r\n  U,\r\n  IField,\r\n  IEdge,\r\n  IVertex,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  MetaModel,\r\n  ISidebar,\r\n  IGraph,\r\n  IModel,\r\n  ECorePackage,\r\n  ECoreClass,\r\n  GraphPoint,\r\n  Status,\r\n  IReference,\r\n  IClass,\r\n  MPackage,\r\n  IPackage,\r\n  M3Package,\r\n  M3Reference,\r\n  M3Class,\r\n  ViewPoint, EEnum, Type, Dictionary\r\n} from '../../common/Joiner';\r\n\r\nexport class M2Package extends IPackage {\r\n  metaParent: M3Package;\r\n  instances: MPackage[];\r\n  parent: MetaModel;\r\n  childrens: (M2Class | EEnum)[];\r\n\r\n  constructor(mm: MetaModel, json: Json) {\r\n    super(mm, json, Status.status.mmm.getPackage());\r\n    this.parse(json, true); }\r\n\r\n  getClass(name: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): M2Class {\r\n    return super.getClass(name, caseSensitive, throwErr, debug) as M2Class; }\r\n\r\n  addEmptyClass(): M2Class {\r\n    const c = new M2Class(this, null);\r\n    if (Status.status.loadedLogic) { c.generateVertex(); }\r\n    console.log('addEmptyClass(); package:', this, 'classe:', c);\r\n    Type.updateTypeSelectors(null, false, false, true);\r\n    return c; }\r\n\r\n  parse(json: Json, destructive: boolean = true): void {\r\n    // if (!json) { return; }\r\n    /*\r\n    json[ECorePackage.xmiversion] // '2.0';\r\n    json[ECorePackage.xmlnsxmi] // 'http://www.omg.org/XMI';\r\n    json[ECorePackage.xmlnsxsi] // 'http://www.w3.org/2001/XMLSchema-instance';\r\n    json[ECorePackage.xmlnsecore] // 'http://www.eclipse.org/emf/2002/Ecore';\r\n    json[ECorePackage.name];\r\n    json[ECorePackage.eClassifiers]; */\r\n    /// own attributes.\r\n    const name: string = Json.read<string>(json, ECorePackage.namee, 'defaultPackage');\r\n    if (name) this.setName(name);\r\n    const uri: string = Json.read<string>(json, ECorePackage.nsURI, null);\r\n    const nsPrefix: string = Json.read<string>(json, ECorePackage.nsPrefix, null);\r\n    this.parent.uri(uri);\r\n    this.parent.namespace(nsPrefix);\r\n    /// childrens\r\n    const childs = Json.getChildrens(json);\r\n    if (destructive) { this.childrens = []; }\r\n    let i: number;\r\n    for (i = 0; i < childs.length; i++) {\r\n      const child = childs[i];\r\n      if (!child) { U.pw(true, 'invalid m2Package in ecore input. found a null classifier, it will be ignored.'); continue; }\r\n      // metaParent = U.findMetaParentC(this, child);\r\n      switch (child[ECoreClass.xsitype]) {\r\n        default: U.pe(true, 'unexpected xsitype:', child[ECoreClass.xsitype], ' found in jsonfragment:', child, ', in json:', json, ' package:', this); break;\r\n        case 'ecore:EClass': new M2Class(this, child); break;\r\n        case 'ecore:EEnum': new EEnum(this, child); break;\r\n      }\r\n    }\r\n  }\r\n// fatto tutta la validazione credo, ora basta vedere se quando aggiungo un extend che viola gli override e polimorfismi mi avvisa dell'operazione invalida'\r\n  /*parse(deep) {\r\n    let i;\r\n    if (deep) {\r\n      if (this.childrens) { while (this.childrens.length !== 0) { this.childrens[0].delete(); } }\r\n      this.childrens = [];\r\n    }\r\n    let field1;\r\n    for (field1 in this.json) {\r\n      if (!this.json.hasOwnProperty(field1)) { continue; } // il compilatore mi rompe per metterlo, non toglierlo se non da problemi.\r\n      let val1 = Json.read<any>(this.json, field1);\r\n      switch (field1) {\r\n        default:\r\n          U.pe(true, 'unexpected tag at jsonInput package: ' , field1 , ' = ', val1);\r\n          break;\r\n        case 'logical':\r\n        case ECorePackage.xmlnsxsi:\r\n        case ECorePackage.xmlnsxmi:\r\n        case ECorePackage.xmlnsecore:\r\n        case ECorePackage.nsPrefix:\r\n        case ECorePackage.nsURI:\r\n        case ECorePackage.xmiversion: break;\r\n        case ECorePackage.name: break;\r\n        case ECorePackage.eClassifiers:\r\n          val1 = Json.getChildrens(this.json);\r\n          for (i = 0; i < val1.length; i++) {\r\n            if (deep) {\r\n              U.pe ( !val1[i], 'val1[' + i + '] = ', val1[i], 'field:', field1, 'json:', this.json);\r\n              const classe = new M2Class(this, val1[i]);\r\n              this.childrens.push(classe as ModelPiece);\r\n            }\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  generateVertex(location: GraphPoint): IVertex {\r\n    const v: IVertex = new IVertex();\r\n    v.constructorPkg(this);\r\n    v.draw();\r\n    v.moveTo(location);\r\n    return v; }\r\n    */\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    const classarr = [];\r\n    const enumarr = [];\r\n    let i: number;\r\n    for (i = 0; i < this.classes.length; i++) { classarr.push(this.classes[i].generateModel(loopDetectionObj)); }\r\n    for (i = 0; i < this.enums.length; i++) { enumarr.push(this.enums[i].generateModel(loopDetectionObj)); }\r\n    const classifiers: Json[] = Array.prototype.concat.call(classarr, enumarr);\r\n    const model = new Json(null);\r\n    model[ECorePackage.xmiversion] = '2.0';\r\n    model[ECorePackage.xmlnsxmi] = 'http://www.omg.org/XMI';\r\n    model[ECorePackage.xmlnsxsi] = 'http://www.w3.org/2001/XMLSchema-instance';\r\n    model[ECorePackage.xmlnsecore] = 'http://www.eclipse.org/emf/2002/Ecore';\r\n    model[ECorePackage.namee] = this.name;\r\n    model[ECorePackage.nsURI] = this.parent.uri();\r\n    model[ECorePackage.nsPrefix] = this.getModelRoot().namespace();\r\n    model[ECorePackage.eClassifiers] = classifiers;\r\n    /*\r\n   \"_xmi:version\": \"2.0\",\r\n   \"_xmlns:xmi\": \"http://www.omg.org/XMI\",\r\n   \"_xmlns:xsi\": \"http://www.w3.org/2001/XMLSchema-instance\",\r\n   \"_xmlns:ecore\": \"http://www.eclipse.org/emf/2002/Ecore\",\r\n   \"_name\": \"bowling\",\r\n   \"_nsURI\": \"http://org/eclipse/example/bowling\",\r\n   \"_nsPrefix\": \"org.eclipse.example.bowling\"*/\r\n    return model; }\r\n\r\n}\r\n\r\n","import {\r\n  Json,\r\n  U,\r\n  IField,\r\n  IEdge,\r\n  IVertex,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  MetaModel,\r\n  ISidebar,\r\n  IGraph,\r\n  IModel,\r\n  Status,\r\n  IReference,\r\n  EdgeStyle,\r\n  IPackage,\r\n  Model,\r\n  Dictionary,\r\n  MClass,\r\n  ModelNone,\r\n  M2Package,\r\n  IClass,\r\n  M3Attribute,\r\n  M3Class, ViewRule, ViewPoint\r\n} from '../../common/Joiner';\r\n\r\n\r\nexport class MPackage extends IPackage {\r\n  metaParent: M2Package;\r\n  // instances: ModelNone[];\r\n  parent: Model;\r\n  childrens: MClass[];\r\n  name: string;\r\n\r\n  constructor(model: Model, json: Json, metaparent: IPackage) {\r\n    super(model, json, metaparent);\r\n    // todo: nel parse il json viene ignorato, cerca come vengono costruite le classi.\r\n    // return;\r\n    // this.setName(name);\r\n    // this.setJson(json);\r\n    this.parse(json, true);\r\n  }\r\n\r\n  getClass(name: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): MClass {\r\n    return super.getClass(name, caseSensitive, throwErr, debug) as MClass; }\r\n\r\n  addEmptyClass(metaVersion: M2Class): MClass {\r\n    const c: MClass = new MClass(this, null, metaVersion);\r\n    if (Status.status.loadedLogic) c.generateVertex();\r\n    console.log('addEmptyClass(); package:', this, '; metaVersion: ', metaVersion, 'classe:', c);\r\n    return c; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json { return this.parent.generateModel(loopDetectionObj); }\r\n  /*\r\n  generateModel(rootClass: MClass): Json {\r\n    const key: string = U.toDottedURI(this.uri) + ':' + rootClass.name;\r\n    const xmlnsuri = '@xmlns:org.eclipse.example.' + this.name;\r\n    const value: Json = {\r\n      '@xmlns:xmi': 'http://www.omg.org/XMI',\r\n      xmlnsuri : U.toHttpsURI(this.uri), // \"-xmlns:org.eclipse.example.bowling\": \"https://org/eclipse/example/bowling\",\r\n      '-xmi:version': '2.0',\r\n    };\r\n    let i: number;\r\n    for (i = 0, i < this.childrens.length; i++) {\r\n      const cl: MClass = this.childrens[i];\r\n      value[cl.name] = wrongggg!!! non è nemmeno un package, è una cosa del tipo:\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  getInfo(toLower?: boolean): any {\r\n  }\r\n\r\n  LinkToMetaParent(meta: IPackage): void {\r\n  }\r\n*/\r\n  parse(json: Json, destructive: boolean = true, uri: string = null, name: string = null): void {\r\n    /* e se c'è un riferimento circolare?\r\n      <league (rootclass)>\r\n        <players (attribute)>\r\n          <player>...</player>\r\n        </players>\r\n      </league>\r\n\r\n    \"org.eclipse.example.bowling:League\": {\r\n      \"-xmlns:xmi\": \"http://www.omg.org/XMI\",\r\n      \"-xmlns:org.eclipse.example.bowling\": \"https://org/eclipse/example/bowling\",\r\n      \"-xmi:version\": \"2.0\",\r\n      \"Players\": [\r\n          { \"-name\": \"tizio\" },\r\n          { \"-name\": \"asd\" } ]\r\n  }*/\r\n    let i: number;/*\r\n    this.views = [];\r\n    for(i = 0; i < this.parent.viewpoints.length; i++) {\r\n      const vp: ViewPoint = this.parent.viewpoints[i];\r\n      const v = new PackageView(vp.modelView);\r\n      this.views.push(v);\r\n      vp.modelView.packageViews.push(v); }*/\r\n  }\r\n\r\n}\r\n","import {\r\n  Json,\r\n  U,\r\n  IField,\r\n  IEdge,\r\n  IVertex,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  MetaModel,\r\n  ISidebar,\r\n  IGraph,\r\n  IModel, MetaMetaModel,\r\n  Status, IReference, IClass, ModelNone, M3Class, M2Package, EEnum, Type, Dictionary\r\n} from '../../common/Joiner';\r\nimport {IClassifier} from '../../mClass/IClassifier';\r\n\r\nexport abstract class IPackage extends ModelPiece {\r\n  metaParent: IPackage;\r\n  instances: IPackage[];\r\n  parent: IModel;\r\n  childrens: IClassifier[];\r\n  classes: IClass[];\r\n  enums: EEnum[];\r\n\r\n  constructor(mm: IModel, json: Json, metaParent: IPackage) {\r\n    super(mm, metaParent);\r\n    this.classes = [];\r\n    this.enums = [];\r\n  }\r\n\r\n  getChildrenClass(index: number): IClass { return this.classes[index]; }\r\n  getChildrenEnum(index: number): EEnum { return this.enums[index]; }\r\n  getChildrenClassSelector(index: number): string { return this.getChildrenClass(index).getSelector(); }\r\n  getChildrenEnumSelector(index: number): string { return this.getChildrenEnum(index).getSelector(); }\r\n\r\n  abstract parse(json: Json, destructive?: boolean): void;\r\n  abstract addEmptyClass(metaVersion: IClass): IClass;\r\n\r\n  addEmptyEnum(): EEnum {\r\n    const c = new EEnum(this, null);\r\n    if (this instanceof M3Package || !Status.status.loadedLogic) return;\r\n    c.generateVertex();\r\n    Type.updateTypeSelectors(null, false, true, false);\r\n    return c; }\r\n\r\n  // conformability(metaparent: IPackage, outObj?: any, debug?: boolean): number { return 1; }\r\n  fullname(): string { return this.name; }\r\n  getVertex(canMakeIt: boolean = null): IVertex { return undefined; }\r\n\r\n\r\n  getEnum(name: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): EEnum {\r\n    let i: number;\r\n    if (!caseSensitive) { name = name.toLowerCase(); }\r\n    for (i = 0; i < this.enums.length; i++) {\r\n      let classname: string = this.enums[i].name;\r\n      if (!caseSensitive) { classname = classname.toLowerCase(); }\r\n      if (name === classname) { return this.enums[i]; }\r\n    }\r\n    return null; }\r\n\r\n  getClass(name: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): IClass {\r\n    let i: number;\r\n    if (!caseSensitive) { name = name.toLowerCase(); }\r\n    for (i = 0; i < this.classes.length; i++) {\r\n      let classname: string = this.classes[i].name;\r\n      if (!caseSensitive) { classname = classname.toLowerCase(); }\r\n      if (name === classname) { return this.classes[i]; }\r\n    }\r\n    return null; }\r\n\r\n  duplicate(nameAppend: string = '_Copy', newParent: ModelPiece = null): ModelPiece {\r\n    U.pe(true, 'Package duplicate to do.');\r\n    return undefined; }\r\n\r\n  // todo:\r\n  refreshGUI_Alone(debug?: boolean): void {\r\n    let i: number;\r\n    for (i = 0; i < this.childrens.length; i++) { this.childrens[i].refreshGUI_Alone(debug); } }\r\n/*\r\n  LinkToMetaParent(meta: IPackage) {\r\n    U.pe(true, 'linkToMetaParent: todo.');\r\n    const outObj: any = {};\r\n    const comformability: number = this.comformability(meta, outObj);\r\n    if (comformability !== 1) {\r\n      U.pw(true, 'iPackage: ' + this.name + ' not fully conform to ' + meta.name +\r\n        '. Compatibility = ' + comformability * 100 + '%;', outObj );\r\n      return; }\r\n    this.metaParent = meta;\r\n    let i: number;\r\n    const classPermutation: number[] = outObj.classPermutation;\r\n    i = -1;\r\n    console.log(outObj);\r\n    while (++i < classPermutation.length) {\r\n      this.childrens[i].linkToMetaParent(meta.childrens[classPermutation[i]]); }\r\n  }* /\r\n  comformability(meta: IPackage, outObj: any = null/*.classPermutation* /): number {\r\n    // return 1;\r\n    // todo: sbloccalo facendo Mpackage.name conforme a MMPackage.name e abilitando package multipli\r\n    if (this.childrens > meta.childrens) { return 0; }\r\n    const classLenArray: number[] = [];\r\n    let i;\r\n    let j;\r\n    // find best references permutation compability\r\n    i = -1;\r\n    while (++i < meta.childrens.length) { classLenArray.push(i); }\r\n    const classPermut: number[][] = U.permute(classLenArray);\r\n    console.log('possible Package.classes permutations[' + meta.childrens.length + '!]:', classLenArray, ' => ', classPermut);\r\n    const allClassPermutationConformability: number[] = [];\r\n    i = -1;\r\n    let bestClassPermutation: number[] = null;\r\n    let bestClassPermutationValue: number = Number.NEGATIVE_INFINITY;\r\n    while (++i < classPermut.length) {\r\n      j = -1;\r\n      const permutation = classPermut[i];\r\n      let permutationComformability = 0;\r\n      while (++j < permutation.length) {\r\n        const Mclass: IClass = this.childrens[j];\r\n        const MMclass: IClass = meta.childrens[permutation[j]];\r\n        const classComf = !Mclass ? 0 : Mclass.conformability(MMclass);\r\n        permutationComformability += classComf / permutation.length; }\r\n\r\n      allClassPermutationConformability.push(permutationComformability);\r\n      if (permutationComformability > bestClassPermutationValue) {\r\n        bestClassPermutation = permutation;\r\n        bestClassPermutationValue = permutationComformability; }\r\n      if (permutationComformability === 1) { break; }\r\n    }\r\n\r\n    const total = meta.childrens.length + 1; // + name\r\n    let nameComformability = StringSimilarity.compareTwoStrings(this.name, meta.name) / total;\r\n    bestClassPermutationValue = Math.max(0, bestClassPermutationValue * (meta.childrens.length / total));\r\n    if (outObj) {\r\n      outObj.classPermutation = bestClassPermutation;\r\n    }\r\n    nameComformability = 1 / total;\r\n    const ret = nameComformability + bestClassPermutationValue;\r\n    console.log('PKG.comform(', this.name, {0: this}, ', ', meta.name, {0: meta}, ') = ', ret);\r\n    return ret; }*/\r\n}\r\n\r\nexport class M3Package extends IPackage {\r\n  metaParent: M3Package;\r\n  instances: M2Package[];\r\n  parent: MetaMetaModel;\r\n  childrens: M3Class[];\r\n  classes: M3Class[];\r\n\r\n  constructor(model: MetaMetaModel, json: Json) { super(model, json, null); this.parse(json, true); }\r\n\r\n  getClass(name: string, caseSensitive: boolean = false, throwErr: boolean = true, debug: boolean = true): M3Class {\r\n    return super.getClass(name, caseSensitive, throwErr, debug) as M3Class; }\r\n\r\n  addEmptyClass(metaVersion?: M3Class): M3Class {\r\n    const c = new M3Class(this, null);\r\n    return c; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    return undefined;\r\n  }\r\n\r\n\r\n  parse(json: Json, destructive: boolean = true): void {\r\n    this.name = 'Package';\r\n    this.addEmptyClass(null);\r\n    this.addEmptyEnum();\r\n    this.enums[0].setName('Enumeration');\r\n  }\r\n\r\n}\r\n","import {\r\n  Dictionary,\r\n  EdgePointStyle,\r\n  EdgeStyle,\r\n  GraphSize,\r\n  EdgeModes,\r\n  IAttribute,\r\n  M2Class,\r\n  IEdge,\r\n  IFeature,\r\n  IModel,\r\n  IPackage,\r\n  IReference,\r\n  IVertex,\r\n  Json,\r\n  Model,\r\n  Status,\r\n  U,\r\n  IClass,\r\n  MClass,\r\n  MetaModel,\r\n  MetaMetaModel,\r\n  EOperation,\r\n  EParameter,\r\n  MAttribute,\r\n  MReference,\r\n  ViewHtmlSettings,\r\n  M3Reference,\r\n  M2Attribute,\r\n  M3Attribute,\r\n  M3Class,\r\n  M2Reference,\r\n  M3Package,\r\n  MPackage,\r\n  M2Package,\r\n  Type,\r\n  ELiteral,\r\n  EEnum,\r\n  EAnnotation,\r\n  IClassifier,\r\n  IGraph,\r\n  Typedd,\r\n  IField,\r\n  TSON_JSTypes, ViewPoint, Size, ISize\r\n} from '../common/Joiner';\r\n\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport MouseMoveEvent = JQuery.MouseMoveEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport {ViewRule} from '../GuiStyles/viewpoint';\r\nimport {deserializeSummaries} from '@angular/compiler/src/aot/summary_serializer';\r\nimport {FunctionCall} from '@angular/compiler';\r\nimport {Mark} from '../guiElements/mGraph/Vertex/Mark';\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\nexport class StyleComplexEntry {\r\n  html: Element;\r\n  htmlobj: ViewHtmlSettings;\r\n  view: ViewRule;\r\n  ownermp: ModelPiece;\r\n  isownhtml: boolean = false;\r\n  isinstanceshtml: boolean = false;\r\n  isCustomGlobalhtml: boolean = false;\r\n  isGlobalhtml: boolean = false;\r\n}\r\n\r\nexport class Info {\r\n  static forConsole(obj: any): any {}\r\n\r\n  static setraw(baseJson: object, k: string, v: any, toLower: boolean = true): string { return Info.set(baseJson, k, v, '', toLower); }\r\n  static setc(baseJson: object, k: string, v: any, toLower: boolean = true): string { return Info.set(baseJson, k, v, '@', toLower); }\r\n  static seti(baseJson: object, k: string, v: any, toLower: boolean = true): string  { return Info.set(baseJson, k, v, '#', toLower); }\r\n  static set(baseJson: object, k: string, v: any, prefixc: string = '_', toLower: boolean = true): string {\r\n    k = toLower ? k.toLowerCase() : k;\r\n    let prefix = prefixc;\r\n    // U.pw(baseJson[prefix + k], 'setinfo() name altready set: ', k, baseJson);\r\n    while (baseJson[prefix + k]) { prefix += prefixc === '' ? '*' : prefixc; }\r\n    baseJson[prefix + k] = v;\r\n    // if (prefix === '') { baseJson[prefixc + k] = v; }\r\n    return prefix + k; }\r\n\r\n  static unsetraw(baseJson: object, k: string, toLower: boolean = true): void { return Info.unset(baseJson, k, '', toLower); }\r\n  static unsetc(baseJson: object, k: string, toLower: boolean = true): void { return Info.unset(baseJson, k, '@', toLower); }\r\n  static unseti(baseJson: object, k: string, toLower: boolean = true): void { return Info.unset(baseJson, k, '#', toLower); }\r\n  static unset(baseJson: object, k: string, prefixc: string = '_', toLower: boolean = true): void {\r\n    k = prefixc + (toLower ? k.toLowerCase() : k);\r\n    delete baseJson[k]; }\r\n\r\n  static renameraw(o: object, k1: string, k2: string, toLower: boolean = true): void { return Info.rename(o, k1, k2, '', toLower); }\r\n  static renamec(o: object, k1: string, k2: string, toLower: boolean = true): void { return Info.rename(o, k1, k2, '@', toLower); }\r\n  static renamei(o: object, k1: string, k2: string, toLower: boolean = true): void  { return Info.rename(o, k1, k2, '#', toLower); }\r\n  static rename(baseJson: object, k1: string, k2: string, prefixc: string = '_', toLower: boolean = true): void {\r\n    k1 = prefixc + (toLower ? k1.toLowerCase() : k2);\r\n    k2 = prefixc + (toLower ? k1.toLowerCase() : k2);\r\n    const old: any = baseJson[k1];\r\n    delete baseJson[k1];\r\n    baseJson[k2] = old; }\r\n\r\n  static merge(info: Info, targetinfo: Info, prefixc: string = '->'): void {\r\n    let key: string;\r\n    if (!targetinfo) { return; }\r\n    for (key in targetinfo) {\r\n      if (!targetinfo.hasOwnProperty(key)) { continue; }\r\n      if (!prefixc) { switch (key[0]) {\r\n        default: prefixc = ''; break;\r\n        case '#': case '_': case '@': prefixc = key[0]; break; } }\r\n      // console.log('Info.set(' + info + ', ' + key + ', ' + targetinfo[key] + ', ' + prefixc);\r\n      Info.set(info, key, targetinfo[key], prefixc); }\r\n  }\r\n}\r\n\r\nexport abstract class ModelPiece {\r\n  private static idToLogic = {};\r\n  private static idMax = 0;\r\n  id: number = null;\r\n  parent: ModelPiece = null;\r\n  childrens: ModelPiece[] = [];\r\n  metaParent: ModelPiece = null;\r\n  instances: ModelPiece[] = [];\r\n  name: string = null;\r\n  // styleOfInstances:Element = null;\r\n  // customStyleToErase: Element = null;\r\n//  styleobj: ModelPieceStyleEntry = null;\r\n  key: number[] = null;\r\n  views: ViewRule[] = null;\r\n  annotations: EAnnotation[] = [];\r\n  detachedViews: ViewRule[] = []; // required to delete modelpiece\r\n  private className: string;\r\n\r\n  static GetStyle(model: IModel, tsClass: string, checkCustomizedFirst: boolean = true): Element {\r\n    let rootSelector: string;\r\n    if (model.isM()) { rootSelector = '.MDefaultStyles';\r\n    } else if (model.isMM()) { rootSelector = '.MMDefaultStyles';\r\n    } else { U.pe(true, 'm3 objects should not call getStyle()'); }\r\n\r\n    let $html: JQuery<Element>;\r\n    const $root: JQuery<Element> = $((checkCustomizedFirst ? '.customized' : '.immutable') + rootSelector);\r\n    if (tsClass.indexOf('m1') === 0 || tsClass.indexOf('m2') === 0) { tsClass = tsClass.substr(2); }\r\n    switch (tsClass) {\r\n      default: U.pe(true, 'unrecognized TS Class: ' + tsClass); return null;\r\n      case 'EEnum': $html = $root.find('.template.EEnum'); break;\r\n      case 'ELiteral': $html = $root.find('.template.ELiteral'); break;\r\n      case 'Class': $html = $root.find('.template.Class'); break;\r\n      case 'Attribute': $html = $root.find('.template.Attribute'); break;\r\n      case 'Reference': $html = $root.find('.template.Reference'); break;\r\n      case 'EOperation': $html = $root.find('.template.Operation'); break;\r\n      case 'EParameter': $html = $root.find('.template.Parameter'); break; }\r\n    U.pw(checkCustomizedFirst && $html.length > 1,\r\n      'found more than one match for custom global style, should there be only 0 or 1.', $html, $root, this, tsClass);\r\n    if (checkCustomizedFirst && $html.length === 0) { return ModelPiece.GetStyle(model, tsClass, false); }\r\n    /*console.log('class?' + (this instanceof IClass), $root.find('.Template'), $root.find('.Class'),\r\n      $root.find('.Template.Class'));\r\n    console.log('condition:', !customizeds, ' && ', $html.length !== -1);*/\r\n    U.pe(!checkCustomizedFirst && $html.length !== 1,\r\n      'expected exactly 1 match for the un-customized global style, found instead ' + $html.length + ':', $html, $root, this);\r\n    const ret: Element = U.cloneHtml($html[0], true);\r\n    ret.classList.remove('template');\r\n    ret.classList.remove('Customized');\r\n    return ret; }\r\n\r\n  public static getByKey(path: number[], realindexfollowed: {indexFollowed: string[] | number[], debugArr: {index: string | number, elem: any}[]} = null): ModelPiece {\r\n    U.pe(!Array.isArray(path), 'ModelPiece.getByKey() should only be called with an array as key:', path);\r\n    U.pe(path.length < 1, 'ModelPiece.getByKey() path array must have >= 1 elements:', path);\r\n    const tmpRoot = {'childrens': [Status.status.m, Status.status.mm, Status.status.mmm]};\r\n    let ret = U.followIndexesPath(tmpRoot, path, 'childrens', realindexfollowed, true);\r\n    U.pe(!(ret instanceof ModelPiece), 'ModelPiece.getByKey failed: ', ret, realindexfollowed);\r\n    return ret; }\r\n\r\n  public static getByKeyStr(key: string, realindexfollowed: {indexFollowed: string[] | number[], debugArr: {index: string | number, elem: any}[]} = null): ModelPiece {\r\n    return ModelPiece.getByKey(JSON.parse(key), realindexfollowed); }\r\n\r\n  static get(e: JQuery.ChangeEvent | ClickEvent | MouseMoveEvent | MouseDownEvent | MouseUpEvent | Event | ContextMenuEvent): ModelPiece {\r\n    return ModelPiece.getLogic(e.target); }\r\n\r\n  public static getLogicalRootOfHtml(html0: Element): Element {\r\n    let html: HTMLElement = html0 as HTMLElement;\r\n    if (!html) { return null; }\r\n    while ( html && (!html.dataset || !html.dataset.modelpieceid)) { html = html.parentElement; }\r\n    return html; }\r\n\r\n  static getLogic(html0: Element): ModelPiece {\r\n    let html: HTMLElement = this.getLogicalRootOfHtml(html0) as HTMLElement;\r\n    const ret: ModelPiece = html ? ModelPiece.getByID(+html.dataset.modelpieceid) : null;\r\n    // U.pe(!(ret instanceof T), 'got logic with unexpected class type:', this);\r\n    return ret; }\r\n\r\n  static getByID(id: number): ModelPiece { return ModelPiece.idToLogic[id]; }\r\n\r\n  constructor(parent: ModelPiece, metaVersion: ModelPiece) {\r\n    this.assignID();\r\n    this.parent = parent;\r\n    this.metaParent = metaVersion;\r\n    this.instances = [];\r\n    this.childrens = [];\r\n    this.views = [];\r\n    if (this.parent) { U.ArrayAdd(this.parent.childrens, this); }\r\n    if (this.metaParent) { U.ArrayAdd(this.metaParent.instances, this); }\r\n  }\r\n\r\n  assignID(): number {\r\n    this.id = ModelPiece.idMax++;\r\n    ModelPiece.idToLogic[this.id] = this;\r\n    return this.id; }\r\n\r\n  getID(): number { return this.id; }\r\n  getSelector(): string { return '#ID' + this.id; }\r\n  getChildren(index: number): ModelPiece { return this.childrens[index]; }\r\n  getChildrenSelector(index: number): string { return this.getChildren(index).getSelector(); }\r\n\r\n  //todo: devo stare attento ogni volta che aggiungo-elimino un elemento a chiamare updateKey()\r\n  // le views si salvano perchè usano la chiave all avvio e poi la rigenerano ad ogni salvataggio e non la usano ulteriormente se non per generare\r\n  // la savestring.\r\n  getKey(): number[] { return this.key ? this.key : this.updateKey(); }\r\n  getKeyStr(): string { return JSON.stringify(this.getKey()); }\r\n\r\n  updateKey(): number[] {\r\n    const m = this.getModelRoot();\r\n    const mnum = m.isM3() ? 2 : (m.isM2() ? 1 : 0);\r\n    const pathIndex: number[] = U.getIndexesPath(this, 'parent', 'childrens');\r\n    return this.key = [mnum, ...pathIndex]; }\r\n\r\n  replaceVarsSetup(): void { return; }\r\n\r\n  linkToLogic(html0: Element): void {\r\n    let html: HTMLElement = html0 as HTMLElement;\r\n    if (this.id === null || this.id === undefined) { U.pw(true, 'undefined id:', this); return; }\r\n    html.dataset.modelpieceid = '' + this.id; }\r\n\r\n  getm2(): MetaModel {\r\n    const root: IModel = this.getModelRoot();\r\n    if (root instanceof Model) { return root.metaParent; }\r\n    if (root instanceof MetaModel) { return root; }\r\n    if (root instanceof MetaMetaModel) { return root.instances[0]; }\r\n    U.pe(true, 'failed to get root.'); }\r\n\r\n  getModelRoot(): IModel {\r\n    let p: ModelPiece = this;\r\n    let i = 0;\r\n    while (p.parent && p !== p.parent && i++ < 6) { p = p.parent; }\r\n    U.pe(!p  || !(p instanceof IModel), 'failed to get model root:', this, 'm lastParent:', p);\r\n    return p as any as IModel; }\r\n\r\n  isChildNameTaken(s: string, caseSensitive: boolean = false): boolean {\r\n    let i;\r\n    s = s && s.toLowerCase();\r\n    for (i = 0; i < this.childrens.length; i++) {\r\n      let f: ModelPiece = this.childrens[i];\r\n      if (s === (caseSensitive ? f.name : f.name && f.name.toLowerCase())) { return true; } }\r\n    return false; }\r\n\r\n  shouldBeDisplayedAsEdge(set: boolean = null): boolean {\r\n    if (set !== null) {\r\n      U.pe( !(this instanceof IClass), 'shouldBeDisplayedAsEdge(' + set + ') should only be set on M2Class instances');\r\n      (this as any as IClass).shouldBeDisplayedAsEdgeVar = set;\r\n      Type.updateTypeSelectors(null, false, false, true);\r\n      return set; }\r\n    if (this instanceof IModel) { return false; }\r\n    if (this instanceof IPackage) { return false; }\r\n    if (this instanceof EEnum) { return false; }\r\n    if (this instanceof IClass) { return (this as IClass).shouldBeDisplayedAsEdgeVar; }\r\n    if (this instanceof IAttribute) { return false; }\r\n    if (this instanceof IReference) { return true; }\r\n    if (this instanceof EOperation) { return false; }\r\n    if (this instanceof EParameter) { return false; }\r\n    if (this instanceof ELiteral) { return false; }\r\n    U.pe(true, 'unrecognized class:', this);\r\n  }\r\n\r\n  refreshGUI(debug: boolean = false): void {\r\n    if (!Status.status.loadedLogic) { return; }\r\n    let model: IModel = this.getModelRoot();\r\n    const thingsToRefresh: ModelPiece[] = [this];\r\n    let i: number;\r\n\r\n    if (Status.status.refreshModeAll) {\r\n      U.ArrayAdd(thingsToRefresh, Status.status.mmm);\r\n      U.ArrayAdd(thingsToRefresh, Status.status.mm);\r\n      U.ArrayAdd(thingsToRefresh, Status.status.m); }\r\n    if (Status.status.refreshModelAndInstances && model) {\r\n      U.ArrayAdd(thingsToRefresh, model);\r\n      for (i = 0; model.instances && i < model.instances.length; i++) { U.ArrayAdd(thingsToRefresh, model.instances[i]); }\r\n      return; }\r\n    if (Status.status.refreshModelAndParent && model && model.metaParent) {\r\n      model = model.metaParent;\r\n      U.ArrayAdd(thingsToRefresh, model);\r\n      for (i = 0; model.instances && i < model.instances.length; i++) { U.ArrayAdd(thingsToRefresh, model.instances[i]); }\r\n      return; }\r\n    if (Status.status.refreshInstancesToo) {\r\n      for (i = 0; this.instances && i < this.instances.length; i++) { U.ArrayAdd(thingsToRefresh, this.instances[i]); } }\r\n    if (Status.status.refreshModel && model) { U.ArrayAdd(thingsToRefresh, model); }\r\n    if (Status.status.refreshMetaParentToo && this.metaParent) { U.ArrayAdd(thingsToRefresh, this.metaParent); }\r\n    if (Status.status.refreshParentToo && this.parent) { U.ArrayAdd(thingsToRefresh, this.parent); }\r\n\r\n    for (i = 0; i < thingsToRefresh.length; i++) {\r\n      const mp: ModelPiece = thingsToRefresh[i];\r\n      if (mp) { mp.refreshGUI_Alone(debug); }\r\n    }\r\n  }\r\n\r\n  refreshInstancesGUI(): void {\r\n    let i = 0;\r\n    U.pe(!this.instances, '', this);\r\n    while (i < this.instances.length) {\r\n      try { this.instances[i++].refreshGUI_Alone(false); } catch (e) {} finally {}\r\n    }\r\n  }\r\n\r\n\r\n  Vmarks: Dictionary<string, Mark> = {};\r\n  static allmarks: Dictionary<string, Mark> = {} as any;/*\r\n  static updateMarkings(): void {\r\n    // cannot achieve perfection but can call it when:\r\n    // resizeobserver on html + callback on vertexmove + callback on graph move or zoom and set big setinterval\r\n    per ora fallo solo con setinterval dal main e check on ModelPiece.allmarks;\r\n  }*/\r\n\r\n  unmarkAll(condition: (key: string) => boolean = null): void{\r\n    // console.log('unmarkAll()', this.Vmarks, condition);\r\n    for (let key in this.Vmarks) {\r\n      // console.log('unmarkAll() key:' + key + ', conditionCheck: ', condition && condition(key), this.Vmarks[key]);\r\n      if (condition && !condition(key)) continue;\r\n      const mark: Mark = this.Vmarks[key];\r\n      mark.mark(false); }\r\n  }\r\n\r\n  mark(markb: boolean, paired: ModelPiece, key: string, color: string = null, radiusX: number = 10, radiusY: number = 10,\r\n       width: number = 5, backColor: string = null, extraOffset: ISize = null): void {\r\n    if (markb) new Mark(this, paired, key, color, radiusX, radiusY, width, backColor, extraOffset).mark(true);\r\n    else this.Vmarks[key] && (this.Vmarks[key] as Mark).mark(false);\r\n    return; }\r\n\r\n  generateModelString(): string {\r\n    const json: Json = this.generateModel({});\r\n    // console.log('genmodelstring:', json, 'this:',  this);\r\n    return JSON.stringify(json, null, 4); }\r\n\r\n  refreshGUI_Alone(debug?: boolean): void {\r\n    if (!Status.status.loadedLogic) { return; }\r\n    let v: IVertex = this.getVertex();\r\n    v.refreshGUI();\r\n    console.log('pbar selected:', v.owner.propertyBar.selectedModelPiece.name, 'me:', this.name);\r\n    if (this.isChildrenOf(v.owner.propertyBar.selectedModelPiece, true, true)) v.owner.propertyBar.refreshGUI(); }\r\n\r\n  isChildrenOf(parent: ModelPiece, includeEqual: boolean = false, includeGrandChildren: boolean = false): boolean {\r\n    if (includeEqual && parent == this) return true;\r\n    if (parent.childrens.indexOf(this) >= 0) return true;\r\n    if (!includeGrandChildren) return false;\r\n    let child: ModelPiece = this;\r\n    while ((child = child.parent)) {\r\n      if (parent.childrens.indexOf(this) >= 0) return true; }\r\n    return false; }\r\n\r\n  abstract fullname(): string;\r\n  endingName(valueMaxLength: number = 10): string { return ''; }\r\n\r\n  public printableName(valueMaxLength: number = 5, full: boolean = false): string {\r\n    if (this.name !== null) { return full ? this.fullname() : this.name; }\r\n    const ending: String = this.endingName(valueMaxLength);\r\n    return (full ? this.metaParent.fullname() : this.metaParent.name) + ':' + this.id + (ending && ending !== '' ? ':' + ending : ''); }\r\n\r\n  public printableNameshort(valueMaxLength: number = 5): string {\r\n    if (this.name !== null) { return this.name; }\r\n    const ending: String = this.endingName(valueMaxLength);\r\n    return this.metaParent.name + ':' + this.id + (ending && ending !== '' ? ':' + ending : ''); }\r\n\r\n  abstract parse(json: Json, destructive?: boolean): void;\r\n  abstract getVertex(canMakeIt?: boolean): IVertex;\r\n  abstract generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, ModelPiece>): Json;\r\n  toJSON(loopDetectionObj: Dictionary<number /*MClass id*/, ModelPiece>): Json{\r\n    let ret = {} as any;\r\n    ret.id = this.id;\r\n    ret.name = this.name;\r\n    ret.parent = this.parent.id;\r\n    ret.metaParent = this.metaParent.id;\r\n    ret.annotations = this.annotations.map( (e) => e.id);\r\n    ret.childrens = this.childrens.map( (e) => e.id);\r\n    ret.detachedViews = this.detachedViews.map( (e) => e.id);\r\n    ret.views = this.views.map( (e) => e.id);\r\n    // ret.instances = this.instances.map( (e) => e.id); not a permanent stored data, le istanze sono solo quelle disegnate al momento, non TUTTE,\r\n    // se un M2 è collegato a più M1 crea problemi serializzare anche questo.\r\n    // M1 può avere reference a M2 che viene caricato, M2 non può avere reference persistenti a M1, altrimenti caricherebbe tutti i suoi M1.\r\n    return ret; }\r\n\r\n  abstract duplicate(nameAppend?: string, newParent?: ModelPiece): ModelPiece;\r\n  // abstract conformability(metaparent: ModelPiece, outObj?: any/*.refPermutation, .attrPermutation*/, debug?: boolean): number;\r\n  setName0(value: string, refreshGUI: boolean = false, warnDuplicateFix: boolean = true, key: string, allowEmpty: boolean): string {\r\n    if (value === this['' + key]) return this['' + key];\r\n    const valueOld: string = this['' + key];\r\n    const valueInputError = value;\r\n    value = value !== null && value !== undefined ? '' + value.trim() : null;\r\n    const regexp: RegExp = new RegExp((allowEmpty ? '^$|' : '') + '^[a-zA-Z_$][a-zA-Z_$0-9]*$');\r\n//    console.log('set' + key + '.valid ? ' + regexp.test(value) + ' |' + value + '|');\r\n    if (!regexp.test(value)) {\r\n      value = value.replace(/([^a-zA-Z_$0-9])/g, '');\r\n      let i: number = 0;\r\n      while (value[i] && value[i] >= '0' && value[i] <= '9') i++;\r\n      value = value.substr(i);\r\n      let remainder: string = value;\r\n      let firstChar: string = '';\r\n      while (remainder.length > 0 && firstChar === '') {\r\n        firstChar = remainder[0].replace('[^a-zA-Z_$]', '');\r\n        remainder = remainder.substring(1); }\r\n      value = firstChar + remainder;\r\n      U.pw(true, 'a valid ' + key + ' must be match this regular expression: ' + regexp.compile().toString()\r\n        + '; trying autofix: |' + valueInputError + '| --> + |' + value + '|');\r\n      return this['set' + U.firstToUpper(key)](value, true || refreshGUI); }\r\n\r\n    if (!allowEmpty && (!value || value === '')) { U.pw(true, key + ' cannot be empty.'); return valueOld; }\r\n    if (value === valueOld) { return valueOld; }\r\n\r\n    let nameFixed: boolean = false;\r\n    let i: number;\r\n    if (this instanceof EOperation) {\r\n      const op = this as EOperation;\r\n      this['' + key] = value;\r\n      op.parent.checkViolations(true);\r\n    } else while (this.parent && this.parent['isChild' +  U.firstToUpper(key) + 'Taken'](value)) {\r\n      nameFixed = true;\r\n      value = U.increaseEndingNumber(value, false, false); }\r\n    U.pe(nameFixed && (valueInputError === value), 'increaseEningNumber failed:', value, this, this.parent ? this.parent.childrens : null);\r\n    U.pw(nameFixed && warnDuplicateFix, 'that ' + key + ' is already used in this context, trying autofix: |'\r\n      + valueInputError + '| --> + |' + value + '|');\r\n\r\n    this['' + key] = value;\r\n    if (refreshGUI) { this.refreshGUI(); }\r\n    return this['' + key]; }\r\n\r\n  // meant to be called from user js.\r\n  getChildrenByName(name: string, caseSensitive: boolean = false): ModelPiece {\r\n    let i: number;\r\n    U.pe(!name || name !== '' + name, 'ModelPiece.getChildren() name must be a non-empty string, found: |' + name + '|', name);\r\n    if (!caseSensitive) name = name.toLowerCase();\r\n    const m: IModel = this.getModelRoot();\r\n    const ism1: boolean = m.isM1();\r\n    for (i = 0; i < this.childrens.length; i++){\r\n      const mp: ModelPiece = this.childrens[i];\r\n      let name2: string = (ism1 ? mp.metaParent.name : mp.name);\r\n      if (!caseSensitive) name2 = name2 && name2.toLowerCase();\r\n      if (name === name2) return mp;\r\n    }\r\n    return null; }\r\n\r\n  preReplace(): void { this.className = this.getFriendlyClassName(); }\r\n\r\n  setName(value: string, refreshGUI: boolean = false, warnDuplicateFix: boolean = true): string { return this.setName0(value, refreshGUI, warnDuplicateFix, 'name', false); }\r\n/*  setNameOld(value: string, refreshGUI: boolean = false, warnDuplicateFix: boolean = true): string {\r\n    const valueOld: string = this.name;\r\n    const valueInputError = value;\r\n    value = value ? '' + value.trim() : null;\r\n    if (!value || value === '') { U.pw(true, 'name cannot be empty.'); return valueOld; }\r\n    if (value === valueOld) { return valueOld; }\r\n    const regexp: RegExp = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;\r\n    // console.log('setName.valid ? ' + regexp.test(value) + ' |' + value + '|');\r\n    if (!regexp.test(value)) { value = value.replace(/([^a-zA-Z_$0-9])/g, '');\r\n      let i: number = 0;\r\n      while (value[i] && value[i] >= '0' && value[i] <= '9') i++;\r\n      value = value.substr(i);\r\n      let remainder: string = value;\r\n      let firstChar: string = '' || '';\r\n      while (remainder.length > 0 && firstChar === '') {\r\n        firstChar = remainder[0].replace('[^a-zA-Z_$]', '');\r\n        remainder = remainder.substring(1); }\r\n      value = firstChar + remainder;\r\n      U.pw(true, 'a valid name must be match this regular expression: ' + regexp.compile().toString()\r\n        + '; trying autofix: |' + valueInputError + '| --> + |' + value + '|');\r\n      return this.setName(value, true || refreshGUI); }\r\n\r\n    let nameFixed: boolean = false;\r\n    let i: number;\r\n    if (this instanceof EOperation) {\r\n      const op = this as EOperation;\r\n      let omonimi: EOperation[] = op.parent.getOperations(value, false);\r\n      op.unmarkIncompatibility();\r\n      for (i = 0; i < omonimi.length; i++) {\r\n        const other: EOperation = omonimi[i];\r\n        if (!op.isCompatible(other)) { op.markIncompatibility(other); }\r\n      }\r\n    }\r\n    else {\r\n      while (this.parent && this.parent.isChildNameTaken(value)) {\r\n        nameFixed = true;\r\n        value = U.increaseEndingNumber(value, false, false); }\r\n      U.pe(nameFixed && (valueInputError === value), 'increaseEndingNumber failed:', value, this, this.parent ? this.parent.childrens : null);\r\n      U.pw(nameFixed && warnDuplicateFix, 'that name is already used in this context, trying autofix: |'\r\n        + valueInputError + '| --> + |' + value + '|', this);\r\n    }\r\n    this.name = value;\r\n    const model: IModel = this.parent ? this.getModelRoot() : null;\r\n    // for (i = 0; model && i < model.instances.length; i++) { model.instances[i].sidebar.fullnameChanged(valueOld, this.name); }\r\n    if (refreshGUI) { this.refreshGUI(); }\r\n    Type.updateTypeSelectors(null, false, false, true);\r\n    return this.name; }\r\n*/\r\n  fieldChanged(e: JQuery.ChangeEvent): void {\r\n    // todo: fix for m2 too. i need to enable custom input in custom viewpoints.\r\n    // U.pe(true, U.getTSClassName(this) + '.fieldChanged() should never be called.');\r\n  }\r\n\r\n  copy(other: ModelPiece, nameAppend: string = '_Copy', newParent: ModelPiece = null): void {\r\n    this.setName(other.name + nameAppend);\r\n    let i: number;\r\n    this.views = [];\r\n    for (i = 0; i < other.views.length; i++) {\r\n      const v: ViewRule = other.views[i];\r\n      U.ArrayAdd(this.views, v.duplicate());\r\n    }\r\n    this.parent = newParent ? newParent : other.parent;\r\n    if (this.parent) { U.ArrayAdd(this.parent.childrens, this); }\r\n\r\n    this.childrens = [];\r\n    for (i = 0; i < other.childrens.length; i++) { this.childrens.push(other.childrens[i].duplicate('', this)); }\r\n    this.metaParent = other.metaParent;\r\n    if (this.metaParent) { U.ArrayAdd(this.metaParent.instances, this); }\r\n    this.instances = [];\r\n    this.refreshGUI(); }\r\n\r\n  // nb: le sottoclassi lo devono sempre chiamare con refreshgui = false\r\n  delete(refreshgui: boolean = true): void {\r\n    this.unmarkAll();\r\n    if (this.parent) {\r\n      U.arrayRemoveAll(this.parent.childrens, this);\r\n      this.parent = null; }\r\n    if (this.metaParent) {\r\n      U.arrayRemoveAll(this.metaParent.instances, this);\r\n      this.metaParent = null; }\r\n    let i: number;\r\n    let arr: any = U.shallowArrayCopy<ViewRule>(this.views);\r\n    for (i = 0; arr && i < arr.length; i++) { arr[i].delete(); }\r\n    arr = U.shallowArrayCopy<ViewRule>(this.detachedViews);\r\n    for (i = 0; arr && i < arr.length; i++) { arr[i].delete(); }\r\n    arr = U.shallowArrayCopy<ModelPiece>(this.childrens);\r\n    for (i = 0; arr && i < arr.length; i++) { arr[i].delete(false); }\r\n\r\n    arr = U.shallowArrayCopy<ModelPiece>(this.instances);\r\n    if (this instanceof M2Class){\r\n      const instances: MClass[] = arr as any;\r\n      const scores = this.getTypeConversionScores();\r\n      const newType: M2Class = scores.length && scores[0].class;\r\n      if (!newType){\r\n        for (i = 0; instances && i < instances.length; i++) { instances[i].delete(false); }\r\n      }\r\n      else {\r\n        for (i = 0; instances && i < instances.length; i++) { instances[i].convertTo(newType); }\r\n      }\r\n      // posso promuovere le istanze ad una sottoclasse o superclasse di quella cancellata invece di eliminarle.\r\n\r\n    } else {\r\n      // not m2-class.\r\n      for (i = 0; arr && i < arr.length; i++) { arr[i].delete(false); }\r\n    }\r\n    if (refreshgui) this.refreshGUI();\r\n  }\r\n\r\n\r\n  validate(isDeprecated: boolean = true): boolean {\r\n    const names: Dictionary<string, ModelPiece> = {};\r\n    let i: number;\r\n    if (!U.isValidName(name)) { this.mark(true, null, 'Invalid name'); return false; }\r\n    for (i = 0; i < this.childrens.length; i++) {\r\n      const child: ModelPiece = this.childrens[i];\r\n      const name: string = child.name;\r\n      if (names.hasOwnProperty(name)) { child.mark(true, names[name], 'Duplicate children name'); return false; }\r\n      else child.mark(false, null, 'Duplicate children name');\r\n      child.validate();\r\n      names[name] = child; }\r\n    return true; }\r\n\r\n  /*\r\n    setStyle_SelfLevel_1(html: Element): void { this.customStyleToErase = html; }\r\n    setStyle_InstancesLevel_2(html: Element): void { this.styleOfInstances = html; }\r\n    setStyle_GlobalLevel_3(html: Element): void {\r\n      const oldCustomStyle: Element = this.getGlobalLevelStyle(true);\r\n      if (oldCustomStyle) { oldCustomStyle.parentNode.removeChild(oldCustomStyle); }\r\n      const model: IModel = this.getModelRoot();\r\n      let rootSelector: string;\r\n      if (model.isM()) { rootSelector = '.MDefaultStyles';\r\n      } else if (model.isMM()) { rootSelector = '.MMDefaultStyles';\r\n      } else { U.pe(true, 'm3 objects should not call getStyle()'); }\r\n      let selectorClass: string = '' + '_ERROR_';\r\n      if (false && false) {\r\n      } else if (this instanceof IClass) { selectorClass = ('Class');\r\n      } else if (this instanceof IReference) { selectorClass = ('Reference');\r\n      } else if (this instanceof IAttribute) { selectorClass = ('Attribute'); }\r\n\r\n      let $root: JQuery<Element>;\r\n      $root = $('.customized' + rootSelector);\r\n      const container: Element = $root[0];\r\n      html.classList.add('Template', selectorClass, (this instanceof IClass ? 'Vertex' : ''));\r\n      container.appendChild(html); }*/\r\n\r\n  getGlobalLevelStyle(checkCustomizedFirst: boolean = true): Element {\r\n    let tsClass: string = this.getClassName();/*\r\n    if (false && false ) {\r\n    } else if (this instanceof IClass) { tsClass = 'Class';\r\n    } else if (this instanceof IAttribute) { tsClass = 'Attribute';\r\n    } else if (this instanceof IReference) { tsClass = 'Reference';\r\n    } else if (this instanceof EOperation) { tsClass = 'EOperation';\r\n    } else if (this instanceof EParameter) { tsClass = 'EParameter';\r\n    } else { tsClass = 'ERROR: ' + U.getTSClassName(this); }*/\r\n    return ModelPiece.GetStyle(this.getModelRoot(), tsClass, checkCustomizedFirst); }\r\n\r\n\r\n  getInheritableStyle(): StyleComplexEntry {\r\n    let i: number;\r\n    const ret: StyleComplexEntry = new StyleComplexEntry();\r\n    for (i = this.views.length; --i >= 0;) {\r\n      let v: ViewRule = this.views[i];\r\n      // if (!v.viewpoint.isApplied) continue;\r\n      if (!v.htmli || !v.htmli.getHtml()) continue;\r\n      ret.html = v.htmli.getHtml();\r\n      ret.htmlobj = v.htmli;\r\n      ret.view = v;\r\n      ret.ownermp = this;\r\n      ret.isinstanceshtml = true;\r\n      return ret; }\r\n    return null; }\r\n\r\n  getInheritedStyle(): StyleComplexEntry { return this.metaParent ? this.metaParent.getInheritableStyle() : null; }\r\n  getStyle(): StyleComplexEntry {\r\n    let j: number;\r\n    let i: number;\r\n    const ret: StyleComplexEntry = new StyleComplexEntry();\r\n    // level 1: own style\r\n    for (j = this.views.length; --j >= 0;){\r\n      const v: ViewRule = this.views[j];\r\n      if (!v.htmlo || !v.htmlo.getHtml()) continue;\r\n      ret.html = v.htmlo.getHtml();\r\n      ret.htmlobj = v.htmlo;\r\n      ret.view = v;\r\n      ret.ownermp = this;\r\n      ret.isownhtml = true;\r\n      return ret; }\r\n\r\n    // level 2: inherited style\r\n    const tmpret = this.getInheritedStyle();\r\n    if (tmpret) return tmpret;\r\n\r\n    // level 3: prendo lo stile default user-made\r\n    const model: IModel = this.getModelRoot();\r\n    for (j = model.viewpoints.length; --j >= 0;) {\r\n      const vp: ViewPoint = model.viewpoints[j];\r\n      if (!vp.isApplied) continue;\r\n      const v: ViewRule = vp.getDefault(this, false);\r\n      if (!v) continue;\r\n      ret.html = v.htmlo.getHtml();\r\n      ret.htmlobj = v.htmlo;\r\n      ret.view = v;\r\n      ret.ownermp = this;\r\n      ret.isCustomGlobalhtml = true;\r\n      return ret; }\r\n\r\n    // level 4: se fallisce tutto, prendo lo stile statico default\r\n    ret.html = this.getGlobalLevelStyle();\r\n    ret.htmlobj = null;\r\n    ret.view = null;\r\n    ret.ownermp = null;\r\n    ret.isGlobalhtml = true;\r\n    return ret; }\r\n\r\n  /*\r\n  getStyleOld(): ViewHtmlSettings { return this.views.getHtml(this); }\r\n  getStyleOldOld(): Element { return this.views.getHtml(this); }\r\n  getStyleOldissimo(debug: boolean = true): Element {\r\n    // prima precedenza: stile personale.\r\n    let ret: Element;\r\n    if (this.customStyleToErase) { ret = this.customStyleToErase; ret.id = '' + this.id; return ret; }\r\n    // seconda precedenza: stile del meta-parent.\r\n    const metap1 = this.metaParent;\r\n    if (metap1 && metap1.styleOfInstances) { ret = metap1.styleOfInstances; ret.id = '' + this.id; return ret; }\r\n    // terzo e quarto livello: search for customized third-override-css-like global styles; or immutable fourth global styles.\r\n    ret = this.getGlobalLevelStyle(true);\r\n    ret.id = '' + this.id;\r\n    return ret; }\r\n    getStyleObj(): ModelPieceStyleEntry {\r\n      if (this.styleobj) { return this.styleobj; }\r\n      return this.styleobj = ModelPieceStyleEntry.load(this.getStyle(), null); }*/\r\n\r\n  getInfo(toLower: boolean = false): Info {\r\n    let i: number;\r\n    const info: any = new Info();\r\n    const instancesInfo: any = {};\r\n    const childrenInfo: any = {};\r\n    const model: IModel = this.getModelRoot();\r\n    Info.set(info, 'tsClass', U.getTSClassName(this));\r\n    Info.set(info, 'this', this);\r\n    if (!(this instanceof IModel)) { Info.set(info, 'parent', this.parent); }\r\n    if (!(this instanceof IFeature)) { Info.set(info, 'childrens', childrenInfo); }\r\n    if (model.isMM()) {\r\n      Info.set(info, 'instance', instancesInfo);\r\n      Info.set(info, 'name', this.name);\r\n    } else { Info.set(info, 'metaParent', this.metaParent); }\r\n    for (i = 0; this.childrens && i < this.childrens.length; i++) {\r\n      const child = this.childrens[i];\r\n      let name = model.isM1() && child.metaParent ? child.metaParent.name : child.name;\r\n      U.pw(!name, 'getInfo() getName error: probably some metaparent is null.', this, child);\r\n      if (!name) name = '';\r\n      Info.setc(info, name.toLowerCase(), child);\r\n      Info.setraw(childrenInfo, name.toLowerCase(), child); }\r\n    for (i = 0; this.instances && i < this.instances.length; i++) { Info.seti(instancesInfo,  '' + i, this.instances[i]); }\r\n    return info; }\r\n\r\n  getHtmlOnGraph(): Element {\r\n    if (this instanceof IPackage) return null;\r\n    if (this instanceof IGraph) return null;\r\n    let html: Element = this.getVertex().getHtmlRawForeign();\r\n    if (this instanceof IClass) return html;\r\n    html = $(html).find('*[data-modelpieceid=\"' + this.id + '\"]')[0];\r\n    return html ? html : null; }\r\n\r\n  getLastViewWith(fieldname: string): ViewRule {\r\n    let i: number = this.views.length;\r\n    while (--i >= 0) {\r\n      const v: ViewRule = this.views[i];\r\n      const val: any = v['' + fieldname];\r\n      // U.pe(fieldname in v, 'property |' + fieldname + '| does not exist in ViewRule. Field name has changed without changing the string\r\n      // accordingly.');\r\n      if (val !== undefined && val !== null) return v;\r\n    }\r\n    if (!this.metaParent) return null;\r\n    i = this.metaParent.views.length;\r\n    while (--i >= 0) {\r\n      const v: ViewRule = this.metaParent.views[i];\r\n      const val: any = v['' + fieldname];\r\n      // U.pe(fieldname in v, 'property |' + fieldname + '| does not exist in ViewRule. Field name has changed without changing the string\r\n      // accordingly.(2)');\r\n      if (val !== undefined && val !== null) return v;\r\n    }\r\n    return null; }\r\n\r\n  getLastView(): ViewRule { return this.views[this.views.length - 1]; }\r\n  /*\r\n    addView(v: ViewRule): void {\r\n      // if (!v.viewpoint.viewsDictionary[this.id]) {  v.viewpoint.viewsDictionary[this.id] = []; }\r\n      v.viewpoint.viewsDictionary[this.id] = v;\r\n      U.ArrayAdd(this.views, v); }\r\n    resetViews(): void { this.views = []; }\r\n  */\r\n  getClassName(): string { return this.className = this.getClassName0(); }\r\n  getClassName0(allowInterfaceAbstract: boolean = false): string {\r\n    if(this instanceof M3Class) { return 'm3Class'; }\r\n    if(this instanceof M2Class) {\r\n      if (!allowInterfaceAbstract) return 'm2Class';\r\n      return this.isInterface ? 'Interface' : ( this.isAbstract ? 'Abstract' : 'm2Class'); }\r\n    if(this instanceof MClass) { return 'm1Class'; }\r\n    if(this instanceof EEnum) { return 'EEnum'; }\r\n    if(this instanceof M3Attribute) { return 'm3Attribute'; }\r\n    if(this instanceof M2Attribute) { return 'm2Attribute'; }\r\n    if(this instanceof MAttribute) { return 'm1Attribute'; }\r\n    if(this instanceof M3Reference) { return 'm3Reference'; }\r\n    if(this instanceof M2Reference) { return 'm2Reference'; }\r\n    if(this instanceof MReference) { return 'm1Reference'; }\r\n    if(this instanceof M3Package) { return 'm3Package'; }\r\n    if(this instanceof M2Package) { return 'm2Package'; }\r\n    if(this instanceof MPackage) { return 'm1Package'; }\r\n    if(this instanceof MetaMetaModel) { return 'm3Model'; }\r\n    if(this instanceof MetaModel) { return 'm2Model'; }\r\n    if(this instanceof Model) { return 'm1Model'; }\r\n    if(this instanceof EOperation) { return 'EOperation'; }\r\n    if(this instanceof EParameter) { return 'EParameter'; }\r\n    if(this instanceof ELiteral) { return 'ELiteral'; }\r\n    U.pe(true, 'failed to find class:', this);\r\n  }\r\n\r\n  getFriendlyClassName(): string {\r\n    return U.replaceAll(U.replaceAll(U.replaceAll(this.getClassName(), 'm1', ''), 'm2', ''), 'm3', '');\r\n  }\r\n  getInstanceClassName(): string {\r\n    let ret = this.getClassName();\r\n    if (ret.indexOf('m1') !== -1) return null;\r\n    return ret.replace('m2', 'm1').replace('m3', 'm2'); }\r\n\r\n  pushDown(untilStartOrEnd: boolean): void { this.pushUp(untilStartOrEnd, +1); }\r\n  pushUp(untilStartOrEnd: boolean, offset: number = -1): void {\r\n    if (!this.parent) { return; }\r\n    let arr: ModelPiece[];\r\n    let parent: any = this.parent;\r\n    let i: number;\r\n    if (untilStartOrEnd) offset = offset > 0 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\r\n    if ((arr = parent.childrens) && (i = arr.indexOf(this)) !== -1){\r\n      U.arrayRemoveAll(arr, this);\r\n      U.arrayInsertAt(arr, i + offset, this); }\r\n    if ((arr = parent.enums) && (i = arr.indexOf(this)) !== -1){\r\n      U.arrayRemoveAll(arr, this);\r\n      U.arrayInsertAt(arr, i + offset, this); }\r\n    if ((arr = parent.classes) && (i = arr.indexOf(this)) !== -1){\r\n      U.arrayRemoveAll(arr, this);\r\n      U.arrayInsertAt(arr, i + offset, this); }\r\n    if ((arr = parent.attributes) && (i = arr.indexOf(this)) !== -1){\r\n      U.arrayRemoveAll(arr, this);\r\n      U.arrayInsertAt(arr, i + offset, this); }\r\n    if ((arr = parent.references) && (i = arr.indexOf(this)) !== -1){\r\n      U.arrayRemoveAll(arr, this);\r\n      U.arrayInsertAt(arr, i + offset, this); }\r\n    if ((arr = parent.operations) && (i = arr.indexOf(this)) !== -1){\r\n      U.arrayRemoveAll(arr, this);\r\n      U.arrayInsertAt(arr, i + offset, this); }\r\n    this.updateKey(); }\r\n}\r\n\r\nexport abstract class ModelNone extends ModelPiece {}\r\n\r\nexport class PendingFunctionCall {\r\n  static ProtectedMPBuffer: PendingFunctionCall[] = [];\r\n  name: string;\r\n  arguments: any[];\r\n  target: object;\r\n\r\n  static executeProtectedMPBuffer(): void {\r\n    let i: number;\r\n    for (i = 0; i < PendingFunctionCall.ProtectedMPBuffer.length; i++) { PendingFunctionCall.ProtectedMPBuffer[i].call(); }\r\n  }\r\n\r\n  static clearProtectedMPBuffer(): void { PendingFunctionCall.ProtectedMPBuffer = []; }\r\n\r\n  constructor (target: object, name: string, args: any[] = null) {\r\n    this.target = target;\r\n    this.name = name;\r\n    this.arguments = args || [];\r\n  }\r\n\r\n  call(target: object = null): void {\r\n    if (!target) target = this.target;\r\n    let f = target[this.name];\r\n    U.pe(!f, 'failed to find function \"' + this.name + '\" to execute inside:', target, this.arguments);\r\n    f(...this.arguments);\r\n  }\r\n\r\n}\r\n\r\nexport class ServerUpdateRequest {\r\n  static readonly minResendMessageCount = 3;\r\n  static buffer: Dictionary<number, ServerRequestAction> = {};\r\n  static lastupdate: Date;\r\n  static lastNumber = -1;\r\n  THIS_SHOULD_HAVE_A_NUMERIC_KEY_EQUAL_TO_NUM_MAX: ServerRequestAction[];\r\n  numMin: number;\r\n  numMax: number;// can be = numMin\r\n  static send(s: ServerUpdateRequest) {}\r\n  static receive(s: ServerUpdateRequest) {/*\r\n    let i: number;\r\n    if (ServerUpdateRequest.lastNumber > s.numMax) U.refreshPage();\r\n    if (s.numMax < s.numMin) { ServerUpdateRequest.requestMissingFrom(ServerUpdateRequest.lastNumber); U.CompletelyBlockWebPage(); return; }\r\n    // se ho ricevuto un buco nelle richieste, bufferizzo senza eseguire\r\n    if (ServerUpdateRequest.lastNumber !== -1 || ServerUpdateRequest.lastNumber < s.numMin){\r\n\r\n      for (i = s.numMin; i <= s.numMax; i++) { ServerUpdateRequest.buffer[i] = s[i]; }\r\n        U.CompletelyBlockWebPage(); // impedisco all'utente di fare altre azioni finchè non si risincronizza\r\n        return;\r\n    }\r\n    const pageGotUnlocked: boolean = U.UnlockWebPage();\r\n    for (i = ServerUpdateRequest.lastNumber + 1; i <= s.numMax; i++) { ServerRequestAction.process(s[i] as ServerRequestAction); }\r\n    ServerUpdateRequest.lastNumber += 1 + (s.numMin - s.numMax);\r\n    if (pageGotUnlocked) {\r\n      for (i = ServerUpdateRequest.lastNumber + 1; i <= s.numMax; i++) {\r\n        let buffered: ServerRequestAction = ServerUpdateRequest.buffer[i];\r\n        if (!buffered) { break; }\r\n        ServerRequestAction.process(buffered); ServerUpdateRequest.lastNumber++;\r\n        delete ServerRequestAction[i]; }\r\n      problema grosso come una casa: se io credo di essere sincronizzato ma è solo internet-lag ed eseguo A mentre mi sta arrivando il comando B:\r\n      io ho eseguito B,A; l'altro ha eseguito A,B\r\n    }*/\r\n  }\r\n}\r\n\r\nexport class ServerRequestAction {\r\n  modelpiecekey: number[];\r\n  viewRuleKey: number[];\r\n  viewPointRuleKey: number[];\r\n  cmdline: PendingFunctionCall[];\r\n\r\n  static process(r: ServerRequestAction){\r\n      const mp = ModelPiece.getByKey(r.modelpiecekey);\r\n      let i: number;\r\n      // for (i = 0; i < r.cmdline.length; i++) PendingFunctionCall.processMP(mp, r.cmdline[i]);\r\n  }\r\n}\r\n\r\nexport class PendingMeasurableChanges {\r\n  target: ModelPiece;\r\n  cmdline: PendingFunctionCall[];\r\n  constructor(target: ModelPiece) { this.target = target; }\r\n  public add(s: string, args: any[] = null) { this.cmdline.push(new PendingFunctionCall(this.target, s, args)); }\r\n  public apply(): void {\r\n    let i: number;\r\n    for (i = 0; i < this.cmdline.length; i++) this.cmdline[i].call(this.target);\r\n  }\r\n}\r\n\r\nclass F{\r\n  static alse(): boolean { return false; }\r\n}\r\n\r\nexport class ProtectedModelPiece {/* implements MReference {\r\n  upperbound: any;\r\n  lowerbound: any;\r\n  field: any;\r\n  ordered: any;\r\n  unique: any;\r\n  type: any;\r\n  serializable: any;\r\n  parent: any;\r\n  childrens: any;\r\n  vertex: any;\r\n  instanceTypeName: any;\r\n  id: number;\r\n  metaParent: any;\r\n  instances: any;\r\n  name: any;\r\n  key: any;\r\n  views: any;\r\n  annotations: any;\r\n  detachedViews: any;\r\n  private sidebarHtml: any;\r\n\r\n  /////////// real fields*/\r\n  unsafemp: ModelPiece/*ModelPiece*/;\r\n  pendingChanges: PendingMeasurableChanges/*private object*/;\r\n  subChanges: ProtectedModelPiece[] = []/*private object*/;\r\n  constructor(original: ModelPiece, createdBy: ProtectedModelPiece){\r\n    if (createdBy) createdBy.subChanges.push(this);\r\n    this.unsafemp = original;\r\n    this.pendingChanges = new PendingMeasurableChanges(original);\r\n    const unsafeFunctionNames: Dictionary< string, boolean> = {};\r\n    const allowedFunctionNames: Dictionary< string, boolean> = {};\r\n    const alwaysToKeep: object = { applyChanges: ''};\r\n\r\n    let key: string;\r\n    for (key in this.unsafemp) {\r\n      if (typeof this.unsafemp[key] === TSON_JSTypes.function) { unsafeFunctionNames[key] = true; } }\r\n    for (key in this) {\r\n      if (typeof this[key] === TSON_JSTypes.function) { allowedFunctionNames[key] = true; } }\r\n    U.join(unsafeFunctionNames, alwaysToKeep, true, false);\r\n    U.objecKeysIntersect(allowedFunctionNames, unsafeFunctionNames, null, false);\r\n\r\n    for (key in this) {\r\n      if (typeof this[key] === TSON_JSTypes.function && !(this[key] in allowedFunctionNames)) delete this[key];\r\n    }\r\n  }\r\n\r\n  applyChanges(): void /*private*/{ // got deleted in evalContext, it is only in backupContext. evalContext calls it through backupContext.call(this = evalContext);\r\n    PendingFunctionCall.executeProtectedMPBuffer();\r\n//todo: send all messages to Client.receiveMessage(jsonCommandFormat);\r\n  }\r\n\r\n  //////// safe functions()\r\n\r\n  getID(): number /*number*/ {/*number*/ return this.unsafemp.getID(); }\r\n  getSelector(): string /*string*/ {/*string*/ return this.unsafemp.getSelector(); }\r\n\r\n  getChildrenSelector(index: number/*number*/): string /*string*/ {/*string*/ return this.unsafemp.getChildrenSelector(index); }\r\n  getChildrenAttributeSelector(index: number/*number*/): string /*string*/ {/*string*/\r\n    if (!(this.unsafemp instanceof IClass)) throw new Error(\"called IClass.getChildrenAttributeSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getChildrenAttributeSelector(index); }\r\n  getTarget(index: number = 0/*number = 0*/): ProtectedModelPiece /*ModelPiece (protected shell)*/ {/*ModelPiece*/\r\n    if (!(this.unsafemp instanceof IReference)) throw new Error(\"called IReference.getTarget() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getTarget(index), this); }\r\n  getTargetSelector(index: number = 0/*number = 0*/): string {/*string*/\r\n    if (!(this.unsafemp instanceof IReference)) throw new Error(\"called IReference.getTargetSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getTargetSelector(index); }\r\n  getChildrenReferenceSelector(index: number/*number*/): string {/*string*/\r\n    console.log('getChildrenReferenceSelector()', index, this);\r\n    if (!(this.unsafemp instanceof IClass)) throw new Error(\"called IClass.getChildrenReferenceSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getChildrenReferenceSelector(index); }\r\n  getChildrenOperationSelector(index: number/*number*/): string {/*string*/\r\n    if (!(this.unsafemp instanceof IClass)) throw new Error(\"called IClass.getChildrenOperationSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getChildrenOperationSelector(index); }\r\n  getChildrenLiteralSelector(index: number/*number*/): string /*string*/ {/*string*/\r\n    if (!(this.unsafemp instanceof EEnum)) throw new Error(\"called EEnum.getChildrenLiteralSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getChildrenLiteralSelector(index); }\r\n  getChildrenParameterSelector(index: number/*number*/): string /*string*/ {/*string*/\r\n    if (!(this.unsafemp instanceof EOperation)) throw new Error(\"called EOperation.getChildrenParameterSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getChildrenParameterSelector(index); }\r\n  getChildrenClassSelector(index: number/*number*/): string {/*string*/\r\n    if (!(this.unsafemp instanceof IPackage)) throw new Error(\"called IPackage.getChildrenClassSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getChildrenClassSelector(index); }\r\n  getChildrenEnumSelector(index: number/*number*/): string {/*string*/\r\n    if (!(this.unsafemp instanceof IPackage)) throw new Error(\"called IPackage.getChildrenEnumSelector() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getChildrenEnumSelector(index); }\r\n\r\n  getChildren(index: number): ProtectedModelPiece { return new ProtectedModelPiece(this.unsafemp.getChildren(index), this); }\r\n  getChildrenAttribute(index: number): ProtectedModelPiece {\r\n    if (!(this.unsafemp instanceof IClass)) throw new Error(\"called IClass.getChildrenAttribute() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getChildrenAttribute(index), this); }\r\n  getChildrenReference(index: number): ProtectedModelPiece {\r\n    if (!(this.unsafemp instanceof IClass)) throw new Error(\"called IClass.getChildrenReference() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getChildrenReference(index), this); }\r\n  getChildrenOperation(index: number): ProtectedModelPiece {\r\n    if (!(this.unsafemp instanceof IClass)) throw new Error(\"called IClass.getChildrenOperation() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getChildrenOperation(index), this); }\r\n  getChildrenLiteral(index: number): ProtectedModelPiece {\r\n    if (!(this.unsafemp instanceof EEnum)) throw new Error(\"called EEnum.getChildrenLiteral() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getChildrenLiteral(index), this); }\r\n  getChildrenParameter(index: number): ProtectedModelPiece {\r\n    if (!(this.unsafemp instanceof EOperation)) throw new Error(\"called EOperation.getChildrenParameter() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getChildrenParameter(index), this); }\r\n  getChildrenClass(index: number): ProtectedModelPiece {\r\n    if (!(this.unsafemp instanceof IPackage)) throw new Error(\"called IPackage.getChildrenClass() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getChildrenClass(index), this); }\r\n  getChildrenEnum(index: number): ProtectedModelPiece {\r\n    if (!(this.unsafemp instanceof IPackage)) throw new Error(\"called IPackage.getChildrenEnum() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getChildrenEnum(index), this); }\r\n\r\n  endingName(valueMaxLength?: number): string{ return this.unsafemp.endingName() }\r\n\r\n  fullname(): string { return this.unsafemp.fullname(); }\r\n\r\n  generateModel(): Json { return this.unsafemp.generateModel({}); }\r\n\r\n  generateModelString(): string { return this.unsafemp.generateModelString(); }\r\n\r\n  getClassName(): string{ return this.unsafemp.getClassName(); }\r\n\r\n  getInfo(toLower?: boolean): Info{ return this.unsafemp.getInfo(toLower); }\r\n\r\n  getInstanceClassName(): string{ return this.unsafemp.getInstanceClassName(); }\r\n\r\n  getKey(): number[]{ return this.unsafemp.getKey(); }\r\n\r\n  getKeyStr(): string{ return this.unsafemp.getKeyStr(); }\r\n\r\n  isChildNameTaken(s: string): boolean{ return this.unsafemp.isChildNameTaken(s); }\r\n\r\n  printableName(valueMaxLength?: number, full?: boolean): string{ return this.unsafemp.printableName(valueMaxLength, full); }\r\n\r\n  printableNameshort(valueMaxLength?: number): string{ return this.unsafemp.printableNameshort(valueMaxLength); }\r\n\r\n  getType(): Type {\r\n    if (!(this.unsafemp instanceof Typedd)) throw new Error(\"called Typed.getDefaultValueStr() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getType(); }\r\n  getClass(): IClassifier {\r\n    if (!(this.unsafemp instanceof Typedd)) throw new Error(\"called Typed.getDefaultValueStr() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return new ProtectedModelPiece(this.unsafemp.getClass(), this) as any; }\r\n  getUpperbound(): number {\r\n    if (!(this.unsafemp instanceof Typedd)) throw new Error(\"called Typed.getUpperbound() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getUpperbound(); }\r\n  getLowerbound(): number {\r\n    if (!(this.unsafemp instanceof Typedd)) throw new Error(\"called Typed.getLowerbound() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return this.unsafemp.getLowerbound(); }\r\n\r\n  getAllowedValuesStr(): string[] {\r\n    let e: EEnum = this.unsafemp instanceof EEnum ? this.unsafemp : null;\r\n    if (!e) throw new Error(\"called EEnum.getAllowedValuesStr() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return e.getAllowedValuesStr(); }\r\n\r\n  getAllowedValuesInt(): number[] {\r\n    let e: EEnum = this.unsafemp instanceof EEnum ? this.unsafemp : null;\r\n    if (!e) throw new Error(\"called EEnum.getAllowedValuesStr() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return e.getAllowedValuesInt(); }\r\n\r\n  getDefaultValueStr(): string {\r\n    let e: EEnum = this.unsafemp instanceof EEnum ? this.unsafemp : null;\r\n    if (!e) throw new Error(\"called EEnum.getDefaultValueStr() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    return e.getDefaultValueStr(); }\r\n\r\n\r\n\r\n\r\n  ////////// safe-able functions adjusting parameters.\r\n\r\n  shouldBeDisplayedAsEdge(set?: boolean): boolean{ return this.unsafemp.shouldBeDisplayedAsEdge(null); }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ////////// unsafe functions got buffered.\r\n\r\n  delete(): void {\r\n    if (F.alse()) this.unsafemp.delete(); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('delete', [true]); }\r\n\r\n  duplicate(nameAppend?/*preTypeComment are ignored*/: string/*:string*/, newParent?: ModelPiece/*:ModelPiece = null*/): /*ignored*/ModelPiece/*ignored*/ {/*ModelPiece*/\r\n    if (F.alse()) this.unsafemp.duplicate(nameAppend, newParent); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('delete', [true]); return null; }\r\n\r\n  mark(markb: boolean, paired: ModelPiece = null, key: string, color?: string, radiusX?: number, radiusY?: number, width?: number, backColor?: string, extraOffset?: GraphSize): void{\r\n    if (F.alse()) this.unsafemp.mark(markb, null, key, color, radiusX, radiusY, width, backColor, extraOffset); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('mark', [...arguments]); }\r\n\r\n  pushDown(untilStartOrEnd: boolean): void{\r\n    if (F.alse()) this.unsafemp.pushDown(untilStartOrEnd); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('pushDown', ['' + untilStartOrEnd]); }\r\n\r\n  pushUp(untilStartOrEnd: boolean, offset?: number): void{\r\n    if (F.alse()) this.unsafemp.pushUp(untilStartOrEnd, offset); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('pushUp', ['' + untilStartOrEnd, '' + offset]); }\r\n\r\n  refreshGUI(): void{\r\n    if (F.alse()) this.unsafemp.refreshGUI(); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('refreshGUI'); }\r\n\r\n  refreshGUI_Alone(): void{\r\n    if (F.alse()) this.unsafemp.refreshGUI_Alone(); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('refreshGUI_Alone'); }\r\n\r\n  refreshInstancesGUI(): void{\r\n    if (F.alse()) this.unsafemp.refreshInstancesGUI(); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('refreshInstancesGUI'); }\r\n\r\n  validate(): boolean {\r\n    if (F.alse()) this.unsafemp.validate(); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('validate');  return undefined; }\r\n\r\n  setName(value: string, refreshGUI?: boolean, warnDuplicateFix?: boolean): string {\r\n    if (F.alse()) this.unsafemp.setName(value, refreshGUI, warnDuplicateFix); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('setName', [...arguments]);  return undefined; }\r\n// EEnum things.\r\n\r\n  addLiteral(literal: string = null): ELiteral {\r\n    const t: EEnum = this.unsafemp instanceof EEnum ? this.unsafemp : null;\r\n    if (!t) throw new Error(\"called EEnum.addLiteral() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    if (F.alse()) t.addLiteral(literal); // just to trigger errors if the source is modified\r\n    this.pendingChanges.add('addLiteral', [...arguments]); return undefined; }\r\n\r\n  setType(ecoreTypeString: string, throwError?: boolean, refreshGui?: boolean): boolean {\r\n    const t: Typedd = this.unsafemp as Typedd;\r\n    if (!t) throw new Error(\"called Typed.setType() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    if (F.alse()) t.setType(ecoreTypeString, true, false);\r\n    this.pendingChanges.add('setType', [...arguments]);  return undefined; }\r\n\r\n  setUpperbound(val: number): void {\r\n    const t: Typedd = this.unsafemp instanceof Typedd ? this.unsafemp : null;\r\n    if (!t) throw new Error(\"called Typed.setUpperbound() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    if (F.alse()) t.setUpperbound(val);\r\n    this.pendingChanges.add('setUpperbound', [...arguments]);  return undefined; }\r\n\r\n  setLowerbound(val: number): void {\r\n    const t: Typedd = this.unsafemp instanceof Typedd ? this.unsafemp : null;\r\n    if (!t) throw new Error(\"called Typed.setLowerbound() on a ModelPiece with a wrong type(\" + U.getTSClassName(this.unsafemp) + \") \");\r\n    if (F.alse()) t.setLowerbound(val);\r\n    this.pendingChanges.add('setLowerbound', [...arguments]);  return undefined; }\r\n\r\n\r\n  /*\r\n    /////// trash to discard NB: do not delete, just comment. if you need to implement MAttribute you won't need to filter and order them again.\r\n    assignID(): number { return undefined; }\r\n    copy(other: ModelPiece, nameAppend?: string, newParent?: ModelPiece): void{ }\r\n    fieldChanged(e: JQuery.ChangeEvent): void{}\r\n    getChildren(name: string, caseSensitive?: boolean): ModelPiece{ return undefined; }\r\n    getGlobalLevelStyle(checkCustomizedFirst?: boolean): Element{ return undefined; }\r\n    getHtmlOnGraph(): Element{ return undefined; }\r\n    getInheritableStyle(): StyleComplexEntry{ return undefined; }\r\n    getInheritedStyle(): StyleComplexEntry{ return undefined; }\r\n    getLastView(): ViewRule{ return undefined; }\r\n    getLastViewWith(fieldname: string): ViewRule{ return undefined; }\r\n    getModelRoot(): IModel{ return undefined; }\r\n    getStyle(): StyleComplexEntry{ return undefined; }\r\n    getVertex(): IVertex{ return undefined; }\r\n    getm2(): MetaModel{ return undefined; }\r\n    linkToLogic(html0: Element): void{ }\r\n    parse(json: Json, destructive?: boolean): void{}\r\n    replaceVarsSetup(): void{}\r\n    setName0(value: string, refreshGUI: boolean, warnDuplicateFix: boolean, key: string, allowEmpty: boolean): string{ return undefined; }\r\n    setNameOld(value: string, refreshGUI?: boolean, warnDuplicateFix?: boolean): string{ return undefined; }\r\n    updateKey(): number[]{ return undefined; }\r\n    getPackage(): IPackage { throw new Error(\"(Typedd) Method not implemented.\"); }\r\n    graph(): IGraph { throw new Error(\"(Typedd) Method not implemented.\"); }\r\n    generateField(): IField { throw new Error(\"(Typedd) Method not implemented.\"); }\r\n    getField(): IField { throw new Error(\"(Typedd) Method not implemented.\"); }\r\n    // trash that i could use in future\r\n    getEcoreTypeName(): string { throw new Error(\"Method not implemented.\"); }\r\n  /// end of ModelPiece trash\r\n\r\n    generateVertex(): IVertex { throw new Error(\"Method not implemented.\"); }\r\n    getSidebarHtml(): HTMLElement { throw new Error(\"Method not implemented.\"); }\r\n    isChildLiteralTaken(s: string): boolean { return undefined; } // will call isChildNameTaken, l'ho messo perhè viene chiamato da this['funcname...'] in setname()\r\n    private autofixEnumValues(): void{ }\r\n    /// end of trash*/\r\n\r\n\r\n}\r\n","export type UniqueIdentifier = string;\r\n\r\nexport class ModelUpdateMessage {\r\n  targetObj: UniqueIdentifier;\r\n  targetField: string;\r\n  newValue: any;\r\n\r\n  constructor(uid: UniqueIdentifier, fieldName: string, newValue: any){\r\n    this.targetObj = uid;\r\n    this.targetField = fieldName;\r\n    this.newValue = newValue;\r\n  }\r\n}\r\n","import {IClass, ModelUpdateMessage, U} from '../../common/Joiner';\r\nimport jqXHR = JQuery.jqXHR;\r\nimport ErrorTextStatus = JQuery.Ajax.ErrorTextStatus;\r\nimport {UniqueIdentifier} from './ModelUpdateMessage';\r\n\r\n// NB: se nel receiveManager ricevo un ordine di update di un ModelPieceID non esistente, devo bufferarlo.\r\n// potrebbe essere una inversione di ordine dei messaggi nello strato di rete.\r\n// NB: se al server arrivano 2 renameModelPiece nell'ordine inverso, devo tenere traccia del timestamp,\r\n// e se l'ultimo rename sul mp è più recente di quello appena arrivato lo ignoro. (idempotenza, non cambia l'ordine dei messaggi)\r\n// todo: perdi la compatibilità con eCore nel salvataggio. permetterebbe di inserire commenti, riferimenti circolari in m1 e altro.\r\n//  poi posso sempre salvare sia in eCore che nel mio nuovo formato.\r\n\r\nexport class SendManager {\r\n  public static manager = new SendManager(\"\", 5000);\r\n  private serverAdress: string;\r\n  private timeout: number;\r\n\r\n  private constructor(serverAdress: string, timeout: number){\r\n    // U.pe(!serverAdress, \"fill server adress before testing\");\r\n    this.serverAdress = serverAdress;\r\n    this.timeout = timeout;\r\n  }\r\n\r\n\r\n  public update(uid: UniqueIdentifier, fieldName: string, newValue: any) {\r\n    const msg: ModelUpdateMessage = new ModelUpdateMessage(uid, fieldName, newValue);\r\n    const callback = () => {};\r\n    let request: JQuery.jqXHR = $.post( this.serverAdress, msg, callback);\r\n    request = $.ajax({\r\n      url: this.serverAdress,\r\n      type: \"POST\",\r\n      dataType: \"json\",\r\n      timeout: this.timeout,\r\n      success: function(response) { setTimeout( () => SendManager.manager.update(uid, fieldName, newValue)); },\r\n      error: function(xmlhttprequest: jqXHR, textstatus: ErrorTextStatus, message: string) {\r\n        // 'success' | 'notmodified' | 'nocontent';\r\n        switch (textstatus) {\r\n          default: U.pe(true, 'unexpected return code from ajax request:', textstatus, msg); break;\r\n          case 'timeout':\r\n\r\n            break;\r\n          case 'error': U.pe(true, 'undefined error after synch server request send', msg); break;\r\n          case 'abort': U.pe(true, 'undefined abort after synch server request send', msg); break;\r\n          case 'parsererror': U.pe(true, 'undefined abort after synch server request send', msg); break;\r\n        }\r\n        if(textstatus===\"timeout\") {\r\n          alert(\"got timeout\");\r\n        } else {\r\n          alert(textstatus);\r\n        }\r\n      }\r\n    });​\r\n    request.state()\r\n  }\r\n\r\n\r\n}\r\n","export class User{\r\n  // todo\r\n  constructor(public key: string) {}\r\n\r\n  getID(): string {\r\n    return this.key;\r\n  }\r\n}\r\n","export default \"::ng-deep :root  {/* css variables */\\r\\n  --topbarH: 40px;\\r\\n  --sidebarW: 283px;\\r\\n  --mainBorderWidth: 5px;\\r\\n  --mainBorder: var(--mainBorderColor) solid var(--mainBorderWidth);\\r\\n  --scrollbarW: 0px;\\r\\n  --tabH: 30px;\\r\\n  --bluebordercolor: #0084ff;\\r\\n\\r\\n  --mainFontColor: transparent;\\r\\n  --mainBackgroundColor: transparent;\\r\\n  --mainBorderColor: transparent;\\r\\n  --secondaryBorderColor: transparent;\\r\\n  --popupBackgroundColor: transparent;\\r\\n  --altBackgroundColor: var(--mainBorderColor);\\r\\n  --altFontColor: transparent;\\r\\n\\r\\n  --DarkmainFontColor: #b2b2ba;\\r\\n  --DarkmainBackgroundColor: #1a1a1c;/*whiteSmoke;*/\\r\\n  --DarkmainBorderColor: #2e2f34;/*#e5e5e5;*/\\r\\n  --DarksecondaryBorderColor: #3c3c44;/*#c5c5c5;*/\\r\\n  --DarkpopupBackgroundColor: #44444c;\\r\\n  --DarkaltBackgroundColor: var(--mainBorderColor);\\r\\n  --DarkaltFontColor: var(--LightmainBorderColor);\\r\\n\\r\\n\\r\\n  --LightmainFontColor: var(--DarksecondaryBorderColor);\\r\\n  --LightmainBackgroundColor: white;\\r\\n  --LightmainBorderColor: #f0f0f0; /*#9ca7b8; on intelliJidea darker shade /*#e5e5e5;*/\\r\\n  --LightsecondaryBorderColor: #f5f5f5; /*#c5c5c5;*/\\r\\n  --LightpopupBackgroundColor: var(--DarkmainBorderColor);\\r\\n  --LightaltBackgroundColor: var(--mainBorderColor);\\r\\n  --LightaltFontColor: var(--DarkmainBorderColor);\\r\\n}\\r\\n::ng-deep *{\\r\\n  box-sizing: border-box;\\r\\n  scrollbar-base-color: transparent;\\r\\n  scrollbar-3dlight-color: transparent;\\r\\n  scrollbar-highlight-color: rgba(93,95,104,0);\\r\\n  scrollbar-track-color: rgba(93,95,104,0);\\r\\n  scrollbar-arrow-color: #000;\\r\\n  scrollbar-shadow-color: rgba(93,95,104,0);\\r\\n  scrollbar-darkshadow-color: rgba(93,95,104,0);\\r\\n  /* -moz-appearance: none !important; */\\r\\n}\\r\\n/*because color will be inherited, but background not (since input and selects cannot inherit and inherit behave like transparent.\\r\\n this is fine on the input itself but the optgroup cannot have transparent and will be always white.\\r\\n now, the problem is if you set a bacgkround-color: inherit / transparent select inside a black element with white text, the optgroup will be white with white text.\\r\\n */\\r\\n::ng-deep optgroup{\\r\\n  color: black;\\r\\n  background-color: white;\\r\\n}\\r\\n/*::-webkit-scrollbar {\\r\\ndisplay: none;\\r\\n}*/\\r\\n*:disabled { cursor: not-allowed !important; }\\r\\ninput[type=checkbox]{ -moz-appearance: checkbox !important; }\\r\\ninput[type=radio]{ -moz-appearance: radio !important; }\\r\\ninput:disabled{\\r\\n  opacity : .75;\\r\\n  filter  : alpha(opacity=75); /* IE<9 */\\r\\n}\\r\\n::ng-deep .styleEditorSelected{\\r\\n  outline: 3px dashed red !important;\\r\\n}\\r\\n/*olds*/\\r\\n/****************** attributeEditor.css */\\r\\n.attributeEditor, .styleEditor{\\r\\n  /*display:inline-box;*/\\r\\n  position: absolute;\\r\\n  width: -moz-fit-content;\\r\\n  padding:8px;\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  border: var(--mainBorder);\\r\\n  max-width: 100vw;\\r\\n  max-height:100vh;\\r\\n  overflow: auto;\\r\\n}\\r\\n.styleEditor{\\r\\n  left: var(--sidebarW);\\r\\n  top: calc(var(--topbarH) + var(--tabH));\\r\\n  /*voglio che sia diversa perchè di solito parte con altezza pari a topbar.h e voglio che sia scrollabile senza spostarla*/\\r\\n  max-height: calc(100vh - calc(var(--topbarH) + var(--tabH)));\\r\\n}\\r\\nbutton.attributeEditorConfirm, button.styleEditorConfirm{\\r\\n  margin-left: calc(50% - 50px);\\r\\n  /* width:100px;\\r\\n   height:30px;*/\\r\\n}\\r\\ntable.attributeTable .attributeEditorFieldName, table.styleTable .styleEditorFieldName{\\r\\n  max-width:150px;\\r\\n  max-height:150px;\\r\\n  overflow:auto;\\r\\n}\\r\\n.styleTable{\\r\\n  margin-top:10px;\\r\\n  text-align: center;\\r\\n}\\r\\n.styleTable td{\\r\\n  max-width: 300px;\\r\\n}\\r\\n.attributeEditorTitle, .styleEditorTitle{\\r\\n  text-align: center;\\r\\n}\\r\\n.edgeRow{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n}\\r\\n.edgeRow>*{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin: 0px;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n  text-align: center;\\r\\n  padding: 4px;\\r\\n  flex-basis: 0px;\\r\\n  -webkit-box-flex: 0;\\r\\n          flex-grow: 0;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n.isCompoundEdge{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin: auto;\\r\\n}\\r\\n.styleCompoundWrapper{\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n}\\r\\n.compoundEdgeStart, .compoundEdgeEnd{\\r\\n  text-align: center;\\r\\n  width: 100%;\\r\\n}\\r\\n.SidebarStyleHtml, .GraphStyleHtml{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-pack: center;\\r\\n          justify-content: center;\\r\\n}\\r\\n/*\\r\\ntable.attributeTable {\\r\\n    border:none;\\r\\n    border-collapse: collapse;\\r\\n}\\r\\n\\r\\ntable.attributeTable td {\\r\\n    border-left: 1px solid #000;\\r\\n    border-right: 1px solid #000;\\r\\n}\\r\\n\\r\\ntable.attributeTable td:first-child {\\r\\n    border-left: none;\\r\\n}\\r\\n\\r\\ntable.attributeTable td:last-child {\\r\\n    border-right: none;\\r\\n}*/\\r\\n.attributeEditorTitle input[type=\\\"checkbox\\\"], .styleEditorTitle input[type=\\\"radio\\\"]{\\r\\n  margin: 4px;\\r\\n}\\r\\n.ReferenceSelector{\\r\\n  float: right;\\r\\n}\\r\\n.rowModelDetail, .vertexModelDetail{\\r\\n  float: right;\\r\\n  border-radius: 50%;\\r\\n  width: 33px;\\r\\n  height: 33px;\\r\\n  padding-top: 2px;\\r\\n}\\r\\n.vertexModelDetail{\\r\\n  margin-left: 10px;\\r\\n  float:none;\\r\\n}\\r\\n/*//////////////////////////////////////////////////  css.css nothing of this should work*/\\r\\n/*\\r\\n.sidebarShell, .editorShell, .property_sidebar{\\r\\n  display: inline-block;/*flex;* /\\r\\n  /* height: calc(100vh - (var(--topbarH) + var(--tabH)));* /\\r\\n  overflow: hidden;\\r\\n  flex-wrap: wrap;}\\r\\n.sidebarShell{\\r\\n  flex-grow: 0;\\r\\n  flex-basis: calc(var(--sidebarW));\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n}\\r\\n#property_sidebar{\\r\\n  flex-grow: 0;\\r\\n  flex-basis: calc(var(--sidebarW));\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n}\\r\\n.editorShell{\\r\\n  flex-basis: 0px;\\r\\n  flex-grow: 1;\\r\\n  width: calc(100vw - var(--sidebarW));\\r\\n}\\r\\n*/\\r\\n#metamodel_tab, #model_tab{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-orient: horizontal;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-direction: row;\\r\\n  flex-wrap: wrap;\\r\\n  -webkit-box-pack: justify;\\r\\n          justify-content: space-between;\\r\\n  -webkit-box-align: start;\\r\\n          align-items: flex-start;\\r\\n  align-content: flex-start;\\r\\n  width: 100vw;}\\r\\n#metamodel_editor, #model_editor{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-basis: 0px;\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  /*width: calc(100vw - var(--sidebarW) - var(--scrollbarW));/*NB: TO DO: quando nascondi l'hiddeninput */\\r\\n  height: calc(100vh - calc(var(--topbarH) + var(--tabH)));\\r\\n  background-color: #44444c;/*lightgoldenrodyellow;*/\\r\\n}\\r\\n#input{\\r\\n  display:none;\\r\\n  width: 100vw;\\r\\n  height: 300px;\\r\\n  overflow-y:scroll;\\r\\n}\\r\\ntable.noBorder{\\r\\n  border: none;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCLGtCQUFrQjtFQUNsQyxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLHNCQUFzQjtFQUN0QixpRUFBaUU7RUFDakUsaUJBQWlCO0VBQ2pCLFlBQVk7RUFDWiwwQkFBMEI7O0VBRTFCLDRCQUE0QjtFQUM1QixrQ0FBa0M7RUFDbEMsOEJBQThCO0VBQzlCLG1DQUFtQztFQUNuQyxtQ0FBbUM7RUFDbkMsNENBQTRDO0VBQzVDLDJCQUEyQjs7RUFFM0IsNEJBQTRCO0VBQzVCLGtDQUFrQyxDQUFDLGNBQWM7RUFDakQsOEJBQThCLENBQUMsV0FBVztFQUMxQyxtQ0FBbUMsQ0FBQyxXQUFXO0VBQy9DLG1DQUFtQztFQUNuQyxnREFBZ0Q7RUFDaEQsK0NBQStDOzs7RUFHL0MscURBQXFEO0VBQ3JELGlDQUFpQztFQUNqQywrQkFBK0IsRUFBRSxtREFBbUQ7RUFDcEYsb0NBQW9DLEVBQUUsV0FBVztFQUNqRCx1REFBdUQ7RUFDdkQsaURBQWlEO0VBQ2pELCtDQUErQztBQUNqRDtBQUNBO0VBQ0Usc0JBQXNCO0VBQ3RCLGlDQUFpQztFQUNqQyxvQ0FBb0M7RUFDcEMsNENBQTRDO0VBQzVDLHdDQUF3QztFQUN4QywyQkFBMkI7RUFDM0IseUNBQXlDO0VBQ3pDLDZDQUE2QztFQUM3QyxzQ0FBc0M7QUFDeEM7QUFDQTs7O0VBR0U7QUFDRjtFQUNFLFlBQVk7RUFDWix1QkFBdUI7QUFDekI7QUFDQTs7RUFFRTtBQUNGLGFBQWEsOEJBQThCLEVBQUU7QUFDN0Msc0JBQXNCLG9DQUFvQyxFQUFFO0FBQzVELG1CQUFtQixpQ0FBaUMsRUFBRTtBQUN0RDtFQUNFLGFBQWE7RUFDYiwyQkFBMkIsRUFBRSxTQUFTO0FBQ3hDO0FBQ0E7RUFDRSxrQ0FBa0M7QUFDcEM7QUFDQSxPQUFPO0FBRVAseUNBQXlDO0FBQ3pDO0VBQ0Usc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQix1QkFBdUI7RUFDdkIsV0FBVztFQUNYLDRDQUE0QztFQUM1Qyx5QkFBeUI7RUFDekIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxxQkFBcUI7RUFDckIsdUNBQXVDO0VBQ3ZDLHlIQUF5SDtFQUN6SCw0REFBNEQ7QUFDOUQ7QUFDQTtFQUNFLDZCQUE2QjtFQUM3QjtnQkFDYztBQUNoQjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixhQUFhO0FBQ2Y7QUFDQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0Usa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7QUFDZjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsV0FBVztFQUNYLDRCQUFpQjtFQUFqQiw2QkFBaUI7VUFBakIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osZUFBZTtFQUNmLG1CQUFZO1VBQVosWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsWUFBWTtBQUNkO0FBQ0E7RUFDRSxtQkFBWTtVQUFaLFlBQVk7QUFDZDtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7QUFDYjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2Isd0JBQXVCO1VBQXZCLHVCQUF1QjtBQUN6QjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztFQWlCRTtBQUVGO0VBQ0UsV0FBVztBQUNiO0FBQ0E7RUFDRSxZQUFZO0FBQ2Q7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGlCQUFpQjtFQUNqQixVQUFVO0FBQ1o7QUFHQSwwRkFBMEY7QUFDMUY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXFCQztBQUNEO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsOEJBQW1CO0VBQW5CLDZCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLHlCQUE4QjtVQUE5Qiw4QkFBOEI7RUFDOUIsd0JBQXVCO1VBQXZCLHVCQUF1QjtFQUN2Qix5QkFBeUI7RUFDekIsWUFBWSxDQUFDO0FBR2Y7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixlQUFlO0VBQ2YsbUJBQVk7VUFBWixZQUFZO0VBQ1osdUdBQXVHO0VBQ3ZHLHdEQUF3RDtFQUN4RCx5QkFBeUIsQ0FBQyx3QkFBd0I7QUFDcEQ7QUFDQTtFQUNFLFlBQVk7RUFDWixZQUFZO0VBQ1osYUFBYTtFQUNiLGlCQUFpQjtBQUNuQjtBQU1BO0VBQ0UsWUFBWTtBQUNkIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAgOnJvb3QgIHsvKiBjc3MgdmFyaWFibGVzICovXHJcbiAgLS10b3BiYXJIOiA0MHB4O1xyXG4gIC0tc2lkZWJhclc6IDI4M3B4O1xyXG4gIC0tbWFpbkJvcmRlcldpZHRoOiA1cHg7XHJcbiAgLS1tYWluQm9yZGVyOiB2YXIoLS1tYWluQm9yZGVyQ29sb3IpIHNvbGlkIHZhcigtLW1haW5Cb3JkZXJXaWR0aCk7XHJcbiAgLS1zY3JvbGxiYXJXOiAwcHg7XHJcbiAgLS10YWJIOiAzMHB4O1xyXG4gIC0tYmx1ZWJvcmRlcmNvbG9yOiAjMDA4NGZmO1xyXG5cclxuICAtLW1haW5Gb250Q29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIC0tbWFpbkJhY2tncm91bmRDb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgLS1tYWluQm9yZGVyQ29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIC0tc2Vjb25kYXJ5Qm9yZGVyQ29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIC0tcG9wdXBCYWNrZ3JvdW5kQ29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIC0tYWx0QmFja2dyb3VuZENvbG9yOiB2YXIoLS1tYWluQm9yZGVyQ29sb3IpO1xyXG4gIC0tYWx0Rm9udENvbG9yOiB0cmFuc3BhcmVudDtcclxuXHJcbiAgLS1EYXJrbWFpbkZvbnRDb2xvcjogI2IyYjJiYTtcclxuICAtLURhcmttYWluQmFja2dyb3VuZENvbG9yOiAjMWExYTFjOy8qd2hpdGVTbW9rZTsqL1xyXG4gIC0tRGFya21haW5Cb3JkZXJDb2xvcjogIzJlMmYzNDsvKiNlNWU1ZTU7Ki9cclxuICAtLURhcmtzZWNvbmRhcnlCb3JkZXJDb2xvcjogIzNjM2M0NDsvKiNjNWM1YzU7Ki9cclxuICAtLURhcmtwb3B1cEJhY2tncm91bmRDb2xvcjogIzQ0NDQ0YztcclxuICAtLURhcmthbHRCYWNrZ3JvdW5kQ29sb3I6IHZhcigtLW1haW5Cb3JkZXJDb2xvcik7XHJcbiAgLS1EYXJrYWx0Rm9udENvbG9yOiB2YXIoLS1MaWdodG1haW5Cb3JkZXJDb2xvcik7XHJcblxyXG5cclxuICAtLUxpZ2h0bWFpbkZvbnRDb2xvcjogdmFyKC0tRGFya3NlY29uZGFyeUJvcmRlckNvbG9yKTtcclxuICAtLUxpZ2h0bWFpbkJhY2tncm91bmRDb2xvcjogd2hpdGU7XHJcbiAgLS1MaWdodG1haW5Cb3JkZXJDb2xvcjogI2YwZjBmMDsgLyojOWNhN2I4OyBvbiBpbnRlbGxpSmlkZWEgZGFya2VyIHNoYWRlIC8qI2U1ZTVlNTsqL1xyXG4gIC0tTGlnaHRzZWNvbmRhcnlCb3JkZXJDb2xvcjogI2Y1ZjVmNTsgLyojYzVjNWM1OyovXHJcbiAgLS1MaWdodHBvcHVwQmFja2dyb3VuZENvbG9yOiB2YXIoLS1EYXJrbWFpbkJvcmRlckNvbG9yKTtcclxuICAtLUxpZ2h0YWx0QmFja2dyb3VuZENvbG9yOiB2YXIoLS1tYWluQm9yZGVyQ29sb3IpO1xyXG4gIC0tTGlnaHRhbHRGb250Q29sb3I6IHZhcigtLURhcmttYWluQm9yZGVyQ29sb3IpO1xyXG59XHJcbjo6bmctZGVlcCAqe1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgc2Nyb2xsYmFyLWJhc2UtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIHNjcm9sbGJhci0zZGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBzY3JvbGxiYXItaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDkzLDk1LDEwNCwwKTtcclxuICBzY3JvbGxiYXItdHJhY2stY29sb3I6IHJnYmEoOTMsOTUsMTA0LDApO1xyXG4gIHNjcm9sbGJhci1hcnJvdy1jb2xvcjogIzAwMDtcclxuICBzY3JvbGxiYXItc2hhZG93LWNvbG9yOiByZ2JhKDkzLDk1LDEwNCwwKTtcclxuICBzY3JvbGxiYXItZGFya3NoYWRvdy1jb2xvcjogcmdiYSg5Myw5NSwxMDQsMCk7XHJcbiAgLyogLW1vei1hcHBlYXJhbmNlOiBub25lICFpbXBvcnRhbnQ7ICovXHJcbn1cclxuLypiZWNhdXNlIGNvbG9yIHdpbGwgYmUgaW5oZXJpdGVkLCBidXQgYmFja2dyb3VuZCBub3QgKHNpbmNlIGlucHV0IGFuZCBzZWxlY3RzIGNhbm5vdCBpbmhlcml0IGFuZCBpbmhlcml0IGJlaGF2ZSBsaWtlIHRyYW5zcGFyZW50LlxyXG4gdGhpcyBpcyBmaW5lIG9uIHRoZSBpbnB1dCBpdHNlbGYgYnV0IHRoZSBvcHRncm91cCBjYW5ub3QgaGF2ZSB0cmFuc3BhcmVudCBhbmQgd2lsbCBiZSBhbHdheXMgd2hpdGUuXHJcbiBub3csIHRoZSBwcm9ibGVtIGlzIGlmIHlvdSBzZXQgYSBiYWNna3JvdW5kLWNvbG9yOiBpbmhlcml0IC8gdHJhbnNwYXJlbnQgc2VsZWN0IGluc2lkZSBhIGJsYWNrIGVsZW1lbnQgd2l0aCB3aGl0ZSB0ZXh0LCB0aGUgb3B0Z3JvdXAgd2lsbCBiZSB3aGl0ZSB3aXRoIHdoaXRlIHRleHQuXHJcbiAqL1xyXG46Om5nLWRlZXAgb3B0Z3JvdXB7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG59XHJcbi8qOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbmRpc3BsYXk6IG5vbmU7XHJcbn0qL1xyXG4qOmRpc2FibGVkIHsgY3Vyc29yOiBub3QtYWxsb3dlZCAhaW1wb3J0YW50OyB9XHJcbmlucHV0W3R5cGU9Y2hlY2tib3hdeyAtbW96LWFwcGVhcmFuY2U6IGNoZWNrYm94ICFpbXBvcnRhbnQ7IH1cclxuaW5wdXRbdHlwZT1yYWRpb117IC1tb3otYXBwZWFyYW5jZTogcmFkaW8gIWltcG9ydGFudDsgfVxyXG5pbnB1dDpkaXNhYmxlZHtcclxuICBvcGFjaXR5IDogLjc1O1xyXG4gIGZpbHRlciAgOiBhbHBoYShvcGFjaXR5PTc1KTsgLyogSUU8OSAqL1xyXG59XHJcbjo6bmctZGVlcCAuc3R5bGVFZGl0b3JTZWxlY3RlZHtcclxuICBvdXRsaW5lOiAzcHggZGFzaGVkIHJlZCAhaW1wb3J0YW50O1xyXG59XHJcbi8qb2xkcyovXHJcblxyXG4vKioqKioqKioqKioqKioqKioqIGF0dHJpYnV0ZUVkaXRvci5jc3MgKi9cclxuLmF0dHJpYnV0ZUVkaXRvciwgLnN0eWxlRWRpdG9ye1xyXG4gIC8qZGlzcGxheTppbmxpbmUtYm94OyovXHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiAtbW96LWZpdC1jb250ZW50O1xyXG4gIHBhZGRpbmc6OHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5CYWNrZ3JvdW5kQ29sb3IpO1xyXG4gIGJvcmRlcjogdmFyKC0tbWFpbkJvcmRlcik7XHJcbiAgbWF4LXdpZHRoOiAxMDB2dztcclxuICBtYXgtaGVpZ2h0OjEwMHZoO1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcbi5zdHlsZUVkaXRvcntcclxuICBsZWZ0OiB2YXIoLS1zaWRlYmFyVyk7XHJcbiAgdG9wOiBjYWxjKHZhcigtLXRvcGJhckgpICsgdmFyKC0tdGFiSCkpO1xyXG4gIC8qdm9nbGlvIGNoZSBzaWEgZGl2ZXJzYSBwZXJjaMOoIGRpIHNvbGl0byBwYXJ0ZSBjb24gYWx0ZXp6YSBwYXJpIGEgdG9wYmFyLmggZSB2b2dsaW8gY2hlIHNpYSBzY3JvbGxhYmlsZSBzZW56YSBzcG9zdGFybGEqL1xyXG4gIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSBjYWxjKHZhcigtLXRvcGJhckgpICsgdmFyKC0tdGFiSCkpKTtcclxufVxyXG5idXR0b24uYXR0cmlidXRlRWRpdG9yQ29uZmlybSwgYnV0dG9uLnN0eWxlRWRpdG9yQ29uZmlybXtcclxuICBtYXJnaW4tbGVmdDogY2FsYyg1MCUgLSA1MHB4KTtcclxuICAvKiB3aWR0aDoxMDBweDtcclxuICAgaGVpZ2h0OjMwcHg7Ki9cclxufVxyXG50YWJsZS5hdHRyaWJ1dGVUYWJsZSAuYXR0cmlidXRlRWRpdG9yRmllbGROYW1lLCB0YWJsZS5zdHlsZVRhYmxlIC5zdHlsZUVkaXRvckZpZWxkTmFtZXtcclxuICBtYXgtd2lkdGg6MTUwcHg7XHJcbiAgbWF4LWhlaWdodDoxNTBweDtcclxuICBvdmVyZmxvdzphdXRvO1xyXG59XHJcbi5zdHlsZVRhYmxle1xyXG4gIG1hcmdpbi10b3A6MTBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuLnN0eWxlVGFibGUgdGR7XHJcbiAgbWF4LXdpZHRoOiAzMDBweDtcclxufVxyXG4uYXR0cmlidXRlRWRpdG9yVGl0bGUsIC5zdHlsZUVkaXRvclRpdGxle1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uZWRnZVJvd3tcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcbi5lZGdlUm93Pip7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW46IDBweDtcclxuICBmbGV4LWZsb3c6IGNvbHVtbjtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogNHB4O1xyXG4gIGZsZXgtYmFzaXM6IDBweDtcclxuICBmbGV4LWdyb3c6IDA7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxufVxyXG4uaXNDb21wb3VuZEVkZ2V7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW46IGF1dG87XHJcbn1cclxuLnN0eWxlQ29tcG91bmRXcmFwcGVye1xyXG4gIGZsZXgtZ3JvdzogMTtcclxufVxyXG4uY29tcG91bmRFZGdlU3RhcnQsIC5jb21wb3VuZEVkZ2VFbmR7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5TaWRlYmFyU3R5bGVIdG1sLCAuR3JhcGhTdHlsZUh0bWx7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4vKlxyXG50YWJsZS5hdHRyaWJ1dGVUYWJsZSB7XHJcbiAgICBib3JkZXI6bm9uZTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbn1cclxuXHJcbnRhYmxlLmF0dHJpYnV0ZVRhYmxlIHRkIHtcclxuICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzAwMDtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICMwMDA7XHJcbn1cclxuXHJcbnRhYmxlLmF0dHJpYnV0ZVRhYmxlIHRkOmZpcnN0LWNoaWxkIHtcclxuICAgIGJvcmRlci1sZWZ0OiBub25lO1xyXG59XHJcblxyXG50YWJsZS5hdHRyaWJ1dGVUYWJsZSB0ZDpsYXN0LWNoaWxkIHtcclxuICAgIGJvcmRlci1yaWdodDogbm9uZTtcclxufSovXHJcblxyXG4uYXR0cmlidXRlRWRpdG9yVGl0bGUgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLCAuc3R5bGVFZGl0b3JUaXRsZSBpbnB1dFt0eXBlPVwicmFkaW9cIl17XHJcbiAgbWFyZ2luOiA0cHg7XHJcbn1cclxuLlJlZmVyZW5jZVNlbGVjdG9ye1xyXG4gIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuLnJvd01vZGVsRGV0YWlsLCAudmVydGV4TW9kZWxEZXRhaWx7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICB3aWR0aDogMzNweDtcclxuICBoZWlnaHQ6IDMzcHg7XHJcbiAgcGFkZGluZy10b3A6IDJweDtcclxufVxyXG4udmVydGV4TW9kZWxEZXRhaWx7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgZmxvYXQ6bm9uZTtcclxufVxyXG5cclxuXHJcbi8qLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIGNzcy5jc3Mgbm90aGluZyBvZiB0aGlzIHNob3VsZCB3b3JrKi9cclxuLypcclxuLnNpZGViYXJTaGVsbCwgLmVkaXRvclNoZWxsLCAucHJvcGVydHlfc2lkZWJhcntcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7LypmbGV4OyogL1xyXG4gIC8qIGhlaWdodDogY2FsYygxMDB2aCAtICh2YXIoLS10b3BiYXJIKSArIHZhcigtLXRhYkgpKSk7KiAvXHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBmbGV4LXdyYXA6IHdyYXA7fVxyXG4uc2lkZWJhclNoZWxse1xyXG4gIGZsZXgtZ3JvdzogMDtcclxuICBmbGV4LWJhc2lzOiBjYWxjKHZhcigtLXNpZGViYXJXKSk7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbWFpbkJhY2tncm91bmRDb2xvcik7XHJcbn1cclxuI3Byb3BlcnR5X3NpZGViYXJ7XHJcbiAgZmxleC1ncm93OiAwO1xyXG4gIGZsZXgtYmFzaXM6IGNhbGModmFyKC0tc2lkZWJhclcpKTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQmFja2dyb3VuZENvbG9yKTtcclxufVxyXG4uZWRpdG9yU2hlbGx7XHJcbiAgZmxleC1iYXNpczogMHB4O1xyXG4gIGZsZXgtZ3JvdzogMTtcclxuICB3aWR0aDogY2FsYygxMDB2dyAtIHZhcigtLXNpZGViYXJXKSk7XHJcbn1cclxuKi9cclxuI21ldGFtb2RlbF90YWIsICNtb2RlbF90YWJ7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcbiAgYWxpZ24tY29udGVudDogZmxleC1zdGFydDtcclxuICB3aWR0aDogMTAwdnc7fVxyXG5cclxuXHJcbiNtZXRhbW9kZWxfZWRpdG9yLCAjbW9kZWxfZWRpdG9ye1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1iYXNpczogMHB4O1xyXG4gIGZsZXgtZ3JvdzogMTtcclxuICAvKndpZHRoOiBjYWxjKDEwMHZ3IC0gdmFyKC0tc2lkZWJhclcpIC0gdmFyKC0tc2Nyb2xsYmFyVykpOy8qTkI6IFRPIERPOiBxdWFuZG8gbmFzY29uZGkgbCdoaWRkZW5pbnB1dCAqL1xyXG4gIGhlaWdodDogY2FsYygxMDB2aCAtIGNhbGModmFyKC0tdG9wYmFySCkgKyB2YXIoLS10YWJIKSkpO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0NDQ0NGM7LypsaWdodGdvbGRlbnJvZHllbGxvdzsqL1xyXG59XHJcbiNpbnB1dHtcclxuICBkaXNwbGF5Om5vbmU7XHJcbiAgd2lkdGg6IDEwMHZ3O1xyXG4gIGhlaWdodDogMzAwcHg7XHJcbiAgb3ZlcmZsb3cteTpzY3JvbGw7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG50YWJsZS5ub0JvcmRlcntcclxuICBib3JkZXI6IG5vbmU7XHJcbn1cclxuIl19 */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent {\n  title = 'untitled';\n}\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport {NgModule, NO_ERRORS_SCHEMA} from '@angular/core';\r\nimport { AppComponent } from './app.component';\r\nimport { MminputComponent } from '../guiElements/mminput/mminput.component';\r\nimport { MmsidebarComponent } from '../guiElements/mmsidebar/mmsidebar.component';\r\nimport { MsidebarComponent } from '../guiElements/msidebar/msidebar.component';\r\nimport { IsidebarComponent} from '../guiElements/isidebar/isidebar.component';\r\nimport { TopBar, TopBarComponent } from '../guiElements/top-bar/top-bar.component';\r\nimport { GraphTabHtmlComponent } from '../guiElements/graph-tab-html/graph-tab-html.component';\r\nimport { MmGraphHtmlComponent } from '../guiElements/mm-graph-html/mm-graph-html.component';\r\nimport {\r\n  IGraph,\r\n  IModel,\r\n  MetaModel,\r\n  Model,\r\n  ModelPiece,\r\n  ISidebar,\r\n  Json,\r\n  U,\r\n  DetectZoom,\r\n  Dictionary,\r\n  M2Class,\r\n  GraphPoint,\r\n  //Options,\r\n  MyConsole,\r\n  MetaMetaModel,\r\n  ShortAttribETypes,\r\n  ECoreRoot,\r\n  M3Class,\r\n  MClass,\r\n  IClass,\r\n  Typedd,\r\n  EOperation,\r\n  MPackage,\r\n  M2Reference,\r\n  M2Package,\r\n  M2Attribute,\r\n  IPackage,\r\n  M3Package,\r\n  M3Attribute,\r\n  EParameter,\r\n  IAttribute,\r\n  MReference,\r\n  IReference,\r\n  M3Reference,\r\n  MAttribute,\r\n  Type,\r\n  LocalStorage,\r\n  ViewPoint,\r\n  SaveListEntry,\r\n  EType,\r\n  IClassifier,\r\n  GraphSize,\r\n  ELiteral,\r\n  EEnum,\r\n  IEdge,\r\n  IVertex,\r\n  ExtEdge,\r\n  EdgePoint,\r\n  ViewRule,\r\n  MeasurableRuleParts,\r\n  Rotatableoptions,\r\n  Resizableoptions,\r\n  Draggableoptions,\r\n  WebsiteTheme,\r\n  ChangelogRoot,\r\n  TSON,\r\n  TSON_JSTypes, TSON_UnsupportedTypes, PropertyBarr, MeasurableEvalContext, InputPopup, ECoreEnum, MeasurableOperators,\r\n} from '../common/Joiner';\r\nimport { PropertyBarrComponent }   from '../guiElements/property-barr/property-barr.component';\r\nimport { MGraphHtmlComponent }     from '../guiElements/m-graph-html/m-graph-html.component';\r\nimport { DamContextMenuComponent } from '../guiElements/dam-context-menu/dam-context-menu.component';\r\nimport { StyleEditorComponent }    from '../guiElements/style-editor/style-editor.component';\r\nimport { ConsoleComponent }        from '../guiElements/console/console.component';\r\nimport {MeasurabletemplateComponent} from './measurabletemplate/measurabletemplate.component';\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport {AutocompleteMatch} from '../common/util';\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport {Network} from 'vis-network';\r\nimport {Layouting} from '../guiElements/mGraph/Layouting';\r\nimport {M2tcreatorComponent} from '../guiElements/top-bar/m2tcreator/m2tcreator.component';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {User} from './User';\r\n\r\n// @ts-ignore\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MminputComponent,\r\n    MmsidebarComponent,\r\n    MsidebarComponent,\r\n    IsidebarComponent,\r\n    TopBarComponent,\r\n    GraphTabHtmlComponent,\r\n    MmGraphHtmlComponent,\r\n    PropertyBarrComponent,\r\n    MGraphHtmlComponent,\r\n    DamContextMenuComponent,\r\n    StyleEditorComponent,\r\n    TopBarComponent,\r\n    ConsoleComponent,\r\n    MeasurabletemplateComponent,\r\n    M2tcreatorComponent,\r\n    /*BrowserAnimationsModule*/\r\n  ],\r\n  imports:[\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    FormsModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [\r\n    AppComponent,\r\n    MminputComponent,\r\n    DamContextMenuComponent,\r\n    TopBarComponent,\r\n    ConsoleComponent,\r\n    GraphTabHtmlComponent,\r\n    MeasurabletemplateComponent],\r\n  // aggiunto da me\r\n  schemas: [\r\n    NO_ERRORS_SCHEMA\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\r\n\r\n\r\n\r\nexport class Status {\r\n  static status: Status = null;\r\n  static userid: string;\r\n  mmm: MetaMetaModel;\r\n  mm: MetaModel = null;\r\n  m: Model = null;\r\n  typeAliasDictionary: Dictionary<string, Dictionary<ShortAttribETypes, string>> = {};\r\n  currentTypeAlias: string;\r\n  // aliasTypeDictionary: Dictionary<string, ShortAttribETypes> = {};\r\n  debug = false;\r\n  loadedLogic = false;\r\n  loadedGUI = false;\r\n  XMLinlineMarker: string = '' + '@';\r\n  // todo: consenti di customizzare il marker, (in m3options?)\r\n\r\n  refreshModeAll: boolean = true;\r\n  refreshModelAndInstances: boolean = false;\r\n  refreshModelAndParent: boolean = false;\r\n  refreshInstancesToo: boolean = false;\r\n  refreshModel: boolean = false;\r\n  refreshMetaParentToo: boolean = false;\r\n  refreshParentToo: boolean = false;\r\n  // modelMatTab: MatTabGroup = null;\r\n  /*showMMGrid = true;\r\n  showMGrid = true;\r\n  mmGrid = new GraphPoint(20, 20);\r\n  mGrid = new GraphPoint(20, 20);*/\r\n  user: User = new User('mock_user');\r\n\r\n  constructor() { }\r\n  save(): string {\r\n    return 'TO DO: SERIALIZE'; }\r\n  getActiveModel(): IModel {\r\n    // if (Status.status.modelMatTab) { if (Status.status.modelMatTab.selectedIndex === 0) { return this.mm; } else { return this.m; } }\r\n    if ($('.UtabHeader.main[data-target=\"1\"][selected=\"true\"]').length === 1) { return Status.status.mm; }\r\n    if ($('.UtabHeader.main[data-target=\"2\"][selected=\"true\"]').length === 1) { return Status.status.m; }\r\n    U.pe(true, 'modello attivo non trovato.');\r\n    return null;\r\n  }\r\n\r\n  isM(): boolean {return this.getActiveModel() === this.m; }\r\n  isMM(): boolean {return this.getActiveModel() === this.mm; }\r\n\r\n  enableAutosave(timer: number): void {\r\n    $(window).off('beforeunload.unload_autosave').on('beforeunload.unload_autosave', () => { this.autosave(); });\r\n    localStorage.setItem('autosave', 'true');\r\n    setInterval(() => { this.autosave(); }, timer);\r\n  }\r\n  autosave(): void {\r\n    this.mm.save(true, null);\r\n    this.m.save(true, null);\r\n\r\n\r\n    console.log('autosave completed.');\r\n  }\r\n}\r\n\r\n\r\nexport function main0(loadEvent: Event, tentativi: number = 0) {\r\n  try {\r\n    Status.status = new Status();\r\n    (window as any).global = window;\r\n    // (window as any).global.Buffer = (window as any).global.Buffer || require('buffer').Buffer;\r\n    if (document.getElementById('MM_INPUT') === null) {\r\n      if (tentativi++ >= 10)  { U.pe(true, 'failed to load MM_INPUT'); }\r\n      setTimeout(() => main0(null, tentativi), 100);\r\n      console.log('main0 wait(100)');\r\n      return; }// else { mainForceTabChange(0); }\r\n\r\n    // U.loadScript('./app/common/jquery-ui-1.12.1/jquery-ui.js');\r\n    // U.loadScript('./app/common/jquery-ui-1.12.1/jquery-ui.structure.js');\r\n    // U.loadScript('https://code.jquery.com/ui/1.12.1/jquery-ui.min.js');\r\n    main();\r\n    setTimeout(() => delayedMain(), 1);\r\n  }\r\n    catch (e) {\r\n      const errormsg = 'initialization failed, this is likely caused by a failure on connection while downloading libraries or by unsupported browser.';\r\n      console.error('first error:', e);\r\n      try { U.pw(true, errormsg); } catch(ee) { console.log('second error while printing:', ee); document.body.innerHTML = errormsg; }\r\n    }\r\n  // console.log('main(), $ loaded:', $ !== undefined, 'status: ', Status.status);\r\n}\r\n/*function mainForceTabChange(tentativi: number = 0) {\r\n  let retry = false;\r\n  if (!Status.status.modelMatTab) {\r\n    Status.status.modelMatTab = GraphTabHtmlComponent.matTabModel;\r\n    retry = true;\r\n    if (tentativi++ >= 10) { U.pe(true, 'failed to change tab (not initialized)', Status.status); }}\r\n  if (Status.status.modelMatTab && Status.status.modelMatTab.selectedIndex === 1) {\r\n    Status.status.modelMatTab.selectedIndex = 0;\r\n    if (tentativi++ >= 10) { U.pe(true, 'failed to change tab (changeindex)'); }\r\n    retry = true; }\r\n  if (retry) {\r\n    setTimeout(() => mainForceTabChange(tentativi), 100);\r\n  } else { main(); }\r\n}*/\r\n\r\nconst M2InputXml: string = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n' +\r\n  '<ecore:EPackage xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\\n' +\r\n  '    xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" name=\"pkg\" nsURI=\"http://www.pkg.uri.com\" nsPrefix=\"pkg.prefix\">\\n' +\r\n  '  <eClassifiers xsi:type=\"ecore:EClass\" name=\"player\">\\n' +\r\n  '   <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"name\"' +\r\n  '       eType=\"ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EChar\"/>\\n' +\r\n  '  </eClassifiers>\\n' +\r\n  '  <eClassifiers xsi:type=\"ecore:EClass\" name=\"league\">\\n' +\r\n  '    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"playerlist\" eType=\"#//player\"/>\\n' +\r\n  '  </eClassifiers>\\n' +\r\n  '</ecore:EPackage>\\n';\r\n\r\nfunction globalNativeFunctionOverride() {\r\n  const getattr = Element.prototype.getAttribute;\r\n  // apparently getattrib() in svg elements is case sensitive, while in html is not. but still svg cannot have uppercase letters in attributes. (chrome bug?)\r\n  Element.prototype.getAttribute = function(qualifiedName: string): string | null { return typeof qualifiedName === TSON_JSTypes.string ? getattr.call(this, qualifiedName.toLowerCase()) : null; }\r\n}\r\n\r\nfunction globalevents(): void {\r\n  globalNativeFunctionOverride();\r\n  // Prevent the backspace key from navigating back.\r\n  const $document = $(document);\r\n  $document.off('mousedown.print').on('mousedown.print', (e: MouseDownEvent) => {\r\n    let mp: ModelPiece = ModelPiece.get(e);\r\n    if (!mp) return;\r\n    let name: string =  mp.printableName(20, true);\r\n    console.log('clicked mp:', mp.id, name, mp);\r\n    console.info('clicked mp:', mp.id, name, mp);\r\n  });\r\n  $document.off('keydown.preventBackslash').on('keydown.preventBackslash', U.preventBackSlashHistoryNavigation);\r\n  $document.off('keydown.abortEdgeChange').on('keydown.abortEdgeChange', (e: KeyDownEvent): void  => {\r\n    console.log('documentKeyDown: ', e.key, e.keyCode);\r\n    if (e.key === 'Escape') { Status.status.getActiveModel().graph.edgeChangingAbort(e); }\r\n  });\r\n  window['' + 'U'] = U;\r\n  window['' + 'IGraph'] = IGraph;\r\n  window['' + 'IVertex'] = IVertex;\r\n  window['' + 'IEdge'] = IEdge;\r\n  window['' + 'ExtEdge'] = ExtEdge;\r\n  window['' + 'EdgePoint'] = EdgePoint;\r\n  window['' + 'ViewPoint'] = ViewPoint;\r\n  window['' + 'ViewRule'] = ViewRule;\r\n  window['' + 'ModelPiece'] = ModelPiece;\r\n  window['' + 'IModel'] = IModel;\r\n  window['' + 'Status'] = Status;\r\n  window['' + 'M3Model'] = MetaMetaModel;\r\n  window['' + 'M2Model'] = MetaModel;\r\n  window['' + 'MModel'] = Model;\r\n  window['' + 'IPackage'] = IPackage;\r\n  window['' + 'M3Package'] = M3Package;\r\n  window['' + 'M2Package'] = M2Package;\r\n  window['' + 'MPackage'] = MPackage;\r\n  window['' + 'Enum'] = EEnum;\r\n  window['' + 'ELiteral'] = ELiteral;\r\n  window['' + 'IClassifier'] = IClass;\r\n  window['' + 'IClass'] = IClass;\r\n  window['' + 'M3Class'] = M3Class;\r\n  window['' + 'M2Class'] = M2Class;\r\n  window['' + 'MClass'] = MClass;\r\n  window['' + 'Typedd'] = Typedd;\r\n  window['' + 'EOperation'] = EOperation;\r\n  window['' + 'EParameter'] = EParameter;\r\n  window['' + 'IReference'] = IReference;\r\n  window['' + 'M3Reference'] = M3Reference;\r\n  window['' + 'M2Reference'] = M2Reference;\r\n  window['' + 'MReference'] = MReference;\r\n  window['' + 'IAttribute'] = IAttribute;\r\n  window['' + 'M3Attribute'] = M3Attribute;\r\n  window['' + 'M2Attribute'] = M2Attribute;\r\n  window['' + 'MAttribute'] = MAttribute;\r\n  window['Rotatableoptions'] = Rotatableoptions;\r\n  window['Resizableoptions'] = Resizableoptions;\r\n  window['Draggableoptions'] = Draggableoptions;\r\n  window['TSON'] = TSON;\r\n  window['TSON_JSTypes'] = TSON_JSTypes;\r\n  window['TSON_UnsupportedTypes'] = TSON_UnsupportedTypes;\r\n  window['Network'] = Network;\r\n  window['Layouting'] = Layouting;\r\n  window['TopBar'] = TopBar;\r\n  window['' + 'help'] = [\r\n    'setBackup (backup <= saveToDB)',\r\n    'backupSave (saveToDB <= backup)',\r\n    'destroy (the backup)',\r\n    'discardSave (stop autosave)'];\r\n  window['' + 'destroy'] = () => {\r\n    localStorage.setItem('m1_' + SaveListEntry.model.lastopened, null);\r\n    localStorage.setItem('m2_' + SaveListEntry.model.lastopened, null);\r\n    localStorage.setItem('m1_' + SaveListEntry.view.lastopened, null);\r\n    localStorage.setItem('m2_' + SaveListEntry.view.lastopened, null);\r\n    localStorage.setItem('m1_' + SaveListEntry.vertexPos.lastopened, null);\r\n    localStorage.setItem('m2_' + SaveListEntry.vertexPos.lastopened, null);\r\n    localStorage.setItem('backupMM', null);\r\n    localStorage.setItem('backupGUI', null);\r\n    localStorage.setItem('backupM', null);\r\n    localStorage.setItem('autosave', 'false');\r\n  };\r\n  window['' + 'discardSave'] = () => {\r\n    localStorage.setItem('autosave', 'false');\r\n    $(window).off('beforeunload.unload_autosave');\r\n    window.location.href += ''; };\r\n  window['' + 'backupSave'] = () => {\r\n    window['' + 'discardSave']();\r\n    window['' + 'backupSaveMM']();\r\n    window['' + 'backupSaveM']();\r\n    window['' + 'backupSaveGUI'](); };\r\n  window['' + 'backupSaveGUI'] = () => { localStorage.setItem('modelGraphSave_GUI_Damiano', localStorage.getItem('backupGUI')); };\r\n  window['' + 'backupSaveMM'] = () => { localStorage.setItem('LastOpenedMM', localStorage.getItem('backupMM')); };\r\n  window['' + 'backupSaveM'] = () => { localStorage.setItem('LastOpenedM', localStorage.getItem('backupM')); };\r\n  window['' + 'setBackup'] = () => { window['' + 'setBackupM'](); window['' + 'setBackupMM'](); window['' + 'setBackupGUI'](); };\r\n  window['' + 'setBackupGUI'] = () => { localStorage.setItem('backupGUI', localStorage.getItem('modelGraphSave_GUI_Damiano')); };\r\n  window['' + 'setBackupMM'] = () => { localStorage.setItem('backupMM', localStorage.getItem('LastOpenedMM')); };\r\n  window['' + 'setBackupM'] = () => { localStorage.setItem('backupM', localStorage.getItem('LastOpenedM')); };\r\n}\r\nfunction setBootstrapOnLowestPriority() {\r\n  let $s = $('style');\r\n  for(let i = 0; i < $s.length; i++) {\r\n    if ($s[i].innerText.substring(0, 220).indexOf('https://getbootstrap.com/') === -1) continue;\r\n    document.head.prepend($s[i]);\r\n    return; }\r\n}\r\n\r\nfunction main() {\r\n  let tmp: any;\r\n  let useless: any;\r\n  let i: number;\r\n  setBootstrapOnLowestPriority();\r\n  (window as any).U = U;\r\n  (window as any).status = Status.status;\r\n  U.focusHistorySetup();\r\n  U.tabSetup();\r\n  U.resizableBorderSetup();\r\n\r\n  const $resizableBorders: JQuery<HTMLElement> = $('.resizableBorder.side, .resizableBorder.corner');\r\n  for (i = 0; i < $resizableBorders.length; i++) { $resizableBorders[i].style.borderColor = 'var(--mainBorderColor)'; }\r\n\r\n\r\n  ECoreRoot.initializeAllECoreEnums();\r\n  globalevents();\r\n  EType.LoadTypeMaps();\r\n  MeasurableRuleParts.staticinit();\r\n  IVertex.staticinit();\r\n  IEdge.staticInit();\r\n  new MyConsole();\r\n  U.pw((tmp = +DetectZoom.device()) !== 1, 'Current zoom level is different from 100%.',\r\n    'The graph part of this website may be graphically misplaced due to a bug with Svg\\'s <foreignObject> content.',\r\n    'current zoom:' + (+tmp * 100) + '%',\r\n    'The bug happens in: Chrome.',\r\n    'The bug does NOT happen in: Firefox.',\r\n    'Behaviour is unknown for other browsers.');\r\n  /*\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.ECharObj] = 'ECharObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EStringObj] = 'EStringObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EDateObj] = 'EDateObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EFloatObj] = 'EFloatObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EDoubleObj] = 'EDoubleObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EByteObj] = 'EByteObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EShortObj] = 'EShortObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EIntObj] = 'EIntObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.ELongObj] = 'ELongObj';\r\n  Status.status.typeAliasDictionary[ShortAttribETypes.EELIST] = 'EELIST';*/\r\n  EType.staticInit();\r\n  DamContextMenuComponent.staticInit();\r\n\r\n  const savem2 = LocalStorage.getLastOpened(2);\r\n  const savem1 = LocalStorage.getLastOpened(1);\r\n  /*let MetaMetaModelStr = MetaMetaModel.emptyMetaMetaModel;\r\n  let MetaModelinputStr = MetaModel.emptyModel;\r\n  let ModelinputStr = Model.emptyModel;*/\r\n  const validate = (thing: string, defaultvalue: string): string => { return thing && thing !== '' && thing !== 'null' && thing !== 'undefined' ? thing : defaultvalue; };\r\n  savem2.model = validate(savem2.model, MetaModel.emptyModel);\r\n  savem1.model = validate(savem1.model, Model.emptyModel);\r\n  TopBar.staticInit();\r\n  WebsiteTheme.setTheme();\r\n  Status.status.mmm = new MetaMetaModel(null);\r\n  console.log('loading MM:', savem2);\r\n  console.log('loading M:', savem1);\r\n\r\n  try {\r\n    Status.status.mm = new MetaModel(JSON.parse(savem2.model), Status.status.mmm);\r\n  } catch(e) {\r\n    U.pw(true, 'Failed to load the metamodel.');\r\n    console.log(e, savem2.model);\r\n    Type.all = [];// reset invalid old parsed types, enums... they are no longer defined in the empty metamodel\r\n    Status.status.mm = new MetaModel(JSON.parse(MetaModel.emptyModel), Status.status.mmm);\r\n  }\r\n  // console.log('m3:', Status.status.mmm, 'm2:', Status.status.mm, 'm1:', Status.status.m); return;\r\n  Type.linkAll();\r\n  M2Class.updateSuperClasses();\r\n  let m2classes: M2Class[] = Status.status.mm.getAllClasses();\r\n  // m2classes.forEach((classe: M2Class) => { classe.calculateShadowings(false); });\r\n  try {\r\n    Status.status.m = new Model(JSON.parse(savem1.model), Status.status.mm);\r\n  } catch(e) {\r\n    U.pw(true, 'Failed to load the model. Does it conform to the metamodel?');\r\n    console.log(e);\r\n    Status.status.m = new Model(JSON.parse(Model.emptyModel), Status.status.mm);\r\n  }\r\n  console.log('m3:', Status.status.mmm, 'm2:', Status.status.mm, 'm1:', Status.status.m);\r\n  // Status.status.m.LinkToMetaParent(Status.status.mm);\r\n  // Status.status.m.fixReferences(); already linked at parse time.\r\n  Status.status.loadedLogic = true;\r\n  useless = new ISidebar(Status.status.mmm, document.getElementById('metamodel_sidebar'));\r\n  useless = new ISidebar(Status.status.mm, document.getElementById('model_sidebar'));\r\n  useless = new IGraph(Status.status.mm, document.getElementById('metamodel_editor') as unknown as SVGSVGElement);\r\n  useless = new IGraph(Status.status.m, document.getElementById('model_editor') as unknown as SVGSVGElement);\r\n  m2classes.forEach((classe: M2Class) => { classe.checkViolations(false); });\r\n  Status.status.mm.graph.setGrid(20, 20, true);\r\n  Status.status.m.graph.setGrid(20, 20, true);\r\n  Status.status.loadedGUI = true;\r\n  Status.status.mm.calculateViolations();\r\n  IEdge.all.forEach((e: IEdge) => { e.refreshGui();  e.refreshGui(); });\r\n  Status.status.mm.graph.propertyBar.show(Status.status.mm, null, null);\r\n  Status.status.m.graph.propertyBar.show(Status.status.m, null, null);\r\n  PropertyBarr.staticinit();\r\n  Type.updateTypeSelectors(null, true, true, true);\r\n\r\n  if (!savem2.vertexpos || !savem2.view){\r\n    const tmpp: {view: string, vertexPos: string} = Status.status.mm.storage.getViewPoints();\r\n    savem2.view = savem2.view || tmpp.view;\r\n    savem2.vertexpos = savem2.vertexpos || tmpp.vertexPos; }\r\n\r\n  if (!savem1.vertexpos || !savem1.view){\r\n    const tmpp: {view: string, vertexPos: string} = Status.status.m.storage.getViewPoints();\r\n    savem1.view = savem1.view || tmpp.view;\r\n    savem1.vertexpos = savem1.vertexpos || tmpp.vertexPos; }\r\n\r\n  savem2.view = validate(savem2.view, '[]');\r\n  savem2.vertexpos = validate(savem2.vertexpos, '{}');\r\n  savem1.view = validate(savem1.view, '[]');\r\n  savem1.vertexpos = validate(savem1.vertexpos, '{}');\r\n  let marr: IModel[] = [Status.status.mm, Status.status.m];\r\n  let vpmatjson: Json[][] = [JSON.parse(savem2.view || '[]'), JSON.parse(savem1.view || '[]')] as Json[][];\r\n  const vertexposMat: Dictionary<string, GraphPoint>[] = [JSON.parse(savem2.vertexpos), JSON.parse(savem1.vertexpos)] as Dictionary<string, GraphPoint>[];\r\n  // console.log(vpmatjson, Status.status.mm.graph.viewPointShell);\r\n\r\n  // return;\r\n  let j: number;\r\n  for (j = 0; j < vertexposMat.length; j++) {\r\n    const vdic: Dictionary<string, GraphPoint> = vertexposMat[j];\r\n    const m: IModel = marr[j];\r\n    for (let key in vdic) {\r\n      console.log('key:', key, 'varr:', vdic);\r\n      const mp: IClassifier = ModelPiece.getByKeyStr(key) as IClassifier;\r\n      const size: GraphSize = new GraphSize().clone(vdic[key]);\r\n      if (!mp || !(mp instanceof IClassifier)) {\r\n        // U.cclear();\r\n        U.pw(true, 'invalid vertexposition save, failed to get classifier:', key, vdic); continue; }\r\n      mp.getVertex().setSize(size);\r\n    }\r\n  }\r\n\r\n  for (j = 0; j < vpmatjson.length; j++) {\r\n    const vparr: ViewPoint[] = vpmatjson[j] as ViewPoint[];\r\n    const m: IModel = marr[j];\r\n    let v: ViewPoint;\r\n    for (i = 0; i < vparr.length; i++) {\r\n      const jsonvp: ViewPoint = vparr[i];\r\n      // console.clear();\r\n      // console.log('looping this:', jsonvp, ', vpmatjson:', vpmatjson);\r\n      v = new ViewPoint(m);\r\n      v.clone(jsonvp);\r\n      v.updateTarget(m);\r\n      m.graph.viewPointShell.add(v, false); // [persistent isApplied] STEP 1: qui setto checked sulla gui in base al v.isApplied salvato.\r\n      v.isApplied = false; // STEP 2: qui affermo che non è stato ancora applicato\r\n    }\r\n    if (vparr.length === 0) {\r\n      v = new ViewPoint(m); // m.getPrefix() + '_VP autogenerated');\r\n      v.isApplied = true;\r\n      m.graph.viewPointShell.add(v, false); // [persistent isApplied] STEP 1: qui setto checked sulla gui in base al v.isApplied salvato.\r\n      v.isApplied = false; }\r\n    m.graph.viewPointShell.refreshApplied(); // STEP 3: qui vedo che non è stato applicato, ma è stato ordinato dalla gui di applicarlo -> lo applico.\r\n  }\r\n\r\n  // setTimeout( () => { Status.status.mm.graph.setGrid0(); Status.status.m.graph.setGrid0(); }, 1);\r\n  // Imposto un autosave raramente (minuti) giusto nel caso di crash improvvisi o disconnessioni\r\n  // per evitare di perdere oltre X minuti di lavoro.\r\n  // In condizioni normali non è necessario perchè il salvataggio è effettuato al cambio di pagina asincronamente\r\n  // e con consegna dei dati garantita dal browser anche a pagina chiusa (navigator.beacon)\r\n\r\n  IEdge.all.forEach((e: IEdge) => { e.refreshGui(); });\r\n  ChangelogRoot.CheckUpdates();\r\n  fakemain();\r\n  return;\r\n  Status.status.enableAutosave(2 * 60 * 1000);\r\n  //Options.enableAutosave(2 * 60 * 1000);\r\n  // Options.Load(Status.status);\r\n\r\n}\r\nfunction delayedMain(): void {\r\n}\r\n\r\nfunction fakemain() {\r\n\r\n}\r\nwindow['' + 'main'] = main0;\r\ndocument.addEventListener('DOMContentLoaded', main0);\r\n","export default \".labelmeasurable{\\r\\n  margin-left:auto;\\r\\n  margin-right:auto\\r\\n}\\r\\n\\r\\n.meas_acc0{\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.meas_acc0 .measurableSettingRoot{\\r\\n  width: 100%;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.meas_acc0 .boxesroot {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  flex-basis: 0;\\r\\n}\\r\\n\\r\\n.meas_acc0 .preleft, .meas_acc0 .postName {\\r\\n  border: none;\\r\\n  background: none;\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin: auto 0;\\r\\n  padding: 0;\\r\\n  color: inherit;\\r\\n  height: unset;\\r\\n}\\r\\n\\r\\n.meas_acc0 .preleft { margin-right: 5px; }\\r\\n\\r\\n.meas_acc0 .postName { margin-left: 5px; }\\r\\n\\r\\n.meas_acc0 .botmarg { margin-bottom: 5px; display: -webkit-box; display: flex; }\\r\\n\\r\\n.meas_acc0 .movementboxroot, .meas_acc0 .resizeboxroot {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n}\\r\\n\\r\\n.meas_acc0 .columncontainer {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-orient: horizontal;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: row;\\r\\n  flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.meas_acc0 .rowcontainer {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n  flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.meas_acc0 .column, .meas_acc0 .row{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.meas_acc0 .row {\\r\\n  max-width: 100%;\\r\\n  margin-right: unset;\\r\\n  margin-left: unset; /* dumb _grid.scss fixer */\\r\\n}\\r\\n\\r\\n.meas_acc0 .break { flex-wrap: wrap; }\\r\\n\\r\\n.meas_acc0 .autobreak { flex-wrap: initial; }\\r\\n\\r\\n.meas_acc0 .fill { -webkit-box-flex: 1; flex-grow: 1; }\\r\\n\\r\\n.meas_acc0 .boxtitle { display: block; text-align: center; margin-bottom: 12px; }\\r\\n\\r\\n.meas_acc0 .side { display: -webkit-box; display: flex; }\\r\\n\\r\\n.meas_acc0 .side.left, .meas_acc0 .side.right { width: 10px; }\\r\\n\\r\\n.meas_acc0 .side.top, .meas_acc0 .side.bot { height: 10px; width: calc(100% - 20px); }\\r\\n\\r\\n.meas_acc0 .corner { display: -webkit-box; display: flex; width: 10px; height: 10px; }\\r\\n\\r\\n.meas_acc0 .middle { background-color: goldenrod; display: -webkit-box; display: flex; }\\r\\n\\r\\n.meas_acc0 .middle .middle { width: 120px; height: 90px; }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.inner > .row > .side, .meas_acc0 .rectangledrawing.inner > .row > .corner {\\r\\n  background-color: black;\\r\\n}\\r\\n\\r\\n.meas_acc0 .boxroot {\\r\\n  display: block;\\r\\n  margin: auto;\\r\\n  flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.meas_acc0 .ruletitle{\\r\\n  display: block;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.meas_acc0 button.ruledelete {\\r\\n  height: 100%;\\r\\n  width: 30px;\\r\\n  padding: 0;\\r\\n  margin-right: 5px;\\r\\n  border-radius: 25px 0 0 25px;\\r\\n}\\r\\n\\r\\n.meas_acc0 .compoundInputprefix {\\r\\n  max-width: 100%;\\r\\n  height: -webkit-fit-content;\\r\\n  height: -moz-fit-content;\\r\\n  height: fit-content;\\r\\n  margin-bottom: 0;\\r\\n  padding: 0;\\r\\n  -webkit-box-flex: 0 !important;\\r\\n          flex-grow: 0 !important;\\r\\n  width: auto;\\r\\n  flex-basis: auto !important;\\r\\n  flex-shrink: 0 !important;\\r\\n}\\r\\n\\r\\n.meas_acc0 .operator.trigger {\\r\\n  -webkit-box-ordinal-group: 3;\\r\\n          order: 2;\\r\\n  margin: auto 0;\\r\\n  margin-left: -4px;\\r\\n  padding: 0;\\r\\n  background: transparent;\\r\\n  color: inherit;\\r\\n  -moz-text-align-last: left;\\r\\n       text-align-last: left;\\r\\n}\\r\\n\\r\\n.meas_acc0 ._ondrag .operator.trigger{\\r\\n  width: 56px;\\r\\n}\\r\\n\\r\\n.meas_acc0 ._onresize .operator.trigger{\\r\\n  width: 64px;\\r\\n}\\r\\n\\r\\n.meas_acc0 ._onrotation .operator.trigger{\\r\\n  width: 77px;\\r\\n}\\r\\n\\r\\n.meas_acc0 .operator.trigger:focus{\\r\\n  outline: none;\\r\\n  box-shadow: none;\\r\\n  border: none;\\r\\n}\\r\\n\\r\\n.meas_acc0 .compoundInputprefix > input.attrname {\\r\\n  -webkit-box-ordinal-group: 4;\\r\\n          order: 3;\\r\\n  border-left: none;\\r\\n  padding-left: 0;\\r\\n  border-top-left-radius: 0;\\r\\n  border-bottom-left-radius: 0;\\r\\n  min-width: 0;\\r\\n}\\r\\n\\r\\n.meas_acc0 .compoundInputprefix > * { border: none; }\\r\\n\\r\\n.meas_acc0 .compoundInputprefix > *:first-child {\\r\\n  margin-top: 1px;\\r\\n  padding-right: 0;\\r\\n  background-color: transparent;\\r\\n  width: -webkit-min-content;\\r\\n  width: -moz-min-content;\\r\\n  width: min-content;\\r\\n}\\r\\n\\r\\n.meas_acc0 .compoundInputprefix > input:focus { box-shadow: none; }\\r\\n\\r\\n.meas_acc0 .compoundInputprefix:focus-within {\\r\\n  border-color: #80bdff;\\r\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\r\\n}\\r\\n\\r\\n.meas_acc0 .rulecontainer > .rightx, .meas_acc0 .rulecontainer > .leftx { margin-bottom: 0 !important; }\\r\\n\\r\\n/* .meas_acc0 .rightx { min-width: 0; } */\\r\\n\\r\\n.meas_acc0 .rightx span.operator {\\r\\n  margin: auto;\\r\\n  margin-left: 5px;\\r\\n  margin-right: 5px;\\r\\n  /*margin-top: 8px;*/\\r\\n}\\r\\n\\r\\n.meas_acc0 .rightx span.operator.apply {\\r\\n   margin-left: 0px;\\r\\n }\\r\\n\\r\\n.meas_acc0 .operatorcontainer {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.meas_acc0 select.operator {\\r\\n  width: 45px;\\r\\n  margin: auto 5px;\\r\\n  text-align: center;\\r\\n  -moz-text-align-last: center;\\r\\n       text-align-last: center;\\r\\n}\\r\\n\\r\\n.meas_acc0 .rightx .compoundInputprefix, .meas_acc0 .rightx input.rightside, .meas_acc0 input.leftside, .meas_acc0 .rightx > .target {\\r\\n  margin-bottom: 5px;\\r\\n  min-width: 120px;\\r\\n  flex-basis: 0;\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n}\\r\\n\\r\\n.meas_acc0 .rulecontainer { margin-bottom: 1rem; }\\r\\n\\r\\n.meas_acc0 .rightx > .target { margin-bottom: 0; }\\r\\n\\r\\n.meas_acc0 .rightx > .measurabledebug { margin-top: 5px; }\\r\\n\\r\\n.meas_acc0 .attrname {\\r\\n  max-width: 200px !important; /* todo: remove when is autosizing */\\r\\n}\\r\\n\\r\\n.meas_acc0 .addrule {\\r\\n  float: right;\\r\\n  margin-top: -4px;\\r\\n  padding: 4px 10px;\\r\\n}\\r\\n\\r\\n.meas_acc0 .ruletitle {\\r\\n  padding-right: 4px;\\r\\n  margin-bottom: 5px;\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  border: 2px solid transparent;\\r\\n  border-radius: 22.5px 0 0 22.5px;\\r\\n}\\r\\n\\r\\n.meas_acc0 .maintitle{\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\n.meas_acc0 .ruletitle:hover{\\r\\n  border-color: gray;\\r\\n  background-color: rgba(127, 127, 127, 0.2); }\\r\\n\\r\\n.meas_acc0 .ruletitle:hover.ruletitle[counter]:not([counter=\\\"0\\\"]), .meas_acc0 .ruletitle[counter]:not([counter=\\\"0\\\"]):not(.collapsed),\\r\\n.meas_acc0 .maintitle:hover,  .meas_acc0 .maintitle:not(.collapsed){\\r\\n  border-color: dodgerblue;\\r\\n  background-color: rgba(30, 144, 255, 0.2); }\\r\\n\\r\\n::ng-deep .meas_acc0 .innertitle { margin: auto; }\\r\\n\\r\\n/* dynamically added*/\\r\\n\\r\\n.meas_acc0 .ruletitle.collapsed { -webkit-appearance: initial; }\\r\\n\\r\\n.meas_acc0 .ruletitle:hover { -webkit-appearance: button; text-decoration: none; color: dodgerblue; }\\r\\n\\r\\n.meas_acc0 .form-control > .form-control:not(:first-child){\\r\\n  border-top-left-radius: unset;\\r\\n  /* disable bootstrap rule*/\\r\\n}\\r\\n\\r\\n.meas_acc0 .measurableoutputtext:focus,\\r\\n.meas_acc0 .measurableerrortext:focus,\\r\\n.meas_acc0 .measurablewarningtext:focus{\\r\\n  /*outline: none;\\r\\n  box-shadow: none;*/\\r\\n}\\r\\n\\r\\n.meas_acc0 .measurableoktext{\\r\\n  margin-left: 5px;\\r\\n  color: var(--success);\\r\\n}\\r\\n\\r\\n.meas_acc0 .measurableerrortext{\\r\\n  margin-left: 5px;\\r\\n  color: var(--danger);\\r\\n}\\r\\n\\r\\n.meas_acc0 .measurablewarningtext{\\r\\n  margin-left: 5px;\\r\\n  color: var(--warning);\\r\\n}\\r\\n\\r\\n.meas_acc0 .measurableoutputtext{\\r\\n  margin-left: 5px;\\r\\n  color: var(--secondary);\\r\\n}\\r\\n\\r\\n.meas_acc0 .rulecontainer{ margin-bottom: 5px; }\\r\\n\\r\\n.meas_acc0 .measurabledebug { display: none; }\\r\\n\\r\\n.meas_acc0 .rightx:focus-within .measurabledebug{ display: -webkit-box; display: flex; }\\r\\n\\r\\n.meas_acc0 .measurabledebug .debugrows { display: none; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-flow: column; }\\r\\n\\r\\n.meas_acc0 .measurabledebug:focus-within .debugrows { display: -webkit-box; display: flex; }\\r\\n\\r\\n.meas_acc0 .countershell { float: right; }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > * {\\r\\n  background-size: contain;\\r\\n  background-repeat: no-repeat;\\r\\n  background-position: center center;\\r\\n}\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .row > *, .meas_acc0 .arrowh, .meas_acc0 .arrowv {\\r\\n  background-size: contain;\\r\\n  background-repeat: no-repeat;\\r\\n  background-position: center center;\\r\\n}\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .top > .left {\\r\\n  /*background-image: url(https://i.ibb.co/tqxXhk4/tl.png);*/\\r\\n  background-image: url(https://i.ibb.co/Zgvpywz/tll.png);\\r\\n}\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .top > .side.top {\\r\\n  background-image: url(https://i.ibb.co/M9fC7DP/t.png); }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .top > .right {\\r\\n  /*background-image: url(https://i.ibb.co/Pzsmjxf/tr.png);*/\\r\\n  background-image: url(https://i.ibb.co/SN2THLt/trl.png); }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .mid > .left {\\r\\n  background-image: url(https://i.ibb.co/7jm9BBQ/l.png); }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .mid > .right {\\r\\n  background-image: url(https://i.ibb.co/RYZnVN5/r.png); }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .bot > .left {\\r\\n  /*background-image: url(https://i.ibb.co/qrYWdpH/bl.png);*/\\r\\n  background-image: url(https://i.ibb.co/gDKFry5/bll.png); }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .bot > .side.bot {\\r\\n  background-image: url(https://i.ibb.co/cXc0nmS/b.png); }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .bot > .right {\\r\\n  /*background-image: url(https://i.ibb.co/K0pVVT7/br.png);*/\\r\\n  background-image: url(https://i.ibb.co/QpwRSsT/brl.png); }\\r\\n\\r\\n.meas_acc0 input.side.top {\\r\\n  margin-bottom: 3px;\\r\\n  margin-top: -3px; }\\r\\n\\r\\n.meas_acc0 input.side.bot {\\r\\n  margin-bottom: -3px;\\r\\n  margin-top: 3px; }\\r\\n\\r\\n.meas_acc0 input.side.left {\\r\\n  margin-right: 3px;\\r\\n  margin-left: -3px; }\\r\\n\\r\\n.meas_acc0 input.side.right {\\r\\n  margin-right: -3px;\\r\\n  margin-left: 3px; }\\r\\n\\r\\n.meas_acc0 .arrowh {\\r\\n  background-image: url(https://i.ibb.co/Zd3jtbc/lr.png); }\\r\\n\\r\\n.meas_acc0 .arrowv {\\r\\n  background-image: url(https://i.ibb.co/jHTtPDx/tb.png); }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .row > .corner {\\r\\n  height: 50px;\\r\\n  min-width: 50px;\\r\\n}\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .top > * {\\r\\n  height: 50px; }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .bot > * {\\r\\n  height: 50px; }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .mid > .left {\\r\\n  height: auto;\\r\\n  width: 50px; }\\r\\n\\r\\n.meas_acc0 .rectangledrawing.outer > .mid > .right {\\r\\n  height: auto;\\r\\n  width: 50px; }\\r\\n\\r\\n.meas_acc0 .arrow { -webkit-appearance: initial; }\\r\\n\\r\\n.meas_acc0 .arrowh, .meas_acc0 .arrowv{\\r\\n  width: 75px;\\r\\n  height: 75px; }\\r\\n\\r\\n.meas_acc0 .arrow:focus{ outline: none; }\\r\\n\\r\\n.meas_acc0 .arrow:checked{\\r\\n  -webkit-filter: sepia(82%) saturate(3925%) hue-rotate(55deg) brightness(125%) contrast(120%);\\r\\n          filter: sepia(82%) saturate(3925%) hue-rotate(55deg) brightness(125%) contrast(120%); }\\r\\n\\r\\n.meas_acc0 .directions {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  margin: auto; }\\r\\n\\r\\n.meas_acc0 .directions > * { margin: auto; }\\r\\n\\r\\n.meas_acc0 .draggable.boxroot{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n  /*height: 237px;*/\\r\\n}\\r\\n\\r\\n.meas_acc0 .collapse:not(.show) { display: none; }\\r\\n\\r\\n.meas_acc0 .rule.template { display: none !important; }\\r\\n\\r\\n.meas_acc0 .selected { background-color: #37ff66 !important; }\\r\\n\\r\\n.meas_acc .rulesearch:focus {\\r\\n  border: 1px solid dodgerblue;\\r\\n  box-shadow: 0 0 0 1px dodgerblue;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVhc3VyYWJsZXRlbXBsYXRlL21lYXN1cmFibGV0ZW1wbGF0ZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCO0FBQ0Y7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBQ0E7RUFDRSxXQUFXO0VBQ1gsY0FBYztBQUNoQjs7QUFDQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGVBQWU7RUFDZixtQkFBWTtVQUFaLFlBQVk7RUFDWixhQUFhO0FBQ2Y7O0FBQ0E7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGNBQWM7RUFDZCxVQUFVO0VBQ1YsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFDQSxzQkFBc0IsaUJBQWlCLEVBQUU7O0FBQ3pDLHVCQUF1QixnQkFBZ0IsRUFBRTs7QUFDekMsc0JBQXNCLGtCQUFrQixFQUFFLG9CQUFhLEVBQWIsYUFBYSxFQUFFOztBQUN6RDtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLG1CQUFZO1VBQVosWUFBWTtFQUNaLDRCQUFpQjtFQUFqQiw2QkFBaUI7VUFBakIsaUJBQWlCO0FBQ25COztBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsOEJBQWM7RUFBZCw2QkFBYztVQUFkLGNBQWM7RUFDZCxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYiw0QkFBaUI7RUFBakIsNkJBQWlCO1VBQWpCLGlCQUFpQjtFQUNqQixpQkFBaUI7QUFDbkI7O0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixpQkFBaUI7QUFDbkI7O0FBQ0E7RUFDRSxlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLGtCQUFrQixFQUFFLDBCQUEwQjtBQUNoRDs7QUFDQSxvQkFBb0IsZUFBZSxFQUFFOztBQUNyQyx3QkFBd0Isa0JBQWtCLEVBQUU7O0FBQzVDLG1CQUFtQixtQkFBWSxFQUFaLFlBQVksRUFBRTs7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QUFpQixFQUFFOztBQUNyQjtFQUNFLGtCQUFrQjtFQUNsQixnQkFBZ0IsRUFBRTs7QUFDcEI7RUFDRSxzREFBc0QsRUFBRTs7QUFDMUQ7RUFDRSxzREFBc0QsRUFBRTs7QUFFMUQ7RUFDRSxZQUFZO0VBQ1osZUFBZTtBQUNqQjs7QUFDQTtFQUNFLFlBQVksRUFBRTs7QUFDaEI7RUFDRSxZQUFZLEVBQUU7O0FBQ2hCO0VBQ0UsWUFBWTtFQUNaLFdBQVcsRUFBRTs7QUFDZjtFQUNFLFlBQVk7RUFDWixXQUFXLEVBQUU7O0FBRWYsb0JBQW9CLDJCQUEyQixFQUFFOztBQUNqRDtFQUNFLFdBQVc7RUFDWCxZQUFZLEVBQUU7O0FBRWhCLHlCQUF5QixhQUFhLEVBQUU7O0FBQ3hDO0VBQ0UsNEZBQW9GO1VBQXBGLG9GQUFvRixFQUFFOztBQUV4RjtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGVBQWU7RUFDZixZQUFZLEVBQUU7O0FBQ2hCLDZCQUE2QixZQUFZLEVBQUU7O0FBQzNDO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsNEJBQWlCO0VBQWpCLDZCQUFpQjtVQUFqQixpQkFBaUI7RUFDakIsaUJBQWlCO0FBQ25COztBQUNBLGtDQUFrQyxhQUFhLEVBQUU7O0FBQ2pELDRCQUE0Qix3QkFBd0IsRUFBRTs7QUFDdEQsdUJBQXVCLG9DQUFvQyxFQUFFOztBQUU3RDtFQUNFLDRCQUE0QjtFQUM1QixnQ0FBZ0M7QUFDbEMiLCJmaWxlIjoic3JjL2FwcC9tZWFzdXJhYmxldGVtcGxhdGUvbWVhc3VyYWJsZXRlbXBsYXRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGFiZWxtZWFzdXJhYmxle1xyXG4gIG1hcmdpbi1sZWZ0OmF1dG87XHJcbiAgbWFyZ2luLXJpZ2h0OmF1dG9cclxufVxyXG5cclxuLm1lYXNfYWNjMHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4ubWVhc19hY2MwIC5tZWFzdXJhYmxlU2V0dGluZ1Jvb3R7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuLm1lYXNfYWNjMCAuYm94ZXNyb290IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxuICBmbGV4LWdyb3c6IDE7XHJcbiAgZmxleC1iYXNpczogMDtcclxufVxyXG4ubWVhc19hY2MwIC5wcmVsZWZ0LCAubWVhc19hY2MwIC5wb3N0TmFtZSB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW46IGF1dG8gMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGNvbG9yOiBpbmhlcml0O1xyXG4gIGhlaWdodDogdW5zZXQ7XHJcbn1cclxuLm1lYXNfYWNjMCAucHJlbGVmdCB7IG1hcmdpbi1yaWdodDogNXB4OyB9XHJcbi5tZWFzX2FjYzAgLnBvc3ROYW1lIHsgbWFyZ2luLWxlZnQ6IDVweDsgfVxyXG4ubWVhc19hY2MwIC5ib3RtYXJnIHsgbWFyZ2luLWJvdHRvbTogNXB4OyBkaXNwbGF5OiBmbGV4OyB9XHJcbi5tZWFzX2FjYzAgLm1vdmVtZW50Ym94cm9vdCwgLm1lYXNfYWNjMCAucmVzaXplYm94cm9vdCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWdyb3c6IDE7XHJcbiAgZmxleC1mbG93OiBjb2x1bW47XHJcbn1cclxuLm1lYXNfYWNjMCAuY29sdW1uY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZmxvdzogcm93O1xyXG4gIGZsZXgtd3JhcDogbm93cmFwO1xyXG59XHJcblxyXG4ubWVhc19hY2MwIC5yb3djb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1mbG93OiBjb2x1bW47XHJcbiAgZmxleC13cmFwOiBub3dyYXA7XHJcbn1cclxuLm1lYXNfYWNjMCAuY29sdW1uLCAubWVhc19hY2MwIC5yb3d7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IG5vd3JhcDtcclxufVxyXG4ubWVhc19hY2MwIC5yb3cge1xyXG4gIG1heC13aWR0aDogMTAwJTtcclxuICBtYXJnaW4tcmlnaHQ6IHVuc2V0O1xyXG4gIG1hcmdpbi1sZWZ0OiB1bnNldDsgLyogZHVtYiBfZ3JpZC5zY3NzIGZpeGVyICovXHJcbn1cclxuLm1lYXNfYWNjMCAuYnJlYWsgeyBmbGV4LXdyYXA6IHdyYXA7IH1cclxuLm1lYXNfYWNjMCAuYXV0b2JyZWFrIHsgZmxleC13cmFwOiBpbml0aWFsOyB9XHJcbi5tZWFzX2FjYzAgLmZpbGwgeyBmbGV4LWdyb3c6IDE7IH1cclxuLm1lYXNfYWNjMCAuYm94dGl0bGUgeyBkaXNwbGF5OiBibG9jazsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAxMnB4OyB9XHJcbi5tZWFzX2FjYzAgLnNpZGUgeyBkaXNwbGF5OiBmbGV4OyB9XHJcbi5tZWFzX2FjYzAgLnNpZGUubGVmdCwgLm1lYXNfYWNjMCAuc2lkZS5yaWdodCB7IHdpZHRoOiAxMHB4OyB9XHJcbi5tZWFzX2FjYzAgLnNpZGUudG9wLCAubWVhc19hY2MwIC5zaWRlLmJvdCB7IGhlaWdodDogMTBweDsgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpOyB9XHJcbi5tZWFzX2FjYzAgLmNvcm5lciB7IGRpc3BsYXk6IGZsZXg7IHdpZHRoOiAxMHB4OyBoZWlnaHQ6IDEwcHg7IH1cclxuLm1lYXNfYWNjMCAubWlkZGxlIHsgYmFja2dyb3VuZC1jb2xvcjogZ29sZGVucm9kOyBkaXNwbGF5OiBmbGV4OyB9XHJcbi5tZWFzX2FjYzAgLm1pZGRsZSAubWlkZGxlIHsgd2lkdGg6IDEyMHB4OyBoZWlnaHQ6IDkwcHg7IH1cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5pbm5lciA+IC5yb3cgPiAuc2lkZSwgLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5pbm5lciA+IC5yb3cgPiAuY29ybmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxufVxyXG4ubWVhc19hY2MwIC5ib3hyb290IHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBtYXJnaW46IGF1dG87XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcbi5tZWFzX2FjYzAgLnJ1bGV0aXRsZXtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuLm1lYXNfYWNjMCBidXR0b24ucnVsZWRlbGV0ZSB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHdpZHRoOiAzMHB4O1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjVweCAwIDAgMjVweDtcclxufVxyXG4ubWVhc19hY2MwIC5jb21wb3VuZElucHV0cHJlZml4IHtcclxuICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxuICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgZmxleC1ncm93OiAwICFpbXBvcnRhbnQ7XHJcbiAgd2lkdGg6IGF1dG87XHJcbiAgZmxleC1iYXNpczogYXV0byAhaW1wb3J0YW50O1xyXG4gIGZsZXgtc2hyaW5rOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuLm1lYXNfYWNjMCAub3BlcmF0b3IudHJpZ2dlciB7XHJcbiAgb3JkZXI6IDI7XHJcbiAgbWFyZ2luOiBhdXRvIDA7XHJcbiAgbWFyZ2luLWxlZnQ6IC00cHg7XHJcbiAgcGFkZGluZzogMDtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICBjb2xvcjogaW5oZXJpdDtcclxuICB0ZXh0LWFsaWduLWxhc3Q6IGxlZnQ7XHJcbn1cclxuLm1lYXNfYWNjMCAuX29uZHJhZyAub3BlcmF0b3IudHJpZ2dlcntcclxuICB3aWR0aDogNTZweDtcclxufVxyXG4ubWVhc19hY2MwIC5fb25yZXNpemUgLm9wZXJhdG9yLnRyaWdnZXJ7XHJcbiAgd2lkdGg6IDY0cHg7XHJcbn1cclxuLm1lYXNfYWNjMCAuX29ucm90YXRpb24gLm9wZXJhdG9yLnRyaWdnZXJ7XHJcbiAgd2lkdGg6IDc3cHg7XHJcbn1cclxuLm1lYXNfYWNjMCAub3BlcmF0b3IudHJpZ2dlcjpmb2N1c3tcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG59XHJcbi5tZWFzX2FjYzAgLmNvbXBvdW5kSW5wdXRwcmVmaXggPiBpbnB1dC5hdHRybmFtZSB7XHJcbiAgb3JkZXI6IDM7XHJcbiAgYm9yZGVyLWxlZnQ6IG5vbmU7XHJcbiAgcGFkZGluZy1sZWZ0OiAwO1xyXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XHJcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcclxuICBtaW4td2lkdGg6IDA7XHJcbn1cclxuLm1lYXNfYWNjMCAuY29tcG91bmRJbnB1dHByZWZpeCA+ICogeyBib3JkZXI6IG5vbmU7IH1cclxuLm1lYXNfYWNjMCAuY29tcG91bmRJbnB1dHByZWZpeCA+ICo6Zmlyc3QtY2hpbGQge1xyXG4gIG1hcmdpbi10b3A6IDFweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIHdpZHRoOiBtaW4tY29udGVudDtcclxufVxyXG4ubWVhc19hY2MwIC5jb21wb3VuZElucHV0cHJlZml4ID4gaW5wdXQ6Zm9jdXMgeyBib3gtc2hhZG93OiBub25lOyB9XHJcbi5tZWFzX2FjYzAgLmNvbXBvdW5kSW5wdXRwcmVmaXg6Zm9jdXMtd2l0aGluIHtcclxuICBib3JkZXItY29sb3I6ICM4MGJkZmY7XHJcbiAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoMCwgMTIzLCAyNTUsIDAuMjUpO1xyXG59XHJcblxyXG4ubWVhc19hY2MwIC5ydWxlY29udGFpbmVyID4gLnJpZ2h0eCwgLm1lYXNfYWNjMCAucnVsZWNvbnRhaW5lciA+IC5sZWZ0eCB7IG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDsgfVxyXG4vKiAubWVhc19hY2MwIC5yaWdodHggeyBtaW4td2lkdGg6IDA7IH0gKi9cclxuLm1lYXNfYWNjMCAucmlnaHR4IHNwYW4ub3BlcmF0b3Ige1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gIC8qbWFyZ2luLXRvcDogOHB4OyovXHJcbn1cclxuLm1lYXNfYWNjMCAucmlnaHR4IHNwYW4ub3BlcmF0b3IuYXBwbHkge1xyXG4gICBtYXJnaW4tbGVmdDogMHB4O1xyXG4gfVxyXG4ubWVhc19hY2MwIC5vcGVyYXRvcmNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbn1cclxuLm1lYXNfYWNjMCBzZWxlY3Qub3BlcmF0b3Ige1xyXG4gIHdpZHRoOiA0NXB4O1xyXG4gIG1hcmdpbjogYXV0byA1cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHRleHQtYWxpZ24tbGFzdDogY2VudGVyO1xyXG59XHJcbi5tZWFzX2FjYzAgLnJpZ2h0eCAuY29tcG91bmRJbnB1dHByZWZpeCwgLm1lYXNfYWNjMCAucmlnaHR4IGlucHV0LnJpZ2h0c2lkZSwgLm1lYXNfYWNjMCBpbnB1dC5sZWZ0c2lkZSwgLm1lYXNfYWNjMCAucmlnaHR4ID4gLnRhcmdldCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIG1pbi13aWR0aDogMTIwcHg7XHJcbiAgZmxleC1iYXNpczogMDtcclxuICBmbGV4LWdyb3c6IDE7XHJcbn1cclxuLm1lYXNfYWNjMCAucnVsZWNvbnRhaW5lciB7IG1hcmdpbi1ib3R0b206IDFyZW07IH1cclxuLm1lYXNfYWNjMCAucmlnaHR4ID4gLnRhcmdldCB7IG1hcmdpbi1ib3R0b206IDA7IH1cclxuLm1lYXNfYWNjMCAucmlnaHR4ID4gLm1lYXN1cmFibGVkZWJ1ZyB7IG1hcmdpbi10b3A6IDVweDsgfVxyXG4ubWVhc19hY2MwIC5hdHRybmFtZSB7XHJcbiAgbWF4LXdpZHRoOiAyMDBweCAhaW1wb3J0YW50OyAvKiB0b2RvOiByZW1vdmUgd2hlbiBpcyBhdXRvc2l6aW5nICovXHJcbn1cclxuLm1lYXNfYWNjMCAuYWRkcnVsZSB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIG1hcmdpbi10b3A6IC00cHg7XHJcbiAgcGFkZGluZzogNHB4IDEwcHg7XHJcbn1cclxuLm1lYXNfYWNjMCAucnVsZXRpdGxlIHtcclxuICBwYWRkaW5nLXJpZ2h0OiA0cHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYm9yZGVyOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMjIuNXB4IDAgMCAyMi41cHg7XHJcbn1cclxuLm1lYXNfYWNjMCAubWFpbnRpdGxle1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLm1lYXNfYWNjMCAucnVsZXRpdGxlOmhvdmVye1xyXG4gIGJvcmRlci1jb2xvcjogZ3JheTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEyNywgMTI3LCAxMjcsIDAuMik7IH1cclxuXHJcbi5tZWFzX2FjYzAgLnJ1bGV0aXRsZTpob3Zlci5ydWxldGl0bGVbY291bnRlcl06bm90KFtjb3VudGVyPVwiMFwiXSksIC5tZWFzX2FjYzAgLnJ1bGV0aXRsZVtjb3VudGVyXTpub3QoW2NvdW50ZXI9XCIwXCJdKTpub3QoLmNvbGxhcHNlZCksXHJcbi5tZWFzX2FjYzAgLm1haW50aXRsZTpob3ZlciwgIC5tZWFzX2FjYzAgLm1haW50aXRsZTpub3QoLmNvbGxhcHNlZCl7XHJcbiAgYm9yZGVyLWNvbG9yOiBkb2RnZXJibHVlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzAsIDE0NCwgMjU1LCAwLjIpOyB9XHJcblxyXG46Om5nLWRlZXAgLm1lYXNfYWNjMCAuaW5uZXJ0aXRsZSB7IG1hcmdpbjogYXV0bzsgfSAvKiBkeW5hbWljYWxseSBhZGRlZCovXHJcbi5tZWFzX2FjYzAgLnJ1bGV0aXRsZS5jb2xsYXBzZWQgeyAtd2Via2l0LWFwcGVhcmFuY2U6IGluaXRpYWw7IH1cclxuLm1lYXNfYWNjMCAucnVsZXRpdGxlOmhvdmVyIHsgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgY29sb3I6IGRvZGdlcmJsdWU7IH1cclxuLm1lYXNfYWNjMCAuZm9ybS1jb250cm9sID4gLmZvcm0tY29udHJvbDpub3QoOmZpcnN0LWNoaWxkKXtcclxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiB1bnNldDtcclxuICAvKiBkaXNhYmxlIGJvb3RzdHJhcCBydWxlKi9cclxufVxyXG4ubWVhc19hY2MwIC5tZWFzdXJhYmxlb3V0cHV0dGV4dDpmb2N1cyxcclxuLm1lYXNfYWNjMCAubWVhc3VyYWJsZWVycm9ydGV4dDpmb2N1cyxcclxuLm1lYXNfYWNjMCAubWVhc3VyYWJsZXdhcm5pbmd0ZXh0OmZvY3Vze1xyXG4gIC8qb3V0bGluZTogbm9uZTtcclxuICBib3gtc2hhZG93OiBub25lOyovXHJcbn1cclxuLm1lYXNfYWNjMCAubWVhc3VyYWJsZW9rdGV4dHtcclxuICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gIGNvbG9yOiB2YXIoLS1zdWNjZXNzKTtcclxufVxyXG4ubWVhc19hY2MwIC5tZWFzdXJhYmxlZXJyb3J0ZXh0e1xyXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgY29sb3I6IHZhcigtLWRhbmdlcik7XHJcbn1cclxuLm1lYXNfYWNjMCAubWVhc3VyYWJsZXdhcm5pbmd0ZXh0e1xyXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgY29sb3I6IHZhcigtLXdhcm5pbmcpO1xyXG59XHJcbi5tZWFzX2FjYzAgLm1lYXN1cmFibGVvdXRwdXR0ZXh0e1xyXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XHJcbn1cclxuLm1lYXNfYWNjMCAucnVsZWNvbnRhaW5lcnsgbWFyZ2luLWJvdHRvbTogNXB4OyB9XHJcbi5tZWFzX2FjYzAgLm1lYXN1cmFibGVkZWJ1ZyB7IGRpc3BsYXk6IG5vbmU7IH1cclxuLm1lYXNfYWNjMCAucmlnaHR4OmZvY3VzLXdpdGhpbiAubWVhc3VyYWJsZWRlYnVneyBkaXNwbGF5OiBmbGV4OyB9XHJcbi5tZWFzX2FjYzAgLm1lYXN1cmFibGVkZWJ1ZyAuZGVidWdyb3dzIHsgZGlzcGxheTogbm9uZTsgZmxleC1mbG93OiBjb2x1bW47IH1cclxuLm1lYXNfYWNjMCAubWVhc3VyYWJsZWRlYnVnOmZvY3VzLXdpdGhpbiAuZGVidWdyb3dzIHsgZGlzcGxheTogZmxleDsgfVxyXG4ubWVhc19hY2MwIC5jb3VudGVyc2hlbGwgeyBmbG9hdDogcmlnaHQ7IH1cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+ICoge1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcclxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7XHJcbn1cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5yb3cgPiAqLCAubWVhc19hY2MwIC5hcnJvd2gsIC5tZWFzX2FjYzAgLmFycm93diB7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xyXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcclxufVxyXG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLnRvcCA+IC5sZWZ0IHtcclxuICAvKmJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL3RxeFhoazQvdGwucG5nKTsqL1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL1pndnB5d3ovdGxsLnBuZyk7XHJcbn1cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC50b3AgPiAuc2lkZS50b3Age1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL005ZkM3RFAvdC5wbmcpOyB9XHJcbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAudG9wID4gLnJpZ2h0IHtcclxuICAvKmJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL1B6c21qeGYvdHIucG5nKTsqL1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL1NOMlRITHQvdHJsLnBuZyk7IH1cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5taWQgPiAubGVmdCB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vN2ptOUJCUS9sLnBuZyk7IH1cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5taWQgPiAucmlnaHQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL1JZWm5WTjUvci5wbmcpOyB9XHJcbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAuYm90ID4gLmxlZnQge1xyXG4gIC8qYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vcXJZV2RwSC9ibC5wbmcpOyovXHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vZ0RLRnJ5NS9ibGwucG5nKTsgfVxyXG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLmJvdCA+IC5zaWRlLmJvdCB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vY1hjMG5tUy9iLnBuZyk7IH1cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5ib3QgPiAucmlnaHQge1xyXG4gIC8qYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vSzBwVlZUNy9ici5wbmcpOyovXHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vUXB3UlNzVC9icmwucG5nKTsgfVxyXG4ubWVhc19hY2MwIGlucHV0LnNpZGUudG9wIHtcclxuICBtYXJnaW4tYm90dG9tOiAzcHg7XHJcbiAgbWFyZ2luLXRvcDogLTNweDsgfVxyXG4ubWVhc19hY2MwIGlucHV0LnNpZGUuYm90IHtcclxuICBtYXJnaW4tYm90dG9tOiAtM3B4O1xyXG4gIG1hcmdpbi10b3A6IDNweDsgfVxyXG4ubWVhc19hY2MwIGlucHV0LnNpZGUubGVmdCB7XHJcbiAgbWFyZ2luLXJpZ2h0OiAzcHg7XHJcbiAgbWFyZ2luLWxlZnQ6IC0zcHg7IH1cclxuLm1lYXNfYWNjMCBpbnB1dC5zaWRlLnJpZ2h0IHtcclxuICBtYXJnaW4tcmlnaHQ6IC0zcHg7XHJcbiAgbWFyZ2luLWxlZnQ6IDNweDsgfVxyXG4ubWVhc19hY2MwIC5hcnJvd2gge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL1pkM2p0YmMvbHIucG5nKTsgfVxyXG4ubWVhc19hY2MwIC5hcnJvd3Yge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL2pIVHRQRHgvdGIucG5nKTsgfVxyXG5cclxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5yb3cgPiAuY29ybmVyIHtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgbWluLXdpZHRoOiA1MHB4O1xyXG59XHJcbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAudG9wID4gKiB7XHJcbiAgaGVpZ2h0OiA1MHB4OyB9XHJcbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAuYm90ID4gKiB7XHJcbiAgaGVpZ2h0OiA1MHB4OyB9XHJcbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAubWlkID4gLmxlZnQge1xyXG4gIGhlaWdodDogYXV0bztcclxuICB3aWR0aDogNTBweDsgfVxyXG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLm1pZCA+IC5yaWdodCB7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiA1MHB4OyB9XHJcblxyXG4ubWVhc19hY2MwIC5hcnJvdyB7IC13ZWJraXQtYXBwZWFyYW5jZTogaW5pdGlhbDsgfVxyXG4ubWVhc19hY2MwIC5hcnJvd2gsIC5tZWFzX2FjYzAgLmFycm93dntcclxuICB3aWR0aDogNzVweDtcclxuICBoZWlnaHQ6IDc1cHg7IH1cclxuXHJcbi5tZWFzX2FjYzAgLmFycm93OmZvY3VzeyBvdXRsaW5lOiBub25lOyB9XHJcbi5tZWFzX2FjYzAgLmFycm93OmNoZWNrZWR7XHJcbiAgZmlsdGVyOiBzZXBpYSg4MiUpIHNhdHVyYXRlKDM5MjUlKSBodWUtcm90YXRlKDU1ZGVnKSBicmlnaHRuZXNzKDEyNSUpIGNvbnRyYXN0KDEyMCUpOyB9XHJcblxyXG4ubWVhc19hY2MwIC5kaXJlY3Rpb25zIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxuICBtYXJnaW46IGF1dG87IH1cclxuLm1lYXNfYWNjMCAuZGlyZWN0aW9ucyA+ICogeyBtYXJnaW46IGF1dG87IH1cclxuLm1lYXNfYWNjMCAuZHJhZ2dhYmxlLmJveHJvb3R7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWZsb3c6IGNvbHVtbjtcclxuICAvKmhlaWdodDogMjM3cHg7Ki9cclxufVxyXG4ubWVhc19hY2MwIC5jb2xsYXBzZTpub3QoLnNob3cpIHsgZGlzcGxheTogbm9uZTsgfVxyXG4ubWVhc19hY2MwIC5ydWxlLnRlbXBsYXRlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XHJcbi5tZWFzX2FjYzAgLnNlbGVjdGVkIHsgYmFja2dyb3VuZC1jb2xvcjogIzM3ZmY2NiAhaW1wb3J0YW50OyB9XHJcblxyXG4ubWVhc19hY2MgLnJ1bGVzZWFyY2g6Zm9jdXMge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIGRvZGdlcmJsdWU7XHJcbiAgYm94LXNoYWRvdzogMCAwIDAgMXB4IGRvZGdlcmJsdWU7XHJcbn1cclxuIl19 */\"","import {Component, OnInit} from '@angular/core';\nimport {Dictionary, GraphSize, Measurable, measurableRules, U, ConstraintLeftAdmittedsStatic} from '../../common/Joiner';\n\n@Component({\n  selector: 'app-measurabletemplate',\n  templateUrl: './measurabletemplate.component.html',\n  styleUrls: ['./measurabletemplate.component.css']\n})\nexport class MeasurabletemplateComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\nexport class MeasurableTemplateGenerator {\n  private static output: HTMLElement = null;\n  public static constraintMap: Dictionary<string, string>; // deformed ConstraintLeftAdmitteds;\n  public static constraintPlaceholderMap: Dictionary<string, string>; // deformed ConstraintLeftAdmitteds;\n  public static generateMeasurableTemplate(): HTMLElement {\n    if (MeasurableTemplateGenerator.output) return U.cloneHtml(MeasurableTemplateGenerator.output, true);\n    const $root: JQuery<HTMLElement> = $('#measurableTemplateGeneratorShell');\n    class Tmp {\n      static maxindex: number = 0;\n      index: number;\n      name: string;\n      haveleft: boolean;\n      prefix: string;\n      nameph: string;\n      preleft: string;\n      leftph: string;\n      rightph: string;\n      havetarget: boolean;\n      haveoperator: boolean | string;\n      constructor(prefix: string, name: string, preleft: string = null, haveleft: boolean = true, haveoperator: boolean | string = false, havetarget: boolean = true, leftph: string = null, rightph: string = null, nameph: string = null) {\n        this.preleft = preleft;\n        this.haveleft = haveleft;\n        this.index = Tmp.maxindex++;\n        this.name = name;\n        this.prefix = prefix;\n        this.nameph = nameph ? nameph : 'Name';\n        this.leftph = leftph ? leftph : '#####';\n        this.rightph = rightph ? rightph : 'Value';\n        this.havetarget = havetarget;\n        this.haveoperator = haveoperator === null ? false : haveoperator;\n      }\n    }\n\n    const arr: Tmp[] = [];\n    let prefix: string;\n    let name: string;\n    let preleft: string;\n    let haveleft: boolean;\n    let havetarget: boolean;\n    let leftph: string;\n    let rightph: string;\n    let nameph: string;\n    let haveoperator: string | boolean;\n\n\n    prefix = measurableRules.onRefresh;\n    name = prefix.substr(1);\n    preleft = 'if';\n    haveleft = true;\n    haveoperator = 'do';\n    havetarget = true;\n    nameph = null;\n    leftph = 'condition';\n    rightph = '[selector] [' + U.AttributeSelectorOperator + '] rulename';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.onDragStart;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.onResizeStart;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.onRotationStart;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.whileDragging;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.whileResizing;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.whileRotating;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.onDragEnd;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.onResizeEnd;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.onRotationEnd;\n    name = prefix.substr(1);\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.variable;\n    name = 'Generic command / variable';\n    preleft = null;\n    haveleft = false;\n    haveoperator = false;\n    havetarget = true;\n    nameph = 'VarName';\n    leftph = null;\n    rightph = null;\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.export;\n    name = prefix.charAt(1).toUpperCase() + prefix.substr(2);\n    preleft = null;\n    haveleft = true;\n    haveoperator = '⇠';\n    havetarget = true;\n    nameph = null;\n    leftph = 'selector++';\n    rightph = 'String';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.constraint;\n    name = prefix.charAt(1).toUpperCase() + prefix.substr(2);\n    preleft = null;\n    haveleft = true;\n    haveoperator = true;\n    havetarget = true;\n    nameph = null;\n    leftph = 'Size/Pos';\n    rightph = null;\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.bind;\n    name = prefix.charAt(1).toUpperCase() + prefix.substr(2);\n    preleft = null;\n    haveleft = false;\n    haveoperator = false;\n    havetarget = false;\n    nameph = null;\n    leftph = null;\n    rightph = 'ModelPiece.id';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.console;\n    name = prefix.charAt(1).toUpperCase() + prefix.substr(2);\n    preleft = null;\n    haveleft = false;\n    haveoperator = false;\n    havetarget = false;\n    nameph = null;\n    leftph = null;\n    rightph = 'Console command';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n\n    prefix = measurableRules.dynamicStyle;\n    name = 'Dynamic Style';\n    preleft = null;\n    haveleft = false;\n    haveoperator = false;\n    havetarget = true;\n    nameph = null;\n    leftph = null;\n    rightph = 'Html style string';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules.dynamicClass;\n    name = 'Dynamic Class';\n    rightph = '+classToAdd -classToRemove';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules._jquiDra;\n    name = 'jQueryUI draggable options';\n    preleft = null;\n    haveleft = false;\n    haveoperator = false;\n    havetarget = false;\n    nameph = 'ggable Option name';\n    leftph = null;\n    rightph = null;\n    arr.push(new Tmp(prefix, name, null, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules._jquiRes;\n    name = 'jQuery resizable options';\n    nameph = 'izable Option name';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    prefix = measurableRules._jquiRot;\n    name = 'jQuery rotatable options';\n    nameph = 'atable Option name';\n    arr.push(new Tmp(prefix, name, preleft, haveleft, haveoperator, havetarget, leftph, rightph, nameph));\n\n    // console.log('arr:', JSON.stringify(arr));\n    let i: number;\n    const template: HTMLElement = $root.find('.rule.template')[0];\n    const accordion: HTMLElement = $root.find('.meas_acc')[0];\n\n\n    let genericvarattrnameinput;\n    let genericvarpattern = '^(?!ng';\n    /*delete prefix;\n    delete name;\n    delete preleft;\n    delete haveleft;\n    delete havetarget;\n    delete leftph;\n    delete rightph;\n    delete nameph;\n    delete haveoperator;*/\n    let debugrulecounter = 0;\n    for (let k in measurableRules) { debugrulecounter++; }\n    U.pe(arr.length !== debugrulecounter, 'missing ' + (debugrulecounter - (2*3) - arr.length)+ ' rules:', measurableRules, arr); // - on(dra, res, rot) + (start, end) = 3*2 casi esclusi\n    for (i = 0; i < arr.length; i++) {\n      const elem: Tmp = arr[i];\n      const nodee: HTMLElement = template.cloneNode(true) as HTMLElement;\n      nodee.setAttribute('class', 'panel ' + elem.prefix);\n      nodee.setAttribute('prefix', elem.prefix);\n      nodee.setAttribute('prefixlc', elem.prefix.toLowerCase());\n      const $node: JQuery<HTMLElement> = $(nodee);\n      const title: HTMLElement = $node.find('h7')[0];\n      const prefix: HTMLElement = $node.find('.compoundInputprefix > .prefix')[0];\n      const attrname: HTMLInputElement = $node.find('.compoundInputprefix > .attrname')[0] as HTMLInputElement;\n      const preleft: HTMLElement = $node.find('.preleft')[0];\n      const leftside: HTMLInputElement = $node.find('.leftside')[0] as HTMLInputElement;\n      const operatorselect: HTMLSelectElement = $node.find('select.operator.relational')[0] as HTMLSelectElement;\n      const operatorselect2: HTMLSelectElement = $node.find('select.operator.trigger')[0] as HTMLSelectElement;\n      const operatortext: HTMLElement = $node.find('span.operator')[0];\n      const opparent: HTMLElement = operatorselect.parentElement;\n      const rightside: HTMLInputElement = $node.find('.rightside')[0] as HTMLInputElement;\n      const target: HTMLInputElement = $node.find('input.target')[0] as HTMLInputElement;\n      if (elem.haveoperator === true) {\n        U.remove(operatortext);\n        U.remove(operatorselect2);\n      } else if (elem.haveoperator === 'when') {\n        // empty on purpose\n      } else if (elem.haveoperator === elem.haveoperator + '') {\n        operatortext.innerText = elem.haveoperator;\n        U.remove(operatorselect);\n        U.remove(operatorselect2);\n      } else if (elem.haveoperator === false) {\n        U.remove(operatortext);\n        U.remove(operatorselect);\n        U.remove(operatorselect2); }\n      if (elem.preleft) { preleft.innerText = elem.preleft; } else U.remove(preleft);\n\n      attrname.placeholder = elem.nameph;\n      nodee.classList.remove(arr[i].prefix);\n      nodee.classList.add(arr[i].prefix);\n      leftside.placeholder = elem.leftph;\n      U.pe(Measurable.separator.length !== 1, 'se cambi il separatore da char a stringa devi aggiornare questo pattern');\n      leftside.pattern = '[^' + Measurable.separator + ']*';\n      rightside.placeholder = elem.rightph;\n      prefix.innerHTML = elem.prefix;\n      attrname.innerHTML = elem.nameph;\n      attrname.setAttribute('defaultvalue', '1');\n      const triggerscommon = () => {\n        operatortext.innerText = 'apply';\n        operatortext.classList.add('apply');\n        U.remove(operatorselect);\n        const row = operatortext.parentElement.parentElement;\n        const newrow = document.createElement('div');\n        row.parentElement.insertBefore(newrow, row.nextElementSibling);\n        newrow.classList.add('row', 'break');\n        const splitindex = row.innerHTML.indexOf('<span class=\"eventsplitpoint');\n        newrow.innerHTML = row.innerHTML.substring(splitindex);\n        row.innerHTML = row.innerHTML.substring(0, splitindex);\n      };\n\n      if (arr[i].prefix !== '_') genericvarpattern += '|' + arr[i].prefix.substr(1);\n      switch (arr[i].prefix) {\n        default: break;\n        case measurableRules.variable:\n          genericvarattrnameinput = attrname; break;\n        case measurableRules.onRefresh:\n        case measurableRules.onDragStart: case measurableRules.onRotationStart: case measurableRules.onResizeStart:\n        case measurableRules.whileRotating: case measurableRules.whileResizing: case measurableRules.whileDragging:\n        case measurableRules.onDragEnd: case measurableRules.onResizeEnd: case measurableRules.onRotationEnd:\n          // U.remove(operatorselect2); triggerscommon();\n          break;\n        case measurableRules.constraint:\n          leftside.setAttribute('list', 'measurableList' + arr[i].prefix);\n          leftside.dataset['target'] = arr[i].prefix;\n          break;\n        case measurableRules._jquiDra: //dynamicjquiplaceholder(attrname, Draggableoptions); break;\n        case measurableRules._jquiRes: //dynamicjquiplaceholder(attrname, Resizableoptions); break;\n        case measurableRules._jquiRot: //dynamicjquiplaceholder(attrname, Rotatableoptions); break;\n          attrname.setAttribute('list', 'measurableList' + arr[i].prefix);\n          attrname.dataset['target'] = arr[i].prefix;\n          attrname.setAttribute('defaultvalue', '');\n          break;\n        /*\n      case 'never again, was on (Drag, res, rot) + (start, doing, end)':\n        prefix.innerText = '_ondrag';\n        operatorselect2.children[0].children[0].innerHTML = 'Start';\n        operatorselect2.children[0].children[1].innerHTML = 'ging';\n        operatorselect2.children[0].children[2].innerHTML = 'End';\n        triggerscommon();\n        prefix.innerText = '_onresiz';\n        operatorselect2.children[0].children[0].innerHTML = 'eStart';\n        operatorselect2.children[0].children[1].innerHTML = 'ing';\n        operatorselect2.children[0].children[2].innerHTML = 'eEnd';\n        triggerscommon();\n        prefix.innerText = '_onrotat';\n        operatorselect2.children[0].children[0].innerHTML = 'ionStart';\n        operatorselect2.children[0].children[1].innerHTML = 'ing';\n        operatorselect2.children[0].children[2].innerHTML = 'ionEnd';\n        triggerscommon();\n        break;*/\n      }\n\n\n      if (!elem.haveleft) { U.remove(leftside); U.remove(opparent); }\n      if (!elem.havetarget) { U.remove(target); }\n      title.dataset.target = \".meas_acc > .panel > .\" + elem.prefix;\n      title.innerHTML = '<span class=\"innertitle\">' + elem.name + '&nbsp;(<span class=\"rulecounter\">0</span>)</span><button class=\"addrule btn btn-sm btn-success\">+</button><span class=\"countershell\"></span>';\n      $node.find('.rulecontainer')[0].classList.add(elem.prefix);\n      accordion.appendChild(nodee);\n    }\n\n    genericvarattrnameinput.pattern = genericvarpattern + ')[\\\\S]+$';\n\n    $root.find('.comment').remove();\n    $root.find('.export').remove();\n    $root.find('style').remove();\n    $root.find('script').remove();\n    $root.find('.rule.template').remove();\n    let ret = MeasurableTemplateGenerator.output = $root[0];\n    ret.classList.remove('template');\n    ret.classList.add('oldMeasurablePlaceholder');\n    ret.parentElement.removeChild(ret);\n    ret.removeAttribute('id');\n    MeasurableTemplateGenerator.makedatasetLists();\n    return this.generateMeasurableTemplate(); }\n\n  public static makedatasetLists(): void {\n    const constraintOptions: Dictionary<string, string> =  {};\n    let opt: HTMLOptionElement;\n    let datalist: HTMLDataListElement;\n    let key: string;\n    let i: number;\n\n    const constraintOptionsPH: Dictionary<string, string> = {};\n    for (key in ConstraintLeftAdmittedsStatic) {\n      constraintOptions[ConstraintLeftAdmittedsStatic[key]] = ConstraintLeftAdmittedsStatic[key];\n      constraintOptionsPH[ConstraintLeftAdmittedsStatic[key]] = 'Number'; }\n\n    MeasurableTemplateGenerator.constraintMap = constraintOptions;\n    MeasurableTemplateGenerator.constraintPlaceholderMap = constraintOptionsPH;\n    let datasets: object[] = [ResizableoptionsPH, DraggableOptionsPH, RotatableoptionsPH, constraintOptionsPH];\n    let rulenames: string[] = [measurableRules._jquiRes, measurableRules._jquiDra, measurableRules._jquiRot, measurableRules.constraint];\n    for (i = 0; i < datasets.length; i++) {\n      datalist = document.createElement('datalist');\n      document.body.appendChild(datalist);\n      datalist.id = 'measurableList' + rulenames[i];\n      console.log('datasets:', datasets);\n      for (key in datasets[i]) {\n        opt = document.createElement('option');\n        datalist.appendChild(opt);\n        // opt.value = datasets[i][key];\n        opt.value = key;\n      }\n    }\n  }\n}\nexport class Rotatableoptions {\n  static readonly degrees: string = 'degrees';\n  // static radians: string = 'radians';\n  static readonly handle: string = 'handle'; //  internamente richiede come parametro un $('imageselector')... crea un elemento con quell'immagine. e appendilo al vertice con display: none per evitare di ricrearne uno ogni volta che crei un vertice, almeno così viene anche cancellato assieme al vertice. prova se l'url netto va bene lo stesso in overloading\n  static readonly handleOffsetX: string = 'handleOffsetX';\n  static readonly handleOffsetY: string = 'handleOffsetY'; // internamente è: handleOffset: { top: 0, left: 0 }\n  static readonly rotationCenterOffsetX: string = 'rotationCenterOffsetX';\n  static readonly rotationCenterOffsetY: string = 'rotationCenterOffsetY';\n   // internamente è: rotationCenterOffset: { top: 0, left: 0 } from the center of the element\n  static readonly step: string = 'step'; // internamente ha \"snap = boolean\" e step = number, setta anche snap = true se trovi step come attributo measur-rotatable.\n  static readonly transforms: string = 'transforms'; // non chiaro neanche negli esempi demo. googla.\n  static readonly wheelRotate: string = 'wheelRotate'; // NB: non previene lo scroll della pagina come azione default.\n  static readonly onRotating: string = 'onRotating'; // NB: se la sua trimmed version non inizia con function oppure con /^([^)]+)[\\s]*=>$/ allora aggiungicelo tu a tempo di esecuzione? o non vale la pena per degradazione performance?.\n  static readonly onRotationStart: string = 'onRotationStart'; // in realtà è \"start\"\n  static readonly onRotationEnd: string = 'onRotationEnd'; // in realtà è \"stop\"\n  static readonly disabled: string = 'disabled';\n  // static readonly enabled: string = 'enabled'; // $var.resizable('disable'); or .resizable( \"enable\" );\n}\n//if the placeholder value is a choice of literals, the first literal is the default value. UPPERCASED, CamelCased and (parenthesized) words are not literals. Those values are not dynamic and are evaluated only once.\n\nexport class Resizableoptions {\n  static readonly alsoResize: string = 'alsoResize';\n  static readonly animate: string = 'animate';\n  static readonly animateDuration: string = 'animateDuration';\n  static readonly animateEasing: string = 'animateEasing';\n  static readonly aspectRatio: string = 'aspectRatio';\n  static readonly autoHide: string = 'autoHide';\n  static readonly cancel: string = 'cancel';\n  static readonly classes: string = 'classes';\n  static readonly containment: string = 'containment';\n  static readonly delay: string = 'delay';\n  static readonly distance: string = 'distance';\n  static readonly ghost: string = 'ghost';\n  static readonly grid: string = 'grid';\n  static readonly handles: string = 'handles';\n  static readonly helper: string = 'helper';\n  static readonly maxHeight: string = 'maxHeight';\n  static readonly maxWidth: string = 'maxWidth';\n  static readonly minHeight: string = 'minHeight';\n  static readonly minWidth: string = 'minWidth';\n// Methods\n// destroy()\n  static readonly disabled: string = 'disabled';\n  // static readonly enabled: string = 'enabled'; // $var.resizable('disable'); or .resizable( \"enable\" );\n// instance(); only useful as return value on javascript\n// .resizable('option',{key', 'optionname') return the current option or a key-value object with all options or .resizable('option', {key: value}) setta opzioni.\n// .resizable('widget') return $(resizable element)\n  static readonly create: string = 'create'; // .resizable('create', functioncallback);\n  static readonly resizing: string = 'resizing';\n  static readonly resizeStart: string = 'resizeStart';\n  static readonly resizeStop: string = 'resizeStop';\n}\n\nexport class Draggableoptions {\n  static readonly addClasses: string = 'addClasses';\n  static readonly appendTo: string = 'appendTo';\n  static readonly axis: string = 'axis'; // actually \"x, y\" happens when you input \"false\"\n  static readonly cancel: string = 'cancel';\n  static readonly classes: string = 'classes';\n  static readonly connectToSortable: string = 'connectToSortable';\n  static readonly containment: string = 'containment';\n  static readonly cursor: string = 'cursor'; // todo: setta default: quadriarrow (crosshair?)\n  static readonly cursorAt: string = 'cursorAt';\n  static readonly delay: string = 'delay';\n  static readonly distance: string = 'distance';\n  //todo: permetti di fare cambiamenti a run-time usando: chain -> optional export (dinamically rcalculate and replace content of _jquiDrag* attributes), second chain -> point to _jquiDragRule and execute things like in the example \"Get or set the grid option, after initialization: ...\"\n  static readonly grid: string = 'grid';\n  static readonly handle: string = 'handle';\n  static readonly helper: string = 'helper';\n  static readonly iframeFix: string = 'iframeFix';\n  static readonly opacity: string = 'opacity';\n  static readonly refreshPositions: string = 'refreshPositions';\n  // todo: droppable\n  static readonly revert: string = 'revert';\n  static readonly revertDuration: string = 'revertDuration';\n  static readonly scope: string = 'scope';\n  static readonly scroll: string = 'scroll'; //todo: devi fare lo scroll quando trascini un vertice out of visible graph boundary.\n  static readonly scrollSensitivity: string = 'scrollSensitivity'; //Distance in pixels from the edge of the viewport after which the viewport should scroll. Distance is relative to pointer, not the draggable.\n  static readonly scrollSpeed: string = 'scrollSpeed';\n  static readonly snap: string = 'snap';\n  static readonly snapMode: string = 'snapMode';\n  static readonly snapTolerance: string = 'snapTolerance';\n  static readonly stack: string = 'stack';\n  static readonly zIndex: string = 'zIndex';\n// Methods\n  static readonly disabled: string = 'disabled';\n  // static readonly enabled: string = 'enabled'; //  actually it is: .droppable( \"enable\" / \"disable\")\n  static readonly dragging: string = 'dragging';\n  static readonly dragStart: string = 'dragStart';\n  static readonly dragStop: string = 'dragStop';\n}\n\nexport class RotatableoptionsPH {\n  static readonly degrees: string = 'false | number';\n  static readonly radians: string = 'false | number';\n  static readonly handle: string = 'image url'; // internamente richiede come parametro un $('imageselector')... crea un elemento con quell'immagine. e appendilo al vertice con display: none per evitare di ricrearne uno ogni volta che crei un vertice, almeno così viene anche cancellato assieme al vertice. prova se l'url netto va bene lo stesso in overloading\n  static readonly handleOffsetX: string = 'width / 2';\n  static readonly handleOffsetY: string = '-20'; // internamente è: handleOffset: { top: 0, left: 0 }\n  static readonly rotationCenterOffsetX: string = 'width / 2';\n  static readonly rotationCenterOffsetY: string = 'height / 2';\n// internamente è: rotationCenterOffset: { top: 0, left: 0 } from the center of the element\n  static readonly step: string = 'degree'; // internamente ha \"snap = boolean\" e step = number, setta anche snap = true se trovi step come attributo measur-rotatable.\n  static readonly transforms: string = 'null | {scaleY: 2}'; // non chiaro neanche negli esempi demo. googla.\n  static readonly wheelRotate: string = 'false'; // NB: non previene lo scroll della pagina come azione default.\n  static readonly onRotating: string = 'function(event, ui) { ... }'; // NB: se la sua trimmed version non inizia con function oppure con /^([^)]+)[\\s]*=>$/ allora aggiungicelo tu a tempo di esecuzione? o non vale la pena per degradazione performance?.\n  static readonly onRotationStart: string = 'function(event, ui) { ... }'; // in realtà è \"start\"\n  static readonly onRotationEnd: string = 'function(event, ui) { ... }'; // in realtà è \"stop\"\n  static readonly disabled: string = 'false | true';\n}\n//if the placeholder value is a choice of literals, the first literal is the default value. UPPERCASED, CamelCased and (parenthesized) words are not literals. Those values are not dynamic and are evaluated only once.\n\nexport class ResizableoptionsPH {\n  static readonly alsoResize: string = 'Selector | Element | jQuery';\n  static readonly animate: string = 'Boolean';\n  static readonly animateDuration: string = 'slow | fast | msec number';\n  static readonly animateEasing: string = 'swing | api.jqueryui.com/easings';\n  static readonly aspectRatio: string = 'Boolean | Number';\n  static readonly autoHide: string = 'Boolean';\n  static readonly cancel: string = 'Selector';\n  static readonly classes: string = 'Object (see jQUI website)';\n  static readonly containment: string = 'Selector | Element | parent | document';\n  static readonly delay: string = 'Number';\n  static readonly distance: string = 'Number (tolerance)';\n  static readonly ghost: string = 'Boolean';\n  static readonly grid: string = '[x: 0, y: 0]';\n  static readonly handles: string = 'se|s|e|n|w|ne|sw|nw|all (comma separated)';\n  static readonly helper: string = 'Classname';\n  static readonly maxHeight: string = 'Number';\n  static readonly maxWidth: string = 'Number';\n  static readonly minHeight: string = 'Number';\n  static readonly minWidth: string = 'Number';\n  static readonly disabled: string = 'false | true';\n// Methods\n// destroy()\n  static readonly enabled: string = 'true | false'; // $var.resizable('disable'); or .resizable( \"enable\" );\n// instance(); only useful as return value on javascript\n// .resizable('option', 'optionname') return the current option or a key-value object with all options or .resizable('option', {key: value}) setta opzioni.\n// .resizable('widget') return $(resizable element)\n// create: string = ''; .resizable('create', functioncallback);\n  static readonly resizing: string = 'function(event, ui){...}';\n  static readonly resizeStart: string = 'function(event, ui){...}';\n  static readonly resizeStop: string = 'function(event, ui){...}';\n}\n\nexport class DraggableOptionsPH {\n  static readonly  addClasses: string = 'false | tr ue';\n  static readonly  appendTo: string = 'Selector | Element | jQuery | parent';\n  static readonly  axis: string = 'x, y | x | y'; // actually \"x, y\" happens when you input \"false\"\n  static readonly  cancel: string = 'Selector';\n  static readonly  classes: string = 'Object (see jQUI website)';\n  static readonly  connectToSortable: string = 'Selector';\n  static readonly  containment: string = 'Selector | SizeArray | parent | document | window';\n  static readonly  cursor: string = 'CSSCursor'; // todo: setta default: quadriarrow (crosshair?)\n  static readonly  cursorAt: string = '{top, left} | {right, bottom} | {top, right} | {bottom, left}';\n  static readonly  delay: string = 'Number (msec)';\n  static readonly  distance: string = 'Number (pixel tolerance)';\n//todo: permetti di fare cambiamenti a run-time usando: chain -> optional export (dinamically rcalculate and replace content of _jquiDrag* attributes), second chain -> point to _jquiDragRule and execute things like in the example \"Get or set the grid option, after initialization: ...\"\n  static readonly  grid: string = '[x: 0, y: 0]';\n  static readonly  handle: string = 'Selector | Element';\n  static readonly  helper: string = 'original | clone | Function() => Element';\n  static readonly  iframeFix: string = 'Boolean | Selector';\n  static readonly opacity: string = 'Number';\n  static readonly refreshPositions: string = 'false | true';\n//todo: droppable\n  static readonly revert: string = 'false | true | valid | invalid | Function() => Boolean';\n  static readonly revertDuration: string = 'Number (msec)';\n  static readonly scope: string = 'String';\n  static readonly scroll: string = 'true | false'; //todo: devi fare lo scroll quando trascini un vertice out of visible graph boundary.\n  static readonly scrollSensitivity: string = 'Number (pixel)'; //Distance in pixels from the edge of the viewport after which the viewport should scroll. Distance is relative to pointer, not the draggable.\n  static readonly scrollSpeed: string = '20 | Number';\n  static readonly snap: string = 'false | true | Selector';\n  static readonly snapMode: string = 'both | inner | outer';\n  static readonly snapTolerance: string = '20 | Number';\n  static readonly stack: string = 'Selector';\n  static readonly zIndex: string = 'Number';\n// Methods\n  static readonly dragging: string = 'function(event, ui){...}';\n  static readonly dragStart: string = 'function(event, ui){...}';\n  static readonly dragStop: string = 'function(event, ui){...}';\n  static readonly disabled: string = 'false | true';\n  // static readonly enabled: string = 'true | false'; // actually it is: .droppable( \"enable\" / \"disable\")\n}\n/*\ndraggableui vertex:\n  usa jqui draggable, lui ti aggiorna top, left, tu le trasformi in GraphPoint e setti:\n  NO transform() che funzionerebbe su tutti\nma switch sulla taga e setta both: cx (al centro), x (al top-left)\n  i vertici default diventano \"measurable\", con responsabilità dell'utente di inserire la classe se li vuole spostabili. default axis = both.*/\n","import {Status, U} from './Joiner';\r\nimport {Data}                            from '@angular/router';\r\n\r\nexport enum DatabaseMode { browserMemory, Sql, File}\r\nexport class Database {\r\n  static db: Database = new Database();\r\n  phpDbPageUrl: string = null;\r\n  sqlurl: string = null;\r\n  sqldb: string = null;\r\n  sqluser: string = null;\r\n  sqlpass: string = null;\r\n  mode: DatabaseMode = null;\r\n  constructor(mode: DatabaseMode = DatabaseMode.browserMemory, username = '_TestUser_',\r\n              phpDbPageUrl = null, sqlurl = null, sqldb = null, sqlpass = null) {\r\n    this.mode = mode;\r\n    this.sqluser = username;\r\n    this.phpDbPageUrl = phpDbPageUrl;\r\n    this.sqldb = sqldb;\r\n    this.sqlpass = sqlpass;\r\n    this.sqlurl = sqlurl; }\r\n    writeKV(table, key, value): void {\r\n      switch (this.mode) {\r\n        default: U.pe(true, 'unexpected db mode:', this.mode); break;\r\n        case DatabaseMode.browserMemory:\r\n          key = this.sqluser + '_' + table + '_' + key;\r\n          localStorage.setItem(key, value);\r\n          break;\r\n        case DatabaseMode.Sql: U.pw(true, 'update sql: todo'); break;\r\n        case DatabaseMode.File:\r\n          key = this.sqluser + '_' + table + '_' + key;\r\n          U.pw(true, 'download file: todo'); break;\r\n      }\r\n    }\r\n    readKV(table, key): string {\r\n      switch (this.mode) {\r\n        default: U.pe(true, 'unexpected db mode:', this.mode); break;\r\n        case DatabaseMode.browserMemory:\r\n          key = this.sqluser + '_' + table + '_' + key;\r\n          return localStorage.getItem(key);\r\n        case DatabaseMode.Sql: U.pw(true, 'select sql: todo'); break;\r\n        case DatabaseMode.File: U.pe(true, 'readKV: cannot be executed with savemode = File'); break;\r\n      }\r\n    }\r\n/*\r\n  public static callForkRoutine(style: ModelPieceStyleEntry, callback: (forkedStyle: ModelPieceStyleEntry) => any): void {\r\n\r\n  }\r\n\r\n  static updateStyle(style: ModelPieceStyleEntry) {\r\n  }\r\n\r\n  static deleteStyle(style: ModelPieceStyleEntry, callback: (result: string) => void) {\r\n    // do request\r\n    callback('1'); // temporaneo\r\n  }\r\n\r\n  static createStyle(clone: ModelPieceStyleEntry) {\r\n\r\n    // do request\r\n    // consistenza con db.\r\n  }*/\r\n}\r\n","/* NOTE: error in module.extends: devi importare i file rispettando l'ordine di dichiarazioni delle classi, se dichiaro class A nel file A, e class\r\n B extensa A nel file B, il file B non può essere importato prima del file A*/\r\n/* this is undefined in constructors or method calls: likely caused by a reserved class name that is listed in config.ts and is behaving\r\n differently.*/\r\n// /*new*/export {Styles, ModelPieceStyleEntry, SortType, StyleVisibility} from '../GuiStyles/styles';\r\n// /*new*/export {ViewHtmlSettings, ViewPoint, ViewRule, ModelView, PackageView, ClassView, AttributeView, EdgeViewRule, ReferenceView, OperationView,\r\n// ParameterView} from '../GuiStyles/viewpoint';\r\n\r\nexport type MyException = any;\r\nimport { default as AnsiUp } from 'ansi_up';\r\nexport const ansiUp = new AnsiUp(); // https://github.com/drudru/ansi_up // ansi color formatter.\r\n\r\nimport * as stringsimilarity from '../common/StringSimilarity.js';\r\nexport let StringSimilarity = stringsimilarity;\r\nimport \"jqueryui\";\r\n// import \"jquery\";\r\nimport * as $$ from 'jquery';\r\nexport const $ = window['' + '$'] = $$;\r\nimport * as $bb from 'bootstrap';\r\nexport const $b = $bb;\r\n\r\nimport Swal0 from 'sweetalert2'\r\nexport const Swal = Swal0;\r\n/*\r\nimport * as JQueryUII        from '../../node_modules/jqueryui';\r\nexport const JQueryUI: JQueryUII = JQueryUII.JQueryUI;*/\r\nimport * as _pr_json2xml     from '../common/prj_json2xml.js';\r\nimport * as _pr_xml2json     from '../common/prj_xml2json.js';\r\nexport const prjson2xml = _pr_json2xml;\r\nexport const prxml2json = _pr_xml2json;\r\n/*export const $$$: JQueryStatic = require('jquery-ui');\r\nexport const $ui: JQueryStatic = $$$;*/\r\n\r\nexport {ViewHtmlSettings, ViewPoint, ViewRule, EdgeViewRule} from '../GuiStyles/viewpoint';\r\nexport {LocalStorage} from '../Database/LocalStorage';\r\nexport {ModelPiece, Info, ModelNone, StyleComplexEntry} from '../Model/modelPiece';\r\n/*new*/export {ECoreEnum, EcoreLiteral,\r\n  ECoreParameter, ECoreOperation, ECoreAttribute, ECoreReference,\r\n  ECoreClass, ECorePackage, ECoreRoot, ECoreAnnotation, ECoreDetail, XMIModel, IModel} from '../Model/iModel';\r\nexport {ShortAttribETypes, U, Json, AttribETypes,\r\n  InputPopup, DetectZoom, Dictionary,\r\n  IPoint, Point, GraphPoint, ISize, Size, GraphSize, myFileReader, FocusHistoryEntry, FileReadTypeEnum, EvalOutput, SelectorOutput\r\n, TSON_JSTypes, TSON, TSON_UnsupportedTypes, TSONString} from './util';\r\nexport {\r\n  MeasurableRuleParts, Measurable, MeasurableEvalContext, measurableRules,\r\n  MeasurableRuleLists, MeasurableOperators, DraggableOptionsImpl, ResizableOptionsImpl,\r\n  RotatableOptions, UnsafeMeasurableEvalContext, ConstraintLeftAdmittedsStatic} from './measurable';\r\nexport {Status} from '../../src/app/app.module';\r\nexport {IGraph, ViewPointShell} from '../guiElements/mGraph/iGraph';\r\nexport {IVertex} from '../guiElements/mGraph/Vertex/iVertex';\r\nexport {IField} from '../guiElements/mGraph/Field/iField';\r\nexport {ISidebar} from '../guiElements/isidebar/isidebar.component';\r\nexport {IEdge, EdgeModes} from '../guiElements/mGraph/Edge/iEdge';\r\nexport {ExtEdge} from '../guiElements/mGraph/Edge/ExtEdge';\r\nexport {EdgePoint, EdgePointFittizio, CursorFollowerEP} from '../guiElements/mGraph/Edge/EdgePoint';\r\nexport {EdgeStyle, EdgePointStyle} from '../guiElements/mGraph/Edge/edgeStyle';\r\nexport {PropertyBarr} from '../guiElements/propertyBar/propertyBar';\r\nexport {TopBar} from '../guiElements/top-bar/top-bar.component';\r\nexport {StyleEditor} from '../guiElements/style-editor/style-editor.component';\r\n/*neww*/ export {SaveListEntry} from '../Database/LocalStorage';\r\n// export {Options} from '../Save/Save';\r\nexport {MyConsole} from '../guiElements/console/console.component';/*\r\nexport {IModel, ECoreRoot, ECorePackage, ECoreClass, ECoreReference,\r\n  ECoreAttribute, ECoreParameter, ECoreOperation, XMIModel, EcoreLiteral, ECoreEnum } from '../Model/iModel';*/\r\n// export {IModel} from '../Model/iModel';\r\nexport {MetaMetaModel} from '../Model/MetaMetaModel';\r\nexport {MetaModel} from '../Model/MetaModel';\r\nexport {Model} from '../Model/Model';\r\nexport {IPackage, M3Package} from '../Model/mPackage/iPackage';\r\nexport {M2Package} from '../Model/mPackage/MMPackage';\r\nexport {MPackage} from '../Model/mPackage/MPackage.component';\r\nexport {IClassifier} from '../mClass/IClassifier';\r\nexport {IClass, M3Class} from '../mClass/iClass';\r\nexport {M2Class} from '../mClass/m2Class';\r\nexport {MClass} from '../mClass/MClass';\r\nexport {EEnum} from '../mClass/EEnum';\r\nexport {Type, EType} from '../mClass/classChild/Type';\r\nexport {Typedd} from '../mClass/classChild/Typedd';\r\nexport {ELiteral} from '../mClass/classChild/ELiteral';\r\nexport {IFeature, M3Feature, M2Feature, MFeature} from '../mClass/classChild/Features/iFeature';\r\nexport {IReference, M3Reference} from '../mClass/classChild/Features/References/iReference';\r\nexport {M2Reference} from '../mClass/classChild/Features/References/M2Reference';\r\nexport {MReference} from '../mClass/classChild/Features/References/MReference';\r\nexport {IAttribute, M3Attribute} from '../mClass/classChild/Features/Attributes/iAttribute';\r\nexport {M2Attribute} from '../mClass/classChild/Features/Attributes/mmAttribute';\r\nexport {MAttribute} from '../mClass/classChild/Features/Attributes/MAttribute';\r\nexport {EAnnotation} from '../Model/EAnnotation';\r\nexport {EAnnotationDetail} from '../Model/EAnnotationDetail';\r\n/*new*/export {Database} from '../common/Database';\r\nexport {DamContextMenuComponent} from '../guiElements/dam-context-menu/dam-context-menu.component';\r\nexport {EOperation, AccessModifier} from '../mClass/classChild/Operations/eOperation';\r\nexport {EParameter} from '../mClass/classChild/Operations/eParameter';\r\nexport {Draggableoptions, Resizableoptions, Rotatableoptions, ResizableoptionsPH,\r\n  DraggableOptionsPH, RotatableoptionsPH, MeasurableTemplateGenerator, MeasurabletemplateComponent} from '../app/measurabletemplate/measurabletemplate.component';\r\nexport {ChangelogRoot, ChangelogEntry, VersionUpload, Feature, Bug, BugFix} from '../guiElements/changelog/ChangelogEntry';\r\nexport {WebsiteTheme} from '../GuiStyles/global';\r\nexport {ModelUpdateMessage} from '../ServerCommunication/Synchronization/ModelUpdateMessage';\r\nexport {SendManager} from '../ServerCommunication/Synchronization/SendManager';\r\n\r\n\r\n\r\n\r\nexport class ReservedClasses {\r\n  // everytime i draw a vertex, i need to search in all the DOM sub-tree for all attributes starting with measurableRules.onRefresh and execute them.\r\n  // hence i made a class tied with the presence of attributes starting with measurableRules.onRefresh for efficiency.\r\n  static readonly onRefresh = 'onRefresh';\r\n  static readonly template = 'template';\r\n  static readonly vertexRoot = 'vertexRoot';\r\n}\r\nexport class ReservedAttributes {\r\n  static readonly todo = 'todo';\r\n}\r\nexport class ReservedDatasets {\r\n  static readonly todo = 'todo';\r\n}\r\nexport class ReservedStorageKey {\r\n  static readonly userTheme: string = 'userTheme';\r\n  static readonly versionAcknowledged = 'versionAcknowledged';\r\n}\r\n\r\n\r\n\r\n// import {IClassifier} from '../mClass/IClassifier';\r\n\r\n/*\r\n// @ts-ignore\r\nlet enc = he.encode;\r\n// @ts-ignore\r\nlet dec = he.decode;\r\n// @ts-ignore\r\nlet esc = he.escape;\r\n// @ts-ignore\r\nlet unesc = he.unescape;\r\n// @ts-ignore\r\nlet ver = he.version;\r\nexport const HE = {encode: enc, decode: dec, escape: esc, unescape: unesc, version: ver};*/\r\n\r\n\r\n// NB: se li esporti e usi come identificatori/costruttori nel codice, typescript li collega da una fantomatica user-class con nome __CambiatoTipoCosì\r\n// e pur esistendo la classe A, lui cerca __A e dice che non esiste.\r\n// soluzione: attiva quando scrivi codice per abilitare il type check, disabilita in produzione.\r\n/*\r\ntype ResizeObserverSize = unknown;\r\ndeclare type ResizeObserverEntry = {\r\n  readonly target: Element;\r\n  readonly contentRect: DOMRectReadOnly;\r\n  readonly borderBoxSize: ResizeObserverSize[]; // type was \"readonly attribute sequence<ResizeObserverSize>\"\r\n  readonly contentBoxSize: ResizeObserverSize[];\r\n  devicePixelContentBoxSize: ResizeObserverSize[];\r\n}\r\ndeclare type ResizeObserverCallback = (entries: ResizeObserverEntry[], observer: ResizeObserverr) => unknown;\r\ndeclare type ResizeObserverOptions = {box: 'content-box' | 'border-box'}\r\ndeclare type ResizeObserverr = {\r\n  constructor(callback: ResizeObserverCallback);\r\n  observe(target: Element, options?: ResizeObserverOptions): void;\r\n  unobserve(target: Element): void;\r\n  disconnect(): void;\r\n}\r\nexport let ResizeObserver: ResizeObserverr = window['' + 'ResizeObserver'];\r\n*/\r\n","\r\nexport var compareTwoStrings = compareTwoStrings0;\r\nexport var findBestMatch = findBestMatch0;\r\nfunction compareTwoStrings0(first, second) {\r\n\tfirst = first.replace(/\\s+/g, '')\r\n\tsecond = second.replace(/\\s+/g, '')\r\n\r\n\tif (!first.length && !second.length) return 1;                   // if both are empty strings\r\n\tif (!first.length || !second.length) return 0;                   // if only one is empty string\r\n\tif (first === second) return 1;       \t\t\t\t\t\t\t // identical\r\n\tif (first.length === 1 && second.length === 1) return 0;         // both are 1-letter strings\r\n\tif (first.length < 2 || second.length < 2) return 0;\t\t\t // if either is a 1-letter string\r\n\r\n\tlet firstBigrams = new Map();\r\n\tfor (let i = 0; i < first.length - 1; i++) {\r\n\t\tconst bigram = first.substr(i, 2);\r\n\t\tconst count = firstBigrams.has(bigram)\r\n\t\t\t? firstBigrams.get(bigram) + 1\r\n\t\t\t: 1;\r\n\r\n\t\tfirstBigrams.set(bigram, count);\r\n\t};\r\n\r\n\tlet intersectionSize = 0;\r\n\tfor (let i = 0; i < second.length - 1; i++) {\r\n\t\tconst bigram = second.substr(i, 2);\r\n\t\tconst count = firstBigrams.has(bigram)\r\n\t\t\t? firstBigrams.get(bigram)\r\n\t\t\t: 0;\r\n\r\n\t\tif (count > 0) {\r\n\t\t\tfirstBigrams.set(bigram, count - 1);\r\n\t\t\tintersectionSize++;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (2.0 * intersectionSize) / (first.length + second.length - 2);\r\n}\r\n\r\nfunction findBestMatch0(mainString, targetStrings) {\r\n\tif (!areArgsValid(mainString, targetStrings)) throw new Error('Bad arguments: First argument should be a string, second should be an array of strings');\r\n\t\r\n\tconst ratings = [];\r\n\tlet bestMatchIndex = 0;\r\n\r\n\tfor (let i = 0; i < targetStrings.length; i++) {\r\n\t\tconst currentTargetString = targetStrings[i];\r\n\t\tconst currentRating = compareTwoStrings(mainString, currentTargetString)\r\n\t\tratings.push({target: currentTargetString, rating: currentRating})\r\n\t\tif (currentRating > ratings[bestMatchIndex].rating) {\r\n\t\t\tbestMatchIndex = i\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tconst bestMatch = ratings[bestMatchIndex]\r\n\t\r\n\treturn { ratings, bestMatch, bestMatchIndex };\r\n}\r\n\r\nfunction flattenDeep(arr) {\r\n\treturn Array.isArray(arr) ? arr.reduce((a, b) => a.concat(flattenDeep(b)), []) : [arr];\r\n}\r\n\r\nfunction areArgsValid(mainString, targetStrings) {\r\n\tif (typeof mainString !== 'string') return false;\r\n\tif (!Array.isArray(targetStrings)) return false;\r\n\tif (!targetStrings.length) return false;\r\n\tif (targetStrings.find(s => typeof s !== 'string')) return false;\r\n\treturn true;\r\n}\r\n\r\nfunction letterPairs(str) {\r\n\tconst pairs = [];\r\n\tfor (let i = 0, max = str.length - 1; i < max; i++) pairs[i] = str.substring(i, i + 2);\r\n\treturn pairs;\r\n}\r\n\r\nfunction wordLetterPairs(str) {\r\n\tconst pairs = str.toUpperCase().split(' ').map(letterPairs);\r\n\treturn flattenDeep(pairs);\r\n}\r\n","// requires: U, jQuery, jQueryUI\r\n\r\nimport {\r\n  U,\r\n  ISize,\r\n  IPoint,\r\n  Dictionary,\r\n  IVertex,\r\n  IGraph,\r\n  ModelPiece,\r\n  IModel,\r\n  MyConsole,\r\n  EvalOutput,\r\n  GraphSize,\r\n  GraphPoint,\r\n  Draggableoptions,\r\n  Resizableoptions,\r\n  Rotatableoptions,\r\n  Size, Point, Status, ReservedClasses, SelectorOutput, MeasurableTemplateGenerator, Model, MyException\r\n} from './Joiner';\r\n// import {ModelPiece, IClassifier, IVertex, MAttribute, Size, Point} from './Joiner';\r\nimport ResizableOptions = JQueryUI.ResizableOptions;\r\nimport ResizableUIParams = JQueryUI.ResizableUIParams;\r\nimport DraggableEventUIParams = JQueryUI.DraggableEventUIParams;\r\nimport DraggableOptions = JQueryUI.DraggableOptions;\r\nimport {createTokenForExternalReference} from '@angular/compiler/src/identifiers';\r\nimport {PendingFunctionCall, ProtectedModelPiece} from '../Model/modelPiece';\r\n/*\r\nexport class MeasurableArrays {rules: Attr[]; imports: Attr[]; exports: Attr[]; variables: Attr[];\r\n  constraints: Attr[]; chain: Attr[]; chainFinal: Attr[]; dstyle: Attr[]; html: Element; e: Event; }*/\r\n\r\nexport class ConstraintLeftAdmittedsStatic {\r\n  static readonly vertexSizeX: 'vertexSize.x' = 'vertexSize.x';\r\n  static readonly vertexSizeY: 'vertexSize.y' = 'vertexSize.y';\r\n  static readonly vertexSizeW: 'vertexSize.w' = 'vertexSize.w';\r\n  static readonly vertexSizeH: 'vertexSize.h' = 'vertexSize.h';\r\n  static readonly width: 'width' = 'width';\r\n  static readonly height: 'height' = 'height';\r\n  static readonly relativePosX: 'relativePos.x' = 'relativePos.x';\r\n  static readonly relativePosY: 'relativePos.y' = 'relativePos.y';\r\n  static readonly relativeVPosX: 'relativeVPos.x' = 'relativeVPos.x';\r\n  static readonly relativeVPosY: 'relativeVPos.y' = 'relativeVPos.y';\r\n  static readonly absoluteGPosX: 'absoluteGPos.x' = 'absoluteGPos.x';\r\n  static readonly absoluteGPosY: 'absoluteGPos.y' = 'absoluteGPos.y';\r\n  static readonly absoluteDocPosX: 'absoluteDocPos.x' = 'absoluteDocPos.x';\r\n  static readonly absoluteDocPosY: 'absoluteDocPos.y' = 'absoluteDocPos.y';\r\n\r\n  static readonly targetvertexSizeX: 'target.vertexSize.x' = 'target.vertexSize.x';\r\n  static readonly targetvertexSizeY: 'target.vertexSize.y' = 'target.vertexSize.y';\r\n  static readonly targetvertexSizeW: 'target.vertexSize.w' = 'target.vertexSize.w';\r\n  static readonly targetvertexSizeH: 'target.vertexSize.h' = 'target.vertexSize.h';\r\n  static readonly targetwidth: 'target.width' = 'target.width';\r\n  static readonly targetheight: 'target.height' = 'target.height';\r\n  static readonly targetrelativePosX: 'target.relativePos.x' = 'target.relativePos.x';\r\n  static readonly targetrelativePosY: 'target.relativePos.y' = 'target.relativePos.y';\r\n  static readonly targetrelativeVPosX: 'target.relativeVPos.x' = 'target.relativeVPos.x';\r\n  static readonly targetrelativeVPosY: 'target.relativeVPos.y' = 'target.relativeVPos.y';\r\n  static readonly targetabsoluteGPosX: 'target.absoluteGPos.x' = 'target.absoluteGPos.x';\r\n  static readonly targetabsoluteGPosY: 'target.absoluteGPos.y' = 'target.absoluteGPos.y';\r\n  static readonly targetabsoluteDocPosX: 'target.absoluteDocPos.x' = 'target.absoluteDocPos.x';\r\n  static readonly targetabsoluteDocPosY: 'target.absoluteDocPos.y' = 'target.absoluteDocPos.y';\r\n}\r\nexport class UnsafeMeasurableEvalContext {\r\n  model: /*ModelPiece*/ModelPiece;\r\n  node: /*HtmlElement*/Element;\r\n  vertex: /*Vertex*/IVertex;\r\n  graph: /*Graph*/IGraph;\r\n  modelRoot: /*Model*/IModel;\r\n}\r\nexport class MeasurableEvalContext {\r\n  unsafec: UnsafeMeasurableEvalContext;\r\n  graphSize: ISize;\r\n  documentSize: ISize;\r\n  graphScroll: IPoint;\r\n  graphZoom: IPoint;\r\n  // NB: se un attributo viene sovrascritto durante l'esecuzione di una regola measurable, i valori in questa mappa NON verranno aggiornati fino al prossimo evento (onresize, ondrag...)\r\n  a: Dictionary<string, string>;\r\n  // NB: questi sono sempre updated\r\n  attributes: Dictionary<string, string>;\r\n  model: ProtectedModelPiece;\r\n  target: MeasurableEvalContext;\r\n  isFilled: boolean = false;\r\n\r\n  // editable positions\r\n  vertexSize: GraphSize;\r\n  width: number;\r\n  height: number;\r\n  relativePos: GraphPoint;\r\n  relativeVPos: GraphPoint;\r\n  absoluteGPos: GraphPoint;\r\n  absoluteDocPos: IPoint; // posizione dell'elemento rispetto al documento, es: impedisce che l'elemento scenda oltre metà schermata.\r\n  constructor() {\r\n    this.unsafec = new UnsafeMeasurableEvalContext();\r\n  }\r\n\r\n  static isVertex(context: MeasurableEvalContext): boolean { return context.unsafec.vertex.getHtmlRawForeign() === context.unsafec.node; }\r\n  setSize = (w: number = null/*number*/, h: number = null/*number*/): void => /*void*/{\r\n    if (U.isNumerizable(w)) { this.width = +w; }\r\n    if (U.isNumerizable(h)) { this.height = +h; }\r\n  };\r\n  setAbsoluteGPos = (x: number = null/*number*/, y: number = null/*number*/): void=>/*void*/ {\r\n    const isVertex: boolean = MeasurableEvalContext.isVertex(this);\r\n    if (U.isNumerizable(x)) {\r\n      this.absoluteGPos.x = +x;\r\n      if (isVertex) {\r\n        this.vertexSize.x = this.absoluteGPos.x;\r\n        this.relativeVPos.y = 0; //y intenzionale\r\n        this.relativeVPos.x = 0; }\r\n      else { this.relativeVPos.x = this.absoluteGPos.x - this.vertexSize.x; }\r\n      if (this.target) { this.relativePos.x = this.absoluteGPos.x - this.target.absoluteGPos.x; }\r\n      this.absoluteDocPos.x = this.graphSize.x + (this.absoluteGPos.x - this.graphScroll.x) / this.graphZoom.x;\r\n    }\r\n    if (U.isNumerizable(y)) {\r\n      this.absoluteGPos.y = +y;\r\n      if (isVertex) {\r\n        this.vertexSize.y = this.absoluteGPos.y;\r\n        this.relativeVPos.x = 0; //x intenzionale\r\n        this.relativeVPos.y = 0; }\r\n      else { this.relativeVPos.y = this.absoluteGPos.y - this.vertexSize.y; }\r\n      if (this.target) { this.relativePos.y = this.absoluteGPos.y - this.target.absoluteGPos.y; }\r\n      this.absoluteDocPos.y = this.graphSize.y + (this.absoluteGPos.y - this.graphScroll.y) / this.graphZoom.y;\r\n    }\r\n\r\n  };\r\n  setRelativePos = (x: number = null/*number*/, y: number = null/*number*/): void=>/*void*/ {\r\n    if (!this.target) return;\r\n    //const isVertex: boolean = MeasurableEvalContext.isVertex(this);\r\n    if (U.isNumerizable(x)) { this.absoluteGPos.x = this.target.absoluteGPos.x + +x; }\r\n    if (U.isNumerizable(y)) { this.absoluteGPos.y = this.target.absoluteGPos.y + +y; }\r\n    this.setAbsoluteGPos(this.absoluteGPos.x, this.absoluteGPos.y);\r\n  };\r\n  setRelativeVPos = (x: number = null/*number*/, y: number = null/*number*/): void=>/*void*/ {\r\n    //const isVertex: boolean = MeasurableEvalContext.isVertex(this); should not be used at all in vertexes.\r\n    if (U.isNumerizable(x)) { this.absoluteGPos.x = this.vertexSize.x + +x; }\r\n    if (U.isNumerizable(y)) { this.absoluteGPos.y = this.vertexSize.y + +y; }\r\n    this.setAbsoluteGPos(this.absoluteGPos.x, this.absoluteGPos.y);\r\n  };\r\n  setVertexSize = (x: number = null/*number*/, y: number = null/*number*/, w: number = null/*number*/, h: number = null/*number*/): void=>/*void*/ {\r\n    const isVertex: boolean = MeasurableEvalContext.isVertex(this);\r\n    console.log('vsize pre:', this.vertexSize.duplicate(), 'w:', w, 'isVertex?', isVertex);\r\n    if (U.isNumerizable(w)) this.vertexSize.w = +w;\r\n    if (U.isNumerizable(h)) this.vertexSize.h = +h;\r\n    console.log('vsize mid:', this.vertexSize.duplicate());\r\n    if (isVertex) { this.setAbsoluteGPos(x, y); }\r\n    else {\r\n      if (U.isNumerizable(x)) { this.absoluteGPos.x = +x + this.relativeVPos.x; }\r\n      if (U.isNumerizable(y)) { this.absoluteGPos.y = +y + this.relativeVPos.y; }\r\n      this.setAbsoluteGPos(this.absoluteGPos.x, this.absoluteGPos.y); }\r\n    console.log('vsize post:', this.vertexSize.duplicate());\r\n  };\r\n  // può servire a tenere qualcosa fisso al centro del grafo anche se faccio panning\r\n  setAbsoluteDocPos = (x: number = null/*number */, y: number = null/*number*/): void=>/*void*/ {\r\n    if (U.isNumerizable(x)) {\r\n      this.absoluteDocPos.x = +x;\r\n      this.absoluteGPos.x = this.graphScroll.x + this.graphZoom.x * (this.absoluteDocPos.x - this.graphSize.x); }\r\n    if (U.isNumerizable(y)) {\r\n      this.absoluteDocPos.y = +y;\r\n      this.absoluteGPos.y = this.graphScroll.y + this.graphZoom.y * (this.absoluteDocPos.y - this.graphSize.y); }\r\n    this.setAbsoluteGPos(this.absoluteGPos.x, this.absoluteGPos.y); };\r\n\r\n  setVertexSizeX = (x: number/*number*/ = null): void=>/*void*/ { return this.setVertexSize(x, null, null, null); };\r\n  setVertexSizeY = (y: number/*number*/ = null): void=>/*void*/ { return this.setVertexSize(null, y, null, null); };\r\n  setVertexSizeW = (w: number/*number*/ = null): void=>/*void*/ { return this.setVertexSize(null, null, w, null); };\r\n  setVertexSizeH = (h: number/*number*/ = null): void=>/*void*/ { return this.setVertexSize(null, null, null, h); };\r\n  setVertexX = (x: number/*number*/ = null): void=>/*void*/ { return this.setVertexSizeX(x); };\r\n  setVertexY = (y: number/*number*/ = null): void=>/*void*/ { return this.setVertexSizeY(y); };\r\n  setVertexW = (w: number/*number*/ = null): void=>/*void*/ { return this.setVertexSizeW(w); };\r\n  setVertexH = (h: number/*number*/ = null): void=>/*void*/ { return this.setVertexSizeH(h); };\r\n  setRelativePosX = (x: number/*number*/ = null): void=>/*void*/ { return this.setRelativePos(x, null); };\r\n  setRelativePosY = (y: number/*number*/ = null): void=>/*void*/ { return this.setRelativePos(null, y); };\r\n  setRelativeVPosX = (x: number/*number*/ = null): void=>/*void*/ { return this.setRelativeVPos(x, null); };\r\n  setRelativeVPosY = (y: number/*number*/ = null): void=>/*void*/ { return this.setRelativeVPos(null, y); };\r\n  setAbsoluteGPosX = (x: number/*number*/ = null): void=>/*void*/ { return this.setAbsoluteGPos(x, null); };\r\n  setAbsoluteGPosY = (y: number/*number*/ = null): void=>/*void*/ { return this.setAbsoluteGPos(null, y); };\r\n  setAbsoluteDocPosX = (x: number/*number*/ = null): void=>/*void*/ { return this.setAbsoluteDocPos(x, null); };\r\n  setAbsoluteDocPosY = (y: number/*number*/ = null): void=>/*void*/ { return this.setAbsoluteDocPos(null, y); };\r\n  setWidth = (w: number/*number*/ = null): void=>/*void*/ { return this.setSize(w, null); };\r\n  setHeight = (h: number/*number*/ = null): void=>/*void*/ { return this.setSize(null, h); };\r\n\r\n  // serve a dare un oggetto verosimile da cui poter generare i suggerimenti dei nomi e tipi per l'editor delle measurableRule\r\n  static fillFake(filltarget: boolean = true): MeasurableEvalContext {\r\n    let thiss: MeasurableEvalContext = new MeasurableEvalContext();\r\n    thiss.isFilled = false;\r\n    thiss.width = thiss.height = 0;\r\n    thiss.unsafec = new UnsafeMeasurableEvalContext();\r\n    thiss.relativePos = thiss.relativeVPos = thiss.absoluteGPos = thiss.absoluteDocPos = new GraphPoint(0, 0);\r\n    thiss.absoluteDocPos = new Point(0, 0);\r\n    thiss.documentSize = new Size(0, 0);\r\n    thiss.vertexSize = new GraphSize(0, 0, 0, 0);\r\n    thiss.model = U.copyFirstLevelStructureWithoutValues(new ProtectedModelPiece(null, null)) as any;\r\n    // set unsafec\r\n    console.log(new IVertex(null, null), U.copyFirstLevelStructureWithoutValues(new IVertex(null, null)));\r\n    // throw new Error();\r\n    thiss.unsafec.vertex = U.copyFirstLevelStructureWithoutValues(new IVertex(null, null)) as any;\r\n    thiss.unsafec.graph = U.copyFirstLevelStructureWithoutValues(Status.status.mm.graph) as any;\r\n    thiss.unsafec.modelRoot = U.copyFirstLevelStructureWithoutValues(Status.status.mm) as any;\r\n    thiss.unsafec.node = document.createElement('div');\r\n\r\n    thiss.attributes = thiss.a = []; // not an array but i want [] suggestions. todo: se è oggetto suggerisci \".\" se è array suggerisci \"[\"\r\n    // approximation tricks\r\n    if (filltarget) thiss.target = MeasurableEvalContext.fillFake(false);\r\n    thiss.model.unsafemp = thiss.unsafec.model = thiss.model as any as ModelPiece;\r\n    return thiss; }\r\n\r\n}\r\ntype pattern = string;\r\nexport enum MeasurableOperators { eq = '=', lt = '<', lte = '<=', gt = '>', gte = '>=', ne = '!='}\r\n/*\r\nexport class SizeVariables {\r\n  static width: string = 'width';\r\n  static height: string = 'height';\r\n  static positionRelX: string = 'positionRelX';\r\n  static positionRelY: string = 'positionRelY';\r\n  static positionAbsX: string = 'positionAbsX';\r\n  static positionAbsY: string = 'positionAbsY';\r\n  static relativeTargetSizeX: string = 'relativeTargetSizeX';\r\n  static relativeTargetSizeY: string = 'relativeTargetSizeY';\r\n  static relativeTargetSizeW: string = 'relativeTargetSizeW';\r\n  static relativeTargetSizeH: string = 'relativeTargetSizeH';\r\n  static absoluteTargetSizeX: string = 'absoluteTargetSizeX';\r\n  static absoluteTargetSizeY: string = 'absoluteTargetSizeY';\r\n  static absoluteTargetSizeW: string = 'absoluteTargetSizeW';\r\n  static absoluteTargetSizeH: string = 'absoluteTargetSizeH';\r\n}\r\nexport class ValidImportLefts {\r\n  static width: string = 'width';\r\n  static height: string = 'height';\r\n  static positionRelX: string = 'positionRelX';\r\n  static positionRelY: string = 'positionRelY';\r\n  static positionAbsX: string = 'positionAbsX';\r\n  static positionAbsY: string = 'positionAbsY';\r\n  static relativeTargetSizeX: string = 'relativeTargetSizeX';\r\n  static relativeTargetSizeY: string = 'relativeTargetSizeY';\r\n  static absoluteTargetSizeX: string = 'absoluteTargetSizeX';\r\n  static absoluteTargetSizeY: string = 'absoluteTargetSizeY';\r\n}*/\r\n\r\n// le uso direttamente dentro la libreria U... // export enum constraintConditions { insideRect = 'insideRect', insideNode = 'insideNode', insidePolygon = 'insidePolygon', insideCircle = 'insideCircle'};\r\nexport class MeasurableRuleParts {\r\n  static operatormap: Dictionary<measurableRules, Dictionary<MeasurableOperators, boolean>> = null;\r\n  static leftmap: Dictionary<measurableRules, pattern>;\r\n\r\n  static staticinit(): Dictionary<measurableRules, string[]> {\r\n    const leftmap = {};\r\n    const operatormap = {};\r\n    console.log(leftmap, measurableRules.variable);\r\n    console.log(leftmap, measurableRules.variable);\r\n    leftmap[measurableRules.variable] = '^$';\r\n    // leftmap[measurableRules.rule] = '^\\$##.*(\\.values|\\.values\\.[0-9]+)\\$$'; poi diventata \"^values\\[[0-9]*\\]$\" poi cancellata\r\n\r\n    leftmap[measurableRules.constraint] = '.*';// should be '^(' + Object.values(SizeVariables).join('|') + ')$';\r\n    leftmap[measurableRules.dynamicStyle] =\r\n      leftmap[measurableRules.dynamicClass] = leftmap[measurableRules.variable];\r\n    // CSS3 selector is not regular language https://stackoverflow.com/questions/12575845/what-is-the-regex-of-a-css-selector\r\n    leftmap[measurableRules.export] =\r\n    leftmap[measurableRules.onRefresh] =\r\n    leftmap[measurableRules.onResizeStart] =\r\n    leftmap[measurableRules.whileResizing] =\r\n    leftmap[measurableRules.onResizeEnd] =\r\n    leftmap[measurableRules.onDragStart] =\r\n    leftmap[measurableRules.whileDragging] =\r\n    leftmap[measurableRules.onDragEnd] = '.+';\r\n    leftmap[measurableRules._jquiRes] = leftmap[measurableRules._jquiDra] = leftmap[measurableRules._jquiRot] = '\\'.*';\r\n\r\n\r\n    operatormap[measurableRules._jquiRes] = {};\r\n    operatormap[measurableRules._jquiDra] = {};\r\n    operatormap[measurableRules._jquiRot] = {};\r\n    operatormap[measurableRules.variable] = {}; // none\r\n    // operatormap[measurableRules.rule] = {};\r\n    // operatormap[measurableRules.rule][MeasurableOperators.eq] = true;\r\n    operatormap[measurableRules.export] = {};\r\n    operatormap[measurableRules.export][MeasurableOperators.eq] = true;\r\n    operatormap[measurableRules.constraint] = {};\r\n    operatormap[measurableRules.constraint][MeasurableOperators.lte] =  true;\r\n    operatormap[measurableRules.constraint][MeasurableOperators.eq] =  true;\r\n    operatormap[measurableRules.constraint][MeasurableOperators.gte] =  true;\r\n    // se lo fai: constraint non lineare NON ha operatori, le cose tipo \"insideNode\" sono funzioni in U.\r\n    // il valore di fallback è calcolato da un'attributo \"fallbackOfLinearConstraint<name>\"\r\n  operatormap[measurableRules.dynamicClass] =\r\n    operatormap[measurableRules.dynamicStyle] = operatormap[measurableRules.variable];\r\n  operatormap[measurableRules.onResizeStart] =\r\n    operatormap[measurableRules.whileResizing] =\r\n    operatormap[measurableRules.onResizeEnd] =\r\n    operatormap[measurableRules.onDragStart] =\r\n    operatormap[measurableRules.whileDragging] =\r\n    operatormap[measurableRules.onDragEnd] = operatormap[measurableRules.export];\r\n\r\n    MeasurableRuleParts.leftmap = leftmap;\r\n    return MeasurableRuleParts.operatormap = operatormap; }\r\n\r\n  static fillEvalContext(evalContext: MeasurableEvalContext, backupContext: MeasurableEvalContext = null, node: Element, targetquery: string): MyException {\r\n    console.log('FillEvalContext() called, targetquery: |' + targetquery + '|');\r\n    let tmp: any;\r\n    let tmpjq: any;\r\n    let i: number;\r\n    let j: number;\r\n    const mp: ModelPiece = ModelPiece.getLogic(node);\r\n    const vertex: IVertex = mp.getVertex();\r\n    const graph: IGraph = vertex.owner;\r\n    const backupcontext0: MeasurableEvalContext = backupContext; // to overwrite \".target\"\r\n    // prevent to overwrite the initial backup status with a mid-way status by filling a disposable object instead\r\n    if (!backupContext || backupContext.isFilled) backupContext = new MeasurableEvalContext() as any;\r\n    let debug = (window['debug'] === 1);\r\n    let filltarget = () => {\r\n      let backupcontext = 'do not use here, keep changes on the real backupcontext, never write on the mock disposable object.';\r\n      let $tmpjq: JQuery<Element>;\r\n      if (targetquery) try { $tmpjq = $(graph.container).find(targetquery); }\r\n      catch (e) { console.error('exception:', e); return e; }\r\n      U.pif(true, '1.context:', evalContext, 'target:', $tmpjq, evalContext.target);\r\n      if ($tmpjq && $tmpjq.length) {\r\n        evalContext.target = new MeasurableEvalContext();\r\n        backupcontext0.target = backupcontext0.target || new MeasurableEvalContext();\r\n        let exception = MeasurableRuleParts.fillEvalContext(evalContext.target, backupcontext0.target, $tmpjq[0], null);\r\n        if (exception) { console.error('exception2:', exception); exception['mysource'] = ['occurred inside this.target']; return exception; }\r\n      }\r\n      U.pif(true, '2.context:', evalContext, 'target:', $tmpjq, evalContext.target);\r\n      U.pe(debug && !evalContext.target, '!target');\r\n    };\r\n\r\n    if (targetquery && !backupContext.target) { filltarget(); }\r\n    if (evalContext.isFilled) {\r\n      evalContext.setAbsoluteDocPos(evalContext.absoluteDocPos.x, evalContext.absoluteDocPos.y);// non ho capito perchè ma rel.pos và in casino, quindi rifaccio la set absolutepos che reinizializza tutte a catena\r\n      U.pe (evalContext.target && (evalContext.relativePos.y !== evalContext.absoluteGPos.y - evalContext.target.absoluteGPos.y),\r\n      'context:', evalContext, 'failed assertion, relativePos != this.absolGpos - target.absolGpos ', evalContext.relativePos, ' !== ', evalContext.absoluteGPos, ' - ', evalContext.target && evalContext.target.absoluteGPos)\r\n\r\n      return null; } // must call filltarget() (at least to check if target is filled) even if the main context is already filled. so it's placed below.\r\n    backupContext.isFilled = true; // avoid dual fill, se ci sono due eval() questo rollbackerebbe alla scorsa esecuzione.\r\n    evalContext.isFilled = true;\r\n\r\n    evalContext.unsafec.node = node;\r\n    backupContext.unsafec.node = node; // node.cloneNode(true) as Element;\r\n    backupContext.unsafec.graph = evalContext.unsafec.graph = graph;\r\n    backupContext.unsafec.vertex = evalContext.unsafec.vertex = vertex;\r\n    backupContext.unsafec.model = evalContext.unsafec.model = mp;\r\n    backupContext.unsafec.modelRoot = evalContext.unsafec.modelRoot = mp.getModelRoot();\r\n    backupContext.model = new ProtectedModelPiece(mp, null);\r\n    evalContext.model = new ProtectedModelPiece(mp, null);\r\n    U.pe(!evalContext.model.unsafemp, 'unsafe is unset:', evalContext.model, mp, evalContext);\r\n    delete evalContext.model.applyChanges;\r\n    const isvroot: boolean = vertex.getMeasurableNode() === node;\r\n    const size: ISize = isvroot ? graph.toHtmlCoordS(vertex.getSize()) : U.sizeof(node);\r\n    backupContext.width = evalContext.width = size.w;\r\n    backupContext.height = evalContext.height = size.h;\r\n\r\n\r\n    evalContext.graphScroll = graph.scroll.duplicate();\r\n    evalContext.graphZoom = graph.zoom.duplicate();\r\n    evalContext.vertexSize = vertex.getSize().duplicate();\r\n    evalContext.graphSize = U.sizeof(graph.container).duplicate();\r\n    evalContext.documentSize = new Size(0, 0, document.documentElement.scrollWidth, document.documentElement.scrollHeight); // documentElement counts also body's margin\r\n\r\n    backupContext.graphScroll = evalContext.graphScroll.duplicate();\r\n    backupContext.graphZoom = evalContext.graphZoom.duplicate();\r\n    backupContext.vertexSize = evalContext.vertexSize.duplicate();\r\n    backupContext.graphSize = evalContext.graphSize.duplicate();\r\n    backupContext.documentSize = evalContext.documentSize.duplicate();\r\n\r\n\r\n    let attrs = evalContext.unsafec.node.attributes;\r\n    evalContext.a = {};\r\n    evalContext.attributes = evalContext.a;\r\n    backupContext.attributes = null;\r\n    backupContext.a = null;\r\n    for (i = 0; i < attrs.length; i++) { evalContext.a[attrs[i].name] = attrs[i].value; }\r\n\r\n    evalContext.relativePos = new GraphPoint();\r\n    evalContext.relativeVPos = new GraphPoint();\r\n    evalContext.absoluteGPos = new GraphPoint(); // all updated when absoluteGpos is updated.\r\n    evalContext.absoluteDocPos = new Point();\r\n    backupContext.relativePos = new GraphPoint();\r\n    backupContext.relativeVPos = new GraphPoint();\r\n    backupContext.absoluteGPos = new GraphPoint();\r\n    backupContext.absoluteDocPos = new Point();\r\n\r\n    // if (evalContext.target) evalContext.relativePos.y = null; // debug\r\n    evalContext.setAbsoluteDocPos(size.x, size.y);\r\n    backupContext.setAbsoluteDocPos(size.x, size.y);\r\n\r\n    U.pe (evalContext.target && (evalContext.relativePos.y !== evalContext.absoluteGPos.y - evalContext.target.absoluteGPos.y),\r\n      'context:', evalContext, 'failed assertion, relativePos != this.absolGpos - target.absolGpos ', evalContext.relativePos, ' !== ', evalContext.absoluteGPos, ' - ', evalContext.target && evalContext.target.absoluteGPos)\r\n\r\n    return null; };\r\n\r\n  prefix: string;\r\n  name: string;\r\n  left: string;\r\n  operator: string;\r\n  right: string;\r\n  target: string;\r\n  output: MeasurableRuleParts;\r\n  triggeredResults: MeasurableRuleParts[];\r\n  attr: Attr;\r\n  outputAttr: Attr;\r\n  // relativeTarget: string;\r\n  fallbackValue: string;\r\n\r\n  process(validatefirst: boolean = false, vertex: IVertex = null, graph: IGraph = null): MeasurableRuleParts{\r\n    let out: MeasurableRuleParts;\r\n    out = this.process0(validatefirst, vertex, graph);\r\n    console.log('process rule:', this.prefix, this, 'out:', out);\r\n    return out; }\r\n\r\n  process0(validatefirst: boolean = false, vertex: IVertex = null, graph: IGraph = null): MeasurableRuleParts {\r\n    let exception: MyException;\r\n    const out: MeasurableRuleParts = new MeasurableRuleParts(null, null, true);\r\n    let tmp: any;\r\n    let i: number;\r\n    let j: number;\r\n    let evalContext: MeasurableEvalContext = new MeasurableEvalContext();\r\n    let rollbackContext: MeasurableEvalContext = new MeasurableEvalContext();\r\n    if (validatefirst) {\r\n      const validoperators: string[] = Object.keys(MeasurableRuleParts.operatormap[this.prefix]);\r\n      if (validoperators.length > 0 && this.operator || !MeasurableRuleParts.operatormap[this.prefix][this.operator]) {\r\n        out.operator = validoperators.length ? 'must be one of: ' + tmp.join(' ') : 'must be empty, found instead: ' + this.operator + '';\r\n      }\r\n      if (!new RegExp(MeasurableRuleParts.leftmap[this.prefix]).test(this.left)) {\r\n        out.left = validoperators.length ? 'must be one of: ' + tmp.join(' ') : 'must be empty, found instead: ' + this.operator + '';\r\n      }\r\n      exception = MeasurableRuleParts.fillEvalContext(evalContext, rollbackContext, this.attr.ownerElement, out && out.target);\r\n      if (exception) {\r\n        out.left += '\\ninvalid target selector: ' + exception.toString();\r\n        out.right += '\\ninvalid target selector: ' + exception.toString();\r\n        return out; }\r\n      const tmpev = U.evalInContext(evalContext, this.right);\r\n      out.right = tmpev.exception || tmpev.return;\r\n      // do nothing, just report validation  and execution debugging results\r\n      if (out.left || out.operator || tmpev.exception) return out;\r\n    }\r\n\r\n    const exportChanges = (outContext: MeasurableEvalContext, safeContextRollback: MeasurableEvalContext): boolean => {\r\n      let ret: boolean = true;\r\n      try{\r\n        console.log('exportchanges part 1', outContext.vertexSize.y);\r\n        exportChanges0(outContext, safeContextRollback, false);\r\n        console.log('exportchanges part 2', outContext.vertexSize.y);\r\n        if (outContext.target) exportChanges0(outContext.target, safeContextRollback.target, false);\r\n        console.log('exportchanges part 3', outContext.vertexSize.y);\r\n      } catch(e) {\r\n        throw e;\r\n        out.right += + '\\n\\npartially failed to export changes, likely caused by an overwrite of a predefined variable object.:' + e.toString();\r\n        doRollback();\r\n        ret = false; }\r\n      // rollbackContext.unsafe.model.refreshGUI_Alone(); will erase export changes and cause infinite looks on \"onRefresh\"\r\n      // if (rollbackContext.target) rollbackContext.target.unsafe.model.refreshGUI_Alone();\r\n      return ret; }\r\n\r\n    let debug: boolean = this.prefix === measurableRules.export;\r\n    const doRollback = () => {\r\n      console.trace('doing rollback');\r\n      try{\r\n        exportChanges0(rollbackContext, rollbackContext, true);\r\n        if (rollbackContext.target) exportChanges0(rollbackContext.target, rollbackContext.target, true);\r\n      } catch(e) {\r\n        out.right += + '\\npartially failed to rollback changes, contact the developer.:' + e.toString(); return false; }\r\n      return true; }\r\n\r\n    const exportChanges0 = (outcontext: MeasurableEvalContext, safeContextRollback: MeasurableEvalContext, isRollback: boolean): void => {\r\n      // let oldContext = outcontext;\r\n      let ermsg: string;\r\n      let rollbackContext = 'donotuse';\r\n      let evalContext = 'donotusetoo'\r\n      const vertex: IVertex = safeContextRollback.unsafec.vertex;\r\n      const graph: IGraph = vertex.owner;\r\n      graph.setZoom(outcontext.graphZoom.x, outcontext.graphZoom.y);\r\n      // graph.setScroll(500, 500);//  error here??? questo mi cambia vpos.y\r\n      graph.setScroll(outcontext.graphScroll.x, outcontext.graphScroll.y);//  error here??? questo mi cambia vpos.y\r\n      // U.pe(true, 'meastest');\r\n      // evalContext.graph.setGrid(outcontext.graphGrid.x, outcontext.graphGrid.y);\r\n      const isVertex = (vertex.getMeasurableNode() === safeContextRollback.unsafec.node);\r\n      vertex.setSize(outcontext.vertexSize, false, true);\r\n      if (!outcontext.model && outcontext !== safeContextRollback) {\r\n        out.right += 'invalid final value for this.model = ' + outcontext.model + ', please do not overwrite context variables.';\r\n        doRollback(); return; }\r\n      if (!isVertex){\r\n        const html: HTMLElement = safeContextRollback.unsafec.node instanceof HTMLElement || safeContextRollback.unsafec.node instanceof SVGSVGElement ? safeContextRollback.unsafec.node as any : null;\r\n        const svgSubElement: SVGElement = !html ? safeContextRollback.unsafec.node as any : null;\r\n        if (!outcontext.relativeVPos || !U.isNumerizable(safeContextRollback.relativeVPos.x) || !U.isNumerizable(outcontext.relativeVPos.y)) {\r\n          out.right+= '\\nAn error inside a measurable condition has happened, an invalid value has been wrote inside the variable \"relativeVPos\".';\r\n          doRollback();  return; }\r\n        if (!html) { out.right += 'inner svg\\'s are currently not supported'; doRollback(); return; }\r\n        if (html.style.position !== 'absolute') html.style.position = 'absolute';\r\n        let relativeParentNode: Element = U.getRelativeParentNode(safeContextRollback.unsafec.node);\r\n        if (relativeParentNode === vertex.getHtmlRawForeign()) {\r\n          html.style.top = (outcontext.relativeVPos.y * graph.zoom.y) + 'px';\r\n          html.style.left = (outcontext.relativeVPos.x * graph.zoom.x) + 'px';\r\n        } else {\r\n          // vertex.setSize(outcontext.vertexSize); already done no need to do anything?\r\n          /*const parentGpos: GraphPoint = graph.toGraphCoord(U.sizeof(relativeParentNode).tl());\r\n          html.style.top = ((outcontext.absoluteGPos.y - parentGpos.y) * graph.zoom.y) + 'px';\r\n          html.style.left = ((outcontext.absoluteGPos.x - parentGpos.x) * graph.zoom.y) + 'px';*/\r\n        }\r\n        if (U.isNumerizable(outcontext.width)) html.style.width = (+outcontext.width) + 'px';\r\n        if (U.isNumerizable(outcontext.height)) html.style.height = (+outcontext.height) + 'px';\r\n      }\r\n      if (!isRollback) {\r\n        // called by rollbackContext because evalContext got the method deleted.\r\n        try {\r\n          PendingFunctionCall.executeProtectedMPBuffer();\r\n          PendingFunctionCall.clearProtectedMPBuffer();\r\n        } catch(e) {\r\n          out.right += 'Error while executing buffered model \"set\" functions, likely caused by invalid paramerers. ' + e.toString();\r\n          doRollback();\r\n          return; }\r\n      } else {\r\n        PendingFunctionCall.clearProtectedMPBuffer();\r\n      }\r\n      // outcontext.setsize o refresh vertex\r\n    }\r\n\r\n\r\n    let evalOutput: EvalOutput<MeasurableEvalContext> = null;\r\n    const executeRight = (): boolean => {\r\n//      window['debug'] = 1;\r\n      exception = MeasurableRuleParts.fillEvalContext(evalContext, rollbackContext, this.attr.ownerElement, out && out.target);\r\n//      U.pe(window['debug'] === 1, 'out:', out, 'targetStr: |' + out.target + '|', 'exception:', exception, 'evalContext:', evalContext);\r\n      if (exception) {\r\n        out.right += '\\nexecution failed, probably for an invalid target selector: ' + exception.toString();\r\n        return false; }\r\n      evalOutput = U.evalInContext<MeasurableEvalContext>(evalContext, this.right);\r\n      let ret: boolean;\r\n      if (evalOutput.exception) {\r\n        out.right += '\\n' + evalOutput.exception;\r\n        ret = false; }\r\n      else {\r\n        this.outputAttr.value = evalOutput.return;\r\n        out.right += evalOutput.return;\r\n        ret = true; }\r\n    if (!ret) doRollback();\r\n    return ret; };\r\n\r\n    const executeSelector = (): boolean => {\r\n      exception = MeasurableRuleParts.fillEvalContext(evalContext, rollbackContext, this.attr.ownerElement, null);\r\n      evalOutput = U.evalInContext<MeasurableEvalContext>(evalContext, this.target);\r\n      let ret: boolean;\r\n      if (evalOutput.exception) {\r\n        throw evalOutput.exception;\r\n        out.target += '\\n' + evalOutput.exception;\r\n        ret = false; }\r\n      else {\r\n        if (evalOutput.return instanceof ModelPiece || evalOutput.return instanceof ProtectedModelPiece) {\r\n          out.target += '\\nwarn: output was a ' + U.getTSClassName(evalOutput.return) + ', it got automatically transformed to css+ selector string with .getSelector();';\r\n          evalOutput.return = evalOutput.return.getSelector(); }\r\n        this.outputAttr.value = evalOutput.return;\r\n        out.target = evalOutput.return + out.target;\r\n        ret = true; }\r\n    if (!ret) doRollback();\r\n    return ret; };\r\n    // const exportChanges = () => { U.pe(true, todo); };\r\n    let selectorout: SelectorOutput;\r\n\r\n    //U.pe(!rollbackContext.target, '!starget-1', evalOutput.outContext.target);\r\n    if (this.target && !executeSelector()) return out;\r\n    switch (this.prefix) {\r\n      case measurableRules._jquiRes: case measurableRules._jquiDra: case measurableRules._jquiRot:\r\n          out.prefix = 'invalid prefix or wrong execution time. ' + this.prefix + ' rules are parsed at refresh time.';\r\n          U.pw(true, out.prefix);\r\n          return out;\r\n      case measurableRules.console:\r\n          try { out.right += MyConsole.console.execCommand(this.right); } catch (e) { out.right += 'command failed:' + e.toString(); }\r\n          return out;\r\n      default:\r\n          U.pe(true, 'unexpected rule: ' + this.prefix, this);\r\n          out.prefix = 'unexpected rule:' + this.prefix;\r\n          return out;\r\n      case measurableRules.bind:\r\n          if (!executeRight()) return out;\r\n          if (!exportChanges(evalOutput.outContext, rollbackContext)) return out;\r\n          let newmp: ModelPiece = evalOutput.return;\r\n          if (!(newmp instanceof ModelPiece)) { out.right += 'returned value is not a ModelPiece.'; return out; }\r\n          newmp.linkToLogic(this.attr.ownerElement);\r\n          return out;\r\n      case measurableRules.variable:\r\n          if (!executeRight()) return out;\r\n          if (!exportChanges(evalOutput.outContext, rollbackContext)) return out;\r\n          return out;\r\n      case measurableRules.onDragStart:\r\n      case measurableRules.whileDragging:\r\n      case measurableRules.onDragEnd:\r\n      case measurableRules.onResizeStart:\r\n      case measurableRules.whileResizing:\r\n      case measurableRules.onResizeEnd:\r\n      case measurableRules.onRotationStart:\r\n      case measurableRules.whileRotating:\r\n      case measurableRules.onRotationEnd:\r\n      case measurableRules.onRefresh:\r\n          out.triggeredResults = [];\r\n          ///// check precondition\r\n          exception = MeasurableRuleParts.fillEvalContext(evalContext, rollbackContext, this.attr.ownerElement, out && out.target);\r\n        if (exception) {\r\n          out.left += '\\ninvalid target selector: ' + exception.toString();\r\n          out.right += '\\ninvalid target selector: ' + exception.toString();\r\n          return out; }\r\n          vertex = rollbackContext.unsafec.vertex;\r\n          U.pe (evalContext.target && (evalContext.relativePos.y !== evalContext.absoluteGPos.y - evalContext.target.absoluteGPos.y),\r\n          'context:', evalContext, 'failed assertion, relativePos != this.absolGpos - target.absolGpos ', evalContext.relativePos, ' !== ', evalContext.absoluteGPos, ' - ', evalContext.target && evalContext.target.absoluteGPos)\r\n\r\n        evalOutput = U.evalInContext(evalContext, this.left);\r\n          if (evalOutput.exception) {\r\n            out.left += '' + evalOutput.exception;\r\n            out.right += 'not executed.';\r\n            return out; }\r\n          out.left = evalOutput.return;\r\n          if (!out.left) {\r\n            out.right += 'not executed.';\r\n            return out; }\r\n          console.log('5xd', evalOutput.outContext, rollbackContext);\r\n        // return null; // per qualche motivo questo export changes mi azzera la Y del vertex.\r\n          if (!exportChanges(evalOutput.outContext, rollbackContext)) return out; // va messo qui, se lo metto dopo i triggers equivale ad un rollback dei loro cambiamenti.\r\n          ///// try execution\r\n          selectorout = U.processSelectorPlusPlus(this.right, false, $(vertex.owner.container), $(this.attr.ownerElement), Measurable.GlobalPrefix);\r\n          if (selectorout.exception) { out.right += (out.right ? '\\n' : '') + selectorout.exception.toString(); return out; }\r\n          // last validation and execution.\r\n          const htmlFoundsevt: Element[] = [];\r\n          const vertexFoundsevt: IVertex[] = [];\r\n          // console.log('resultset', selectorout);\r\n          for (i = 0; i < selectorout.resultSetAttr.length; i++) {\r\n            const a: Attr = selectorout.resultSetAttr[i];\r\n            let ruleprefix: string = Measurable.isExecutableRule(a.name, true);\r\n            if (!ruleprefix) continue;\r\n            let html: Element = a.ownerElement;\r\n            let vertex: IVertex;\r\n            let pos: number = htmlFoundsevt.indexOf(html);\r\n            if (pos > 0) { vertex = vertexFoundsevt[pos]; } else {\r\n              vertex = html.classList.contains(ReservedClasses.vertexRoot) ? IVertex.getvertexByHtml(html) : null;\r\n              htmlFoundsevt.push(html);\r\n              vertexFoundsevt.push(vertex); }\r\n              let mr: MeasurableRuleParts = new MeasurableRuleParts(a, ruleprefix, true);\r\n              try { out.triggeredResults.push(mr.process(false, vertex)); }\r\n              catch (e) { out.right += '\\n' + e.toString(); /* must not stop if only 1 triggered fails. */ }\r\n            }\r\n          out.right += selectorout.jqselector + ' ' + U.AttributeSelectorOperator + ' ' + selectorout.attrselector\r\n            + (out.right.length ? '\\n' : '' ) + out.right;\r\n          return out;\r\n\r\n      case measurableRules.export:\r\n        ////////// prima trovo i bersagli, così se non ci sono mi fermo.\r\n        vertex = vertex || IVertex.getvertexByHtml(this.attr.ownerElement);\r\n        this.left = this.left.trim();\r\n        this.left = this.left || 'this ->';\r\n        selectorout = U.processSelectorPlusPlus(this.left, false, $(vertex.owner.container), $(this.attr.ownerElement), null);\r\n        if (selectorout.exception) { out.left += (out.left ? '\\n' : '') + selectorout.exception.toString(); return out; }\r\n        out.left = 'matched ' + selectorout.resultSetElem.length + ' elements and ' + selectorout.resultSetAttr.length + ' attributes. search \"xprt\" on console to see them';\r\n        console.info('xprt', 'Matched elements:', selectorout.resultSetElem, 'Matched attributes:', selectorout.resultSetAttr);\r\n        if (selectorout.resultSetAttr.length + selectorout.resultSetElem.length === 0) { out.right += 'not executed.'; return out; }\r\n        ////////// can proceed to execution.\r\n        if (!executeRight()) return out;\r\n        if (!exportChanges(evalOutput.outContext, rollbackContext)) return out;\r\n        if (evalOutput.return instanceof Object) {\r\n          if (U.isFunction(evalOutput.return.toString)) { evalOutput.return = evalOutput.return.toString(); }\r\n          else evalOutput.return = JSON.stringify(evalOutput.return); }\r\n        out.right += evalOutput.return;\r\n        ////////// exporting resulting value\r\n        for (i = 0; i < selectorout.resultSetAttr.length; i++) { selectorout.resultSetAttr[i].value = evalOutput.return; }\r\n        for (i = 0; i < selectorout.resultSetElem.length; i++) { selectorout.resultSetElem[i].innerHTML = evalOutput.return; }\r\n        return out;\r\n\r\n      case measurableRules.dynamicClass:\r\n        if (!executeRight()) { out.right +='\\n If it isn\\'t code, try wrapping it in quotes.'; return out;}\r\n        if (!exportChanges(evalOutput.outContext, rollbackContext)) return out;\r\n        if (evalOutput.return instanceof Object) {\r\n          if (U.isFunction(evalOutput.return.toString)) { evalOutput.return = evalOutput.return.toString(); }\r\n          else evalOutput.return = JSON.stringify(evalOutput.return); }\r\n        // out.right += evalOutput.return;\r\n        // start setting classes\r\n        const classes: string[] = (evalOutput.return + '').split(' ');\r\n        for (i = 0; i < classes.length; i++) {\r\n          const cl = classes[i];\r\n          if (!cl[i].length) continue;\r\n          if (cl[i][0] === '+') { this.attr.ownerElement.classList.add(cl[i].substr(1)); continue; }\r\n          if (cl[i][0] === '-') { this.attr.ownerElement.classList.remove(cl[i].substr(1)); continue; }\r\n          out.right += '\\nall class tokens must start with a plus (if inserting) or minus (if removing) sign.';\r\n          return out; }\r\n        return out;\r\n\r\n      case measurableRules.dynamicStyle:\r\n        if (!executeRight()) { out.right +='\\n If it isn\\'t code, try wrapping it in quotes.'; return out; }\r\n        if (!exportChanges(evalOutput.outContext, rollbackContext)) return out;\r\n        if (evalOutput.return instanceof Object) {\r\n          if (U.isFunction(evalOutput.return.toString)) { evalOutput.return = evalOutput.return.toString(); }\r\n          else evalOutput.return = JSON.stringify(evalOutput.return); }\r\n        // out.right += evalOutput.return;\r\n        // start setting styles\r\n        console.log('mergeSTyles:', this.attr.ownerElement, evalOutput.return);\r\n        U.mergeStyles(this.attr.ownerElement, null, evalOutput.return, true);\r\n        return out;\r\n\r\n      case measurableRules.constraint:\r\n        ///// left validation\r\n        this.left = this.left.trim();\r\n        if (!MeasurableTemplateGenerator.constraintMap[this.left]) {\r\n          console.trace('icr ');\r\n          console.error('irc: invalid constraint rule, found:', this.left, 'not in: ', MeasurableTemplateGenerator.constraintMap);//\r\n          out.left += 'invalid.';\r\n          out.right += 'not processed.';\r\n          return out; }\r\n        console.trace('icr ');\r\n        console.info('irc: valid constraint rule, found:', this.left, ' in: ', MeasurableTemplateGenerator.constraintMap);\r\n        //console.log('preconstraint1');\r\n//        const preLeft: number = eval(\"evalContext.\" + this.left); // must be a simple eval, just because i evalContext[this.left] would become evalContext[vpos.x]\r\n        //U.pe(!rollbackContext.target, '!starget1', evalOutput.outContext.target);\r\n        if (!executeRight()) return out;\r\n        //U.pe(!rollbackContext.target, '!starget2', evalOutput.outContext.target);\r\n        //console.log('preconstraint2', evalOutput.outContext, rollbackContext);\r\n        if (!exportChanges(evalOutput.outContext, rollbackContext)) return out;\r\n        //console.log('preconstraint3', evalOutput.outContext, rollbackContext);\r\n        let postLeft: number = null;\r\n        try { postLeft = eval(\"evalOutput.outContext.\" + this.left);} // this one CAN fail if the user deletes the predefined variable in the context.\r\n        catch (e) { out.right += '\\n' + e.toString() + '\\n; likely caused by an overwrite on a predefined variable inside the path \"' + this.left + '\".'; return out; }\r\n        // console.log('preconstraint4', evalOutput.outContext, rollbackContext);\r\n        if (this.operator === '=') this.operator = '==';\r\n        const condition: boolean = eval(postLeft + this.operator + evalOutput.return);\r\n        out.operator += '' + !!condition;\r\n        let isTargeting = this.left.indexOf('target.') === 0;\r\n        const left = isTargeting ? this.left.substr('target.'.length) : this.left;\r\n        let oc0 = evalOutput.outContext;\r\n        let rc0 = rollbackContext;\r\n        let oc = isTargeting ? evalOutput.outContext.target : evalOutput.outContext;\r\n        let rc = isTargeting ? rollbackContext.target : rollbackContext;\r\n        // U.pe(!isTargeting, 'left side is not targeting');\r\n        if (isTargeting && (!oc || !rc))  { out.left = 'this kind of rule cannot be executed without a target.'; return out; }\r\n        switch (left) {\r\n          default:\r\n            out.left += 'invalid left part, use one of the precompiled suggestions.';\r\n            doRollback();\r\n            // U.pe(true, 'unexpected left part:', this.left, 'but only validated left parts should reach here.');\r\n            return out;\r\n          case ConstraintLeftAdmittedsStatic.height:\r\n            out.left += '' + rc.height;\r\n            if (!condition) oc.setHeight(evalOutput.return);\r\n            break;\r\n          case ConstraintLeftAdmittedsStatic.width:\r\n            out.left += '' + rc.width;\r\n            if (!condition) oc.setWidth(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.absoluteDocPosX:\r\n            out.left += '' + rc.absoluteDocPos.x;\r\n            if (!condition) oc.setAbsoluteDocPosX(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.absoluteDocPosY:\r\n            out.left += '' + rc.absoluteDocPos.y;\r\n            if (!condition)  oc.setAbsoluteDocPosY(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.absoluteGPosX:\r\n            out.left += '' + rc.absoluteGPos.x;\r\n            if (!condition)  oc.setAbsoluteGPosX(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.absoluteGPosY:\r\n            out.left += '' + rc.absoluteGPos.y;\r\n            if (!condition)  oc.setAbsoluteGPosY(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.relativePosX:\r\n            out.left += '' + rc.relativePos.x;\r\n            if (!condition)  oc.setRelativePosX(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.relativePosY:\r\n            out.left += '' + rc.relativePos.y;\r\n            if (!condition)  oc.setRelativePosY(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.relativeVPosX:\r\n            out.left += '' + rc.relativeVPos.x;\r\n            if (!condition)  oc.setRelativeVPosX(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.relativeVPosY:\r\n            out.left += '' + rc.relativeVPos.y;\r\n            if (!condition)  oc.setRelativeVPosY(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.vertexSizeX:\r\n            out.left += '' + rc.vertexSize.x;\r\n            if (!condition)  oc.setVertexSizeX(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.vertexSizeY:\r\n            out.left += '' + rc.vertexSize.y;\r\n            if (!condition)  oc.setVertexSizeY(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.vertexSizeW:\r\n            out.left += '' + rc.vertexSize.w;\r\n            if (!condition)  oc.setVertexSizeW(evalOutput.return); break;\r\n          case ConstraintLeftAdmittedsStatic.vertexSizeH:\r\n            out.left += '' + rc.vertexSize.h;\r\n            if (!condition)  oc.setVertexSizeH(evalOutput.return); break;\r\n        }\r\n        exportChanges(oc0, rc0); // commit\r\n        return out;\r\n    }\r\n    U.pe (true, 'should never reach here');\r\n    return null; }\r\n\r\n  constructor(a: Attr, prefix: string = null, doNotThrow: boolean = false) {\r\n    this.attr = a;\r\n    if (a === null) {\r\n      U.pe(!doNotThrow, 'MeasurableRuleParts() called on null attribute:', a, prefix);\r\n      this.attr = null;\r\n      this.output = null;\r\n      this.outputAttr = null;\r\n      this.triggeredResults = [];\r\n      this.operator = '';\r\n      this.right = '';\r\n      this.left = '';\r\n      this.target = '';\r\n      this.prefix = '';\r\n      this.fallbackValue = '';\r\n      this.name = '';\r\n      return; } // empty constructor used by output clone var.\r\n\r\n    if (!prefix) {\r\n      const attrname: string = a.name.toLowerCase();\r\n      if (a.name.indexOf('_') === 0) for (let i = 0; i < Measurable.ruleParsingOrder.length; i++) {\r\n        prefix = Measurable.ruleParsingOrder[i];\r\n        if (attrname.indexOf(prefix.toLowerCase()) === 0) { break; }\r\n      }\r\n    }\r\n    if (!prefix && doNotThrow) {\r\n      U.pw(true, 'The attribute \"' + a.name + '\" is not a valid measurable rule and cannot be parsed or executed.');\r\n      return; }\r\n    U.pe (!prefix, 'not a rule! ', a.name, a);\r\n    this.prefix = prefix; //a.name.substr(0, prefixendindex); questo può avere ChaRCaSe sballati\r\n    this.name = a.name.substr(prefix.length);\r\n    /*\r\n    let gti = a.value.indexOf('>=');\r\n    gti = gti == -1 ? Number.POSITIVE_INFINITY : gti;\r\n    let eqi = a.value.indexOf('=');\r\n    eqi = eqi == -1 ? Number.POSITIVE_INFINITY : eqi;\r\n    let lti = a.value.indexOf('>=');\r\n    lti = lti == -1 ? Number.POSITIVE_INFINITY : lti;\r\n    const opindex: number = Math.min(gti, eqi, lti);\r\n    if (opindex === Number.POSITIVE_INFINITY) return null;\r\n    const rightindex = opindex + (eqi === opindex ? 1 : 2);\r\n    this.output = new MeasurableRuleParts(null, null);\r\n    this.left = a.value.substr(0, opindex);\r\n    this.operator = a.value.substr(opindex, rightindex);\r\n    this.right = a.value.substr(rightindex);*/\r\n    const parts: string[] = a.value.split(Measurable.separator);\r\n    this.left = parts.length > 1 ? parts[0] : '';\r\n    this.operator = parts.length === 3 ? parts[1] : '';\r\n    U.pe(this.prefix === measurableRules.constraint && !this.operator, 'failed to get constraint operator: ', this);\r\n    this.right = parts[parts.length - 1];\r\n    const targetstr =  a.ownerElement.getAttribute(('relativeSelectorOf' + a.name));\r\n    this.target = targetstr ? targetstr.trim() : null;\r\n    this.fallbackValue = null;\r\n\r\n    let outputname = a.name.substr(1);\r\n    this.outputAttr = this.attr.ownerElement.attributes.getNamedItem(outputname);\r\n    if (!this.outputAttr) {\r\n      this.attr.ownerElement.setAttribute(outputname, '');\r\n      this.outputAttr = this.attr.ownerElement.attributes.getNamedItem(outputname); }\r\n    }\r\n}\r\n\r\nexport enum measurableRules {\r\n  // check when updating measurable rules: 1\r\n  _jquiRes = '_jquiRes',\r\n  _jquiDra = '_jquiDra',\r\n  _jquiRot = '_jquiRot',\r\n  console = '_Console',\r\n  bind = '_Bind', // _bindTo = \"@attributename\" associa questo node a quel mdoelpiece, anche se era originariamente parte di un altro modelpiece.\r\n  variable = '_Var',\r\n  'export' = '_Export',\r\n  constraint = '_Constraint',\r\n  dynamicClass = '_dClass',\r\n  dynamicStyle = '_dStyle',\r\n  onRefresh = '_onRefresh',\r\n  onResizeStart = '_onResizeStart',\r\n  whileResizing = '_whileResizing',\r\n  onResizeEnd = '_onResizeEnd',\r\n  onDragStart = '_onDragStart',\r\n  whileDragging = '_whileDragging',\r\n  onDragEnd = '_onDragEnd',\r\n  onRotationStart = '_onRotationStart',\r\n  whileRotating = '_whileRotating',\r\n  onRotationEnd = '_onRotationEnd',\r\n  // linearConstraint = '_linearConstraint',\r\n  /*\r\n  studia un miglioramento di rule per poter:\r\n  settare una reference\r\n  settare un valore\r\n  gestire array di valori?\r\n  soluzione: crea array values nel contesto.\r\n  values[] = expressionArray\r\n  values[i] = expressionSimpleValue\r\n  ?\r\n  come posso specificare più semplicemente se settare tutti i valori o solo uno senza usare una left-part?\r\n  remind esisterà anche il comando console:\r\n  set $something$ = value\r\n  e devo renderlo significativamente più semplice di quello\r\n\r\n\r\n  */\r\n  // onMouseEnter = '_onMouseEnter',\r\n  // onMouseLeave = '_onMouseLeave',\r\n  // onFocus = '_onBlur',\r\n  // onBlur = '_onBlur', it's ok to apply css changes here but not change in data, this should be handled by css only.ù\r\n}\r\nexport class MeasurableRuleLists {\r\n  // check when updating measurable rules: 2\r\n  all: MeasurableRuleParts[] = [];\r\n  _Var: MeasurableRuleParts[] = [];\r\n  _jquiDra: MeasurableRuleParts[] = [];\r\n  _jquiRes: MeasurableRuleParts[] = [];\r\n  _jquiRot: MeasurableRuleParts[] = [];\r\n  _Console: MeasurableRuleParts[] = [];\r\n  _Bind: MeasurableRuleParts[] = [];\r\n  _Export: MeasurableRuleParts[] = [];\r\n  _Constraint: MeasurableRuleParts[] = [];\r\n  _dClass: MeasurableRuleParts[] = [];\r\n  _dStyle: MeasurableRuleParts[] = [];\r\n  _onRefresh: MeasurableRuleParts[] = [];\r\n  _onResizeStart: MeasurableRuleParts[] = [];\r\n  _whileResizing: MeasurableRuleParts[] = [];\r\n  _onResizeEnd: MeasurableRuleParts[] = [];\r\n  _onDragStart: MeasurableRuleParts[] = [];\r\n  _whileDragging: MeasurableRuleParts[] = [];\r\n  _onDragEnd: MeasurableRuleParts[] = [];\r\n  _onRotationStart: MeasurableRuleParts[] = [];\r\n  _whileRotating: MeasurableRuleParts[] = [];\r\n  _onRotationEnd: MeasurableRuleParts[] = [];\r\n}\r\nexport class RotatableOptions {\r\n  degrees: number = 0;\r\n  handle: JQuery<HTMLImageElement> = undefined;\r\n  handleOffset:  {top: number, left: number} =  { top: 0, left: 0 };\r\n  rotationCenterOffset:  {top: number, left: number} =  { top: 0, left: 0 };\r\n  snap: boolean = false;\r\n  step: number = undefined;\r\n  transforms: { translate: string | '(50%, 50%)', scale: string | '(2)', unknownothers: unknown } = undefined; // non chiaro neanche negli esempi demo. googla.\r\n  wheelRotate: boolean = undefined; // NB: non previene lo scroll della pagina come azione default.\r\n  rotate: (event: Event, ui: DraggableEventUIParams) => unknown = undefined; // NB: se la sua trimmed version non inizia con function oppure con /^([^)]+)[\\s]*=>$/ allora aggiungicelo tu a tempo di esecuzione? o non vale la pena per degradazione performance?.\r\n  start: (event: Event, ui: DraggableEventUIParams) => unknown = undefined; // in realtà è \"start\"\r\n  stop: (event: Event, ui: DraggableEventUIParams) => unknown = undefined; // in realtà è \"stop\"\r\n  disabled: boolean = false;\r\n}\r\nexport class Measurable {\r\n  static readonly separator: string = '≔';\r\n  static readonly GlobalPrefix: string = '_';\r\n  static ruleParsingOrder: string[] = Measurable.staticinit();\r\n  static eventTriggers: measurableRules[];\r\n  static eventTriggersLowerCase: string[];\r\n  static executableRules: measurableRules[];\r\n  static executableRulesLowerCase: string[];\r\n  static JQUIRules: measurableRules[];\r\n  static JQUIRulesLowerCase: string[];\r\n  static ruleToUppercase: Dictionary<string, measurableRules>;\r\n\r\n  static staticinit(): string[]{\r\n    const arr: string[] = Object.values(measurableRules);\r\n    U.arrayRemoveAll(arr, measurableRules.variable);\r\n    arr.push(measurableRules.variable);\r\n    Measurable.eventTriggers = [measurableRules.onRefresh,\r\n      measurableRules.onDragStart, measurableRules.onDragEnd, measurableRules.whileDragging,\r\n      measurableRules.onResizeStart, measurableRules.onResizeEnd, measurableRules.whileResizing,\r\n      measurableRules.onRotationStart, measurableRules.onRotationEnd, measurableRules.whileRotating,\r\n    ];\r\n    Measurable.JQUIRules = [measurableRules._jquiDra, measurableRules._jquiRes, measurableRules._jquiRot];\r\n    Measurable.executableRules = [];\r\n    Measurable.executableRulesLowerCase = [];\r\n    Measurable.ruleToUppercase = {};\r\n    for (let key in measurableRules){\r\n      let val: measurableRules = measurableRules[key] as measurableRules;\r\n      let valLowercase: string = val.toLowerCase();\r\n      Measurable.ruleToUppercase[valLowercase] = val;\r\n      if (Measurable.eventTriggers.indexOf(val) !== -1) continue;\r\n      if (Measurable.JQUIRules.indexOf(val) !== -1) continue;\r\n      Measurable.executableRules.push(val);\r\n      Measurable.executableRulesLowerCase.push(valLowercase);\r\n    }\r\n\r\n    Measurable.eventTriggersLowerCase = [];\r\n    Measurable.eventTriggersLowerCase.length = Measurable.eventTriggers.length;\r\n    Measurable.JQUIRulesLowerCase = [];\r\n    Measurable.JQUIRulesLowerCase.length = Measurable.eventTriggers.length;\r\n    for (let i = 0; i < Measurable.eventTriggers.length; i++){ Measurable.eventTriggersLowerCase[i] = Measurable.eventTriggers[i].toLowerCase(); }\r\n    for (let i = 0; i < Measurable.JQUIRules.length; i++){ Measurable.JQUIRulesLowerCase[i] = Measurable.JQUIRules[i].toLowerCase(); }\r\n\r\n    return arr;\r\n  }\r\n\r\n  static getRuleList(elem: Element, rulefilter: string[] = null, debug: boolean = false): MeasurableRuleLists{\r\n    let i: number;\r\n    let j: number;\r\n    const rulefilterobj = rulefilter && rulefilter.length ? U.toDictionary(rulefilter) : null;\r\n    let ret: MeasurableRuleLists = new MeasurableRuleLists();\r\n    let prefix: string;\r\n    for (i = 0; i < elem.attributes.length; i++){\r\n      const attr: Attr = elem.attributes[i];\r\n      const attrname = attr.name.toLowerCase();\r\n      for (j = 0; j < Measurable.ruleParsingOrder.length; j++){\r\n        // for (j = 0; j < Measurable.rulesListParsingOrder.length; j++) {\r\n        prefix = Measurable.ruleParsingOrder[j];\r\n        if (rulefilterobj && !rulefilterobj[prefix]) continue;\r\n        if (attrname.indexOf(prefix.toLowerCase()) === 0){\r\n          // if (prefix === '_' && attr.name.indexOf('_ng') === 0) continue;\r\n          ret.all.push(new MeasurableRuleParts(attr, prefix));\r\n          U.pe(!ret[prefix], 'Incoerenza tra MeasurableRuleLists e measurableRules:', prefix, ret);\r\n          ret[prefix].push(new MeasurableRuleParts(attr, prefix));\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  // ################ oldies but good\r\n\r\n  static measurableElementSetup($root: JQuery<Element>, resConfig: ResizableOptions = null, rotConfig: RotatableOptions = null, dragConfig: DraggableOptions = null, v: IVertex = null): void{\r\n    let arr = $root.find('.measurable').addBack('.measurable');\r\n    const vroot: Element = v ? v.getMeasurableNode() : null;\r\n    for (let i = 0; i < arr.length; i++){\r\n      let h = arr[i];\r\n      if (arr[i] === vroot){ Measurable.measurableElementSetupSingle(h as Element, resConfig, rotConfig, dragConfig, v); }else Measurable.measurableElementSetupSingle(h as Element, resConfig, rotConfig, dragConfig);\r\n    }\r\n  }\r\n\r\n// todo: devo importare rotatableOptions, ResizableOptions è la vra classe dichiarata dalla libreria jqui, non la mia. devo fare lo stesso con rotatable.\r\n  static measurableElementSetupSingle(elem0: Element, resConfig: ResizableOptions = null, rotConfig: RotatableOptions = null, draConfig: DraggableOptions = null, isvroot: IVertex = null): void{\r\n    const elem: HTMLElement = elem0 as HTMLElement;\r\n    // apply resizableborder AND jquery.resize\r\n    if (!elem.classList || !elem.classList.contains('measurable') || elem as any === document){\r\n      U.pw(true, 'invalid measurable:', elem, !elem.classList, '||', !elem.classList.contains('measurable'));\r\n      return;\r\n    }\r\n    U.resizableBorderSetup(elem);\r\n    if (!resConfig){ resConfig = new ResizableOptionsImpl(); }\r\n    if (!rotConfig){ rotConfig = new RotatableOptions(); }\r\n    if (!draConfig){ draConfig = new DraggableOptionsImpl(); }\r\n    let func = null;\r\n    let attrval: string = null;\r\n    let i: number;\r\n    let arr: {config: any, friendlyname: string, jquiname: string}[] = [];\r\n    arr.push({config:resConfig, friendlyname:Resizableoptions.create, jquiname:'create'});\r\n    arr.push({config:resConfig, friendlyname:Resizableoptions.resizeStart, jquiname:'start'});\r\n    arr.push({config:resConfig, friendlyname:Resizableoptions.resizing, jquiname:'resize'});\r\n    arr.push({config:resConfig, friendlyname:Resizableoptions.resizeStop, jquiname:'stop'});\r\n    arr.push({config:draConfig, friendlyname:Draggableoptions['create'], jquiname:'create'});\r\n    arr.push({config:draConfig, friendlyname:Draggableoptions.dragStart, jquiname:'start'});\r\n    arr.push({config:draConfig, friendlyname:Draggableoptions.dragging, jquiname:'resize'});\r\n    arr.push({config:draConfig, friendlyname:Draggableoptions.dragStop, jquiname:'stop'});\r\n    arr.push({config:rotConfig, friendlyname:Rotatableoptions['create'], jquiname:'create'});\r\n    arr.push({config:rotConfig, friendlyname:Rotatableoptions.onRotationStart, jquiname:'start'});\r\n    arr.push({config:rotConfig, friendlyname:Rotatableoptions.onRotating, jquiname:'resize'});\r\n    arr.push({config:rotConfig, friendlyname:Rotatableoptions.onRotationEnd, jquiname:'stop'});\r\n\r\n    (resConfig as any).prefix = measurableRules._jquiRes;\r\n    (rotConfig as any).prefix = measurableRules._jquiRot;\r\n    (draConfig as any).prefix = measurableRules._jquiDra;\r\n\r\n    for (i = 0; i < arr.length; i++){\r\n      attrval = elem.getAttribute((arr[i].config.prefix + arr[i].friendlyname));\r\n      attrval = attrval && attrval.trim();\r\n      if (!attrval) func = null;\r\n      else try{\r\n        func = eval(attrval);\r\n        func = (e, ui) => {\r\n          try{func(e, ui);}\r\n          catch(e){\r\n            U.pw(true, 'error evaluating' + arr[i].friendlyname + ':', e);\r\n          }\r\n        }\r\n      }catch(e){\r\n        U.pw(true, 'invalid function as argument of resize create', e);\r\n        func = null;\r\n      }\r\n      // se resConfig[triggername] non è settato, lo setto a func.\r\n      arr[i].config[arr[i].jquiname] = arr[i].config[arr[i].jquiname] || func;\r\n    }\r\n\r\n    if (isvroot){\r\n      isvroot.dragConfig = draConfig;\r\n      const oldconfig: ResizableOptions = U.cloneObj(resConfig);\r\n      resConfig.resize = (e, ui) => {\r\n        isvroot.autosizeNew(true, true, measurableRules.whileResizing);\r\n        oldconfig.resize(e, ui);\r\n      };\r\n      resConfig.start = (e, ui) => {\r\n        isvroot.autosizeNew(true, true, measurableRules.onResizeStart);\r\n        oldconfig.start(e, ui);\r\n      };\r\n      resConfig.stop = (e, ui) => {\r\n        isvroot.autosizeNew(true, true, measurableRules.onResizeEnd);\r\n        oldconfig.stop(e, ui);\r\n      };\r\n    }\r\n\r\n    delete (resConfig as any).prefix;\r\n    delete (rotConfig as any).prefix;\r\n    delete (draConfig as any).prefix;\r\n\r\n    for (const jquikey in resConfig){\r\n      let friendlykey: string;\r\n      switch(jquikey){\r\n        default:\r\n          friendlykey = jquikey;\r\n          let customparameterval: string = elem.getAttribute((measurableRules._jquiRes + friendlykey));\r\n          if (resConfig[jquikey] || !customparameterval){ continue; }\r\n          resConfig[jquikey] = customparameterval;\r\n          break;\r\n        // case U.varname2(resConfig.disabled, resConfig): break;\r\n        case U.varname2(resConfig, resConfig.create):\r\n        case U.varname2(resConfig, resConfig.start):\r\n        case U.varname2(resConfig, resConfig.stop):\r\n        case U.varname2(resConfig, resConfig.resize):\r\n          break;\r\n      }\r\n    }\r\n    let isRotatableCustomized: boolean = false;\r\n    for (const jquikey in rotConfig){\r\n      let friendlykey: string;\r\n      switch(jquikey){\r\n        default:\r\n          friendlykey = jquikey;\r\n          let customparameterval: string = elem.getAttribute((measurableRules._jquiRot + friendlykey));\r\n          if (rotConfig[jquikey] || !customparameterval || rotConfig[jquikey] === customparameterval){ continue; }\r\n          rotConfig[jquikey] = customparameterval;\r\n          isRotatableCustomized = true;\r\n          break;\r\n        // case U.varname2(resConfig.disabled, resConfig): break;\r\n        // case U.varname2(rotConfig, rotConfig.create):\r\n        case U.varname2(rotConfig, rotConfig.start):\r\n        case U.varname2(rotConfig, rotConfig.stop):\r\n        case U.varname2(rotConfig, rotConfig.rotate):\r\n          break;\r\n      }\r\n    }\r\n    let defaultAction = (friendlykey, jquikey) => {\r\n      let customparameterval = elem.getAttribute((measurableRules._jquiDra + friendlykey));\r\n      if (draConfig[jquikey] || !customparameterval){ return; }\r\n      draConfig[jquikey] = customparameterval;\r\n    };\r\n    for (const jquikey in draConfig){\r\n      let friendlykey: string;\r\n      let customparameterval: string;\r\n      switch(jquikey){\r\n        default:\r\n          friendlykey = jquikey;\r\n          defaultAction(friendlykey, jquikey);\r\n          break;\r\n        case Draggableoptions.axis:\r\n          friendlykey = jquikey;\r\n          defaultAction(friendlykey, jquikey);\r\n          console.log('draconfig.setaxis: ', draConfig[jquikey], elem, jquikey, friendlykey);\r\n          const val: string = U.replaceAll(draConfig[jquikey] + '', ' ', '');\r\n          if (val === null || val === undefined){\r\n            draConfig[jquikey] = '';\r\n            break;\r\n          }\r\n          // else if (val === 'x,y') { draConfig[jquikey] = null; break; } null funziona come se fosse 'x,y', non so se 'x,y' funziona lo stesso. provo.\r\n          else{;}\r\n          break;\r\n        // case U.varname2(resConfig.disabled, resConfig): break;\r\n        case U.varname2(draConfig, draConfig.create):\r\n        case U.varname2(draConfig, draConfig.start):\r\n        case U.varname2(draConfig, draConfig.stop):\r\n        case U.varname2(draConfig, draConfig.drag):\r\n          break;\r\n      }\r\n    }\r\n\r\n    const $elem = $(elem);\r\n    console.log('measurableConfig:  drag:', draConfig, 'res:', resConfig, 'rot:', rotConfig, 'isVertex:', isvroot, 'axis:', draConfig.axis, 'handles:', resConfig.handles, elem);\r\n    if (draConfig.axis !== undefined && draConfig.axis !== '' && !isvroot){\r\n      $elem.draggable(draConfig);\r\n      if (draConfig.disabled) $elem.draggable('disable');\r\n    }\r\n    if (resConfig.handles && resConfig.handles !== ''){\r\n      $elem.resizable(resConfig);\r\n      if (resConfig.disabled) $elem.resizable('disable');\r\n    }\r\n    if (isRotatableCustomized){\r\n      let $elemr = $elem as any;\r\n      if (!$elemr.rotatable) U.oneTime('RotatableSupport', U.pw, true, '$.rotatable is not supported yet.');\r\n      else $elemr.rotatable(rotConfig);\r\n      if (rotConfig.disabled) $elemr.rotatable('disable');\r\n    }\r\n\r\n  }\r\n\r\n  static isRuleOfKind(name: string, rules: measurableRules[] = null, useLowerCaseRules: string[] = null): measurableRules {\r\n    let ret: measurableRules = Measurable.isRuleOfKind0(name, rules, useLowerCaseRules);\r\n    console.log('rulevalidation:', ret, Measurable.ruleToUppercase);\r\n    return ret; }\r\n\r\n  static isRuleOfKind0(name: string, rules: measurableRules[] = null, useLowerCaseRules: string[] = null): measurableRules{\r\n    name = useLowerCaseRules ? name.toLowerCase() : name;\r\n    let arr: string[] = useLowerCaseRules ? useLowerCaseRules : rules;\r\n    let i: number;\r\n    for (i = 0; i < arr.length; i++){\r\n      if (name.indexOf(arr[i]) === 0) return useLowerCaseRules ? Measurable.ruleToUppercase[arr[i]] : arr[i] as measurableRules; }\r\n    return null; }\r\n\r\n  static isExecutableRule(name: string, caseInsensitive: boolean = false): measurableRules{\r\n    return Measurable.isRuleOfKind(name, Measurable.executableRules, caseInsensitive ? Measurable.executableRulesLowerCase : null); }\r\n\r\n  static isJQUIRule(name: string, caseInsensitive: boolean = false): measurableRules{\r\n    return Measurable.isRuleOfKind(name, Measurable.JQUIRules, caseInsensitive ? Measurable.JQUIRulesLowerCase : null); }\r\n\r\n  static isTriggerRule(name: string, caseInsensitive: boolean = false): measurableRules{\r\n    return Measurable.isRuleOfKind(name, Measurable.eventTriggers, caseInsensitive ? Measurable.eventTriggersLowerCase : null); }\r\n\r\n}\r\n\r\nexport class ResizableOptionsImpl implements ResizableOptions {\r\n  alsoResize: any = undefined;\r\n  animate: boolean = undefined;\r\n  animateDuration: any = undefined;\r\n  animateEasing: string = undefined;\r\n  aspectRatio: any = undefined;\r\n  autoHide: boolean = undefined;\r\n  cancel: string = undefined;\r\n  containment: any = undefined;\r\n  create: JQueryUI.ResizableEvent = undefined;\r\n  delay: number = undefined;\r\n  disabled: boolean = undefined;\r\n  distance: number = undefined;\r\n  ghost: boolean = undefined;\r\n  grid: any = undefined;\r\n  handles: any = undefined;\r\n  helper: string = undefined;\r\n  maxHeight: number = undefined;\r\n  maxWidth: number = undefined;\r\n  minHeight: number = undefined;\r\n  minWidth: number = undefined;\r\n  resize: JQueryUI.ResizableEvent = undefined;\r\n  start: JQueryUI.ResizableEvent = undefined;\r\n  stop: JQueryUI.ResizableEvent = undefined; }\r\n\r\nexport class DraggableOptionsImpl implements DraggableOptions {\r\n  addClasses: boolean = undefined;\r\n  appendTo: any = undefined;\r\n  axis: string = undefined;\r\n  cancel: string = undefined;\r\n  classes: JQueryUI.DraggableClasses = undefined;\r\n  connectToSortable: Element|Element[]|JQuery|string = undefined;\r\n  containment: any = undefined;\r\n  create: JQueryUI.DraggableEvent = undefined;\r\n  cursor: string = undefined;\r\n  cursorAt: any = undefined;\r\n  delay: number = undefined;\r\n  disabled: boolean = undefined;\r\n  distance: number = undefined;\r\n  drag: JQueryUI.DraggableEvent = undefined;\r\n  grid: number[] = undefined;\r\n  handle: any = undefined;\r\n  helper: any = undefined;\r\n  iframeFix: any = undefined;\r\n  opacity: number = undefined;\r\n  refreshPositions: boolean = undefined;\r\n  revert: any = undefined;\r\n  revertDuration: number = undefined;\r\n  scope: string = undefined;\r\n  scroll: boolean = undefined;\r\n  scrollSensitivity: number = undefined;\r\n  scrollSpeed: number = undefined;\r\n  snap: any = undefined;\r\n  snapMode: string = undefined;\r\n  snapTolerance: number = undefined;\r\n  stack: string = undefined;\r\n  start: JQueryUI.DraggableEvent = undefined;\r\n  stop: JQueryUI.DraggableEvent = undefined;\r\n  zIndex: number = undefined; }\r\n","/*\tThis work is licensed under Creative Commons GNU LGPL License.\r\n\r\n\tLicense: http://creativecommons.org/licenses/LGPL/2.1/\r\n   Version: 0.9\r\n\tAuthor:  Stefan Goessner/2006\r\n\tWeb:     http://goessner.net/ \r\n*/\r\nexport function json2xml(o, tab/*string, string*/) {\r\n   var toXml = function(v, name, ind) {\r\n      var xml = \"\";\r\n      if (v instanceof Array) {\r\n         for (var i=0, n=v.length; i<n; i++)\r\n            xml += ind + toXml(v[i], name, ind+\"\\t\") + \"\\n\";\r\n      }\r\n      else if (typeof(v) == \"object\") {\r\n         var hasChild = false;\r\n         xml += ind + \"<\" + name;\r\n         for (var m in v) {\r\n            if (m.charAt(0) == \"@\")\r\n               xml += \" \" + m.substr(1) + \"=\\\"\" + v[m].toString() + \"\\\"\";\r\n            else\r\n               hasChild = true;\r\n         }\r\n         xml += hasChild ? \">\" : \"/>\";\r\n         if (hasChild) {\r\n            for (var m in v) {\r\n               if (m == \"#text\")\r\n                  xml += v[m];\r\n               else if (m == \"#cdata\")\r\n                  xml += \"<![CDATA[\" + v[m] + \"]]>\";\r\n               else if (m.charAt(0) != \"@\")\r\n                  xml += toXml(v[m], m, ind+\"\\t\");\r\n            }\r\n            xml += (xml.charAt(xml.length-1)==\"\\n\"?ind:\"\") + \"</\" + name + \">\";\r\n         }\r\n      }\r\n      else {\r\n         xml += ind + \"<\" + name + \">\" + v.toString() +  \"</\" + name + \">\";\r\n      }\r\n      return xml;\r\n   }, xml=\"\";\r\n   for (var m in o)\r\n      xml += toXml(o[m], m, \"\");\r\n   return tab ? xml.replace(/\\t/g, tab) : xml.replace(/\\t|\\n/g, \"\");\r\n}\r\n","/*\tThis work is licensed under Creative Commons GNU LGPL License.\r\n\r\n\tLicense: http://creativecommons.org/licenses/LGPL/2.1/\r\n   Version: 0.9\r\n\tAuthor:  Stefan Goessner/2006\r\n\tWeb:     http://goessner.net/ \r\n*/\r\nexport function xml2json(xml, tab = '    '/*XML_DOM, string*/) {\r\n   var X = {\r\n      toObj: function(xml) {\r\n         var o = {};\r\n         if (xml.nodeType==1) {   // element node ..\r\n            if (xml.attributes.length)   // element with attributes  ..\r\n               for (var i=0; i<xml.attributes.length; i++)\r\n                  o[\"@\"+xml.attributes[i].nodeName] = (xml.attributes[i].nodeValue||\"\").toString();\r\n            if (xml.firstChild) { // element has child nodes ..\r\n               var textChild=0, cdataChild=0, hasElementChild=false;\r\n               for (var n=xml.firstChild; n; n=n.nextSibling) {\r\n                  if (n.nodeType==1) hasElementChild = true;\r\n                  else if (n.nodeType==3 && n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) textChild++; // non-whitespace text\r\n                  else if (n.nodeType==4) cdataChild++; // cdata section node\r\n               }\r\n               if (hasElementChild) {\r\n                  if (textChild < 2 && cdataChild < 2) { // structured element with evtl. a single text or/and cdata node ..\r\n                     X.removeWhite(xml);\r\n                     for (var n=xml.firstChild; n; n=n.nextSibling) {\r\n                        if (n.nodeType == 3)  // text node\r\n                           o[\"#text\"] = X.escape(n.nodeValue);\r\n                        else if (n.nodeType == 4)  // cdata node\r\n                           o[\"#cdata\"] = X.escape(n.nodeValue);\r\n                        else if (o[n.nodeName]) {  // multiple occurence of element ..\r\n                           if (o[n.nodeName] instanceof Array)\r\n                              o[n.nodeName][o[n.nodeName].length] = X.toObj(n);\r\n                           else\r\n                              o[n.nodeName] = [o[n.nodeName], X.toObj(n)];\r\n                        }\r\n                        else  // first occurence of element..\r\n                           o[n.nodeName] = X.toObj(n);\r\n                     }\r\n                  }\r\n                  else { // mixed content\r\n                     if (!xml.attributes.length)\r\n                        o = X.escape(X.innerXml(xml));\r\n                     else\r\n                        o[\"#text\"] = X.escape(X.innerXml(xml));\r\n                  }\r\n               }\r\n               else if (textChild) { // pure text\r\n                  if (!xml.attributes.length)\r\n                     o = X.escape(X.innerXml(xml));\r\n                  else\r\n                     o[\"#text\"] = X.escape(X.innerXml(xml));\r\n               }\r\n               else if (cdataChild) { // cdata\r\n                  if (cdataChild > 1)\r\n                     o = X.escape(X.innerXml(xml));\r\n                  else\r\n                     for (var n=xml.firstChild; n; n=n.nextSibling)\r\n                        o[\"#cdata\"] = X.escape(n.nodeValue);\r\n               }\r\n            }\r\n            if (!xml.attributes.length && !xml.firstChild) o = null;\r\n         }\r\n         else if (xml.nodeType==9) { // document.node\r\n            o = X.toObj(xml.documentElement);\r\n         }\r\n         else alert(\"unhandled node type: \" + xml.nodeType);\r\n         return o;\r\n      },\r\n      toJson: function(o, name, ind) {\r\n         var json = name ? (\"\\\"\"+name+\"\\\"\") : \"\";\r\n         if (o instanceof Array) {\r\n            for (var i=0,n=o.length; i<n; i++)\r\n               o[i] = X.toJson(o[i], \"\", ind+\"\\t\");\r\n            json += (name?\":[\":\"[\") + (o.length > 1 ? (\"\\n\"+ind+\"\\t\"+o.join(\",\\n\"+ind+\"\\t\")+\"\\n\"+ind) : o.join(\"\")) + \"]\";\r\n         }\r\n         else if (o == null)\r\n            json += (name&&\":\") + \"null\";\r\n         else if (typeof(o) == \"object\") {\r\n            var arr = [];\r\n            for (var m in o)\r\n               arr[arr.length] = X.toJson(o[m], m, ind+\"\\t\");\r\n            json += (name?\":{\":\"{\") + (arr.length > 1 ? (\"\\n\"+ind+\"\\t\"+arr.join(\",\\n\"+ind+\"\\t\")+\"\\n\"+ind) : arr.join(\"\")) + \"}\";\r\n         }\r\n         else if (typeof(o) == \"string\")\r\n            json += (name&&\":\") + \"\\\"\" + o.toString() + \"\\\"\";\r\n         else\r\n            json += (name&&\":\") + o.toString();\r\n         return json;\r\n      },\r\n      innerXml: function(node) {\r\n         var s = \"\"\r\n         if (\"innerHTML\" in node)\r\n            s = node.innerHTML;\r\n         else {\r\n            var asXml = function(n) {\r\n               var s = \"\";\r\n               if (n.nodeType == 1) {\r\n                  s += \"<\" + n.nodeName;\r\n                  for (var i=0; i<n.attributes.length;i++)\r\n                     s += \" \" + n.attributes[i].nodeName + \"=\\\"\" + (n.attributes[i].nodeValue||\"\").toString() + \"\\\"\";\r\n                  if (n.firstChild) {\r\n                     s += \">\";\r\n                     for (var c=n.firstChild; c; c=c.nextSibling)\r\n                        s += asXml(c);\r\n                     s += \"</\"+n.nodeName+\">\";\r\n                  }\r\n                  else\r\n                     s += \"/>\";\r\n               }\r\n               else if (n.nodeType == 3)\r\n                  s += n.nodeValue;\r\n               else if (n.nodeType == 4)\r\n                  s += \"<![CDATA[\" + n.nodeValue + \"]]>\";\r\n               return s;\r\n            };\r\n            for (var c=node.firstChild; c; c=c.nextSibling)\r\n               s += asXml(c);\r\n         }\r\n         return s;\r\n      },\r\n      escape: function(txt) {\r\n         return txt.replace(/[\\\\]/g, \"\\\\\\\\\")\r\n                   .replace(/[\\\"]/g, '\\\\\"')\r\n                   .replace(/[\\n]/g, '\\\\n')\r\n                   .replace(/[\\r]/g, '\\\\r');\r\n      },\r\n      removeWhite: function(e) {\r\n         e.normalize();\r\n         for (var n = e.firstChild; n; ) {\r\n            if (n.nodeType == 3) {  // text node\r\n               if (!n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) { // pure whitespace text node\r\n                  var nxt = n.nextSibling;\r\n                  e.removeChild(n);\r\n                  n = nxt;\r\n               }\r\n               else\r\n                  n = n.nextSibling;\r\n            }\r\n            else if (n.nodeType == 1) {  // element node\r\n               X.removeWhite(n);\r\n               n = n.nextSibling;\r\n            }\r\n            else                      // any other node\r\n               n = n.nextSibling;\r\n         }\r\n         return e;\r\n      }\r\n   };\r\n   if (xml.nodeType == 9) // document node\r\n      xml = xml.documentElement;\r\n   var json = X.toJson(X.toObj(X.removeWhite(xml)), xml.nodeName, \"\\t\");\r\n   return \"{\\n\" + tab + (tab ? json.replace(/\\t/g, tab) : json.replace(/\\t|\\n/g, \"\")) + \"\\n}\";\r\n}\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute, IReference,\r\n  IFeature,\r\n  ModelPiece, MetaMetaModel,\r\n  ISidebar, XMIModel,\r\n  IGraph, IModel, Status,\r\n  ECoreClass, ECorePackage, ECoreRoot, ECoreOperation, MAttribute, IClass, IClassifier, ECoreAnnotation, ECoreEnum, MyException, Measurable\r\n} from './Joiner';\r\n\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseMoveEvent = JQuery.MouseMoveEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\nexport class Dictionary<K = string, V = string> extends Object {}\r\nimport * as detectzoooom            from 'detect-zoom'; // https://github.com/tombigel/detect-zoom broken 2013? but works\r\n\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport MouseEnterEvent = JQuery.MouseEnterEvent;\r\nimport MouseLeaveEvent = JQuery.MouseLeaveEvent;\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nimport FocusInEvent = JQuery.FocusInEvent;\r\nimport BlurEvent = JQuery.BlurEvent;\r\nimport TriggeredEvent = JQuery.TriggeredEvent;\r\nimport EventBase = JQuery.EventBase;\r\nimport KeyPressEvent = JQuery.KeyPressEvent;\r\nimport {split} from 'ts-node';\r\nimport KeyUpEvent = JQuery.KeyUpEvent;\r\nimport {isNewLine} from '@angular/compiler/src/chars';\r\n\r\n  export class myFileReader {\r\n  private static input: HTMLInputElement;\r\n  private static fileTypes: string [];\r\n  private static onchange: (e: ChangeEvent) => void;\r\n  // constructor(onchange: (e: ChangeEvent) => void = null, fileTypes: FileReadTypeEnum[] | string[] = null) { myFileReader.setinfos(fileTypes, onchange); }\r\n  private static setinfos(fileTypes: FileReadTypeEnum[] | string[] = null, onchange: (e: ChangeEvent, files: FileList, contents: string[]) => void, readcontent: boolean) {\r\n    myFileReader.fileTypes = (fileTypes || myFileReader.fileTypes) as string[];\r\n    console.log('fileTypes:', myFileReader.fileTypes, fileTypes);\r\n    myFileReader.input = document.createElement('input');\r\n    const input: HTMLInputElement = myFileReader.input;\r\n    myFileReader.onchange = function (e: ChangeEvent): void {\r\n      if (!readcontent) { onchange(e, input.files, null); return; }\r\n      let contentObj = {};\r\n      let fileLetti: number = 0;\r\n      for (let i: number = 0; i < input.files.length; i++) {\r\n        const f: File = input.files[i];\r\n        console.log('filereadContent['+i+']( file:', f, ')');\r\n        U.fileReadContent(f, (content: string) => {\r\n          console.log('file['+i+'] read complete. done: ' + ( 1 + fileLetti) + ' / ' + input.files.length, 'contentObj:', contentObj);\r\n          contentObj[i] = content; // cannot use array, i'm not sure the callbacks will be called in order. using push is safer but could alter order.\r\n          // this is last file to read.\r\n          if (++fileLetti === input.files.length) {\r\n            const contentArr: string[] = [];\r\n            for (let j: number = 0; j < input.files.length; j++) { contentArr.push(contentObj[j]); }\r\n            onchange(e, input.files, contentArr);\r\n          }\r\n        });\r\n      }\r\n    } || myFileReader.onchange;\r\n  }\r\n  private static reset(): void {\r\n    myFileReader.fileTypes = null;\r\n    myFileReader.onchange = null;\r\n    myFileReader.input = null;\r\n  }\r\n  public static show(onChange: (e: ChangeEvent, files: FileList, contents: string[]) => void, extensions: string[] | FileReadTypeEnum[] = null, readContent: boolean): void {\r\n    myFileReader.setinfos(extensions, onChange, readContent);\r\n    myFileReader.input.setAttribute('type', 'file');\r\n    if (myFileReader.fileTypes) {\r\n      let filetypestr: string = '';\r\n      const sepkey: string = U.getStartSeparatorKey();\r\n      for (let i = 0; i < myFileReader.fileTypes.length; i++) { filetypestr += U.startSeparator(sepkey, ',') + myFileReader.fileTypes[i]; }\r\n      myFileReader.input.setAttribute('accept', filetypestr);\r\n    }\r\n    console.log('fileTypes:', myFileReader.fileTypes, 'input:', myFileReader.input);\r\n    $(myFileReader.input).on('change.custom', myFileReader.onchange).trigger('click');\r\n    myFileReader.reset();\r\n  }\r\n}\r\n\r\n\r\nexport class FocusHistoryEntry {\r\n  time: Date;\r\n  evt: FocusInEvent;\r\n  element: Element;\r\n  constructor(e: FocusInEvent, element: Element = null, time: Date = null) {\r\n    this.evt = e;\r\n    this.element = element || e.target;\r\n    this.time = time || new Date();\r\n  }\r\n}\r\n\r\nexport class InputPopup {\r\n  static popupCounter = 0;\r\n  html: HTMLElement;\r\n  buttonContainer: HTMLElement;\r\n  title: HTMLElement;\r\n  txtPre: HTMLElement;\r\n  input: HTMLElement;\r\n  txtPost: HTMLElement;\r\n  okButton: HTMLButtonElement;\r\n  xbutton: HTMLButtonElement;\r\n  container: HTMLElement;\r\n  innercontainer: HTMLElement;\r\n\r\n  $html: JQuery<HTMLElement>;\r\n  $title: JQuery<HTMLElement>;\r\n  $txtPre: JQuery<HTMLElement>;\r\n  $input: JQuery<HTMLElement>;\r\n  $txtPost: JQuery<HTMLElement>;\r\n  $okButton: JQuery<HTMLButtonElement>;\r\n  $xbutton: JQuery<HTMLButtonElement>;\r\n  $container: JQuery<HTMLElement>;\r\n  validators: {validatorCallback: (value: string, input: HTMLElement) => boolean, errormsg: string}[] = [];\r\n\r\n\r\n  constructor(title: HTMLElement |string = null, txtPre: HTMLElement | string = null, inputOrTag: HTMLElement | string = null, txtPost: HTMLElement |string = null){\r\n    const id = 'popup_' + InputPopup.popupCounter++;\r\n    this.container = U.toHtml('<div data-closebuttontarget=\"' + id + '\" class=\"screenWideShadow\" style=\"display: none;\"></div>');\r\n    this.xbutton = document.createElement('button');\r\n    this.xbutton.classList.add('closeButton');\r\n    this.xbutton.dataset.closebuttontarget = id;\r\n    this.xbutton.innerText = 'X';\r\n    this.html = document.createElement('div');\r\n    this.html.classList.add('popupContent');\r\n    this.buttonContainer = document.createElement('div');\r\n    this.buttonContainer.style.width = '100%';\r\n    this.buttonContainer.style.display = 'flex';\r\n    this.buttonContainer.style.marginTop = '10px';\r\n    this.$container = $(this.container);\r\n    this.$xbutton = $(this.xbutton);\r\n    this.$html = $(this.html);\r\n    this.container.append(this.html);\r\n    this.html.append(this.xbutton);\r\n    U.closeButtonSetup($(this.container));\r\n\r\n    if (title || txtPre || txtPost) this.setText(title, txtPre, txtPost);\r\n    this.setInputNode(inputOrTag); }\r\n\r\n  addButtons(textornode: string|HTMLButtonElement, onclick: ((e:ClickEvent, value: string, input: HTMLElement, btn: HTMLButtonElement) => any)[], classes: string[] = ['btn-primary']): HTMLButtonElement {\r\n    let btn: HTMLButtonElement;\r\n    if (textornode instanceof HTMLButtonElement) { btn = textornode; }\r\n    else {\r\n      btn = document.createElement('button');\r\n      btn.style.margin = 'auto';\r\n      btn.textContent = textornode;\r\n      btn.classList.add('btn', ...classes); }\r\n    let i: number;\r\n    for (i = 0; i < onclick.length; i++) {\r\n      let clickhandler = onclick[i];\r\n      $(btn).on('click', (e: ClickEvent) => { clickhandler(e, U.getValue(this.input), this.input, btn); });\r\n    }\r\n    this.buttonContainer.append(btn);\r\n    return btn; }\r\n\r\n  addOkButton(text: string = 'Confirm', onclick: ((e:ClickEvent, value: string, input: HTMLElement, btn: HTMLButtonElement) => any)[]) {\r\n    onclick = onclick || [];\r\n    text = text || 'Confirm';\r\n    onclick.push((e:ClickEvent, value: string, input: HTMLElement, btn: HTMLButtonElement) => { this.destroy(); });\r\n    U.remove(this.okButton);\r\n    this.okButton = this.addButtons(text, onclick, ['btn-primary']);\r\n    this.$okButton = $(this.okButton); }\r\n\r\n  onCloseButton(onclick: ((e:ClickEvent, value: string, input: HTMLElement, btn: HTMLButtonElement) => any)[]) {\r\n    let i: number;\r\n    for (i = 0; i < onclick.length; i++) {\r\n      let func = onclick[i];\r\n      this.$xbutton.on('click.customhandler', (e: ClickEvent) => { func(e, U.getValue(this.input), this.input, this.xbutton); });\r\n    }\r\n  }\r\n\r\n  setText(title: string|HTMLElement = '', pre: string | HTMLElement = '', post: string | HTMLElement = ''): void {\r\n    U.remove(this.title);\r\n    U.remove(this.txtPre);\r\n    U.remove(this.txtPost);\r\n\r\n    if (typeof title === 'string') {\r\n      this.title = document.createElement('h1');\r\n      this.title.style.textAlign = 'center';\r\n      this.title.innerText = title; }\r\n    else this.title = title;\r\n\r\n    if (typeof pre === 'string') {\r\n      this.txtPre = document.createElement('div');\r\n      this.txtPre.innerText = pre; }\r\n    else this.txtPre = pre;\r\n\r\n    if (typeof post === 'string') {\r\n      this.txtPost = document.createElement('div');\r\n      this.txtPost.innerText = post; }\r\n    else this.txtPost = post;\r\n\r\n    this.$title = $(this.title);\r\n    this.$txtPre = $(this.txtPre);\r\n    this.$txtPost = $(this.txtPost); }\r\n\r\n  setNestedInputNode(container: HTMLElement = null, node: HTMLElement, addDefaultEvents: boolean = true): void {\r\n   this.innercontainer = container;\r\n   this.setInputNode(node, null, null, addDefaultEvents); }\r\n\r\n  setInputNode(nodeOrTag: HTMLElement | string = null, inputSubType: string = null, pattern: string = null, addDefaultEvents: boolean = true): void {\r\n    if (!this.innercontainer) U.remove(this.input);\r\n    if (nodeOrTag === null) return;\r\n    if (typeof nodeOrTag === 'string') {\r\n      this.input = document.createElement(nodeOrTag);\r\n      console.log('tadebug', nodeOrTag === 'textarea', nodeOrTag);\r\n      if (nodeOrTag === 'textarea') {\r\n        // this.input.classList.add('form-control'); looks better without, mainly for font-size and overflowing outline\r\n        // this.input.style.fontSize = 'inherit';\r\n        this.input.style.width  = 'calc(75vw - 152px)';\r\n        this.input.style.height = 'calc(75vh - 200px)'; }\r\n      if (nodeOrTag === 'input') {\r\n        this.input.classList.add('form-control', 'form-control-lg');\r\n        this.input.style.width = '100%';\r\n        this.input.style.textAlign = 'center';\r\n        this.input.style.margin = '50px 0'; }\r\n      else {\r\n        this.input.style.width  = 'calc(75vw - 152px)';\r\n        this.input.style.height = 'calc(75vh - 200px)';\r\n        this.input.style.border = '1px solid #ced4da';\r\n        this.input.style.borderRadius = '.25rem;';\r\n        this.input.style.padding = '1rem'; }\r\n    }\r\n    else this.input = nodeOrTag;\r\n    if (inputSubType) { this.input.setAttribute('type', inputSubType); }\r\n    if (pattern) { this.input.setAttribute('pattern', pattern); }\r\n    this.$input = $(this.input);\r\n\r\n    if (addDefaultEvents) {\r\n      this.validators.push({validatorCallback: (value: string, input: HTMLElement): boolean => {\r\n          const pattern: string = input.getAttribute('pattern');\r\n          if (!pattern) return true;\r\n          const regex = new RegExp(pattern);\r\n          console.log('validating pattern:', regex, pattern, value);\r\n          return regex.test(value);\r\n        }, errormsg: 'pattern violated.'});\r\n      this.$input.off('keydown.defaultvalidate').on('keydown.defaultvalidate', (e: KeyDownEvent) => { this.defaultKeydownEvt(e); });\r\n      // $input.off('change.defaultvalidate').on('change.defaultvalidate', (e: BlurEvent) => {this.defaultChangeEvt(e)});\r\n    }\r\n  }\r\n\r\n  setInput(value: string = null, placeholder: string = null): void {\r\n    U.pe(!this.input, 'cannot set inputPopup values without setting an input field first.');\r\n    U.setInputValue(this.input, value);\r\n    this.input.setAttribute('placeholder', placeholder || ''); }\r\n/*\r\n  oldconstructor(title: string, txtpre: string, txtpost: string, event: any[][] /* array of (['oninput', onInputFunction])* /,\r\n              placeholder: string = null, value: string, inputType: string = 'input',\r\n                 inputSubType: string = null, onsuccess: ((value: string, input: HTMLElement) => any)[]) {\r\n    const value0 = value;\r\n    if (!value) { value = ''; }\r\n    this.onsuccess = onsuccess ? onsuccess : [];\r\n    const id = 'popup_' + InputPopup.popupCounter++;\r\n    placeholder = (placeholder ? 'placeholder=\"' + placeholder + '\"' : '');\r\n    inputSubType = (inputSubType ? 'type = \"' + inputSubType + '\"' : '');\r\n    let innerValue: string;\r\n    if (inputType.toLowerCase() === 'textarea') {\r\n      innerValue = U.replaceAll(U.replaceAll(value, '<', '&lt;'), '>', '&gt;');\r\n      innerValue += '</' + inputType + '>';\r\n      value = '';\r\n    } else { value = value === '' ? '' : 'value=\"' + U.replaceAll(value, '\"', '&quot;') + '\"'; innerValue = ''; }\r\n    const container: HTMLElement = U.toHtml('' +\r\n      '<div _ngcontent-c3=\"\" data-closebuttontarget=\"' + id + '\" class=\"screenWideShadow\" style=\"display: none;\">' +\r\n      '<div _ngcontent-c3=\"\" class=\"popupContent\">' +\r\n      '<h1 _ngcontent-c3=\"\" style=\"text-align: center;\">' + title + '</h1>' +\r\n      '<button _ngcontent-c3=\"\" class=\"closeButton\" data-closebuttontarget=\"' + id + '\">X</button>' +\r\n      '<br _ngcontent-c3=\"\">' +\r\n      '<div _ngcontent-c3=\"\" class=\"TypeList\">' +\r\n      '<table class=\"typeTable\"><tbody>' +\r\n      '<tr class=\"typeRow\"><td class=\"alias textPre\">' + txtpre + '</td>' +\r\n      '<' + inputType + ' ' + inputSubType + ' ' + placeholder + ' ' + value + ' class=\"form-control popupInput\" ' +\r\n      'aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\">' + innerValue + txtpost +\r\n      '</td>' +\r\n      '</tr>' +\r\n      '<tr><td class=\"errors\" style=\"display: none;\"></td></tr>' +\r\n      '</tbody></table></div>' +\r\n      '</div></div>');\r\n    U.closeButtonSetup($(container));\r\n    this.events = event;\r\n    this.html = container;\r\n\r\n    if (inputType === 'textarea') {\r\n      this.getInputNode()[0].setAttribute('style', 'width: calc(75vw - 152px); height: calc(75vh - 200px);');\r\n    }\r\n    this.show();\r\n  }*/\r\n  // events: any[][];\r\n  // onsuccess: ((value: string, input: HTMLElement) => any)[];\r\n  // valid = false;\r\n  // getInputNode(): JQuery<HTMLElement> { return $(this.html).find('.popupInput'); }\r\n\r\n  // defaultBlurEvt(e: JQuery.BlurEvent){ this.inputted(); }\r\n\r\n  private defaultKeydownEvt(e: KeyDownEvent): void { this.inputted(); }\r\n\r\n  private inputted(): void {\r\n    const input: HTMLElement = this.input;\r\n    const value: string = U.getValue(input);\r\n    let i: number;\r\n    let valid: boolean = true;\r\n    for (i = 0; this.validators && i < this.validators.length; i++) {\r\n      const valentry = this.validators[i];\r\n      if (!valentry) continue;\r\n      console.log('this:', this, 'input:', input, 'value:', value);\r\n      if (!valentry.validatorCallback(value, input)) { this.setErrText(valentry.errormsg); valid = false; }\r\n    }\r\n    this.okButton.disabled = !valid; }\r\n\r\n  show(): void {\r\n    document.body.appendChild(this.container);\r\n    this.container.style.display = 'none';\r\n    if (this.title) this.html.appendChild(this.title);\r\n    if (this.xbutton) this.html.appendChild(this.xbutton);\r\n    if (this.innercontainer) this.html.appendChild(this.innercontainer);\r\n    else if (this.input) this.html.appendChild(this.input);\r\n    if (this.txtPre) this.html.appendChild(this.txtPre);\r\n    if (this.txtPost) this.html.appendChild(this.txtPost);\r\n    this.html.appendChild(this.buttonContainer);\r\n    this.$container.slideDown(400);\r\n    if (this.input) this.input.focus(); }\r\n\r\n  hide(): void {\r\n    this.container.style.display = 'block';\r\n    this.$container.slideUp(400); }\r\n\r\n  destroy(): null {\r\n    this.container.style.display = 'block';\r\n    $(this.container).slideUp(400, () => {\r\n      if (this.container && this.container.parentNode) {\r\n        this.container.parentNode.removeChild(this.container);\r\n        this.container = null; }} );\r\n    return null; }\r\n\r\n  setErrText(str: string) {\r\n    this.setText(null, null, str);\r\n  }\r\n\r\n  setValidation(validatorCallback: (value: string, input: HTMLElement) => boolean, errormsg: string): void {\r\n    if (validatorCallback) this.validators.push({validatorCallback: validatorCallback, errormsg: errormsg}); }\r\n\r\n}\r\n\r\nexport enum ShortAttribETypes {\r\n  void = 'void',\r\n  EChar  = 'Echar',\r\n  EString  = 'EString',\r\n  EDate  = 'EDate',\r\n  EFloat  = 'EFloat',\r\n  EDouble  = 'EDouble',\r\n  EBoolean = 'EBoolean',\r\n  EByte  = 'EByte',\r\n  EShort  = 'EShort',\r\n  EInt  = 'EInt',\r\n  ELong  = 'ELong',\r\n  /*\r\n  ECharObj  = 'ECharObj',\r\n  EStringObj  = 'EStringObj',\r\n  EDateObj  = 'EDateObj',\r\n  EFloatObj  = 'EFloatObj',\r\n  EDoubleObj  = 'EDoubleObj',\r\n  EBooleanObj = 'EBooleanObj',\r\n  EByteObj  = 'EByteObj',\r\n  EShortObj  = 'EShortObj',\r\n  EIntObj  = 'EIntObj',\r\n  ELongObj  = 'ELongObj',\r\n  EELIST  = 'EELIST',*/\r\n\r\n}\r\n\r\nexport class EvalOutput<T extends Object> {\r\n  outContext: T;\r\n  return: any;\r\n  exception: MyException;\r\n}\r\n\r\nclass EvalContext {\r\n  private static EC_ParStr: string;\r\n  private static EC_TmpParContext: object;\r\n  private static EC_TmpAllowcontextEvalEdit: boolean;\r\n  private static EC_TmpKey: string;\r\n  static EC_ret: any;\r\n  static EC_exception: MyException;\r\n  constructor(context: object, str: string, allowContextEvalEdit: boolean) {\r\n    EvalContext.EC_TmpAllowcontextEvalEdit = allowContextEvalEdit;\r\n    EvalContext.EC_ParStr = str;\r\n    EvalContext.EC_TmpParContext = context;\r\n    EvalContext.EC_TmpAllowcontextEvalEdit = allowContextEvalEdit;\r\n    EvalContext.EC_ret = undefined;\r\n    EvalContext.EC_exception = null;\r\n    console.log('evalincontext: this', this, 'context:', context);\r\n    delete this['str'];\r\n    delete this['context'];\r\n    delete this['allowContextEvalEdit'];\r\n    // tengo tutte le chiavi al di fuori per non sporcare \"this\" con variabili locali mentre faccio diventare \"this\" una shallowcopy di \"context\"\r\n    for (EvalContext.EC_TmpKey in EvalContext.EC_TmpParContext) { this['' + EvalContext.EC_TmpKey] = EvalContext.EC_TmpParContext['' + EvalContext.EC_TmpKey]; }\r\n    try { EvalContext.EC_ret = eval(EvalContext.EC_ParStr); } catch (e) { EvalContext.EC_exception = e; }\r\n    if (!EvalContext.EC_TmpAllowcontextEvalEdit) return;\r\n    for (EvalContext.EC_TmpKey in this) { EvalContext.EC_TmpParContext['' + EvalContext.EC_TmpKey] = this['' + EvalContext.EC_TmpKey]; }\r\n  }\r\n}\r\n\r\nexport class SelectorOutput {\r\n  jqselector: string;\r\n  attrselector: string;\r\n  attrRegex: RegExp;\r\n  exception: any;\r\n  resultSetAttr: Attr[];\r\n  resultSetElem: JQuery<Element>;\r\n}\r\n\r\nexport class U {\r\n  public static loopcounter = 0;\r\n  public static readonly AttributeSelectorOperator: '->' = '->';\r\n  private static prefix = 'ULibrary_';\r\n  private static sizeofvar: HTMLElement = null;\r\n  private static $sizeofvar: JQuery<HTMLElement> = null;\r\n  private static clipboardinput: HTMLInputElement = null;\r\n  private static PermuteArr: any[][] = [];\r\n  private static PermuteUsedChars: any[] = [];\r\n  private static resizingBorder: HTMLElement = null;\r\n  private static resizingContainer: HTMLElement = null;\r\n  // static he = null;\r\n  public static production = false;\r\n  private static addCssAvoidDuplicates: Dictionary<string, HTMLStyleElement> = {};\r\n  static $measurableRelativeTargetRoot: JQuery<Element>;\r\n  static varTextToSvg: SVGSVGElement = null;\r\n  private static dblclickchecker: number = new Date().getTime();// todo: move @ start\r\n  private static dblclicktimerms: number = 300;\r\n  static mouseLeftButton: number = 0;\r\n  static mouseWheelButton: number = 1;\r\n  static mouseRightButton: number = 2;\r\n  static mouseBackButton: number = 3;\r\n  static mouseForwardButton: number = 4;\r\n\r\n  static mouseLeftButtons: number = 1; // \"evt.buttons\" is binary. 7 = left + right + wheel; 0 = no button pressed.\r\n  static mouseRightButtons: number = 2;\r\n  static mouseWheelButtons: number = 4;\r\n  static mouseBackButtons: number = 8;\r\n  static mouseForwardButtons: number = 16;\r\n  // static vertexOldPos: GraphPoint = null;\r\n\r\n  // todo: move @ start\r\n  static checkDblClick(): boolean {\r\n    const now: number = new Date().getTime();\r\n    const old: number = U.dblclickchecker;\r\n    U.dblclickchecker = now;\r\n    console.log('dblclick time:', now - old, now, old);\r\n    return (now - old <= U.dblclicktimerms); }\r\n\r\n  public static remove(x: Node): void { if (x && x.parentElement) x.parentElement.removeChild(x); }\r\n\r\n  static firstToUpper(s: string): string {\r\n    if (!s || s === '') return s;\r\n    return s.charAt(0).toUpperCase() + s.slice(1); }\r\n\r\n  static fileReadContent(file: File, callback: (content :string) => void): void {\r\n    const textType = /text.*/;\r\n    try { if (!file.type || file.type.match(textType)) {\r\n      let reader = new FileReader();\r\n      reader.onload = function(e) { callback( '' + reader.result ); };\r\n      reader.readAsText(file);\r\n      return;\r\n    } } catch(e) { U.pe(true, \"Exception while trying to read file as text. Error: |\", e, \"|\", file); }\r\n    U.pe(true, \"Wrong file type found: |\", file ? file.type : null, \"|\", file); }\r\n\r\n  static fileRead(onChange: (e: ChangeEvent, files: FileList, contents: string[]) => void, extensions: string[] | FileReadTypeEnum[] = null, readContent: boolean): void {\r\n    myFileReader.show(onChange, extensions, readContent);\r\n  }\r\n  public static textToSvg<T extends SVGElement>(str: string): T { return U.textToSvgArr<T>(str)[0]; }\r\n  static textToSvgArr<T extends SVGElement> (str: string): T[] {\r\n    if (!U.varTextToSvg) { U.varTextToSvg = U.newSvg<SVGSVGElement>('svg'); }\r\n    U.varTextToSvg.innerHTML = str;\r\n    const ret: T[] = [];\r\n    let i: number;\r\n    for (i = 0; i < U.varTextToSvg.childNodes.length; i++) { ret.push(U.varTextToSvg.childNodes[i] as T); }\r\n    return ret; }\r\n\r\n  static addCss(key: string, str: string, prepend: boolean = true): void {\r\n    const css: HTMLStyleElement = document.createElement('style');\r\n    css.innerHTML = str;\r\n    const old: HTMLStyleElement = U.addCssAvoidDuplicates[key];\r\n    if (old) { old.parentNode.removeChild(old); }\r\n    U.addCssAvoidDuplicates[key] = css;\r\n    if (prepend) { document.head.prepend(css); } else { document.head.append(css); }\r\n  }\r\n\r\n  static clear(htmlNode: Element) {\r\n    while (htmlNode.firstChild) {\r\n      htmlNode.removeChild(htmlNode.firstChild);\r\n    }\r\n  }\r\n\r\n  static clearAllTimeouts(): void {\r\n    const highestTimeoutId: number = setTimeout(() => {}, 1) as any;\r\n    for (let i = 0 ; i < highestTimeoutId ; i++) { clearTimeout(i); }\r\n  }\r\n\r\n\r\n  private static oneTimeMap: Dictionary<string, boolean> = {};\r\n  // todo: un U.genID() che generi unico a seconda del n° linea di codice da cui viene invocato, o sempre diverso se senza linea (console, eval)\r\n  static getStackTrace(sliceThisCall: boolean = true): string[] {\r\n    const ret: string = Error().stack;\r\n    // try { var a = {}; a.debug(); } catch(ex) { ret = ex.stack; }\r\n    // if (Array.isArray(ret)) return ret;\r\n    if (!ret) return ['UnknownStackTrace'];\r\n    const arr: string[] = ret.split('\\n');\r\n    // first 2 entries are \"Erorr\" and \"getStackTrace()\"\r\n    return sliceThisCall ? arr.slice(2) : arr; }\r\n\r\n  private static sequenceNumber: number = 0;\r\n  private static idMap: Dictionary<string, any> = {};\r\n  public static getID(): string { return this.genID(); }\r\n  public static genID(): string { return 'timedkey_' + new Date().valueOf()+'_' + (this.sequenceNumber++); }\r\n  public static setID(key: string, value: any): void {\r\n    U.idMap[key] = value;\r\n  }\r\n  public static unsetID(key: string): void { delete U.idMap[key]; }\r\n  public static isSetID(key: string): boolean { return U.idMap.hasOwnProperty(key); }\r\n  public static getByID<T>(key: string): T { return U.idMap[key]; }\r\n\r\n  public static getCaller(stacksToSkip: number = 1): string {\r\n    const stack: string[] = this.getStackTrace(false);\r\n    return stack[stacksToSkip + 3]; // erase getStackTrace() and isFirstTimeCalled() + Error() first stack + n° of layer the caller wants.\r\n  }\r\n  private static gotcalledby: Dictionary<string, boolean> = {};\r\n  public static isFirstTimeCalledByThisLine(stacksToSkip: number = 1) {\r\n    const caller: string = this.getCaller(stacksToSkip);\r\n    if (U.gotcalledby[caller]) return false;\r\n    return U.gotcalledby[caller] = true; }\r\n\r\n  public static lineKey(): string { return this.getCaller(1); }\r\n  public static oneTime(key: string = null, printFunction: (b: boolean, s: any, ...restArgs: any[]) => string, condition: boolean, s: any, ...restArgs: any[]): string {\r\n    if (key === null) key = s;\r\n    if (condition || U.oneTimeMap[key]) return null;\r\n    U.oneTimeMap[key] = true;\r\n    return printFunction(condition, s, restArgs); }\r\n\r\n  static petmp(b: boolean, s: any, ...restArgs: any[]): null { return U.pe(b, s, restArgs); }\r\n\r\n  static pedev(b: boolean, s: any, ...restArgs: any[]): null {\r\n    // todo: questi sono gli errori che dovrebbero verificarsi solo in caso di errori nel codice, mai in seguito ad azioni utente invalide.\r\n    // quindi dovrebbero avere un sistema di error reporting verso un server con ajax request.\r\n    return U.pe(b, s, ...restArgs); }\r\n\r\n  static pe(b: boolean, s: any, ...restArgs: any[]): null {\r\n    if (!b) { return null; }\r\n    if (restArgs === null || restArgs === undefined) { restArgs = []; }\r\n    let str = 'Error:' + s + '';\r\n    for (let i = 0; i < restArgs.length; i++) { str += '' + restArgs[i] + '\\t\\r\\n'; }\r\n    console.error(s, ...restArgs);\r\n    if (!U.production && false) { alert(str); } else { U.bootstrapPopup(str, 'danger', 5000); }\r\n    return (((b as unknown) as any[])['@makeMeCrash'] as any[])['@makeMeCrash']; }\r\n\r\n  static pw(b: boolean, s: any, ...restArgs: any[]): string {\r\n    if (!b) { return null; }\r\n    if (restArgs === null || restArgs === undefined) { restArgs = []; }\r\n    let str = 'Warning:' + s + '';\r\n    for (let i = 0; i < restArgs.length; i++) { str += '' + restArgs[i] + '\\t\\r\\n'; }\r\n    console.trace();\r\n    console.warn(s, ...restArgs);\r\n    U.bootstrapPopup(str, 'warning', 5000);\r\n    return str; }\r\n\r\n  static ps(b: boolean, s: any, ...restArgs: any[]): string {\r\n    if (!b) { return null; }\r\n    if (restArgs === null || restArgs === undefined) { restArgs = []; }\r\n    let str = s + '';\r\n    for (let i = 0; i < restArgs.length; i++) { str += '' + restArgs[i] + '\\t\\t\\r\\n'; }\r\n    console.info(s, ...restArgs);\r\n    U.bootstrapPopup(str, 'success', 3000);\r\n    return str; }\r\n\r\n  static pif(b: boolean, s: any, ...restArgs: any[]): string {\r\n    if (!b) { return null; }\r\n    return U.p(s, ...restArgs); }\r\n\r\n  static p(s: any, ...restArgs: any[]): string {\r\n    if (restArgs === null || restArgs === undefined) { restArgs = []; }\r\n    let str = '' + s;\r\n    for (let i = 0; i < restArgs.length; i++) { str += '' + restArgs[i] + '\\t\\r\\n'; }\r\n    console.info(s, ...restArgs);\r\n    return str; }\r\n\r\n  static $alertcontainer: JQuery<HTMLElement> = null;\r\n  static alertcontainer: HTMLElement = null;\r\n  static displayedTexts: Dictionary<string, Element> = {};\r\n  static bootstrapPopup(innerhtmlstr: string, color: 'success' | 'warning' | 'danger', timer: number): void {\r\n    const div = document.createElement('div');\r\n    if (!U.$alertcontainer) {\r\n      U.alertcontainer = document.createElement('div');\r\n      U.alertcontainer.classList.add('alertcontainer');\r\n      document.body.appendChild(U.alertcontainer);\r\n      U.$alertcontainer = $(U.alertcontainer); }\r\n    const container: HTMLElement = U.alertcontainer;\r\n    const $container = U.$alertcontainer;\r\n    const $div = $(div);\r\n    div.classList.add('alertshell', 'alert_' + color);\r\n    div.setAttribute('role', 'alert');\r\n    const alertMargin: HTMLElement = document.createElement('div');\r\n    alertMargin.innerHTML = innerhtmlstr;\r\n    if (U.displayedTexts[innerhtmlstr]) return;\r\n    U.displayedTexts[alertMargin.innerHTML] = div;\r\n    container.appendChild(div);\r\n    alertMargin.classList.add('alert', 'alert-' + color);\r\n    div.appendChild(alertMargin);\r\n    const end = () => { $div.slideUp(400, () => {\r\n      delete U.displayedTexts[innerhtmlstr];\r\n      div.parentElement && container.removeChild(div);\r\n    }); }; // div.parentElement: nel caso non sia stato manualmente rimosso.\r\n    $div.on('mousedown', (e: MouseDownEvent) => {\r\n      U.clipboardCopy(innerhtmlstr);\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (U.mouseRightButton === e.button) {\r\n        let i: number;\r\n        let $popups = $('.alertshell.alert_' + color);\r\n        for (i = 0; i < $popups.length; i++) { delete U.displayedTexts[$popups[i].innerHTML]; }\r\n        $popups.remove();\r\n        return; }\r\n      if (U.mouseWheelButton === e.button) {\r\n        U.displayedTexts = [];\r\n        $('.alertshell').remove();\r\n        return; }\r\n      delete U.displayedTexts[innerhtmlstr];\r\n      div.parentElement && container.removeChild(div);\r\n    });\r\n    $div.hide().slideDown(200, () => setTimeout(end, timer));\r\n  }\r\n\r\n  static cloneHtml<T extends Element>(html: T, deep = true, defaultIDNum = 1): T {\r\n    const clone: T = html.cloneNode(deep) as T;\r\n    const getLastNum = (str: string): number => {\r\n      let pos = str.length ;\r\n      while ( --pos > 0 && !isNaN(+str.charAt(pos)) ) {}\r\n      const numstr = (str.substring(pos));\r\n      return isNaN(+numstr) ? defaultIDNum : +numstr;\r\n    };\r\n    if (!clone.id) { return clone; }\r\n    let lastnum = getLastNum(clone.id) - 1;\r\n    const tmpID: string = clone.id + (clone.id.indexOf('_Clone') === -1 ? '_Clone' : '');\r\n    while (document.getElementById(tmpID + (++lastnum))) {}\r\n    clone.id = tmpID + lastnum;\r\n    return clone;\r\n  }\r\n\r\n  public static clearAttributes(node: Element): void {\r\n    let j: number;\r\n    for (j = 0; j < node.attributes.length; j++) { node.removeAttribute(node.attributes[j].name); }\r\n  }\r\n\r\n  // safe con SVG, input, select, textarea.\r\n  public static copyVisibleText(element0: Element): string {\r\n    const element: Element = element0.cloneNode(true) as Element;\r\n    const $element = $(element);\r\n    $element.remove(':hidden');\r\n    $element.remove('.addFieldButtonContainer');\r\n    $element.find('input, textarea').addBack('input, textarea').each( (i, e: HTMLInputElement | HTMLTextAreaElement)=> {\r\n      const replacement = document.createElement('div');\r\n      replacement.dataset.replacement = \"1\";\r\n      replacement.innerText = e.value;\r\n      U.swap(e, replacement);\r\n    });\r\n    $element.find('select').addBack('select').each( (i, e: HTMLSelectElement)=> {\r\n      const replacement = document.createElement('div');\r\n      replacement.dataset.replacement = \"1\";\r\n      replacement.innerText = e.selectedIndex >= 0 ?  e.options[e.selectedIndex].text : '';\r\n      U.swap(e, replacement);\r\n    });\r\n    U.pe(!!$element.find('select, input, textarea').length,\r\n     'input remaining:', $element.find('select, input, textarea').addBack('select, input, textarea'));\r\n    // console.log('copyVisibleText() textcontent of:', element, U.getRawInnerText(element));\r\n    return U.getRawInnerText(element); }\r\n\r\n  // safe con SVG, !! NON safe con input, textarea e select\r\n  private static getRawInnerText(element: Element, win: Window = null): string {\r\n    let userselect: string, msuserselect: string, wkuserselect: string;\r\n    if (element['style']) {\r\n      let e: HTMLElement = element as any;\r\n      userselect = e.style.userSelect;\r\n      msuserselect = e.style.msUserSelect;\r\n      wkuserselect = e.style.webkitUserSelect;\r\n      e.style.userSelect = 'all'; // text\r\n      e.style.msUserSelect = 'all';\r\n      e.style.webkitUserSelect = 'all';\r\n    }\r\n    win = win || window;\r\n    const doc = win.document;\r\n    const wasInDocument = U.isChildrenOf(element, doc.body);\r\n    if (!wasInDocument) { doc.body.appendChild(element); }\r\n    let sel: Selection, range: Range, prevRange: Range, selString: string;\r\n    sel = win.getSelection();\r\n    if (sel.rangeCount) {\r\n      prevRange = sel.getRangeAt(0);\r\n    }\r\n    range = doc.createRange();\r\n    range.selectNodeContents(element);\r\n    sel.removeAllRanges();\r\n    sel.addRange(range);\r\n    selString = sel.toString();\r\n    sel.removeAllRanges();\r\n    prevRange && sel.addRange(prevRange);\r\n    if (!wasInDocument) { doc.body.removeChild(element); }\r\n    if (element['style']) {\r\n      let e: HTMLElement = element as any;\r\n      if (userselect) { e.style.userSelect = userselect; }\r\n      if (msuserselect) { e.style.msUserSelect = userselect; }\r\n      if (wkuserselect) { e.style.webkitUserSelect = userselect; }\r\n    }\r\n    return selString; }\r\n\r\n  static cloneObj<T extends object>(o: T): Json {\r\n    // const r: HTMLElement = document.createElement(o.tagName);\r\n    // r.innerHTML = o.innerHTML;\r\n    // U.pe( o as HTMLElement !== null, 'non utilizzabile su html');\r\n    return JSON.parse(JSON.stringify(o));\r\n    // todo: questa funzione non può clonare html. allow cloneObj of circular objects.\r\n  }\r\n\r\n  static cloneObj2<T extends object>(o: T): T {\r\n    U.pe(true, 'todo: dovrebbe fare una deep copy copiando anche le funzioni (cosa che json.stringify non fa).');\r\n    return null; }\r\n\r\n  static loadScript(path: string, useEval: boolean = false): void {\r\n    const script = document.createElement('script');\r\n    script.src = path;\r\n    script.type = 'text/javascript';\r\n    U.pe(useEval, 'useEval: todo. potrebbe essere utile per avviare codice fuori dalle funzioni in futuro.');\r\n    document.body.append(script); }\r\n\r\n  static newSvg<T extends SVGElement>(type: string): T {\r\n    return document.createElementNS('http://www.w3.org/2000/svg', type) as T; }\r\n\r\n  public static replaceVars<T extends Element>(obj: object, html0: T, cloneHtml = true, debug: boolean = false): T {\r\n    const html: T = cloneHtml ? U.cloneHtml<T>(html0) : html0;\r\n    /// see it in action & parse or debug at\r\n    // v1) perfetto ma non supportata in jscript https://regex101.com/r/Do2ndU/1\r\n    // v2) usata: aggiustabile con if...substring(1). https://regex101.com/r/Do2ndU/3\r\n    // get text between 2 single '$' excluding $$, so they can be used as escape character to display a single '$'\r\n    // console.log('html0:', html0, 'html:', html);\r\n    U.pe(!(html instanceof Element), 'target must be a html node.', html, html0);\r\n    html.innerHTML = U.replaceVarsString(obj, html.innerHTML, debug);\r\n    U.pif(debug, 'ReplaceVars() return = ', html.innerHTML);\r\n    return html; }\r\n\r\n  private static replaceVarsString0(obj: object, str: string, escapeC: string[] = null, replacer: string[] = null, debug: boolean = false): string {\r\n    U.pe(escapeC && !replacer, 'replacer cannot be null if escapeChar is defined.');\r\n    U.pe(replacer && !escapeC, 'escapeChar cannot be null if replacer is defined');\r\n    if (!escapeC && !replacer) { escapeC = replacer = []; }\r\n    U.pe(escapeC.length !== replacer.length, 'replacer and escapeChar must be arrays of the same length');\r\n    str = str.replace(/(^\\$|(((?!\\$).|^))[\\$](?!\\$))(.*?)(^\\$|((?!\\$).|^)[\\$](?!\\$))/gm,\r\n      (match: string, capture) => {\r\n        // console.log('matched:', match, 'capture: ', capture);\r\n        if (match === '$') { return ''; }\r\n        let prefixError = '';\r\n        if (match.charAt(0) !== '$') {\r\n          prefixError = match.charAt(0);\r\n          match = match.substring(1); }\r\n        // # = default value: {asHtml = true, isbase64 = false}\r\n        const asHtml = match.charAt(1) === '1' || match.charAt(1) !== '#';\r\n        const isBase64 = match.charAt(2) === '1' || match.charAt(2) !== '#';\r\n        const varname = match.substring(3, match.length - 1);\r\n        const debugtext = varname + '(' + match + ')';\r\n        U.pif(debug, 'match:', match);\r\n        const resultarr = U.replaceSingleVar(obj, varname, isBase64, false);\r\n        let result: string = resultarr[resultarr.length - 1].value;\r\n        if (result !== '' + result) { try { result = JSON.stringify(result); } catch(e) { result = '{_Cyclic object_}'} }\r\n        let i = -1;\r\n        U.pif(debug, 'replaceSingleVar: ', match, ', arr', resultarr, ', ret', result, ', this:', obj);\r\n        if (!asHtml) { while (++i < escapeC.length) { result = U.replaceAll(result, escapeC[i], replacer[i]); } }\r\n        U.pif(debug, 'replaceSingleVar: ' + debugtext + ' --> ' + result + ' --> ' + prefixError, result, obj);\r\n        if (U.isObject(result)) {  }\r\n        return prefixError + result;\r\n      });\r\n    return str; }\r\n\r\n  public static replaceVarsString(obj: object, htmlStr: string, debug: boolean = false): string {\r\n    U.pe(!obj || !htmlStr, 'parameters cannot be null. obj:', obj, ', htmlString:', htmlStr);\r\n    //  https://stackoverflow.com/questions/38563414/javascript-regex-to-select-quoted-string-but-not-escape-quotes\r\n    //  good regex fatto da me https://regex101.com/r/bmWVrp/4\r\n\r\n    if (U.isFunction((obj as any).preReplace)) (obj as any).preReplace();\r\n    // only replace content inside \" quotes. (eventually escaping \")\r\n    htmlStr = U.QuoteReplaceVarString(obj, htmlStr, '\"', debug);\r\n    // only replace content inside ' quotes. (eventually escaping ')\r\n    htmlStr = U.QuoteReplaceVarString(obj, htmlStr, '\\'', debug);\r\n    // replaces what's left outside any quotation. (eventually escaping <>)\r\n    htmlStr = U.replaceVarsString0(obj, htmlStr, ['<', '>'], ['&lt;', '&gt;']); // check here aaaaaaaaaaaaaa $$$$$$$$$$$\r\n    return htmlStr; }\r\n\r\n  private static QuoteReplaceVarString(obj: object, htmlStr: string, quote: string, debug: boolean = false): string {\r\n    U.pe(quote !== '\"' && quote !== '\\'', 'the only quote supported are single chars \" and \\'.');\r\n    const quoteEscape = quote === '&quot;' ? '' : '&#39;'; // '\\\\' + quote;\r\n    // todo: dovrei anche rimpiazzare & with &amp; per consentire input &something; trattati come stringhe.\r\n    // \"\"|(:?[^\\\\](?!\"\")|^)((:?\\\\\\\\)*\\\"(:?.*?[^\\\\\"]+){0,1}(:?\\\\\\\\)*\\\")\r\n    // '\"\"|(:?[^\\\\](?!\"\")|^)((:?\\\\\\\\)*\\\"(:?.*?[^\\\\\"]+){0,1}(:?\\\\\\\\)*\\\")'\r\n    // let regex = /\"\"|(:?[^\\\\](?!\"\")|^)((:?\\\\\\\\)*\\\"(:?.*?[^\\\\\"]+){0,1}(:?\\\\\\\\)*\\\")/;\r\n    let regexStr = '\"\"|(:?[^\\\\\\\\](?!\"\")|^)((:?\\\\\\\\\\\\\\\\)*\\\\\"(:?.*?[^\\\\\\\\\"]+){0,1}(:?\\\\\\\\\\\\\\\\)*\\\\\")';\r\n    if (quote !== '\"') { regexStr = U.replaceAll(regexStr, '\"', '\\''); }\r\n    const quoteRegex = new RegExp(regexStr, 'g'); // new RegExp(\"a\", \"b\"); === /a/b\r\n    htmlStr = htmlStr.replace(quoteRegex, (match: string, capture) => {\r\n      const start: number = match.indexOf(quote);\r\n      const end: number = match.lastIndexOf(quote);\r\n      const content: string = U.replaceVarsString0(obj, match.substring(start + 1, end), [quote], [quoteEscape], debug);\r\n      const ret = match.substring(0, start + 1) + content + match.substring(end);\r\n      U.pif(debug, 'replaceQuotedVars: match: |' + match + '| --> |' + content + '| --> |' + ret + '| html:' , htmlStr, 'capt:', capture);\r\n      return ret;\r\n    });\r\n    return htmlStr;\r\n  }\r\n\r\n  //todo: da rimuovere, è stata completamente superata dal nuovo return type array di replaceSingleVar\r\n  static replaceSingleVarGetParentAndChildKey(obj: object, fullpattern: string, canThrow: boolean = false): {parent: any, childkey: string} {\r\n    const ret: {parent: any, childkey: string} = {parent: null, childkey: null};\r\n    let targetPatternParent: string;\r\n    const pos = fullpattern.indexOf('.');\r\n    const isBase64 = fullpattern.charAt(2) === '1' || fullpattern.charAt(2) !== '#';\r\n    U.pe(isBase64, 'currently this method does not support base64 encoded templates. the conversion is still to do.', fullpattern);\r\n    if (pos === -1) {\r\n      ret.parent = obj;\r\n      ret.childkey = fullpattern.substring(3, fullpattern.length - 1);\r\n      return ret; }\r\n    try {\r\n      targetPatternParent = fullpattern.substring(0, pos) + '$';\r\n      const tmparr = U.replaceSingleVarRaw(obj, targetPatternParent);\r\n      ret.parent = tmparr[tmparr.length - 1].value;\r\n      ret.childkey = fullpattern.substring(pos + 1, fullpattern.length - 1);\r\n    } catch (e) {\r\n      U.pw(true, 'replaceSingleVarGetParentAndChildKey failed. fullpattern: |' + fullpattern + '| targetPatternParent: |'\r\n        + targetPatternParent + '| obj: ', obj, ' reason: ', e);\r\n      return null; }\r\n    return ret; }\r\n\r\n  static replaceSingleVarRaw(obj: object, fullpattern: string, canThrow: boolean = false): {token: string, value: any}[] {\r\n    fullpattern = fullpattern.trim();\r\n    const isBase64 = fullpattern.charAt(2) === '1' || fullpattern.charAt(2) !== '#';\r\n    const varName = fullpattern.substring(3, fullpattern.length - 1);\r\n    return U.replaceSingleVar(obj, varName, isBase64, canThrow); }\r\n\r\n  static replaceSingleVar(obj: object, varname: string, isBase64: boolean, canThrow: boolean = false): {token: string, value: any}[] {\r\n    const debug = false;\r\n    const showErrors = false;\r\n    let debugPathOk = '';\r\n    /////////////////// debug start\r\n    if (isBase64) {\r\n      isBase64 = false;\r\n      // varname = 'name';\r\n    }\r\n\r\n    /////////////////////// debug end\r\n    if (isBase64) { U.pe(true, 'base64 unimplemented, varname:', varname); varname = atob(varname); }\r\n    let requestedValue: any = obj;\r\n    const fullpath: string = varname;\r\n    const tokens: string[] = varname.split('.'); // varname.split(/\\.,/);\r\n    const ret: {token: string, value: any}[] = [];\r\n    let j;\r\n    let token: string = null;\r\n    for (j = 0; j < tokens.length; j++) {\r\n      ret.push({token: token === null ? 'this' : token, value: requestedValue});\r\n      token = tokens[j];\r\n      U.pif(debug || showErrors, 'replacer: obj[req] = ', requestedValue, '[', token, '] =', (requestedValue ? requestedValue[token] : ''));\r\n      if (requestedValue === null || requestedValue === undefined) {\r\n        U.pe(showErrors, 'requested null or undefined:', obj, ', canthrow ? ', canThrow, ', fillplath:', fullpath);\r\n        if (canThrow) {\r\n          U.pif(showErrors, 'wrong variable path:', debugPathOk + '.' + token, ': ' + token + ' is undefined. object = ', obj);\r\n          throw new DOMException('replace_Vars.WrongVariablePath', 'replace_Vars.WrongVariablePath');\r\n        } else {\r\n          U.pif(showErrors, 'wrong variable path:', debugPathOk + '.' + token, ': ' + token + ' is undefined. ovjet = ', obj);\r\n        }\r\n\r\n        ret.push({token: token, value: 'Error: ' + debugPathOk + '.' + token + ' = ' + undefined});\r\n        // ret.push({token: token, value: requestedValue});\r\n        return ret;\r\n      } else { debugPathOk += (debugPathOk === '' ? '' : '.') + token; }\r\n      ////\r\n      if (requestedValue instanceof ModelPiece) {\r\n        const info: any = requestedValue.getInfo(true);\r\n        const key = token.toLowerCase();\r\n        if (key in info) { requestedValue = info[key]; } else { requestedValue = requestedValue[token]; }\r\n      } else { requestedValue = (requestedValue === null) ? undefined : requestedValue[token]; }\r\n    }\r\n\r\n    ret.push({token: token, value: requestedValue});\r\n    return ret; }\r\n\r\n  static replaceSingleVar_backup(obj: object, varname: string, isBase64: boolean, canThrow: boolean = false): any {\r\n    const debug = false;\r\n    const showErrors = false;\r\n    let debugPathOk = '';\r\n    if (isBase64) { varname = atob(varname); }\r\n    let requestedValue: any = obj;\r\n    const fullpath: string = varname;\r\n    const tokens: string[] = varname.split('.'); // varname.split(/\\.,/);\r\n    let j;\r\n    for (j = 0; j < tokens.length; j++) {\r\n      const token = tokens[j];\r\n      U.pif(debug || showErrors, 'replacer: obj[req] = ', requestedValue, '[', token, '] =', (requestedValue ? requestedValue[token] : ''));\r\n\r\n      if (requestedValue === null || requestedValue === undefined) {\r\n        U.pe(showErrors, 'requested null or undefined:', obj, ', canthrow ? ', canThrow, ', fillplath:', fullpath);\r\n        if (canThrow) {\r\n          U.pif(showErrors, 'wrong variable path:', debugPathOk + '.' + token, ': ' + token + ' is undefined. object = ', obj);\r\n          throw new DOMException('replace_Vars.WrongVariablePath', 'replace_Vars.WrongVariablePath');\r\n        } else {\r\n          U.pif(showErrors, 'wrong variable path:', debugPathOk + '.' + token, ': ' + token + ' is undefined. ovjet = ', obj);\r\n        }\r\n        return 'Error: ' + debugPathOk + '.' + token + ' = ' + undefined;\r\n      } else { debugPathOk += (debugPathOk === '' ? '' : '.') + token; }\r\n      ////\r\n      if (requestedValue instanceof ModelPiece) {\r\n        const info: any = requestedValue.getInfo(true);\r\n        const key = token.toLowerCase();\r\n        if (key in info) { requestedValue = info[key]; } else { requestedValue = requestedValue[token]; }\r\n      } else { requestedValue = (requestedValue === null) ? undefined : requestedValue[token]; }\r\n    }\r\n    return requestedValue; }\r\n\r\n  static changeVarTemplateDelimitersInMeasurables(innerText: string, toReplace: string = '$', replacement = '£'): string {\r\n    if (!innerText.indexOf('measurable')) { return innerText; } // + performance su scommessa probabilistica. better avg, worser worst case.\r\n    const html = document.createElement('div');\r\n    html.innerHTML = innerText;\r\n    const $measurables = $(html).find('.measurable');\r\n    let i: number;\r\n    let j: number;\r\n    for (i = 0; i < $measurables.length; i++) {\r\n      for (j = 0; j < $measurables[i].attributes.length; j++) {\r\n        if($measurables[i].attributes[j].name[0] !== '_') { continue; }\r\n        U.changeVarTemplateDelimitersInMeasurablesAttr($measurables[i].attributes[j], toReplace, replacement); } }\r\n    return html.innerHTML; }\r\n\r\n  static changeBackVarTemplateDelimitersInMeasurablesAttr(attrVal: string, toReplace: string = '£', replacement = '$'): string {\r\n    return U.changeVarTemplateDelimitersInMeasurablesAttrStr(attrVal, toReplace, replacement); }\r\n\r\n  private static changeVarTemplateDelimitersInMeasurablesAttr(attr: Attr, toReplace: string = '$', replacement = '£'): void {\r\n    attr.value = U.changeVarTemplateDelimitersInMeasurablesAttrStr(attr.value, toReplace, replacement); }\r\n\r\n  private static changeVarTemplateDelimitersInMeasurablesAttrStr(val: string, toReplace: string, replacement: string): string {\r\n    const r = toReplace;\r\n    const rstr = '(^\\\\' + r + '|(((?!\\\\' + r + ').|^))[\\\\' + r + '](?!\\\\' + r + '))(.*?)(^\\\\' + r + '|((?!\\\\' + r + ').|^)[\\\\' + r + '](?!\\\\' + r + '))';\r\n    return val.replace(new RegExp(rstr, 'gm'), (match: string, capture) => {\r\n      if (match === toReplace) { return toReplace; }\r\n      let prefixError = '';\r\n      if (match.charAt(0) !== toReplace) {\r\n        prefixError = match.charAt(0);\r\n        match = match.substring(1); }\r\n      return prefixError + replacement + match.substring(1, match.length - 1) + replacement;\r\n    }); }\r\n\r\n  static sizeof(element0: Element, debug: boolean = false): Size {\r\n    let element: HTMLElement = element0 as HTMLElement;\r\n    U.pif(debug, 'sizeof(', element, ')');\r\n    U.pe(element as any === document, 'trying to measure document.');\r\n    if (element as any === document) { element = document.body as any; }\r\n    const $element = $(element);\r\n    U.pe(element.tagName === 'foreignObject', 'SvgForeignElementObject have a bug with size, measure a child instead.');\r\n    let i;\r\n    let tmp;\r\n    let size: Size;\r\n    if (!U.sizeofvar) {\r\n      U.sizeofvar = document.createElement('div');\r\n      document.body.append(U.sizeofvar); }\r\n\r\n    const isOrphan = element.parentNode === null;\r\n    // var visible = element.style.display !== 'none';\r\n    // var visible = $element.is(\":visible\"); crea bug quando un elemento è teoricamente visibile ma orfano\r\n    const ancestors = U.ancestorArray(element);\r\n    const visibile = [];\r\n    if (isOrphan) { U.sizeofvar.append(element); }\r\n    // show all and saveToDB visibility to restore it later\r\n    for (i = 0; i < ancestors.length; i++) { // document has undefined style\r\n      visibile[i] = (ancestors[i].style === undefined) ? true : (ancestors[i].style.display !== 'none');\r\n      if (!visibile[i]) {\r\n        $(ancestors[i]).show();\r\n      }\r\n    }\r\n    tmp = $element.offset();\r\n    size = new Size(tmp.left, tmp.top, 0, 0);\r\n    tmp = element.getBoundingClientRect();\r\n    size.w = tmp.width;\r\n    size.h = tmp.height;\r\n    // restore visibility\r\n    for (i = 0; i < ancestors.length; i++) {\r\n      if (!visibile[i]) {\r\n        $(ancestors[i]).hide();\r\n      }\r\n    }\r\n    if (isOrphan) { U.clear(U.sizeofvar); }\r\n    // Status.status.getActiveModel().graph.markS(size, false);\r\n    return size;\r\n  }\r\n\r\n  /* ritorna un array con tutti i figli, nipoti... discendenti di @parent */\r\n  static iterateDescendents(parent) {\r\n    return parent.getElementsByTagName('*');\r\n  }\r\n\r\n  static ancestorArray<T extends Element>(domelem: T): Array<T> {\r\n    // [0]=element, [1]=father, [2]=grandfather... [n]=document\r\n    if (domelem === null || domelem === undefined) { return []; }\r\n    const arr = [domelem];\r\n    let tmp: T = domelem.parentNode as T;\r\n    while (tmp !== null) {\r\n      arr.push(tmp);\r\n      tmp = tmp.parentNode as T; }\r\n    return arr;\r\n  }\r\n\r\n  static toSvg<T>(html: string): T {\r\n    U.pe(true, 'toSvg maybe not working, test before use');\r\n    const o: SVGElement = U.newSvg<SVGElement>('svg');\r\n    o.innerHTML = html;\r\n    return o.firstChild as unknown as T;\r\n  }\r\n\r\n  static toHtmlRow(html: string): HTMLTableRowElement {\r\n    return U.toHtml<HTMLTableRowElement>(html, U.toHtml('<table><tbody></tbody></table>').firstChild as HTMLElement);\r\n  }\r\n\r\n  static toHtmlCell(html: string): HTMLTableCellElement {\r\n    return U.toHtml<HTMLTableCellElement>(html, U.toHtml('<table><tbody><tr></tr></tbody></table>').firstChild.firstChild as HTMLElement);\r\n  }\r\n\r\n  static toHtml<T extends Element>(html: string, container: Element = null, containerTag: string = 'div'): T {\r\n    if (container === null) { container = document.createElement(containerTag); }\r\n    container.innerHTML = html;\r\n    const ret: T = container.firstChild as any;\r\n    container.removeChild(ret);\r\n    return ret; }\r\n\r\n  static toBase64Image(html: Element, container: Element = null, containerTag: string = 'div'): string {\r\n    // https://github.com/tsayen/dom-to-image\r\n    return 'HtmlToImage todo: check https://github.com/tsayen/dom-to-image'; }\r\n\r\n\r\n  static getParentLine(node: Node, parentLimit: Element = null, bottomToTopOrder: boolean = true, includeparentlimit: boolean = false, includenode: boolean = false): Element[] {\r\n    const arr: Element[] = [];\r\n    if (includenode) arr.push(node as any);\r\n    U.pe(!node, 'U.getParentLine() node argument cannot be null.');\r\n    while (node.parentElement && node.parentElement !== parentLimit) { arr.push(node = node.parentElement);}\r\n    if (includeparentlimit && node.parentElement === parentLimit) arr.push(parentLimit);\r\n    return bottomToTopOrder ? arr : arr.reverse(); }\r\n\r\n  /**\r\n   * checks if nodes have a vertical line relationship in the tree (parent, grandparent, ...);\r\n   * @ return {boolean}\r\n   */\r\n  static isParentOf(parent: Element, child: Node): boolean {\r\n    //  parent chains:   element -> ... -> body -> html -> document -> null\r\n    while (child !== null) {\r\n      if (parent === child) { return true; }\r\n      child = child.parentNode;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  static isChildrenOf(child: Node, parent: Element) {\r\n    return U.isParentOf(parent, child); }\r\n\r\n  static setSvgSize(style: SVGElement, size: GraphSize, defaultsize: GraphSize): GraphSize {\r\n    if (!style) return;\r\n    if (size) { size = size.duplicate(); } else { size = defaultsize.duplicate(); defaultsize = null; }\r\n    if (!U.isNumber(size.x)) {\r\n      U.pw(true, 'VertexSize Svg x attribute is NaN: ' + size.x + (!defaultsize ? '' : ' will be set to default: ' + defaultsize.x));\r\n      U.pe(!defaultsize || !U.isNumber(defaultsize.x), 'Both size and defaultsize are null.', size, defaultsize, style);\r\n      size.x = defaultsize.x; }\r\n    if (!U.isNumber(size.y)) {\r\n      U.pw(true, 'VertexSize Svg y attribute is NaN: ' + size.y + (!defaultsize ? '' : ' will be set to default: ' + defaultsize.y));\r\n      U.pe(!defaultsize || !U.isNumber(defaultsize.y), 'Both size and defaultsize are null.', size, defaultsize, style);\r\n      size.y = defaultsize.y; }\r\n    if (!U.isNumber(size.w)) {\r\n      U.pw(true, 'VertexSize Svg w attribute is NaN: ' + size.w + (!defaultsize ? '' : ' will be set to default: ' + defaultsize.w));\r\n      U.pe(!defaultsize || !U.isNumber(defaultsize.w), 'Both size and defaultsize are null.', size, defaultsize, style);\r\n      size.w = defaultsize.w; }\r\n    if (!U.isNumber(size.h)) {\r\n      U.pw(true, 'VertexSize Svg h attribute is NaN: ' + size.h + (!defaultsize ? '' : ' will be set to default: ' + defaultsize.h));\r\n      U.pe(!defaultsize || !U.isNumber(defaultsize.h), 'Both size and defaultsize are null.', size, defaultsize, style);\r\n      size.h = defaultsize.h; }\r\n    // U.pe(true, '100!, ', size, style);\r\n    style.setAttributeNS(null, 'x', '' + size.x);\r\n    style.setAttributeNS(null, 'y', '' + size.y);\r\n    style.setAttributeNS(null, 'width', '' + size.w);\r\n    style.setAttributeNS(null, 'height', '' + size.h);\r\n    return size; }\r\n\r\n  static getSvgSize(elem: SVGElement, minimum: GraphSize = null, maximum: GraphSize = null): GraphSize {\r\n    const defaults: GraphSize = new GraphSize(0, 0, 200, 99);\r\n    const ret0: GraphSize = new GraphSize(+elem.getAttribute('x'), +elem.getAttribute('y'),\r\n      +elem.getAttribute('width'), +elem.getAttribute('height'));\r\n    const ret: GraphSize = ret0.duplicate();\r\n    if (!U.isNumber(ret.x)) {\r\n      U.pw(true, 'Svg x attribute is NaN: ' + elem.getAttribute('x') + ' will be set to default: ' + defaults.x);\r\n      ret.x = defaults.x; }\r\n    if (!U.isNumber(ret.y)) {\r\n      U.pw(true, 'Svg y attribute is NaN: ' + elem.getAttribute('y') + ' will be set to default: ' + defaults.y);\r\n      ret.y = defaults.y; }\r\n    if (!U.isNumber(ret.w)) {\r\n      U.pw(true, 'Svg w attribute is NaN: ' + elem.getAttribute('width') + ' will be set to default: ' + defaults.w);\r\n      ret.w = defaults.w; }\r\n    if (!U.isNumber(ret.h)) {\r\n      U.pw(true, 'Svg h attribute is NaN: ' + elem.getAttribute('height') + ' will be set to default: ' + defaults.h);\r\n      ret.h = defaults.h; }\r\n    if (minimum) {\r\n      if (U.isNumber(minimum.x) && ret.x < minimum.x) { ret.x = minimum.x; }\r\n      if (U.isNumber(minimum.y) && ret.y < minimum.y) { ret.y = minimum.y; }\r\n      if (U.isNumber(minimum.w) && ret.w < minimum.w) { ret.w = minimum.w; }\r\n      if (U.isNumber(minimum.h) && ret.h < minimum.h) { ret.h = minimum.h; } }\r\n    if (maximum) {\r\n      if (U.isNumber(maximum.x) && ret.x > maximum.x) { ret.x = maximum.x; }\r\n      if (U.isNumber(maximum.y) && ret.y > maximum.y) { ret.y = maximum.y; }\r\n      if (U.isNumber(maximum.w) && ret.w > maximum.w) { ret.w = maximum.w; }\r\n      if (U.isNumber(maximum.h) && ret.h > maximum.h) { ret.h = maximum.h; } }\r\n    if (!ret.equals(ret0)) { U.setSvgSize(elem, ret, null); }\r\n    return ret; }\r\n\r\n  static findMetaParent<ParentT extends ModelPiece, childT extends ModelPiece>(parent: ParentT, childJson: Json, canFail: boolean, debug: boolean = true): childT {\r\n    const modelRoot: IModel = parent.getModelRoot();\r\n    // instanceof crasha non so perchè, dà undefined constructor quando non lo è.\r\n    if (U.getClass(modelRoot) === 'MetaMetaModel') { U.pif(debug, 'return null;'); return null; }\r\n    if (U.getClass(modelRoot) === 'MetaModel') { U.pif(debug, 'return null;'); return null; } // potrei ripensarci e collegarlo a m3\r\n    // todo: risolvi bene e capisci che collegamento deve esserci tra mmpackage e mpackage.\r\n    // fix temporaneo: così però consento di avere un solo package.\r\n    if (U.getClass(modelRoot) === 'Model' && U.getClass(parent) === 'Model') {\r\n      U.pif(debug, 'return: ', parent.metaParent.childrens[0] as childT);\r\n      return parent.metaParent.childrens[0] as childT; }\r\n    // if (modelRoot === Status.status.mmm || !Status.status.mmm && modelRoot instanceof MetaMetaModel) { return null; }\r\n    // if (modelRoot === Status.status.mm) { return null; }\r\n    const ParentMetaParent: ParentT = parent.metaParent as ParentT;\r\n    const metaParentName = Json.read<string>(childJson, XMIModel.namee, null);\r\n    // U.pe(!metaParentName, 'type not found.', childJson);\r\n    let i;\r\n    let ret: childT = null;\r\n    U.pif(debug, 'finding metaparent of:', childJson, 'parent:', parent, 'parent.metaparent:', ParentMetaParent,\r\n      'childrens:', ParentMetaParent ? ParentMetaParent.childrens : 'null parent');\r\n    for (i = 0; i < ParentMetaParent.childrens.length; i++) {\r\n      const metaVersionCandidate = ParentMetaParent.childrens[i];\r\n      const candidateName = metaVersionCandidate.name;\r\n      U.pif(debug, 'check[' + i + '/' + ParentMetaParent.childrens.length + '] ' + candidateName + ' =?= ' + metaParentName + ' ? ' +\r\n        (candidateName === metaParentName));\r\n      // console.log('is metaparent? of:', metaParentName, ' === ', candidateName, ' ? ', candidateName === metaParentName);\r\n      if (candidateName === metaParentName) {\r\n        ret = metaVersionCandidate as childT;\r\n        break;\r\n      }\r\n    }\r\n    U.pif(debug, 'return: ', ret);\r\n    U.pe(ret == null && !canFail, 'metaParent not found. metaParentParent:', ParentMetaParent,\r\n      'metaParentName:', metaParentName, 'parent:', parent, 'json:', childJson);\r\n    // console.log('findMetaParent of:', childJson, ' using parent:', parent, ' = ', ret);\r\n    return ret; }\r\n\r\n  /*\r\n    static findMetaParentP(parent: IModel, childJson: Json, canFail: boolean = true): IPackage {\r\n      return U.findMetaParent<IModel, IPackage>(parent, childJson, canFail);\r\n    }\r\n\r\n    static findMetaParentC(parent: IPackage, childJson: Json, canFail: boolean = true): M2Class {\r\n      return U.findMetaParent<IPackage, M2Class>(parent, childJson, canFail);\r\n    }\r\n\r\n    static findMetaParentA(prnt: M2Class, childJ: Json, canFail: boolean = true): IAttribute {\r\n      return U.findMetaParent<M2Class, IAttribute>(prnt, childJ, canFail);\r\n    }\r\n\r\n    static findMetaParentR(prnt: M2Class, childJ: Json, canFail: boolean = true): IReference {\r\n      return U.findMetaParent<M2Class, IReference>(prnt, childJ, canFail);\r\n    }\r\n  */\r\n  static arrayRemoveAll<T>(arr: Array<T>, elem: T, debug: boolean = false): void {\r\n    let index;\r\n    if (!arr) return;\r\n    while (true) {\r\n      index = arr.indexOf(elem);\r\n      U.pif (debug, 'ArrayRemoveAll: index: ', index, '; arr:', arr, '; elem:', elem);\r\n      if (index === -1) { return; }\r\n      arr.splice(index, 1);\r\n      U.pif (debug, 'ArrayRemoveAll RemovedOne:', arr);\r\n    }\r\n  }\r\n\r\n  static arraySubstr<T>(arr: Array<T>, start: number, length: number = null): Array<T> { return arr ? arr.slice(start, start + length) : arr; }\r\n  static arraySubstringSlice<T>(arr: Array<T>, start: number, end: number = null): Array<T> { return arr ? arr.slice(start, end) : arr; }\r\n\r\n  static eventiDaAggiungereAlBody(selecteds: string) {\r\n    // todo: guarda gli invocatori\r\n  }\r\n\r\n  private static GeomTolerance = 0; // 0.001;\r\n  static isOnEdge(pt: GraphPoint, shape: GraphSize, tolerance: number = null): boolean {\r\n    return U.isOnHorizontalEdges(pt, shape, tolerance) || U.isOnVerticalEdges(pt, shape, tolerance); }\r\n\r\n  static isOnVerticalEdges(pt: GraphPoint, shape: GraphSize, tolerance: number = null): boolean {\r\n    return U.isOnLeftEdge(pt, shape, tolerance) || U.isOnRightEdge(pt, shape, tolerance); }\r\n\r\n  static isOnHorizontalEdges(pt: GraphPoint, shape: GraphSize, tolerance: number = null): boolean {\r\n    return U.isOnTopEdge(pt, shape, tolerance) || U.isOnBottomEdge(pt, shape, tolerance); }\r\n\r\n  static isOnRightEdge(pt: GraphPoint, shape: GraphSize, tolerance: number = null): boolean {\r\n    if (!pt || !shape) { return null; }\r\n    if (tolerance === null) tolerance = U.GeomTolerance;\r\n    if (tolerance) return Math.abs(pt.x - (shape.x + shape.w)) < tolerance\r\n      && ( pt.y - (shape.y) > tolerance && pt.y - (shape.y + shape.h) < tolerance);\r\n    return (pt.x === shape.x + shape.w) && (pt.y >= shape.y && pt.y <= shape.y + shape.h);\r\n\r\n  }\r\n\r\n  static isOnLeftEdge(pt: GraphPoint, shape: GraphSize, tolerance: number = null): boolean {\r\n    if (!pt || !shape) { return null; }\r\n    if (tolerance === null) tolerance = U.GeomTolerance;\r\n    if (tolerance) return Math.abs(pt.x - shape.x) < tolerance\r\n      && (pt.y - (shape.y) > tolerance && pt.y - (shape.y + shape.h) < tolerance);\r\n    return (pt.x === shape.x) && (pt.y >= shape.y && pt.y <= shape.y + shape.h);\r\n  }\r\n\r\n  static isOnTopEdge(pt: GraphPoint, shape: GraphSize, tolerance: number = null): boolean {\r\n    if (!pt || !shape) { return null; }\r\n    if (tolerance === null) tolerance = U.GeomTolerance;\r\n    if (tolerance) return Math.abs(pt.y - shape.y) < tolerance\r\n      && (pt.x - (shape.x) > tolerance && pt.x - (shape.x + shape.w) < tolerance);\r\n    return (pt.y === shape.y) && (pt.x >= shape.x && pt.x <= shape.x + shape.w);\r\n  }\r\n\r\n  static isOnBottomEdge(pt: GraphPoint, shape: GraphSize, tolerance: number = null): boolean {\r\n    if (!pt || !shape) { return null; }\r\n    if (tolerance === null) tolerance = U.GeomTolerance;\r\n    if (tolerance) return Math.abs(pt.y - shape.y + shape.h) < tolerance\r\n      && (pt.x - (shape.x) > tolerance && pt.x - (shape.x + shape.w) < tolerance);\r\n    return (pt.y === shape.y + shape.h) && (pt.x >= shape.x && pt.x <= shape.x + shape.w);\r\n  }\r\n  // usage: var scope1 = makeEvalContext(\"variable declariation list\"); scope1(\"another eval like: x *=3;\");\r\n  // remarks: variable can be declared only on the first call, further calls on a created context can only modify the context without expanding it.\r\n\r\n  public static evalInContext<T extends object>(context: T, str: string, allowcontextEvalEdit: boolean = true): EvalOutput<T> {\r\n    const out: T = new EvalContext(context, str, allowcontextEvalEdit) as any; // becomes a copy of T\r\n    const ret: EvalOutput<T> = new EvalOutput<T>();\r\n    ret.outContext = allowcontextEvalEdit ? context : out; // context contiene l'oggetto originario, out contiene la shallowcopy modificata dall'eval.\r\n    ret.return = EvalContext.EC_ret;\r\n    ret.exception = EvalContext.EC_exception;\r\n    return ret; }\r\n\r\n  // same as above, but with dynamic context, although it's only extensible manually and not by the eval code itself.\r\n  static evalInContextOld(context, js): any {\r\n    let value;\r\n    try { // for expressions\r\n      value = eval('with(context) { ' + js + ' }');\r\n    } catch (e) {\r\n      if (e instanceof SyntaxError) {\r\n        //try { // for statements\r\n        value = (new Function('with(this) { ' + js + ' }')).call(context);\r\n        //} catch (e) { U.pw(true, 'error evaluating')}\r\n      }\r\n    }\r\n    return value; }\r\n\r\n  static multiReplaceAllKV(a: string, kv: string[][] = []): string {\r\n    const keys: string[] = [];\r\n    const vals: string[] = [];\r\n    let i: number;\r\n    for (i = 0; i < kv.length; i++) { keys.push(kv[i][0]); vals.push(kv[i][0]); }\r\n    return U.multiReplaceAll(a, keys, vals); }\r\n\r\n  static multiReplaceAll(a: string, searchText: string[] = [], replacement: string[] = []): string {\r\n    U.pe(!(searchText.length === replacement.length), 'search and replacement must be have same length:', searchText, replacement);\r\n    let i = -1;\r\n    while (++i < searchText.length) { a = U.replaceAll(a, searchText[i], replacement[i]); }\r\n    return a; }\r\n  static toFileName(a: string = 'nameless.txt'): string {\r\n    if (!a) { a = 'nameless.txt'; }\r\n    a = U.multiReplaceAll(a.trim(), ['\\\\', '//', ':', '*', '?', '<', '>', '\"', '|'],\r\n      ['[lslash]', '[rslash]', ';', '°', '_', '{', '}', '\\'', '!']);\r\n    return a; }\r\n\r\n  static download(filename: string = 'nameless.txt', text: string = null, debug: boolean = true): void {\r\n    if (!text) { return; }\r\n    filename = U.toFileName(filename);\r\n    const htmla: HTMLAnchorElement = document.createElement('a');\r\n    const blob: Blob = new Blob([text], {type: 'text/plain', endings: 'native'});\r\n    const blobUrl: string = URL.createObjectURL(blob);\r\n    U.pif(debug, text + '|\\r\\n| <-- rn, |\\n| <--n.');\r\n    htmla.style.display = 'none';\r\n    htmla.href = blobUrl;\r\n    htmla.download = filename;\r\n    document.body.appendChild(htmla);\r\n    htmla.click();\r\n    window.URL.revokeObjectURL(blobUrl);\r\n    document.body.removeChild(htmla); }\r\n\r\n  /// arrotonda verso zero.\r\n  static trunc(num: number): number {\r\n    if (Math['trunc' + '']) {\r\n      return Math['trunc' + ''](num);\r\n    }\r\n    if (Math.floor && Math.ceil) {\r\n      return Math[num > 0 ? 'floor' : 'ceil'](num);\r\n    }\r\n    return Number(String(num).replace(/\\..*/, ''));\r\n  }\r\n\r\n  static closeButtonSetup($root: JQuery<HTMLElement>, debug: boolean = false) {\r\n    $root.find('.closeButton').off('click.closeButton').on('click.closeButton',\r\n      (e: ClickEvent) => {\r\n        let html: HTMLElement = e.target;\r\n        const target: string = html.dataset.closebuttontarget;\r\n        html = html.parentElement;\r\n        U.pif(debug, 'html:', html, 'target:', e.target, 'targetstr:', target, 'dataset:', e.target.dataset);\r\n        while (html && html.dataset.closebuttontarget !== target) {\r\n          U.pif(debug, 'html:', html, ', data:', (html).dataset.closebuttontarget, ' === ' + target);\r\n          html = html.parentElement;\r\n        }\r\n        U.pif(debug, 'html:', html);\r\n        U.pe(!html, 'closeTarget not found: event trigger:', e.target, 'html:', html);\r\n        $(html).hide();\r\n      });\r\n  }\r\n\r\n  static insertAt(arr: any[], index: number, elem: any) {\r\n    const oldl = arr.length;\r\n    const ret = arr.splice(index, 0, elem);\r\n    U.pe(oldl + 1 !== arr.length, oldl + ' --> ' + arr.length + '; arr not growing. ret:', ret, arr);\r\n  }\r\n\r\n  static setViewBox(svg: SVGElement, size: Size = null): void {\r\n    if (!size) { size = new Size(); size.x = size.y = size.w = size.h = null;}\r\n    let x = +size.x;\r\n    let y = +size.y;\r\n    let w = +size.w;\r\n    let h = +size.h;\r\n    let htmlsize: Size = null;\r\n    if (isNaN(x)) { x = 0; }\r\n    if (isNaN(y)) { y = 0; }\r\n    if (isNaN(w)) { w = htmlsize ? htmlsize.w : (htmlsize = U.sizeof(svg)).w; }\r\n    if (isNaN(h)) { h = htmlsize ? htmlsize.h : (htmlsize = U.sizeof(svg)).h; }\r\n    svg.setAttributeNS(null, 'viewBox', x + ' ' + y + ' ' + w + ' ' + h);\r\n  }\r\n\r\n  static getViewBox(svg: SVGElement): Size {\r\n    const str: string = svg.getAttributeNS(null, 'viewbox');\r\n    if (!str) return U.sizeof(svg);\r\n    const arr: string[] = str.split(' ');\r\n    let vbox: Size = new Size(0, 0, 0, 0);\r\n    if (isNaN(+arr[0])) { vbox = U.sizeof(svg); vbox.x = vbox.y = 0; return vbox; } else { vbox.x = +arr[0]; }\r\n    if (isNaN(+arr[1])) { vbox = U.sizeof(svg); vbox.x = vbox.y = 0; return vbox; } else { vbox.y = +arr[1]; }\r\n    if (isNaN(+arr[2])) { vbox = U.sizeof(svg); vbox.x = vbox.y = 0; return vbox; } else { vbox.w = +arr[2]; }\r\n    if (isNaN(+arr[3])) { vbox = U.sizeof(svg); vbox.x = vbox.y = 0; return vbox; } else { vbox.h = +arr[3]; }\r\n    return vbox; }\r\n\r\n  static selectHtml(htmlSelect: HTMLSelectElement, optionValue: string, canFail: boolean = false) {\r\n    const $options: JQuery<HTMLOptionElement> = $(htmlSelect).find('option') as unknown as any;\r\n    let i: number;\r\n    let isFound = false;\r\n    if (optionValue === null || optionValue === undefined) { return; }\r\n    for (i = 0; i < $options.length; i++) {\r\n      const opt = $options[i] as HTMLOptionElement;\r\n      if (opt.value === optionValue) { opt.selected = isFound = true; }\r\n    }\r\n    U.pw(!isFound, 'SelectOption not found. html:', htmlSelect, ', searchingFor: |' + optionValue + '|, in options:', $options);\r\n    U.pe(!isFound && !canFail, 'SelectOption not found. html:', htmlSelect, ', searchingFor: |' + optionValue + '| in options:', $options);\r\n  }\r\n\r\n  static tabSetup(root: HTMLElement = document.body): void {\r\n    $('.UtabHeader').off('click.tabchange').on('click.tabchange', U.tabClick);\r\n    $('.UtabContent').hide();\r\n    const $tabRoots = $('.UtabContainer');\r\n    let i: number;\r\n    for (i = 0; i < $tabRoots.length; i++) {\r\n      const selectedStr = $tabRoots[i].dataset.selectedtab;\r\n      const $selected = $($tabRoots[i]).find('>.UtabHeaderContainer>.UtabHeader[data-target=\"' + selectedStr + '\"]');\r\n      U.pe($selected.length !== 1, 'tab container must select exactly one tab. found instead: ' + $selected.length,\r\n        'tabRoot:', $tabRoots[i], 'selector:', selectedStr);\r\n      // console.clear(); console.log('triggered: ', $selected);\r\n      $selected.trigger('click');\r\n    }\r\n/*\r\n    U.addCss('customTabs',\r\n      '.UtabHeaderContainer{ padding: 0; margin: 0; display: flex;}\\n' +\r\n      '.UtabContainer{\\n' +\r\n      'display: flex;\\n' +\r\n      'flex-flow: column;\\n' +\r\n      '\\n}\\n' +\r\n      '.UtabHeader{\\n' +\r\n      'display: inline-block;\\n' +\r\n      'width: auto; flex-grow: 1;\\n' +\r\n      'margin: 10px;\\n' +\r\n      'margin-bottom: 0;\\n' +\r\n      'flex-basis: 0;\\n' +\r\n      'text-align: center;\\n' +\r\n      'border: 1px solid red;\\n}\\n' +\r\n      '.UtabHeader+.UtabHeader{\\n' +\r\n      'margin-left:0;\\n}\\n' +\r\n      '.UtabHeader[selected=\"true\"]{\\n' +\r\n      'background-color: darkred;\\n' +\r\n      '}\\n' +\r\n      '.UtabContentContainer{\\n' +\r\n      '\\n' +\r\n      '    flex-grow: 1;\\n' +\r\n      '    flex-basis: 0;\\n' +\r\n      '    overflow: auto;' +\r\n      '\\n}\\n' +\r\n      '.UtabContent{\\n' +\r\n      'flex-grow: 1;\\n' +\r\n      // 'height: 100%;\\n' +\r\n      '\\n}\\n');*/\r\n  }\r\n\r\n  static tabClick(e: ClickEvent): void {\r\n    let root: HTMLElement = e.currentTarget;\r\n    const target = root.dataset.target;\r\n    while (root && !root.classList.contains('UtabContainer')) {\r\n      root = root.parentNode as HTMLElement;\r\n    }\r\n    const $root = $(root);\r\n    const oldTarget = root.dataset.selectedtab;\r\n    root.dataset.selectedtab = target;\r\n    const $targethtml = $root.find('>.UtabContentContainer>.UtabContent[data-target=\"' + target + '\"]');\r\n    U.pe($targethtml.length !== 1, 'tab target count (' + $targethtml.length + ') is !== 1');\r\n    const $oldTargetHtml = $root.find('>.UtabContentContainer>.UtabContent[data-target=\"' + oldTarget + '\"]');\r\n    U.pe($oldTargetHtml.length !== 1, 'oldTab target count (' + $oldTargetHtml.length + ') is !== 1');\r\n    const $oldTargetHeader = $root.find('>.UtabHeaderContainer>.UtabHeader[data-target=\"' + oldTarget + '\"]');\r\n    U.pe($oldTargetHeader.length !== 1, 'oldTabHeader target count (' + $oldTargetHeader.length + ') is !== 1');\r\n    const $targetHeader = $root.find('>.UtabHeaderContainer>.UtabHeader[data-target=\"' + target + '\"]');\r\n    U.pe($targetHeader.length !== 1, 'TabHeader target count (' + $targetHeader.length + ') is !== 1');\r\n    if ($targethtml[0].getAttribute('selected') === 'true') {\r\n      return;\r\n    }\r\n    $oldTargetHeader[0].setAttribute('selected', 'false');\r\n    $targetHeader[0].setAttribute('selected', 'true');\r\n    $oldTargetHtml.slideUp();\r\n    $targethtml.slideDown();\r\n  }\r\n\r\n  static removeemptynodes(root: Element, includeNBSP: boolean = false, debug: boolean = false): Element {\r\n    let n: number;\r\n    for (n = 0; n < root.childNodes.length; n++) {\r\n      const child: any = root.childNodes[n];\r\n      U.pif(debug, 'removeEmptyNodes: ', child.nodeType);\r\n      switch (child.nodeType) {\r\n      default:\r\n        break;\r\n      case 1:\r\n        U.removeemptynodes(child, includeNBSP);\r\n        break; // node: element\r\n      case 2:\r\n        break; // leaf: attribute\r\n      case 8:\r\n        break; // leaf: comment\r\n      case 3: // leaf: text node\r\n        let txt = child.nodeValue;\r\n        let i: number;\r\n        // replacing first blanks (\\n, \\r, &nbsp;) with classic spaces.\r\n        for (i = 0; i < txt.length; i++) {\r\n          let exit: boolean = false && false;\r\n          switch (txt[i]) {\r\n          default: exit = true; break; // if contains non-blank is allowed to live but trimmed.\r\n          case '&nbsp': if (includeNBSP) { txt[i] = ' '; } else { exit = true; } break;\r\n          case ' ':\r\n          case '\\n':\r\n          case '\\r': txt[i] = ' '; break; }\r\n          if (exit) { break; }\r\n        }\r\n        // replacing last blanks (\\n, \\r, &nbsp;) with classic spaces.\r\n        for (i = txt.length; i >= 0; i--) {\r\n          let exit: boolean = false && false;\r\n          switch (txt[i]) {\r\n          default: exit = true; break; // if contains non-blank is allowed to live but trimmed.\r\n          case '&nbsp': if (includeNBSP) { txt[i] = ' '; } else { exit = true; } break;\r\n          case ' ':\r\n          case '\\n':\r\n          case '\\r': txt[i] = ' '; break; }\r\n          if (exit) { break; }\r\n        }\r\n        txt = txt.trim();\r\n        U.pif(debug, 'txt: |' + root.nodeValue + '| --> |' + txt + '| delete?', (/^[\\n\\r ]*$/g.test(txt)));\r\n        if (txt === '') { root.removeChild(child); n--; } else { root.nodeValue = txt; }\r\n        break;\r\n      }\r\n    }\r\n    return root; }\r\n\r\n  static replaceAll(str: string, searchText: string, replacement: string, debug: boolean = false, warn: boolean = true): string {\r\n    if (!str) { return str; }\r\n    return str.split(searchText).join(replacement);\r\n    let lastPos = 0;\r\n    if (searchText === replacement) {\r\n      U.pw(warn, 'replaceAll invalid parameters: search text === replacement === ' + replacement);\r\n      return str; }\r\n    U.pif(debug, 'replaceAll(', searchText, ' with ', replacement, ') starting str:', searchText);\r\n    while (str.indexOf(searchText, lastPos)) {\r\n      const old = searchText;\r\n      const lastPosOld = lastPos;\r\n      searchText = searchText.substring(0, lastPos) + replacement + searchText.substring(lastPos + searchText.length);\r\n      lastPos = lastPos + replacement.length;\r\n      U.pif(debug, 'replaceAll() ', old, ' => ', searchText, '; lastpos:' + lastPosOld + ' => ', lastPos);\r\n    }\r\n    return str;\r\n  }\r\n\r\n  static isValidHtml(htmlStr: string, debug: boolean = false ): boolean {\r\n    const div = document.createElement('div');\r\n    if (!htmlStr) { return false; }\r\n    div.innerHTML = htmlStr;\r\n    // if (div.innerHTML === htmlStr) { return true; }\r\n    const s2 = U.multiReplaceAll(div.innerHTML, [' ', ' ', '\\n', '\\r'], ['', '', '', '']);\r\n    const s1 = U.multiReplaceAll(htmlStr, [' ', ' ', '\\n', '\\r'], ['', '', '', '']);\r\n    const ret: boolean = s1 === s2;\r\n    if (ret || !debug) { return ret; }\r\n    const tmp: string[] = U.strFirstDiff(s1, s2, 20);\r\n    U.pif(debug, 'isValidHtml() ' + (tmp ? '|' + tmp[0] + '| vs |' + tmp[1] + '|' : 'tmp === null'));\r\n    return ret; }\r\n\r\n  static getIndex(node: Element): number {\r\n    if (!node.parentElement) { return -1; }\r\n    // return U.toArray(node.parentElement.children).indexOf(node);\r\n    return Array.prototype.indexOf.call(node.parentElement.children, this); }\r\n\r\n  static toArray(childNodes: NodeListOf<ChildNode>): ChildNode[] {\r\n    if (Array['' + 'from']) { return Array['' + 'from'](childNodes); }\r\n    const array: ChildNode[] = [];\r\n    let i = -1;\r\n    while (++i < childNodes.length) { array.push(childNodes[i]); }\r\n    return array; }\r\n\r\n  static getClass(obj: object): string { return (obj as any).__proto__.constructor.name; }\r\n\r\n  static isString(elem: any) { return elem + '' === elem; }\r\n\r\n  static permuteV2(input: any[]): any[][] {\r\n    U.PermuteArr = [];\r\n    U.PermuteUsedChars = [];\r\n    return U.permute0V2(input); }\r\n\r\n  private static permute0V2(input: any[]): any[][] {\r\n    let i;\r\n    let ch;\r\n    for (i = 0; i < input.length; i++) {\r\n      ch = input.splice(i, 1)[0];\r\n      U.PermuteUsedChars.push(ch);\r\n      if (input.length === 0) {\r\n        U.PermuteArr.push(U.PermuteUsedChars.slice());\r\n      }\r\n      U.permute0V2(input);\r\n      input.splice(i, 0, ch);\r\n      U.PermuteUsedChars.pop();\r\n    }\r\n    return U.PermuteArr; }\r\n\r\n  static permute(inputArr: any[], debug: boolean = true): any[][] {\r\n    const results: any[][] = [];\r\n    const permuteInner = (arr: any[], memo: any[] = []) => {\r\n      let cur;\r\n      let i: number;\r\n      for (i = 0; i < arr.length; i++) {\r\n        cur = arr.splice(i, 1);\r\n        if (arr.length === 0) { results.push(memo.concat(cur)); }\r\n        permuteInner(arr.slice(), memo.concat(cur));\r\n        arr.splice(i, 0, cur[0]);\r\n      }\r\n      return results; };\r\n    return permuteInner(inputArr); }\r\n\r\n  static resizableBorderMouseDblClick(e: MouseDownEvent): void {\r\n    const size: Size = U.sizeof(U.resizingContainer);\r\n    const minSize: Size = U.sizeof(U.resizingBorder);\r\n    const oldSize: Size = new Size(0, 0, +U.resizingContainer.dataset.oldsizew, +U.resizingContainer.dataset.oldsizeh);\r\n    const horiz: boolean = U.resizingBorder.classList.contains('left') || U.resizingBorder.classList.contains('right');\r\n    const vertic: boolean = U.resizingBorder.classList.contains('top') || U.resizingBorder.classList.contains('bottom');\r\n    if (horiz && vertic) return; // do nothing on corner, non voglio che venga resizato sia a minheight che a minwidth, solo uno dei 2.\r\n    minSize.w *= horiz ? 2 : 1;\r\n    minSize.h *= vertic ? 2 : 1;\r\n    minSize.x = size.x;\r\n    minSize.y = size.y;\r\n    console.log('old, size, min', oldSize, size, minSize, oldSize.w && size.equals(minSize));\r\n    if (oldSize.w && size.equals(minSize)) {\r\n      U.resizingContainer.style.width = U.resizingContainer.style.minWidth = U.resizingContainer.style.maxWidth = oldSize.w + 'px';\r\n      U.resizingContainer.style.height = U.resizingContainer.style.minHeight = U.resizingContainer.style.maxHeight = oldSize.h + 'px'; }\r\n    else {\r\n      U.resizingContainer.style.width = U.resizingContainer.style.minWidth = U.resizingContainer.style.maxWidth = minSize.w + 'px';\r\n      U.resizingContainer.style.height = U.resizingContainer.style.minHeight = U.resizingContainer.style.maxHeight = minSize.h + 'px';\r\n      U.resizingContainer.dataset.oldsizew = '' + size.w;\r\n      U.resizingContainer.dataset.oldsizeh = '' + size.h; }\r\n  }\r\n\r\n  static resizableBorderMouseDown(e: MouseDownEvent): void {\r\n    U.resizingBorder = e.currentTarget;\r\n    U.resizingContainer = U.resizingBorder;\r\n    U.resizingContainer.style.padding = '0';\r\n    U.resizingContainer.style.flexBasis = '0';\r\n    // U.resizingContent.style.width = '100%'; required too\r\n    while (!U.resizingContainer.classList.contains('resizableBorderContainer')) {\r\n      U.resizingContainer = U.resizingContainer.parentNode as HTMLElement; }\r\n    if (U.checkDblClick()) U.resizableBorderMouseDblClick(e); }\r\n\r\n  static resizableBorderMouseUp(e: MouseDownEvent): void { U.resizingBorder = U.resizingContainer = null; }\r\n  static resizableBorderUnset(e: ContextMenuEvent): void {\r\n    e.preventDefault();\r\n    const border: HTMLElement = e.currentTarget;\r\n    let container: HTMLElement = border;\r\n    while (container.classList.contains('resizableBorderContainer')) { container = container.parentNode as HTMLElement; }\r\n    container.style.flexBasis = '';\r\n    container.style.minHeight = container.style.minWidth =\r\n    container.style.maxHeight = container.style.maxWidth =\r\n    container.style.height = container.style.width = ''; }\r\n\r\n  static resizableBorderMouseMove(e: MouseDownEvent): void {\r\n    if (!U.resizingBorder) { return; }\r\n    const size: Size = U.sizeof(U.resizingContainer);\r\n    const missing: Point = new Point(0, 0);\r\n    const cursor: Point = new Point(e.pageX, e.pageY);\r\n    const puntoDaFarCoinciderePT: Point = cursor.duplicate();\r\n    const l: boolean = U.resizingBorder.classList.contains('left');\r\n    const r: boolean = U.resizingBorder.classList.contains('right');\r\n    const t: boolean = U.resizingBorder.classList.contains('top');\r\n    const b: boolean = U.resizingBorder.classList.contains('bottom');\r\n    if (l) { puntoDaFarCoinciderePT.x = size.x; }\r\n    if (r) { puntoDaFarCoinciderePT.x = size.x + size.w; }\r\n    if (t) { puntoDaFarCoinciderePT.y = size.y; }\r\n    if (b) { puntoDaFarCoinciderePT.y = size.y + size.h; }\r\n    const add: Point = cursor.subtract(puntoDaFarCoinciderePT, true);\r\n    if (l) { add.x *= -1; }\r\n    if (t) { add.y *= -1; }\r\n    // o = p0 - c\r\n    // p = c\r\n    // c = p0-o\r\n    // console.log('lrtb: ', l, r, t, b);\r\n    // console.log('ptcoinc: ', puntoDaFarCoinciderePT, ' cursor:', cursor, ' size:', size, 'adjust:', add);\r\n    size.w += add.x;\r\n    size.h += add.y;\r\n    const borderSize: Size = U.sizeof(U.resizingBorder);\r\n    if (l || r) { size.w = Math.max(size.w, borderSize.w * 2); }\r\n    if (t || b) { size.h = Math.max(size.h, borderSize.h * 2); }\r\n    U.resizingContainer.style.width = U.resizingContainer.style.maxWidth = U.resizingContainer.style.minWidth = (size.w) + 'px';\r\n    U.resizingContainer.style.height = U.resizingContainer.style.maxHeight = U.resizingContainer.style.minHeight = (size.h) + 'px';\r\n    // console.log('result:' + U.resizingContainer.style.width);\r\n    U.resizingContainer.style.flexBasis = 'unset'; }\r\n\r\n  static resizableBorderSetup(root: HTMLElement = document.body): void {\r\n    // todo: addBack is great, aggiungilo tipo ovunque. find() esclude l'elemento radice anche se matcha la query, addback rimedia aggiungendo il\r\n    //  previous matched set che matcha la condizione.\r\n    const $arr = $(root).find('.resizableBorder').addBack('.resizableBorder');\r\n    let i = -1;\r\n    const nl = '\\n';\r\n    while (++i < $arr.length) {\r\n      U.makeResizableBorder($arr[i]); }\r\n    U.eventiDaAggiungereAlBody(null);\r\n    $(document.body).off('mousemove.ResizableBorder').on('mousemove.ResizableBorder', U.resizableBorderMouseMove);\r\n    $(document.body).off('mouseup.ResizableBorder').on('mouseup.ResizableBorder', U.resizableBorderMouseUp);\r\n    $('.resizableBorder.corner').off('mousedown.ResizableBorder').on('mousedown.ResizableBorder', U.resizableBorderMouseDown)\r\n      .off('contextmenu.ResizableBorder').on('contextmenu.ResizableBorder', U.resizableBorderUnset);\r\n    $('.resizableBorder.side').off('mousedown.ResizableBorder').on('mousedown.ResizableBorder', U.resizableBorderMouseDown)\r\n      .off('contextmenu.ResizableBorder').on('contextmenu.ResizableBorder', U.resizableBorderUnset);\r\n    return; }\r\n\r\n  static makeResizableBorder(html: HTMLElement, left: boolean = true, top: boolean = true, right: boolean = true, bottom = true): void {\r\n    // if (!html.classList.contains('resizableBorderContainer')) { html.classList.add('resizableBorderContainer'); }\r\n    let container: HTMLElement = null;\r\n    let content: HTMLElement = null;\r\n    if (false && html.children.length === 9 && html.children[4].classList.contains('resizableContent')) {\r\n      // already initialized.\r\n      container = html;\r\n      content = container.children[4] as HTMLElement;\r\n      U.clear(container);\r\n    } else {\r\n      // first run: initialing now.\r\n      // const tmpNode: HTMLElement = document.createElement('div');\r\n      // while (html.firstChild) { tmpNode.appendChild(html.firstChild); }\r\n      // while (tmpNode.firstChild) { content.appendChild(tmpNode.firstChild); }\r\n      content = html;\r\n      container = U.cloneHtml(html, false);\r\n      html.setAttribute('original', 'true');\r\n      while (container.classList.length > 0) { container.classList.remove(container.classList.item(0)); }\r\n    }\r\n    console.log('container:', container, 'content:', content);\r\n    U.pe(container.children.length !== 0, '');\r\n    // U.copyStyle(html, container);\r\n    html.parentNode.insertBefore(container, html);\r\n    content.classList.remove('resizableBorderContainer');\r\n    content.classList.add('resizableContent');\r\n    container.classList.add('resizableBorderContainer');\r\n    if (left) { html.dataset.resizableleft = 'true'; }\r\n    if (right) { html.dataset.resizableright = 'true'; }\r\n    if (top) { html.dataset.resizabletop = 'true'; }\r\n    if (bottom) { html.dataset.resizablebottom = 'true'; }\r\n\r\n    left = html.dataset.resizableleft === 'true';\r\n    right = html.dataset.resizableright === 'true';\r\n    top = html.dataset.resizabletop === 'true';\r\n    bottom = html.dataset.resizablebottom === 'true';\r\n\r\n    // const size: Size = U.sizeof(html);\r\n    // container.style.width = size.w + 'px';\r\n    // container.style.height = size.h + 'px';\r\n    const l: HTMLElement = U.toHtml('<div class=\"resizableBorder side left\"></div>');\r\n    const r: HTMLElement = U.toHtml('<div class=\"resizableBorder side right\"></div>');\r\n    const t: HTMLElement = U.toHtml('<div class=\"resizableBorder side top\"></div>');\r\n    const b: HTMLElement = U.toHtml('<div class=\"resizableBorder side bottom\"></div>');\r\n    const tl: HTMLElement = U.toHtml('<div class=\"resizableBorder corner top left\"></div>');\r\n    const tr: HTMLElement = U.toHtml('<div class=\"resizableBorder corner top right\"></div>');\r\n    const bl: HTMLElement = U.toHtml('<div class=\"resizableBorder corner bottom left\"></div>');\r\n    const br: HTMLElement = U.toHtml('<div class=\"resizableBorder corner bottom right\"></div>');\r\n    const hstripT: HTMLElement = U.toHtml('<div class=\"resizableStrip up\"></div>');\r\n    const hstripM: HTMLElement = U.toHtml('<div class=\"resizableStrip center\"></div>');\r\n    const hstripB: HTMLElement = U.toHtml('<div class=\"resizableStrip down\"></div>');\r\n    l.dataset.resizeenabled = left ? 'true' : 'false';\r\n    r.dataset.resizeenabled = right ? 'true' : 'false';\r\n    t.dataset.resizeenabled = top ? 'true' : 'false';\r\n    b.dataset.resizeenabled = bottom ? 'true' : 'false';\r\n    tl.dataset.resizeenabled = top && left ? 'true' : 'false';\r\n    tr.dataset.resizeenabled = top && right ? 'true' : 'false';\r\n    bl.dataset.resizeenabled = bottom && left ? 'true' : 'false';\r\n    br.dataset.resizeenabled = bottom && right ? 'true' : 'false';\r\n    const style: CSSStyleDeclaration = getComputedStyle(html, null);\r\n    // html.style.border = 'none';\r\n    t.style.borderTop = tl.style.borderTop = tr.style.borderTop = style.borderTop;\r\n    b.style.borderBottom = bl.style.borderBottom = br.style.borderBottom = style.borderBottom;\r\n    l.style.borderLeft = tl.style.borderLeft = bl.style.borderLeft = style.borderLeft;\r\n    r.style.borderRight = tr.style.borderRight = br.style.borderRight = style.borderRight;\r\n\r\n    // per un bug lo stile viene sempre letto come \"none\"\r\n    /*l.style.borderStyle = 'solid';\r\n    r.style.borderStyle = 'solid';\r\n    t.style.borderStyle = 'solid';\r\n    b.style.borderStyle = 'solid';*/\r\n    //console.log('style.border:', style.border);\r\n    /*U.pe(t.style.borderTopStyle === 'none', '1');\r\n    U.pe(isNaN(+t.style.borderWidth), '2');\r\n    U.pe(+t.style.borderWidth === 0, '3');\r\n    if (t.style.borderTopStyle === 'none' || isNaN(+t.style.borderWidth) || +t.style.borderWidth === 0) {\r\n      t.style.borderWidth = t.style.height = t.style.width = t.style.flexGrow = '0'; }\r\n    if (b.style.borderBottomStyle === 'none' || isNaN(+b.style.borderWidth) || +b.style.borderWidth === 0) {\r\n      b.style.borderWidth = b.style.height = b.style.width = b.style.flexGrow = '0'; }\r\n    if (l.style.borderLeftStyle === 'none' || isNaN(+l.style.borderWidth) || +l.style.borderWidth === 0) {\r\n      l.style.borderWidth = l.style.height = l.style.width = l.style.flexGrow = '0'; }\r\n    if (r.style.borderTopStyle === 'none' || isNaN(+r.style.borderWidth) || +r.style.borderWidth === 0) {\r\n      r.style.borderWidth = r.style.height = r.style.width = r.style.flexGrow = '0'; }*/\r\n    /*\r\n    const borderSizeL: Size;\r\n    const borderSizeR: Size;\r\n    const borderSizeT: Size;\r\n    const borderSizeB: Size;\r\n    tl.style.width = l.style.width = bl.style.width = (borderSizeL.w) + 'px';\r\n    tr.style.width = r.style.width = br.style.width = (borderSizeR.w) + 'px';\r\n    tl.style.height = t.style.height = tr.style.height = (borderSizeT.h) + 'px';\r\n    bl.style.height = b.style.height = br.style.height = (borderSizeB.h) + 'px';\r\n\r\n    t.style.width = b.style.width = (size.w - (borderSizeL.w + borderSizeR.w)) + 'px';\r\n    l.style.height = r.style.height = (size.h - (borderSizeT.h + borderSizeB.w)) + 'px';*/\r\n    // html.parentNode.appendChild(container);\r\n    hstripT.appendChild(tl);\r\n    hstripT.appendChild(t);\r\n    hstripT.appendChild(tr);\r\n    hstripM.appendChild(l);\r\n    hstripM.appendChild(content);\r\n    hstripM.appendChild(r);\r\n    hstripB.appendChild(bl);\r\n    hstripB.appendChild(b);\r\n    hstripB.appendChild(br);\r\n    container.appendChild(hstripT);\r\n    container.appendChild(hstripM);\r\n    container.appendChild(hstripB);\r\n    container.style.border = 'none';/*\r\n    const size: Size = U.sizeof(container);\r\n    const hbordersize = 10;\r\n    const vbordersize = 10;\r\n    container.style.width = Math.max(hbordersize * 2 + size.w) + 'px';\r\n    container.style.height = Math.max(vbordersize * 2 + size.h) + 'px';*/\r\n    content.style.border = 'none';\r\n    if (!content.style.width || content.style.width === 'auto'){\r\n      content.style.width = '100%';\r\n      content.style.height = '100%'; }\r\n    content.style.minWidth = '0';\r\n    content.style.minHeight = '0';\r\n\r\n  }\r\n\r\n  static copyStyle(from: HTMLElement | SVGGElement, to: HTMLElement | SVGGElement, computedStyle: CSSStyleDeclaration = null): boolean {\r\n    // trying to figure out which style object we need to use depense on the browser support, so we try until we have one.\r\n    if (!computedStyle) { computedStyle = from['' + 'currentStyle'] || document.defaultView.getComputedStyle(from, null); }\r\n    // if the browser dose not support both methods we will return failure.\r\n    if (!computedStyle) { return false; }\r\n    // checking that the value is not a undefined, object, function, empty or int index ( happens on some browser)\r\n    const stylePropertyValid = (name: any, value: any) => {\r\n      // nb: mind that typeof [] === 'object';\r\n      return typeof value !== 'undefined' && typeof value !== 'object' && typeof value !== 'function' && value.length > 0\r\n        // && value !== parseInt(value, 10); };\r\n        && +name !== parseInt(name, 10); };\r\n\r\n    let property: string;\r\n    for (property in computedStyle) {\r\n      // hasOwnProperty is useless, but compiler required\r\n      // console.log('property[', property, '] = ', computedStyle[property]);\r\n      if (!computedStyle.hasOwnProperty(property) || !stylePropertyValid(property, computedStyle[property])) { continue; }\r\n      to.style[property] = computedStyle[property];\r\n    }\r\n    return true; }\r\n\r\n  static cclear(): void { console.clear(); console.trace(); }\r\n\r\n  static toDottedURI(uri: string): string {\r\n    return U.replaceAll(U.replaceAll(uri.substring(uri.indexOf('://') + '://'.length), '\\\\', '/'), '/', '.');\r\n  }\r\n  static toHttpsURI(uri: string, folderChar: string = '/'): string {\r\n    return 'https://' + U.replaceAll(uri, '.', folderChar);\r\n  }\r\n\r\n  static toNumber(o: any) {\r\n    if (o === null || o === undefined || (U.isString(o) && o.trim() === '')) return null;\r\n    o = +o;\r\n    if (isNaN(o)) return null;\r\n    return o; }\r\n\r\n  // returns true only if parameter is already a number by type. U.isNumber('3') will return false\r\n  static isNumber(o: any): boolean { return +o === o && o !== NaN; }\r\n  // returns true only if parameter is a number or a stringified number. U.isNumber('3') will return true\r\n  static isNumerizable(o: any): boolean { return o !== null && o !== undefined && o !== '' && !isNaN(+o); }\r\n  static isNumberArray(o: any, minn: number = Number.NEGATIVE_INFINITY, max: number = Number.POSITIVE_INFINITY,\r\n                       ifItIsEmptyArrReturn: boolean = true): boolean {\r\n    const validation = (val: number) => U.isNumber(val) && val >= minn && val <= max;\r\n    return U.isArrayOf(o, validation, ifItIsEmptyArrReturn); }\r\n\r\n  static isIntegerArray(o: any, minn: number = Number.NEGATIVE_INFINITY, max: number = Number.POSITIVE_INFINITY,\r\n                        ifItIsEmptyArrReturn: boolean = true): boolean {\r\n    const validation = (val: number) => (U.isNumber(val) && Math.floor(val) === val && val >= minn && val <= max);\r\n    return U.isArrayOf(o, validation, ifItIsEmptyArrReturn); }\r\n\r\n  static isCharArray(values: any, ifItIsEmpryArrayReturn: boolean = true): boolean {\r\n    const charValidator = (val: string) => (val.length === 1);\r\n    return U.isArrayOf(values, charValidator, ifItIsEmpryArrayReturn); }\r\n  static isArrayOf(value: any, functionCheck: any, ifItIsEmptyArrayReturn: boolean = true): boolean {\r\n    if (!Array.isArray(value)) { return false; }\r\n    let i: number;\r\n    if (value.length === 0) { return ifItIsEmptyArrayReturn; }\r\n    for (i = 0; i < value.length; i++) {\r\n      if (!functionCheck(value[i]) && !U.isArrayOf(value[i], functionCheck, ifItIsEmptyArrayReturn)) { return false; }\r\n    }\r\n    return true; }\r\n\r\n\r\n  static isStringArray(value: any, ifItIsEmptyArrayReturn: boolean = true): boolean {\r\n    if (!Array.isArray(value)) { return false; }\r\n    let i: number;\r\n    if (value.length === 0) { return ifItIsEmptyArrayReturn; }\r\n    for (i = 0; i < value.length; i++) { if (!U.isString(value[i]) && !U.isStringArray(value[i], true)) { return false; } }\r\n    return true; }\r\n\r\n  static clipboardCopy(text: string): void {\r\n    if (!U.clipboardinput) {\r\n      U.clipboardinput = document.createElement('input');\r\n      U.clipboardinput.id = U.prefix + 'CopyDataToClipboard';\r\n      U.clipboardinput.type = 'text';\r\n      U.clipboardinput.style.display = 'block';\r\n      U.clipboardinput.style.position = 'absolute';\r\n      U.clipboardinput.style.top = '-100vh'; }\r\n    document.body.appendChild(U.clipboardinput);\r\n    U.clipboardinput.value = text;\r\n    U.clipboardinput.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(U.clipboardinput);\r\n    U.clearSelection(); }\r\n\r\n  static clearSelection() {}\r\n\r\n  static refreshPage(): void { window.location.href += ''; }\r\n\r\n\r\n  static isArray(v: any): boolean { return Array.isArray(v); }\r\n\r\n  static isEmptyObject(v: any, returnIfNull: boolean = true, returnIfUndefined: boolean = false): boolean {\r\n    return U.isObject(v, returnIfNull, returnIfUndefined) && $.isEmptyObject(v); }\r\n\r\n  static isObject(v: any, returnIfNull: boolean = true, returnIfUndefined: boolean = false, retIfArray: boolean = false): boolean {\r\n    if (v === null) { return returnIfNull; }\r\n    if (v === undefined) { return returnIfUndefined; }\r\n    if (Array.isArray(v)) { return retIfArray; }\r\n    // nb: mind that typeof [] === 'array'\r\n    return typeof v === 'object'; }\r\n\r\n  static isFunction(v: any): boolean { return (typeof v === 'function'); }\r\n\r\n  static isPrimitive(v: any, returnIfNull: boolean = true, returnIfUndefined: boolean = true): boolean {\r\n    if (v === null) { return returnIfNull; }\r\n    if (v === undefined) { return returnIfUndefined; }\r\n    // return (typeof v !== 'function') && (typeof v !== 'object') && (!U.isArray(v));\r\n    return !U.isObject(v) && !Array.isArray(v) && !U.isFunction(v); }\r\n\r\n  static getEndingNumber(s: string, ignoreNonNumbers: boolean = false, allowDecimal: boolean = false): number {\r\n    let i = s.length;\r\n    let numberEnd = -1;\r\n    while (--i > 0) {\r\n      if (!isNaN(+s[i])) { if (numberEnd === -1) { numberEnd = i; } continue; }\r\n      if (s[i] === '.' && !allowDecimal) { break; }\r\n      if (s[i] === '.') { allowDecimal = false; continue; }\r\n      if (!ignoreNonNumbers) { break; }\r\n      if (numberEnd !== -1) { ignoreNonNumbers = false; }\r\n    }\r\n    s = numberEnd === -1 ? '1' : s.substring(i, numberEnd);\r\n    return +parseFloat(s); }\r\n\r\n  static increaseEndingNumber(s: string, allowLastNonNumberChars: boolean = false, allowDecimal: boolean = false, increaseWhile: (x: string) => boolean = null): string {\r\n    /*let i = s.length;\r\n    let numberEnd = -1;\r\n    while (--i > 0) {\r\n      if (!isNaN(+s[i])) { if (numberEnd === -1) { numberEnd = i; } continue; }\r\n      if (s[i] === '.' && !allowDecimal) { break; }\r\n      if (s[i] === '.') { allowDecimal = false; continue; }\r\n      if (!ignoreNonNumbers) { break; }\r\n      if (numberEnd !== -1) { ignoreNonNumbers = false; }\r\n    }\r\n    if (numberEnd === -1) { return s + '_1'; }\r\n    // i++;\r\n    numberEnd++;*/\r\n    let regexpstr = '([0-9]+' + (allowDecimal ? '|[0-9]+\\\\.[0-9]+' : '') + ')' + (allowLastNonNumberChars ? '[^0-9]*' : '') + '$';\r\n    const matches: RegExpExecArray = new RegExp(regexpstr, 'g').exec(s); // Global (return multi-match) Single line (. matches \\n).\r\n    // S flag removed for browser support (firefox), should work anyway.\r\n    let prefix: string;\r\n    let num: number;\r\n    if (!matches) {\r\n      prefix = s;\r\n      num = 2;\r\n    } else {\r\n      U.pe(matches.length > 2, 'parsing error: /' + regexpstr + '/gs.match(' + s + ')');\r\n      let i = s.length - matches[0].length;\r\n      prefix = s.substring(0, i);\r\n      num = 1 + (+matches[1]);\r\n      // U.pe(isNaN(num), 'wrong parsing:', s, s.substring(i, numberEnd), i, numberEnd);\r\n      // const prefix: string = s.substring(0, i);\r\n      // console.log('increaseendingNumber:  prefix: |' + prefix+'| num:'+num, '[i] = ['+i+']; s: |'+s+\"|\");\r\n\r\n    }\r\n    while (increaseWhile !== null && increaseWhile(prefix + num)) { num++; }\r\n    return prefix + num; }\r\n\r\n  static isValidName(name: string): boolean { return /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name); }\r\n\r\n  static getTSClassName(thing: any): string {\r\n    if (!thing || !thing.constructor) return typeof(thing);\r\n    return thing.constructor.name + ''; }\r\n\r\n  static detailButtonSetup($root = null): void {\r\n    if (!$root) $root = $(document.body);\r\n    $root.find('button.detail').off('click.detailbutton').on('click.detailbutton', (e: ClickEvent, forceHide: boolean) => {\r\n      const btn = e.currentTarget as HTMLButtonElement;\r\n      const $btn = $(btn);\r\n      const $detailPanel = $root.find(btn.getAttribute('target'));\r\n      const otherButtons: HTMLButtonElement[] = $(btn.parentElement).find('button.detail').toArray().filter(x => x != btn) as any;\r\n      // $styleown.find('div.detail:not(' + btn.getAttribute('target') + ')');\r\n\r\n      const b: boolean = btn.dataset.on === '1';\r\n      if (forceHide || b) {\r\n        btn.style.width = '';\r\n        btn.dataset.on = '0';\r\n        btn.style.borderBottom = '';\r\n        btn.style.borderBottomLeftRadius = '';\r\n        btn.style.borderBottomRightRadius = '';\r\n        $btn.find('.closed').show();\r\n        $btn.find('.opened').hide();\r\n        // $detailcontainers.show();\r\n        $detailPanel.hide();\r\n      } else {\r\n        const size: Size = U.sizeof(btn);\r\n        btn.style.width = size.w + 'px';\r\n        btn.dataset.on = '1';\r\n        btn.style.borderBottom = 'none'; // '3px solid #252525';\r\n        btn.style.borderBottomLeftRadius = '0';\r\n        btn.style.borderBottomRightRadius = '0';\r\n        $btn.find('.closed').hide();\r\n        $btn.find('.opened').show()[0].style.width = (size.w - 15 * 2) + 'px';\r\n        console.log('others:', otherButtons, 'me:', $btn);\r\n        $(otherButtons).data('on', '1').trigger('click', true);\r\n        $detailPanel.show();\r\n      }\r\n    });\r\n    $root.find('div.detail').hide();\r\n  }\r\n\r\n  // Prevent the backspace key from navigating back.\r\n  static preventBackSlashHistoryNavigation(event: KeyDownEvent): boolean {\r\n    if (!event || !event.key || event.key.toLowerCase() !== 'backspace') { return true; }\r\n    const types: string[] = ['text', 'password', 'file', 'search', 'email', 'number', 'date',\r\n      'color', 'datetime', 'datetime-local', 'month', 'range', 'search', 'tel', 'time', 'url', 'week'];\r\n    const srcElement: JQuery<any> = $(event['' + 'srcElement'] || event.target);\r\n    const disabled = srcElement.prop('readonly') || srcElement.prop('disabled');\r\n    if (!disabled) {\r\n      if (srcElement[0].isContentEditable || srcElement.is('textarea')) { return true; }\r\n      if (srcElement.is('input')) {\r\n        const type = srcElement.attr('type');\r\n        if (!type || types.indexOf(type.toLowerCase()) > -1) { return true; }\r\n      }\r\n    }\r\n    event.preventDefault();\r\n    return false; }\r\n  // esercizio per antonella array deep copy\r\n  /// copy all the element inside the array, eventually deep cloning but not duplicating objects or leaf elements.\r\n  static ArrayCopy<T>(arr: Array<T>, deep: boolean): Array<T> {\r\n    const ret: Array<T> = [];\r\n    let i: number;\r\n    for (i = 0; i < arr.length; i++) {\r\n      if (deep && Array.isArray(arr[i])) {\r\n        const tmp: Array<T> = U.ArrayCopy<T>(arr[i] as unknown as Array<T>, deep);\r\n        ret.push(tmp as unknown as T); } else { ret.push(arr[i]); }\r\n    }\r\n    return ret; }\r\n\r\n  static SetMerge<T>(modifyFirst: boolean = true, ...iterables: Iterable<T>[]): Set<T> {\r\n    const set: Set<T> = modifyFirst ? iterables[0] as Set<T>: new Set<T>();\r\n    U.pe(!(set instanceof Set), 'U.SetMerge() used with modifyFirst = true requires the first argument to be a set');\r\n    for (let iterable of iterables) { for (let item of iterable) { set.add(item); } }\r\n    return set; }\r\n\r\n  static MapMerge<K, V>(modifyFirst: boolean = true, ...maps: Map<K, V>[]): Map<K, V> {\r\n    const ret: Map<K, V> = modifyFirst ? maps[0] : new Map<K, V>();\r\n    let i: number;\r\n    for (i = 0; i < maps.length; i++) { maps[i].forEach(function(value, key){ ret.set(key, value); }) }\r\n    return ret; }\r\n\r\n  static ArrayMerge(arr1: any[], arr2: any[], unique: boolean = false): void {\r\n    if (!arr1 || !arr2) return;\r\n    if (!unique) Array.prototype.push.apply(arr1, arr2);\r\n    let i: number;\r\n    for (i = 0; i < arr2.length; i++) { U.ArrayAdd(arr1, arr2[i]); } }\r\n\r\n  static ArrayAdd<T>(arr: Array<T>, elem: T, unique: boolean = true, throwIfContained: boolean = false): boolean {\r\n    U.pe(!arr || !Array.isArray(arr), 'arr null or not array:', arr);\r\n    if (!unique) { arr.push(elem); return true; }\r\n    if (arr.indexOf(elem) === -1) { arr.push(elem); return true; }\r\n    U.pe(throwIfContained, 'element already contained:', arr, elem);\r\n    return false; }\r\n\r\n  static fieldCount(obj: object): number {\r\n    let counter: number = 1 - 1;\r\n    for (const key in obj) { if (!(key in obj)) { continue; } counter++; }\r\n    return counter; }\r\n\r\n  static isPositiveZero(m: number): boolean {\r\n    if (Object['is' + '']) { return Object['is' + ''](m, +0); }\r\n    return (1 / m === Number.POSITIVE_INFINITY); }\r\n  static isNegativeZero(m: number): boolean {\r\n    if (Object['is' + '']) { return Object['is' + ''](m, -0); }\r\n    return (1 / m === Number.NEGATIVE_INFINITY); }\r\n\r\n  static TanToRadian(n: number): number { return U.DegreeToRad(U.TanToDegree(n)); }\r\n  static TanToDegree(n: number): number {\r\n    if (U.isPositiveZero(n)) { return 0; }\r\n    if (n === Number.POSITIVE_INFINITY) { return 90; }\r\n    if (U.isNegativeZero(n)) { return 180; }\r\n    if (n === Number.POSITIVE_INFINITY) { return 270; }\r\n    return U.RadToDegree(Math.atan(n)); }\r\n\r\n  static RadToDegree(radians: number): number { return radians * (180 / Math.PI); }\r\n  static DegreeToRad(degree: number): number { return degree * (Math.PI / 180); }\r\n\r\n  static replaceAllRegExp(value: string, regExp: RegExp, replacement: string): string { return value.replace(regExp, replacement); }\r\n\r\n  static fixHtmlSelected($root: JQuery<Element>): void {\r\n    const $selecteds: JQuery<HTMLSelectElement> = $root.find('select') as JQuery<HTMLSelectElement>;\r\n    let i: number;\r\n    for (i = 0 ; i < $selecteds.length; i++) {\r\n      const $option: JQuery<HTMLOptionElement> = $($selecteds[i]).find('option[selected]') as any as JQuery<HTMLOptionElement>;\r\n      U.selectHtml($selecteds[i], $option.length ? $option[0].value : null); }\r\n  }\r\n\r\n  // ignores first N equal chars and return the substring of s1 from N to N+len or until s1 end.\r\n  public static strFirstDiff(s1: string, s2: string, len: number): string[] {\r\n    let i: number;\r\n    if (!s1 && !s2) { return [s1, s2]; }\r\n    if (s1 && !s2) { return [s1.substr(0, len), s2]; }\r\n    if (!s1 && s2) { return [s1, s2.substr(0, len)]; }\r\n    const min: number = Math.min(s1.length, s2.length);\r\n    for (i = 0; i < min; i++) { if (s1[i] !== s2[i]) { return [s1.substr(i, len), s2.substr(i, len)]; } }\r\n    return null; }\r\n\r\n  // get the index of the first char not equal between s1 and s2 or null if one of the string ended.\r\n  public static strFirstDiffIndex(s1: string, s2: string): number{\r\n    let i: number = -1;\r\n    if (!s1 || !s2) return -1;\r\n    let minlen: number = Math.min(s1.length, s2.length);\r\n    console.log('strequal minlen:', minlen, '|'+s1+'|', '|'+s2+'|');\r\n    for (i = -1; ++i < minlen && s1[i] === s2[i];) {\r\n      console.log('strequal:', i, 's1:', s1[i], 's2', s2[i], true);\r\n    }\r\n    return i; }\r\n\r\n  public static mergeArray(a: any[], b: any[], inplace: boolean, asSet: boolean): any[] {\r\n    a = a || [];\r\n    b = b || [];\r\n    let ret: any[];\r\n    if (inplace) { (ret = a).push(...b); } else { ret = a.concat(...b); }\r\n    return asSet ? [...new Set(ret)] : ret; }\r\n\r\n  public static mergeClasses(elem1: Element, elem2: Element): void {\r\n    const classes1: string[] = elem1.getAttribute('class').split(' ');\r\n    const classes2: string[] = elem2.getAttribute('class').split(' ');\r\n    elem1.setAttribute('class', U.mergeArray(classes1, classes2, true, true).join(' ')); }\r\n\r\n  public static mergeStyles(html: Element, fake: Element = null, styleString: string = null, prioritizeFake: boolean = false): void {\r\n    let i: number;\r\n    const styles1: any[] = html.getAttribute('style').split(';');\r\n    const styles2: any[] = (styleString = (styleString ? styleString : fake.getAttribute('style'))).split(';');\r\n    let stylesKv1: Dictionary<string, string> = {};\r\n    let stylesKv2: Dictionary<string, string> = {};\r\n    let key: string;\r\n    let val: string;\r\n    let pos: number;\r\n    for (i = 0; i < styles1.length; i++) {\r\n      pos = styles1[i].indexOf(':');\r\n      key = styles1[i].substr(0, pos).trim();\r\n      val = styles1[i].substr(pos + 1).trim();\r\n      if (key == '' || val == '') continue;\r\n      stylesKv1[key] = val; }\r\n    for (i = 0; i < styles2.length; i++) {\r\n      pos = styles2[i].indexOf(':');\r\n      key = styles2[i].substr(0, pos).trim();\r\n      val = styles2[i].substr(pos + 1).trim();\r\n      if (key == '' || val == '') continue;\r\n      stylesKv2[key] = val; }\r\n    if (prioritizeFake) {\r\n      let tmp = stylesKv1;\r\n      stylesKv1 = stylesKv2;\r\n      stylesKv2 = tmp; }\r\n    stylesKv1 = U.join(stylesKv1, stylesKv2, true, false);\r\n    let style: string = '';\r\n    for (key in stylesKv1) { style += key + ':' + stylesKv1[key] + '; '; }\r\n    console.log('final Style:', style, stylesKv1, stylesKv2, styles2);\r\n    html.setAttribute('style', style); }\r\n\r\n  public static merge(a: object, b: object, overwriteNull: boolean = true, clone: boolean = true): object { return U.join(a, b, overwriteNull, clone); }\r\n  public static join(a: object, b: object, overwriteNull: boolean = true, clone: boolean = true): object {\r\n    if (clone) { a = U.cloneObj(a); }\r\n    let key: string;\r\n    for (key in b) {\r\n      if (!b.hasOwnProperty(key)) { continue; }\r\n      if (b[key] !== undefined && a[key] === null && overwriteNull || a[key] === undefined) { a[key] = b[key]; }\r\n    }\r\n    return a;\r\n  }\r\n\r\n  public static getChildIndex_old(html: Node, allNodes: boolean = true): number {\r\n    if (allNodes) { return Array.prototype.indexOf.call(html.parentNode.childNodes, html); }\r\n    return Array.prototype.indexOf.call(html.parentNode.children, html); }\r\n\r\n  public static getChildIndex(array: any, child: any): number {\r\n    return Array.prototype.indexOf.call(array, child); }\r\n\r\n  public static getIndexesPath_old(parent: Element, child: Element) {\r\n    let ret: number[] = [];\r\n    while (child && child !== parent) {\r\n      ret.push(U.getChildIndex(parent.childNodes, child));\r\n      child = child.parentElement; }\r\n    // ret = ret.splice(ret.length - 2, 1);\r\n    return ret.reverse(); }\r\n\r\n  public static getIndexesPath_NoParentKey<T>(child: T, parent: any): string[] {\r\n    U.pe(true, 'getindexespath without parent key: todo');\r\n    return null;\r\n    // todo: top-down ricorsivo a tentativi. implementa loop detection. senza childkey (può variare es: parent.a[3].b.c[1] = child)\r\n    //  return string array con nomi di campi e indici di array.\r\n  }\r\n  public static getIndexesPath<T>(child: T, parentKey: string, childKey: string = null /* null = parent is raw array*/, parentLimit: T = null) {\r\n    let ret: number[] = [];\r\n    while (child) {\r\n      const parent: any = child[parentKey];\r\n      if (child === parentLimit) { break; }\r\n      if (!parent || parent === child) { break; }\r\n      const parentArrChilds: T[] = childKey ? parent[childKey] : parent;\r\n      ret.push(U.getChildIndex(parentArrChilds, child));\r\n      child = child[parentKey];\r\n    }\r\n    return ret.reverse(); }\r\n\r\n  static followIndexesPath(root: any, indexedPath: (number | string)[], childKey: string,\r\n                           outArr: {indexFollowed: (number | string)[], debugArr: {index: string | number, elem: any}[]} = {indexFollowed: [],\r\n                             debugArr: [{index: 'Start', elem: root}]}, debug: boolean = false): any\r\n  {\r\n    let j: number;\r\n    let ret: any = root;\r\n    let oldret: any = ret;\r\n    U.pe(!childKey, 'must define a childkey', childKey);\r\n    if (outArr) outArr.debugArr.push({index: 'start', elem: root, childKey: childKey} as any);\r\n    debug = +window['debugi'] === 1;\r\n    U.pe(childKey && childKey !== '' + childKey, 'U.followIndexesPath() childkey must be a string or a null:', childKey, 'root:', root);\r\n    for (j = 0; j < indexedPath.length; j++) {\r\n      let key: number | string = indexedPath[j];\r\n      let childArr = childKey ? ret[childKey] : ret;\r\n      U.pif(debug, 'path ' + j + ') = elem.' + childKey + ' = ', childArr);\r\n      if (!childArr) { U.pif(debug, 'U.followIndexEnd 1:', outArr); return oldret; }\r\n      ret = childArr[key];\r\n      if (key >= childArr.length) { key = 'Key out of boundary: ' + key + '/' + childArr.length + '.'; }\r\n      U.pif(debug, 'path ' + j + ') = elem.' + childKey + '[ ' + key + '] = ', ret);\r\n      if (outArr) outArr.debugArr.push({index: key, elem: ret});\r\n      if (!ret) { U.pif(debug, 'U.followIndexEnd 2:', outArr); return oldret; }\r\n      if (outArr) outArr.indexFollowed.push(key);\r\n      oldret = ret;\r\n    }\r\n    U.pif(debug, 'U.followIndexEnd 3:', outArr);\r\n    return ret; }\r\n\r\n  static followIndexesPathOld(templateRoot: Element, indexedPath: number[], allNodes: boolean = true,\r\n                              outArr: {indexFollowed: number[]} = {indexFollowed: []}, debug: boolean = false): Element {\r\n    let j: number;\r\n    let ret: Element = templateRoot;\r\n    let oldret: Element = ret;\r\n    const debugarr: {index: number, html: Node}[] = [{index: 'Start' as any, html: ret}];\r\n    for (j = 0; j < indexedPath.length; j++) {\r\n      const index = indexedPath[j];\r\n      ret = (allNodes ? ret.childNodes[index] : ret.children[index]) as any;\r\n      if (!ret) {\r\n        console.log('folllowPath: clicked on some dinamically generated content, returning the closest static parent.', debugarr);\r\n        U.pw(debug, 'clicked on some dinamically generated content, returning the closest static parent.', debugarr);\r\n        return oldret; }\r\n      oldret = ret;\r\n      outArr.indexFollowed.push(index);\r\n      debugarr.push({index: index, html: ret});\r\n    }\r\n    U.pif(debug, 'followpath debug arr:', debugarr);\r\n    return ret; }\r\n\r\n  static removeDuplicates(arr0: any[], clone: boolean = false): any[] { return U.mergeArray(arr0, [], !clone, true); }\r\n\r\n  private static startSeparatorKeys = {};\r\n  private static startSeparatorKeyMax = -1;\r\n  public static getStartSeparatorKey(): string { return ++U.startSeparatorKeyMax + ''; }\r\n  public static startSeparator(key: string, separator: string = ', '): string {\r\n    if (key in U.startSeparatorKeys) return separator;\r\n    U.startSeparatorKeys[key] = true;\r\n    return ''; }\r\n\r\n  static arrayContains(arr: any[], searchElem: any): boolean {\r\n    if (!arr) return false;\r\n    // return arr && arr.indexOf(searchElem) === -1; not working properly on strings. maybe they are evaluated by references and not by values.\r\n    let i: number;\r\n    for (i = 0; i < arr.length; i++) { if (arr[i] === searchElem) return true; }\r\n    return false; }\r\n\r\n  static toBoolString(bool: boolean): string { return bool ? \"true\" : \"false\"; }\r\n  static fromBoolString(str: string | boolean, defaultVal: boolean = false, allowNull: boolean = false, allowUndefined: boolean = false): boolean {\r\n    str = ('' + str).toLowerCase();\r\n    if (allowNull && (str === 'null')) return null;\r\n    if (allowUndefined && (str === 'undefined')) return undefined;\r\n\r\n    if (defaultVal === false) return str === \"true\" || str === 't' || str === '1'; // true solo se è esplicitamente true, false se ambiguo.\r\n    // if (defaultVal === true) return str === \"false\" || str === 'f' || str === '0'; // false solo se è esplicitamente false, true se ambiguo.\r\n    if (defaultVal === true) return !(str === \"false\" || str === 'f' || str === '0'); // false solo se è esplicitamente false, true se ambiguo.\r\n  }\r\n\r\n  static parseSvgPath(str: string): {assoc: {letter: string, pt: Point}[], pts: Point[]} {\r\n    let i: number;\r\n    let letter: string = null;\r\n    let num1: string = null;\r\n    let num2: string = null; // useless initializing phase to avoid IDE warnings\r\n    let foundFloat: boolean = null;\r\n    let pt: Point = null;\r\n    let current: {letter: string, pt: Point} = null;\r\n    const assoc: {letter: string, pt: Point}[] = [];\r\n    const pts: Point[] = [];\r\n    const ret = {assoc: assoc, pts: pts};\r\n    const debug: boolean = false;\r\n    str = str.toUpperCase();\r\n\r\n    const startNextEntry = () => {\r\n      num1 = '';\r\n      num2 = '';\r\n      pt = new Point(0, 0);\r\n      pt.x = null;\r\n      pt.y = null;\r\n      foundFloat = false; };\r\n    const endCurrentEntry = () => {\r\n      pt.y = +num2;\r\n      U.pe(isNaN(pt.y), 'parsed non-number as value of: |' + letter + '| in svg.path attribute: |' + str + '|', ret);\r\n\r\n      current = {letter: letter, pt: pt};\r\n      U.pe(pt.x === null || pt.y === null, num1, num2, pt, i, str);\r\n      pts.push(pt);\r\n      assoc.push(current);\r\n      U.pif(debug, 'endEntry:', current, ' position: |' + str.substr(0, i) + '|' + str.substr(i)+\"|\");\r\n      startNextEntry();\r\n    };\r\n    startNextEntry();\r\n    for (i = 0; i < str.length; i++) {\r\n      const c: string = str[i];\r\n      switch (c) {\r\n      case '0': case '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9': case '.': case '-': case '+':\r\n        if (c === '.') { U.pe(foundFloat, ' found 2 floating points in a single parsed number in svg.path attribute: |' + str + '|'); foundFloat = true; }\r\n        U.pe((c === '+' || c === '-') && (pt.x === null && num1 !== '' || pt.y === null && num2 !== ''), 'found a ' + c + ' sign inside a number:', ret, i, str);\r\n        if (pt.x === null) { num1 += c; break; }\r\n        if (pt.y === null) { num2 += c; break; }\r\n        U.pe(true, 'found 3 numbers while parsing svg.path attribute: |' + str + '|', ret); break;\r\n      case ' ':\r\n        if (pt.x === null) {\r\n          pt.x = +num1;\r\n          foundFloat = false;\r\n          U.pe(isNaN(+pt.x), 'parsed non-number as value of: |' + letter + '| in svg.path attribute: |' + str + '|', ret); break; }\r\n        if (pt.y === null) {\r\n          pt.y = +num2;\r\n          U.pe(isNaN(+pt.y), 'parsed non-number as value of: |' + letter + '| in svg.path attribute: |' + str + '|', ret); break; }\r\n        break;\r\n      default:\r\n        if (letter) { endCurrentEntry(); }\r\n        letter = c;\r\n        break;\r\n      }\r\n    }\r\n    endCurrentEntry();\r\n    return ret;\r\n  }\r\n\r\n  public static focusHistoryEntriesAndIdleTimes: (FocusHistoryEntry | null)[] = undefined;\r\n  public static focusHistoryEntries: FocusHistoryEntry[] = undefined;\r\n  public static focusHistoryElements: Element[] = undefined;\r\n  public static focusHistorySetup(): void {\r\n    U.focusHistoryEntries = U.focusHistoryEntries || [];\r\n    U.focusHistoryElements = U.focusHistoryElements || [];\r\n    U.focusHistoryEntriesAndIdleTimes = U.focusHistoryEntriesAndIdleTimes || [];\r\n    $(document).off('focusin.history').on('focusin.history', (e: FocusInEvent) => {\r\n      const element: Element = e.target;\r\n      // if (document.activeElement === element) return; // do i need to avoid duplicates or not?\r\n      const entry = new FocusHistoryEntry(e, element);\r\n      U.focusHistoryEntriesAndIdleTimes.push(entry);\r\n      U.focusHistoryElements.push(element);\r\n      U.focusHistoryEntries.push(entry);\r\n      setTimeout(() => { U.focusHistoryEntriesAndIdleTimes.push(null); }, 0);\r\n    });\r\n  }\r\n  public static focusHistoryReset(): void {\r\n    U.focusHistoryEntries = [];\r\n    U.focusHistoryElements = []; }\r\n  public static getLastFocusEntry(): FocusHistoryEntry {\r\n    U.pe(!U.focusHistoryEntries, 'focus history not initializated. call U.focusHistorySetup() before');\r\n    return U.focusHistoryEntries[U.focusHistoryEntries.length]; }\r\n/*\r\n  static unescapeHtmlEntities(s: string): string { return HE.decode(s); }\r\n  static escapeHtmlEntities(s: string): string { return HE.encode(s); }*/\r\n  static shallowArrayCopy<T>(arr: T[]): T[] {\r\n    let ret: T[] = [];\r\n    let i: number;\r\n    if (!arr) return null;\r\n    for (i = 0; i < arr.length; i++) { ret.push(arr[i]); }\r\n    return ret; }\r\n\r\n  static arrayInsertAt(arr: any[], index: number, item: any): void {\r\n    U.pe(!arr || !Array.isArray(arr), 'ArrayInsertAt() must have a parameter array');\r\n    index = Math.max(0, index);\r\n    index = Math.min(arr.length, index);\r\n    arr.splice(index, 0, item);\r\n  }\r\n\r\n  static newArray(size: number): any[] {\r\n    let ret = [];\r\n    ret.length = Math.max(0, size);\r\n    return ret; }\r\n\r\n  static isInput(target: Node, deep_up: boolean, select: boolean = true, input: boolean = true,\r\n                 textarea: boolean = true, contenteditable: boolean = true): boolean {\r\n    let tag: string;\r\n    let attrcontenteditable: string;\r\n    let inputcheck: string = input ? 'input' : 'mustfail';\r\n    let selectcheck: string = select ? 'select' : 'mustfail';\r\n    let textareacheck: string = textarea ? 'textarea' : 'mustfail';\r\n    while (target) {\r\n      if (target === window.document) return false;\r\n      let targetElement: Element = target instanceof Element ? target : null;\r\n      tag = targetElement ? targetElement.tagName.toLowerCase() : null;\r\n      if (tag === inputcheck || tag === selectcheck || tag === textareacheck) {\r\n        console.log('isInput:', target);\r\n        return true; }\r\n      attrcontenteditable = contenteditable && targetElement ? targetElement.getAttribute('contenteditable') : null;\r\n      if (attrcontenteditable === '' || attrcontenteditable === 'true') { console.log('isInput:', target); return true; }\r\n      if (!deep_up) return false;\r\n      target = target.parentNode;\r\n    }\r\n    return false;\r\n  }\r\n  static getValue(input0: Element): string {\r\n    if (!input0) return null;\r\n    const input: HTMLInputElement = (input0 instanceof HTMLInputElement) ? input0 : null;\r\n    if (input) return input.value;\r\n    const textarea: HTMLTextAreaElement = (input0 instanceof HTMLTextAreaElement) ? input0 : null;\r\n    if (textarea) return textarea.value;\r\n    return input0.getAttribute('value') || input0['' + 'innerText'] || input0.innerHTML; }\r\n\r\n  static followsPattern(input0: Element, value: string = null): boolean {\r\n    let input: HTMLInputElement = (input0 instanceof HTMLInputElement) ? input0 : null;\r\n    let pattern: string = input ? input.pattern : input0.getAttribute('pattern');\r\n    if (pattern === null || pattern === undefined) return true;\r\n    const val = value || (input ? input.value : U.getValue(input0));\r\n    const regex =  new RegExp(pattern);\r\n    return regex && regex.test(val); }\r\n\r\n  static trimStart(s: string, trimchars: string[]): string {\r\n    let i: number;\r\n    for (i = 0; i < s.length && trimchars.indexOf(s[i]) !== -1; i++) { ; }\r\n    return s.substr(i); }\r\n\r\n  static arraySubtract(arr1: any[], arr2: any[], inPlace: boolean): any[]{\r\n    let i: number;\r\n    const ret: any[] = inPlace ? arr1 : [...arr1];\r\n    for (i = 0; i < arr2.length; i++) { U.arrayRemoveAll(ret, arr2[i]); }\r\n    return ret; }\r\n\r\n  static getAttributesByRegex(elem: Element, regexp: RegExp): Attr[]{\r\n    const ret: Attr[] = [];\r\n    let i: number;\r\n    for (i = 0; i < elem.attributes.length; i++) {\r\n      const attr: Attr = elem.attributes[i];\r\n      if (regexp.test(attr.name)) ret.push(attr); }\r\n    return ret; }\r\n\r\n  static getAttributes(elem: Element, validator: (a: Attr) => boolean): Attr[] {\r\n    const ret: Attr[] = [];\r\n    let i: number;\r\n    for (i = 0; i < elem.attributes.length; i++) {\r\n      const attr: Attr = elem.attributes[i];\r\n      if (validator(attr)) ret.push(attr); }\r\n    return ret; }\r\n\r\n  static getRelativeParentNode(elem: Element): Element {\r\n    U.pe(!elem || !(elem instanceof Element), 'U.getRelativeParentNode argument must be an Element, found instead:', elem);\r\n    while ((elem = elem.parentElement)) {\r\n      if (window.getComputedStyle(elem).position === 'relative') { return elem; } }\r\n    return document.body; }\r\n\r\n  static swapChildrens(node1: Node, node2: Node): void {\r\n    const arr: Node[] = Array.from(node1.childNodes);\r\n    let i: number;\r\n    for (i = 0; i < node2.childNodes.length; i++) { node1.appendChild(node2.childNodes[i]); }\r\n    for (i = 0; i < arr.length; i++) { node2.appendChild(arr[i]); }\r\n  }\r\n  static swap(node1: Node, node2: Node): void {\r\n    U.pe(node1 && !(node1 instanceof Node) || node2 && !(node2 instanceof Node), 'aU.swap() arguments mudt be nodes, found instead:', node1, node2);\r\n    const parent1: Node = node1.parentNode;\r\n    const parent2: Node = node2.parentNode;\r\n    // const next1: Node = node1.nextSibling; // qui non è necessario\r\n    const next2: Node = node2.nextSibling; // se non metto almeno next2, il secondo insertBefore fallisce perchè node2 è stato spostato.\r\n    //console.log('if (parent1 (', parent1, '))  parent1.insertBefore(', node2, node1, '); parent1.removeChild(', node1, '); }');\r\n    //console.log('if (parent2 (', parent2, '))  parent2.insertBefore(', node1, next2, '); parent2.removeChild(', node2, '); }');\r\n    if (parent1) {  parent1.insertBefore(node2, node1); parent1.removeChild(node1); }\r\n    if (parent2) {  parent2.insertBefore(node1, next2); parent2.removeChild(node2); }\r\n  }\r\n\r\n  static validateDatalist(input: HTMLInputElement, addinvalidclass: boolean = true, checkByValueAttribute: boolean = true): boolean {\r\n    console.log('input.list', input.list);\r\n    if (!input.list) return true;\r\n    let valid: boolean;\r\n    if (checkByValueAttribute) {\r\n      console.log($(input.list), '.find(\\'option[value=\"' + input.value + '\"]');\r\n      valid = $(input.list).find('option[value=\"' + input.value + '\"]').length >= 1;\r\n    } else {\r\n      const arr: JQuery<HTMLOptionElement> = $(input.list).find('option[value=\"' + input.value + '\"]') as any;\r\n      let i: number;\r\n      valid = false;\r\n      for (i = 0; i < arr.length; i++) { if (arr[i].innerText === input.value) { valid = true; break; }}\r\n    }\r\n    console.log('input:', input, 'addclass:', addinvalidclass, 'valid:', valid);\r\n    if (addinvalidclass){\r\n      if (valid){ input.removeAttribute('invalidDataList'); }else{ input.setAttribute('invalidDataList', 'true'); }\r\n    }\r\n    return valid; }\r\n\r\n    /// usage: U.varname({wrappedVariableName}) = 'wrappedVariableName';\r\n  static varname(wrappedVariable: object): string { return Object.keys(wrappedVariable)[0]; }\r\n  static varname2(parentObject: object, variable: object): string {\r\n    for (let key in parentObject) { if (parentObject[key] === variable) return key; }\r\n    U.pe(true, 'not a valid parent:', parentObject, variable); }\r\n\r\n  static isTriggered(e: Event | TriggeredEvent | EventBase): boolean {\r\n    // nb: actually JQ.ClickEvent implements JQ.EventBase extends JQ.TriggeredEvent that extends Event (native)\r\n    // but for some reason the IDE is telling me clickEVent is a TriggeredEVent but not not an Event.\r\n    let ist = !!e['isTrigger'];\r\n    let orig = !!e['originalEvent'];\r\n    U.pe(ist === orig, 'assertion failed (istrigger):', ist, orig);\r\n    return ist; }\r\n\r\n  static ArrayToMap(arr: (string | number | boolean)[], useLastIndexAsValue: boolean = false): Dictionary<string, boolean | number> { return U.toMap(arr, useLastIndexAsValue); }\r\n  static toDictionary(arr: (string | number | boolean)[], useLastIndexAsValue: boolean = false): Dictionary<string, boolean | number> { return U.toMap(arr, useLastIndexAsValue); }\r\n  static toMap(arr: (string | number | boolean)[], useLastIndexAsValue: boolean = false): Dictionary<string, boolean | number> {\r\n    const ret: Dictionary<string, boolean | number> = {};\r\n    for (let i = 0; i < arr.length; i++) { ret['' + arr[i]] = useLastIndexAsValue ? i : true; }\r\n    return ret; }\r\n\r\n  static isUnset(val: any, ignorespaces: boolean = true, parseStrings: boolean = true, ifemptystr: boolean = false, ifnull: boolean = true, ifundef: boolean = true, ifzero: boolean = false): boolean{\r\n    if (val === '' + val) {\r\n      if (ignorespaces) val = val.trim();\r\n      if (val === '') return ifemptystr;\r\n      if (!parseStrings) return true;\r\n      if (val === 'null') return ifnull;\r\n      if (val === 'undefined') return ifundef;\r\n      if (val === '0') return ifzero; }\r\n\r\n    if (val) return true;\r\n    if (val === null) return ifnull;\r\n    if (val === undefined) return ifundef;\r\n    if (val === 0) return ifzero;\r\n    U.pe(true, 'isUnset() should not reach here', val);\r\n    return true; }\r\n\r\n  // usage: flags should be used only if delimiters are not used.\r\n  // delimiters can only be single characters\r\n  static parseRegexString(s: string, onlyIfDelimitedByOneOf: string[] = ['\\\\', '/'], flags: string = null, canThrow: boolean = true): RegExp {\r\n    const firstchar = s.charAt(0);\r\n    let lastindex: number = -1;\r\n    let i: number;\r\n    let ret: RegExp;\r\n    if (s !== '' + s) { U.pe(canThrow, 'U.parseRegexString() \"s\" argument must be a string.', s); return null; }\r\n    if (onlyIfDelimitedByOneOf) {\r\n      let found: boolean = false;\r\n      for (i = 0; i < onlyIfDelimitedByOneOf.length; i++) { if (firstchar === onlyIfDelimitedByOneOf[i]) { found = true; break; } }\r\n      if (!found) return null;\r\n      lastindex = s.lastIndexOf(firstchar);\r\n      if (lastindex === 0) return null;\r\n      flags = s.substring(lastindex + 1).trim();\r\n      s = s.substring(1, lastindex).trim();\r\n      try { ret = new RegExp(s, flags); }\r\n      catch (e) {\r\n        U.pe(canThrow, 'evaluation of regex string failed:', s, onlyIfDelimitedByOneOf);\r\n        console.log('evaluation of regex string failed:', s, onlyIfDelimitedByOneOf);\r\n        return null; }\r\n      return ret; }\r\n    if (flags !== '' + flags) { U.pe(canThrow, 'U.parseRegexString() \"flags\" argument must be a string.', flags); return null; }\r\n    try { ret = new RegExp(s, flags); }\r\n    catch (e) {\r\n      U.pe(canThrow, 'evaluation of regex string failed:', s, onlyIfDelimitedByOneOf);\r\n      console.log('evaluation of regex string failed:', s, onlyIfDelimitedByOneOf);\r\n      return null; }\r\n    return ret; }\r\n\r\n  static processSelectorPlusPlus(fullselector: string, prioritizeLeftPart: boolean, $searchRoots: JQuery<Element> = null,\r\n                                 $defaultNode: JQuery<Element> = null, defaultAttributeSelector: string = null, debug: boolean = true): SelectorOutput {\r\n    fullselector = fullselector.trim();\r\n    defaultAttributeSelector = defaultAttributeSelector && defaultAttributeSelector.trim().toLowerCase();\r\n    if (!$searchRoots) $searchRoots = $(document) as any;\r\n    U.pe(fullselector !== '' + fullselector, 'Measurable.processSelectorPlusPlus() parameter exception: ', fullselector);\r\n    ///// try execution\r\n    let ret: SelectorOutput = new SelectorOutput();\r\n    ret.resultSetAttr = [];\r\n    ret.resultSetElem = $([]);\r\n    if (!$searchRoots.length) return ret;\r\n    let attributeSelectorIndex: number = fullselector.lastIndexOf(U.AttributeSelectorOperator);\r\n    if (attributeSelectorIndex === -1) {\r\n      attributeSelectorIndex = prioritizeLeftPart ? 0 : fullselector.length\r\n      fullselector = prioritizeLeftPart ? fullselector + U.AttributeSelectorOperator : U.AttributeSelectorOperator + fullselector; }\r\n    let getAttributes = (html: Element, selector: string, regexp: RegExp): Attr[] => {\r\n      let ret: Attr[];\r\n      if (regexp) { ret = U.getAttributesByRegex(html, regexp); }\r\n      else ret = U.getAttributes(html, (a: Attr) => { return a.name.indexOf(selector) === 0; });\r\n      return ret; };\r\n    // is mono-right (only attribute)\r\n    if (attributeSelectorIndex === 0) {\r\n      ret.jqselector = null;\r\n      ret.attrselector = fullselector.substr(U.AttributeSelectorOperator.length).trim().toLowerCase();\r\n      ret.attrRegex = U.parseRegexString(ret.attrselector, ['/', '\\\\'], null, false); }\r\n\r\n    U.pif(debug, 'part1:  index:', attributeSelectorIndex, ' data:', ret);\r\n    // is mono-left (only jqselector), becomes both.\r\n    if (attributeSelectorIndex + U.AttributeSelectorOperator.length === fullselector.length) {\r\n      ret.jqselector = fullselector.substr(0, attributeSelectorIndex).trim();\r\n      ret.attrselector = defaultAttributeSelector ? defaultAttributeSelector : null;\r\n      ret.attrRegex = null; }\r\n\r\n    U.pif(debug, 'part2:  index:', attributeSelectorIndex, ' data:', ret);\r\n    // check if ambiguous mono-part (left or right?), becomes both\r\n    /*\r\n    if (attributeSelectorIndex === -1) {\r\n      // first try to see if is attribute only.\r\n      ret.jqselector = null;\r\n      ret.attrselector = fullselector.toLowerCase();\r\n      ret.attrRegex = U.parseRegexString(ret.attrselector, ['/', '\\\\'], null, false);\r\n      // first try to check if is mono-right (only attribute)\r\n      ret.resultSetAttr = getAttributes(defaultNode, ret.attrselector, ret.attrRegex);\r\n      if (ret.resultSetAttr.length) { return ret; }\r\n      // if not, it is JQ_selector only\r\n      ret.jqselector = fullselector;\r\n      ret.attrselector = Measurable.GlobalPrefix;\r\n      ret.attrRegex = null; }*/\r\n    if (ret.attrselector === '*') ret.attrRegex = /.*/;\r\n    // is both: left and right\r\n    // U.pe(!ret.attrselector, 'attrselector should be always set at this point, at \"-> ' + Measurable.GlobalPrefix + '\" on worst case if it was empty.');\r\n    // search for external triggers\r\n    try { ret.resultSetElem = ret.jqselector && ret.jqselector !== 'this' ? $searchRoots.find(ret.jqselector) : ($defaultNode instanceof $ ? $defaultNode : $([])); }\r\n    catch (e) { ret.exception = e; return ret; }\r\n    U.pif(debug, 'part3:  index:', attributeSelectorIndex, ' data:', ret, '$serachRoots', $searchRoots, ' $defaultNode:', $defaultNode, 'jqinstance?' , $defaultNode instanceof jQuery);\r\n\r\n    let i: number;\r\n    let j: number;\r\n    if (!ret.attrRegex && !ret.attrselector) return ret;\r\n    const attrSelectorArr: string[] = !ret.attrRegex ? U.replaceAll(ret.attrselector, ',', ' ').split(' ') : null;\r\n    for (i = 0; i < ret.resultSetElem.length; i++) {\r\n      if (ret.attrRegex) { U.ArrayMerge(ret.resultSetAttr, getAttributes(ret.resultSetElem[i], null, ret.attrRegex)); continue; }\r\n      for (j = 0; j < attrSelectorArr.length; j++) {\r\n        let attrname: string = attrSelectorArr[j].trim();\r\n        if (attrname === '') continue;\r\n        U.ArrayMerge(ret.resultSetAttr, getAttributes(ret.resultSetElem[i], attrname, null));\r\n      }\r\n    }\r\n    U.pif(debug, 'part4 ret:  index:', attributeSelectorIndex, ' data:', ret);\r\n    return ret; }\r\n\r\n  static deepCloneWithFunctions(obj: object): object {\r\n    try {JSON.stringify(obj); } catch(e) { U.pe(true, 'U.deepCloneWithFunctions() Object have circular references.'); } // just to throw exception if the object have circular references\r\n    let copy: object;\r\n    let key: string;\r\n    // Handle the 3 simple types, and null or undefined\r\n    if (null === obj || undefined === obj || \"object\" !== typeof obj) return obj;\r\n\r\n    if (obj instanceof Date) { return new Date(obj.toString()); }\r\n    if (obj instanceof Number) { return new Number(obj.valueOf()); }\r\n    if (obj instanceof Boolean) { return new Boolean(obj.valueOf()); }\r\n    if (obj instanceof String) { return new String(obj.valueOf()); }\r\n    if (obj instanceof String) { return new String(obj.valueOf()); }\r\n    if (obj instanceof Function) { return obj; }\r\n    if (Array.isArray(obj)) { copy = []; }\r\n    if (obj instanceof Object) { copy = {}; }\r\n    // Handle Object\r\n    if (obj instanceof Object) {\r\n      copy = {};\r\n      for (key in obj) {\r\n        if (obj.hasOwnProperty(key)) copy[key] = U.deepCloneWithFunctions(obj[key]);\r\n      }\r\n      return copy;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  static objecKeysIntersect(obj1: object, obj2: object, prioritizeleft: boolean = true, clone: boolean = false): object {\r\n    if (!U.isObject(obj1, false, false, true) || !U.isObject(obj2, false, false, true)) return prioritizeleft ? obj1 : obj2;\r\n    let retobj: object = clone ? {} : obj1;\r\n    let key: string;\r\n\r\n    for (key in obj1) {\r\n      if (key in obj2) { retobj[key] = prioritizeleft ? obj1[key] : obj2[key]; continue }\r\n      if (!clone) delete obj1[key];\r\n    }\r\n    return retobj;\r\n  }\r\n\r\n  static toHex(num: number, lengthMin: number = 6): string {\r\n    let ret: string = Number(num).toString(16);\r\n    while (ret.length < lengthMin) ret = '0' + ret;\r\n    return ret; }\r\n\r\n  static hexToNum(hexstr: string): number {\r\n    if (hexstr === null || hexstr === undefined) return hexstr as any;\r\n    if (hexstr.charAt(0) === '#') hexstr = hexstr.substr(1);\r\n    if (hexstr.length <= 2 || hexstr.charAt(1).toLowerCase() !== 'x') hexstr = '0x' + hexstr;\r\n    return parseInt(hexstr, 16); }\r\n\r\n  static expandInputSetup($root: JQuery<HTMLElement>) {\r\n    $root.find('input.expansible').addBack('input.expansible').on('focus', (e) => {\r\n      let inp: HTMLInputElement = e.currentTarget as HTMLInputElement;\r\n      let $exp = $('.expandedinput[data-expandedid=\\\"' + inp.dataset.expandedid + '\"]');\r\n      let exp = $exp[0];\r\n      let expinput: HTMLElement = exp.firstElementChild as HTMLElement;\r\n      expinput.focus();\r\n      $exp.show();\r\n      console.log(expinput.innerText, inp.value);\r\n      expinput.innerText = inp.value;\r\n    });\r\n    $('.expandedinput').on('keydown', (e) => {\r\n      if (!(e.key === \"Enter\" && !e.shiftKey)) return;\r\n      let exp: HTMLElement = e.currentTarget as HTMLElement;\r\n      let $exp = $(exp);\r\n      let $inp: JQuery<HTMLInputElement> = $('input.expansible[data-expandedid=\\\"' + exp.dataset.expandedid + '\"]');\r\n      let inp = $inp[0];\r\n      inp.value = (exp.firstElementChild as HTMLElement).innerText;\r\n      $exp.hide();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * filtra la selezione dentro un elemento, ignorando selezione che fa overflow e calcolando gli elementi interni come se i testi fossero in un unico nodo (come se il parametero avesse tutto il testo senza childrens).\r\n   * @param {HTMLElement} div: must be a contenteditable or contained in a contenteditable to work (getSelection() will not work on non-focusable i think?)\r\n   **/\r\n  static getDivSelection(div: HTMLElement): {start: number, end: number, text: string} {\r\n    U.pe(div instanceof HTMLInputElement || div instanceof HTMLTextAreaElement, 'parameter must not be a input or textarea element');\r\n    //let caretOffset: number = 0;\r\n    const doc: Document = div.ownerDocument || div['document'];\r\n    const win: Window = doc.defaultView || doc['parentWindow'];\r\n    let sel: Selection;\r\n    let ret: {start: number, end: number, text: string} = {start: 0, end: 0, text: ''};\r\n    let range: Range;\r\n    let caretRange: Range;\r\n    if (typeof win.getSelection != \"undefined\") {\r\n      sel = win.getSelection();\r\n      if (sel.rangeCount > 0) { // if is contenteditable\r\n        range = win.getSelection().getRangeAt(0);\r\n        caretRange = range.cloneRange();\r\n        caretRange.selectNodeContents(div);\r\n        // taking start selection\r\n        caretRange.setEnd(range.startContainer, range.startOffset);\r\n        ret.start = caretRange.toString().length;\r\n        caretRange.setEnd(range.endContainer, range.endOffset);\r\n        ret.end = caretRange.toString().length;\r\n        caretRange.setStart(range.startContainer, range.startOffset);\r\n        ret.text = caretRange.toString(); }\r\n    } else if ( (sel = doc['selection']) && sel.type != \"Control\") {\r\n      //IE  compatibility (start and text sono improvvisati e non testati)\r\n      var textRange = sel['createRange']();\r\n      var preCaretTextRange = doc.body['createTextRange']();\r\n      preCaretTextRange.moveToElementText(div);\r\n      preCaretTextRange.setEndPoint(\"EndToStart\", textRange);// set selection end to start of the input parameter range.\r\n      ret.start = preCaretTextRange.text.length;\r\n      preCaretTextRange.setEndPoint(\"EndToEnd\", textRange);\r\n      ret.end = preCaretTextRange.text.length;\r\n      preCaretTextRange.setEndPoint(\"StartToStart\", textRange);\r\n      ret.text = preCaretTextRange.text; }\r\n    return ret; }\r\n\r\n  static getInputSelection(el: HTMLInputElement | HTMLTextAreaElement): {start: number, end: number, text: string} {\r\n    let range: Range;\r\n    let textInputRange: Range;\r\n    let endRange: Range;\r\n    U.pe(!(el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement), 'parameter must be a input or textarea element');\r\n    let ret: {start: number, end: number, text: string} = {start: 0, end: 0, text: ''};\r\n    if (typeof el.selectionStart == \"number\" && typeof el.selectionEnd == \"number\") {\r\n      ret.start = el.selectionStart;\r\n      ret.end = el.selectionEnd;\r\n    } else { // IE compatibility\r\n      range = document['selection'].createRange();\r\n      if (range && range['parentElement']() == el) {\r\n        let len: number = el.value.length;\r\n        let normalizedValue = el.value.replace(/\\r\\n/g, \"\\n\");\r\n        // Create a working TextRange that lives only in the input\r\n        textInputRange = el['createTextRange']();\r\n        textInputRange['moveToBookmark'](range['getBookmark']());\r\n        // Check if the start and end of the selection are at the very end\r\n        // of the input, since moveStart/moveEnd doesn't return what we want\r\n        // in those cases\r\n        endRange = el['createTextRange']();\r\n        endRange.collapse(false);\r\n\r\n        if (textInputRange['compareEndPoints'](\"StartToEnd\", endRange) > -1) { ret.start = ret.end = len; }\r\n        else {\r\n          ret.start = -textInputRange['moveStart'](\"character\", -len);\r\n          ret.start += normalizedValue.slice(0, ret.start).split(\"\\n\").length - 1;\r\n\r\n          if (textInputRange['compareEndPoints'](\"EndToEnd\", endRange) > -1) { ret.end = len; }\r\n          else {\r\n            ret.end = -textInputRange['moveEnd'](\"character\", -len);\r\n            ret.end += normalizedValue.slice(0, ret.end).split(\"\\n\").length - 1; }\r\n        }\r\n      }\r\n    }\r\n    ret.text = el.innerText.substring(ret.start, ret.end);\r\n    return ret; }\r\n\r\n  static getSelection(el: HTMLElement): {start: number, end: number, text: string} {\r\n    let ret: {start: number, end: number, text: string} = {start: 0, end: 0, text: ''};\r\n    U.pe(!(el instanceof HTMLElement), 'U.getSelection(): only html elements are supported');\r\n    if (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) { return U.getInputSelection(el); }\r\n    else return U.getDivSelection(el); }\r\n\r\n  // NB: might not work on contenteditable with childrens filled with text.\r\n  static setSelection(el: HTMLElement, start: number, end: number = null): void {\r\n    end = end === null ? start : null;\r\n    let i: HTMLInputElement;\r\n    if (el['setSelectionRange']) { el['setSelectionRange'](start, end); return; } // for inputs\r\n    let range = new Range();\r\n    let endchildIndex = start;\r\n    let startchildIndex = end;\r\n    range.setStart(el.firstChild, startchildIndex);\r\n    range.setEnd(el.firstChild, endchildIndex); // firstchild is raw text.\r\n    // range.startOffset = start;\r\n    // range.endOffset = end;\r\n    // apply the selection, explained later\r\n    document.getSelection().removeAllRanges();\r\n    document.getSelection().addRange(range);\r\n    // el.setSelectionRange(start, end);\r\n  }\r\n  static setSelection2(obj: HTMLElement, start: number, end: number) {\r\n    end = end === null ? start : null;\r\n    var endNode, startNode = endNode = obj.firstChild;\r\n\r\n    // startNode.nodeValue = startNode.nodeValue.trim();\r\n\r\n    var range = document.createRange();\r\n    range.setStart(startNode, start);\r\n    range.setEnd(endNode, end + 1);\r\n\r\n    var sel = window.getSelection();\r\n    sel.removeAllRanges();\r\n    sel.addRange(range); }\r\n\r\n  static autocompleteInputSetup(inputGroup: HTMLElement, autocomplete: AutocompleteMatch[]){\r\n    let input: HTMLElement = inputGroup.firstElementChild as HTMLElement;\r\n    let suggestionList: HTMLUListElement = inputGroup.lastElementChild as HTMLUListElement;\r\n    let $suggestionList: JQuery<HTMLUListElement> = $(suggestionList);\r\n    U.pe(!input || !input.contentEditable || !suggestionList || input === suggestionList, 'input html must be a container with firstchild as contenteditable, lastchild as suggestion ul list.');\r\n    let validSuggestions: AutocompleteMatch[] = [];\r\n    let splitIndexes: number[] = [];\r\n    let i: number;\r\n    let li: HTMLLIElement;\r\n    let $li: JQuery<HTMLLinkElement>;\r\n    let $input = $(input);\r\n    let getSuggestionText = (li: HTMLLIElement) => { return (li.lastElementChild as HTMLElement).innerText; }\r\n    let getPreCursorString = (): string => {\r\n      let ret = U.getSelection(input);\r\n      return input.innerText.substr(0, ret.start); };\r\n    const insertStringAtCurrentCursorPosition = (input: HTMLElement, text: string, replacePostText: boolean = false, rightArrow: boolean = false) => {\r\n      let ret = U.getSelection(input);\r\n      let fakeend: string = ' ';\r\n      let str: string = input.innerText;// + fakeend;\r\n      let arrowfix: number = (rightArrow && ret.start < str.length ? -1 :0);\r\n      // se premo right-arrow senza che ci siano elementi dopo il cursore lo mette come penultimo.\r\n      let pre: string = str.substring(0, ret.start + arrowfix);\r\n      let post: string = str.substring(ret.end + arrowfix, str.length) + ' ';\r\n      let i: number = U.strFirstDiffIndex(text, post);\r\n      // console.log('ArrowDebug:', pre, 'text:', text, 'post.substr(i):',post.substr(i), 'post:', post, 'i:', i);\r\n      input.innerText = pre + text + post.substr(i);\r\n      U.setSelection(input, pre.length + 1, null);\r\n    };\r\n    let updateSuggestions = () => {\r\n      // logical and graphical update\r\n      let str = getPreCursorString();\r\n      str = U.replaceAll(str, String.fromCharCode(160), ' ');\r\n      validSuggestions = [];\r\n      splitIndexes = [];\r\n      // console.log('updateSuggestions, prestring: |' + str + '|, suggestions:' + autocomplete.length);\r\n      U.clear(suggestionList);\r\n      for (i = 0; i < autocomplete.length; i++){\r\n        let matchindex = autocomplete[i].matches(str);\r\n        // console.log(autocomplete[i], str);\r\n        // console.log('updateSuggestions[' + i + '], str:' + str + ', hiddenMatch:' + autocomplete[i].hiddenprecondition + ', visibleMatch:' + autocomplete[i].key + ', matchindex:', matchindex);\r\n        if (matchindex === -1) continue;\r\n        splitIndexes.push(matchindex);\r\n        validSuggestions.push(autocomplete[i]);\r\n        let li = autocomplete[i].getLI(matchindex);\r\n        let $li = $(li);\r\n\r\n        $li.on('click', () => {\r\n          insertStringAtCurrentCursorPosition(input, getSuggestionText(li));\r\n          U.setSelection(input, input.innerText.length, null);\r\n          updateSuggestions();\r\n        });\r\n        if (validSuggestions.length > 0) $suggestionList.show(); else $suggestionList.hide();\r\n        suggestionList.append(li);\r\n      }\r\n      console.log('valid suggestions:', validSuggestions);\r\n    }\r\n    $input.on('mouseup', (e: MouseUpEvent) => { updateSuggestions(); });\r\n    $input.on('keydown', (e: KeyDownEvent) => {\r\n      switch(e.key){ default: break;\r\n        case Keystrokes.tab:\r\n          e.preventDefault();\r\n          li = suggestionList.firstElementChild as HTMLLIElement;\r\n          if (!li) break;\r\n          $(li).trigger('click');\r\n          break;\r\n    }});\r\n    $input.on('keyup', (e: KeyUpEvent) => {\r\n      console.log('input keyup:', e);\r\n      switch(e.key){\r\n        default:\r\n          updateSuggestions();\r\n          break;\r\n        // case Keystrokes.tab: break;// can never happen on keyUP unless i stop default action on keydown.\r\n\r\n        case Keystrokes.arrowRight:\r\n          if (e.shiftKey) return;\r\n          li = suggestionList.firstElementChild as HTMLLIElement;\r\n          if (!li) { updateSuggestions(); break; } // as a normal arrow press\r\n          // as a suggestion accept\r\n          let char = (li.lastElementChild as HTMLElement).innerText.charAt(0);\r\n          insertStringAtCurrentCursorPosition(input, char, true, true);\r\n          $input.trigger(jQuery.Event('keyup', {key:char}));\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  // NB: object.keys e for... in listano solo le proprietà enumerabili, le funzioni di classe in es6 non sono enumerabili.\r\n  static getAllProperties(obj0): string[] {\r\n    let props: string[] = [];\r\n    let obj = obj0;\r\n    do {\r\n      props = props.concat(Object.getOwnPropertyNames(obj));\r\n    } while (obj = Object.getPrototypeOf(obj));\r\n\r\n    return props.sort().filter(function(e, i, arr) { if (e!=arr[i+1]) return true; });\r\n  }\r\n  static copyFirstLevelStructureWithoutValues(o: object, allowPrimitive: boolean = true, allowObject: boolean = false, allowFunctions: boolean = true): Dictionary<string, string /*type description*/> {\r\n    let ret: Dictionary<string, undefined> = {};\r\n    let keys: string[] = U.getAllProperties(o);\r\n    for (let index in keys) {\r\n      let key = keys[index];\r\n      let val = o[key];\r\n      if(val instanceof Function) { ret[key] = allowFunctions ? val : null; continue; }\r\n      if(val instanceof Object) { ret[key] = allowObject ? val : null; continue; }\r\n      ret[key] = allowPrimitive ? val : null;\r\n    }\r\n    return ret; }\r\n\r\n\r\n  static getFunctionSignatureFromComments(f: Function): {parameters: {name: string, defaultVal: string, typedesc: string}[], returns: string, f: Function, fname: string, isLambda: boolean, signature: string} {\r\n    U.pe(!(f instanceof Function), 'getFunctionSignature() parameter must be a function');\r\n    // let parameters: {name: string, defaultVal: string, typedesc: string}[] = []; //{name: '', defaultVal: undefined, typedesc: ''};\r\n    let ret: {parameters: {name: string, defaultVal: string, typedesc: string}[], returns: string, f: Function, fname: string, isLambda: boolean, signature: string}\r\n    = {parameters: [], returns: '', f: f, fname: '', isLambda: null, signature: ''};\r\n    let str: string = f.toString();\r\n    let starti: number = str.indexOf('(');\r\n    let endi: number;\r\n    let parcounter: number = 1;\r\n    for (endi = starti + 1; endi < str.length; endi++) {\r\n      if (str[endi] === ')' && --parcounter === 0) break;\r\n      if (str[endi] === '(') parcounter++; }\r\n\r\n    let parameterStr = str.substring(starti + 1, endi);\r\n    console.log('starti:', starti, 'endi', endi, 'fname:', str.substr(0, starti), 'parameterStr:', parameterStr);\r\n    ret.fname = str.substr(0, starti).trim();\r\n    ret.fname = ret.fname.substr(0, ret.fname.indexOf(' ')).trim();\r\n    // 2 casi: anonimo \"function (par1...){}\" e \"() => {}\", oppure nominato: \"function a1(){}\"\r\n    if (ret.fname === '' || ret.fname === 'function') ret.fname = null; // 'anonymous function';\r\n\r\n\r\n\r\n    let returnstarti: number = str.indexOf('/*', endi + 1);\r\n    let returnendi: number = -1;\r\n    let bodystarti: number = str.indexOf('{', endi + 1);\r\n    if (returnstarti === -1 || bodystarti !== -1 && bodystarti < returnstarti) {\r\n      // no return type or comment is past body\r\n      ret.returns = null;\r\n    } else {\r\n      returnendi = str.indexOf('*/', returnstarti + 2);\r\n      ret.returns = str.substring(returnstarti + 2, returnendi).trim();\r\n      bodystarti = str.indexOf('{', returnendi); }\r\n    if (ret.returns === '') ret.returns = null;\r\n\r\n    // is lambda if do not have curly body or contains => between return comment and body\r\n    console.log('isLambda:', bodystarti, str.substring(Math.max(endi, returnendi)+1, bodystarti));\r\n    ret.isLambda =  bodystarti === -1 || str.substring(Math.max(endi, returnendi)+1, bodystarti).trim() === '=>';\r\n\r\n    let regexp = /([^=\\/\\,]+)(=?)([^,]*?)(\\/\\*[^,]*?\\*\\/)?,/g; // only problem: the last parameter won't match because it does not end with \",\", so i will append it everytime.\r\n    //console.clear(); console.log( parameterStr);\r\n    // parameterStr = 'l1=3/*float=3*/, l2= 2/*float= 2*/, l3 =3/*float =3*/';\r\n    let match;\r\n    while ((match = regexp.exec(parameterStr + ','))) {\r\n      // match[0] is always the full match (not a capture group)\r\n      // match[2] can only be \"=\" or empty string\r\n      // nb: match[4] can be \"/*something*/\" or \",\" a single , without spaces.\r\n      let par = {name: match[1], defaultVal: match[3], typedesc: match[4] && match[4].length > 1 ? match[4] : null};\r\n      par.name = par.name.trim();\r\n      par.defaultVal = par.defaultVal && par.defaultVal.trim() || null;\r\n      par.typedesc = par.typedesc && par.typedesc && par.typedesc.length > 1 ? par.typedesc.substring(2, par.typedesc.length - 2).trim() || null: null;\r\n      ret.parameters.push(par); }\r\n    // set signature\r\n\r\n    ret.signature = '' + (ret.fname ? '/*' + ret.fname + '*/' : '') + '(';\r\n    let i: number;\r\n    for (i = 0; i < ret.parameters.length; i++) {\r\n      let par = ret.parameters[i];\r\n      ret.signature += (i === 0 ? '' : ', ') + par.name + (par.typedesc ? '/*' + par.typedesc + '*/' : '') + (par.defaultVal ? ' = ' + par.defaultVal : '');\r\n    }\r\n    ret.signature += ')' + (ret.returns ? '/*' + ret.returns + '*/' : '');\r\n    return ret; }\r\n\r\n   /* for both input, textarea and contenteditable.*/\r\n  static setInputValue(input: HTMLElement, value: string): void{\r\n    value = value === null || value === undefined ? '' : value;\r\n    if (input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement) {\r\n      input.value = value;\r\n    } else input.innerText = value;\r\n  }\r\n\r\n  static hasFocus(elem: Element): boolean { return window.document.activeElement === elem; }\r\n  static hasFocusWithin(elem: Element, includeSelf: boolean = true): boolean {\r\n    if (!elem) return false;\r\n    const active = window.document.activeElement;\r\n    // console.log('hasFocus1:', includeSelf, ' && ', elem === active);\r\n    if (includeSelf && elem === active) return true;\r\n    // console.log('hasFocus2:', active, 'contains', elem, ' = ', active.contains(elem));\r\n    return elem.contains(active); }\r\n\r\n  static $makeSelect($root: JQuery<HTMLSelectElement>, entries: Dictionary<string, string>, optgrplabel: string = '', selectedVal: string = ''): void {\r\n    $root.each((i: number, e: HTMLSelectElement) => U.makeSelect(e, entries, optgrplabel, selectedVal));\r\n  }\r\n\r\n  // used to convert type from string to some enum checking after validation\r\n  static getEnumValByVal<T>(val: string, enumDeclaration:object): T {\r\n    for (let key in enumDeclaration) {\r\n      if (enumDeclaration[key] === val) return val as any;\r\n    }\r\n    return null; }\r\n\r\n  static getEnumValByKey<T>(key: string, enumDeclaration:object): T {\r\n    if (enumDeclaration && enumDeclaration.hasOwnProperty(key)) return enumDeclaration[key] as T;\r\n    return null; }\r\n\r\n  static getEnumKeyByVal<T>(val: string | T, enumDeclaration:object): string {\r\n    for (let key in enumDeclaration) {\r\n      if (enumDeclaration[key] === val) return key;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static makeSelect(select: HTMLSelectElement, entries: Dictionary<string, string>, optgrplabel: string = '', selectedVal: string = ''): void {\r\n    const grp: HTMLOptGroupElement = document.createElement('optgroup');\r\n    U.clear(select);\r\n    select.append(grp);\r\n    grp.label = optgrplabel;\r\n    for (let key in entries) {\r\n      const opt: HTMLOptionElement = document.createElement('option');\r\n      opt.setAttribute('value', key);\r\n      opt.innerText = entries[key];\r\n      if (entries[key] === selectedVal) opt.selected = true;\r\n      grp.append(opt);\r\n    }\r\n  }\r\n\r\n  static computeConditionalHides($root: JQuery<Element>, obj: Dictionary<string, boolean>, caseSensitive: boolean = false, cascadeOnChildrens: boolean = true,\r\n                                 displayFunction: (e: Element) => void = null, hideFunction: (e: Element) => void = null)\r\n                                 : {show: Element[], hide: Element[], inaltered: Element[]}  {\r\n    if (!displayFunction) displayFunction = (e: Element) => $(e).show();\r\n    if (!hideFunction) hideFunction = (e: Element) => $(e).hide();\r\n    if (cascadeOnChildrens) $root = $root.find('[uif]').addBack('[uif]');\r\n    else $root.filter('[uif]');\r\n    let ret: {show: Element[], hide: Element[], inaltered: Element[]} =\r\n      {hide: [], show: [],  inaltered: []};\r\n    $root.each((i: number, e: Element) => {\r\n      let b: boolean = U.checkConditionalHide(e, obj, caseSensitive);\r\n      switch (b) {\r\n        case true: ret.show.push(e); displayFunction(e); break;\r\n        case false: ret.hide.push(e); hideFunction(e); break;\r\n        default:\r\n        case null: ret.inaltered.push(e); break;\r\n      }\r\n    });\r\n    return ret;\r\n  }\r\n\r\n  static checkConditionalHide(html: Element, obj: Dictionary<string, boolean>, caseSensitive: boolean = false): boolean {\r\n    let attrstr: string = html.getAttribute('uif');\r\n    if (!attrstr) return null;\r\n    attrstr = attrstr\r\n    .replace(/\\|+/, ' || ')\r\n    .replace(/&+/, ' && ')\r\n    .replace('+', ' + ')\r\n    .replace('-', ' - ')\r\n    .replace('*', ' * ')\r\n    .replace('/', ' / ')\r\n    .replace('!', ' ! ')\r\n    .replace(/\\s+/, ' ');\r\n    let i: number;\r\n    let key: string;\r\n    let tokens: string[] = attrstr.split(' ');\r\n    if (!caseSensitive) {\r\n      for (key in obj) {\r\n        const lckey: string = key.toLowerCase();\r\n        if (lckey === key) continue;\r\n        const val: boolean = obj[key];\r\n        delete obj[key];\r\n        obj[lckey] = val;\r\n      }\r\n    }\r\n\r\n    for (i = 0; i < tokens.length; i++) {\r\n      const token: string = caseSensitive ? tokens[i] : tokens[i].toLowerCase();\r\n      // ricorda di non salvare in lowercase i token non sostituiti, altrimenti rimpiazza Math.abs() o altre funzioni java native.\r\n      if (obj.hasOwnProperty(token)) tokens[i] = obj[token];\r\n    }\r\n    let ret: boolean;\r\n    try {\r\n      ret = eval(tokens.join(' '));\r\n    } catch (e) {\r\n      U.pw(true, 'Invalid conditional attribute (UIF), error:', e, 'html:', html, 'attrStr:', attrstr, 'tokens:', tokens, 'dic:', obj, 'caseSensitive:', caseSensitive);\r\n      ret = null;\r\n    }\r\n    // if (ret === null) console.log('rrer', tokens);\r\n    return ret;\r\n    // ipotesi 1:\r\n    //   computa hide = concatenazione hide1 || hide2 || hide3.... (es: m1hide || m1hideifclass), simile per \"show\"\r\n    // se ottengo:\r\n    // hide = null, show = null --> non computato, com'era rimane.\r\n    // hide = null  --> valueof(showif)\r\n    // show = null  --> valueof(hideif)\r\n\r\n    // hide = true, show = true    --> hide\r\n    // hide = true, show = false   --> hide\r\n    // hide = false, show = false  --> hide\r\n    // hide = false, show = true   --> show\r\n  }\r\n\r\n  static deserialize(value: string): any{\r\n    if (value === '') return '';// json.parse fail on ''\r\n    if (value == 'undefined') return undefined;// json.parse fail on undefined and 'undefined' too\r\n    let ret: any;\r\n    try {\r\n      ret = JSON.parse(value);\r\n    } catch(e) {\r\n      // U.pe(true, 'failed to deserialize: |', value, '|', e);\r\n      return value; // means it's a raw string different from 'true', 'null', ...\r\n    }\r\n    return ret;\r\n  }\r\n\r\n\r\n}\r\nexport enum Keystrokes {\r\n  escape = 'Escape',\r\n  capsLock = 'CapsLock',\r\n  shift = 'Shift',\r\n  tab = 'Tab',\r\n  alt = 'Alt',\r\n  control = 'Control',\r\n  end = 'End',\r\n  home = 'Home',\r\n  pageUp = 'PageUp',\r\n  pageDown = 'PageDown',\r\n  enter = 'Enter', // event.code = 'NumpadEnter' se fatto da numpad, oppure \"numpad3\", \"NumpadMultiply\", ShiftLeft, etc...\r\n  audioVolumeMute = 'AudioVolumeMute',\r\n  audioVolumeUp = 'AudioVolumeUp',\r\n  audioVolumeDown = 'AudioVolumeDown',\r\n  mediaTrackPrevious = 'MediaTrackPrevious',\r\n  delete = 'Delete', // canc\r\n  backspace = 'Backspace',\r\n  space = ' ',\r\n  altGraph = 'AltGraph',\r\n  arrowLeft = 'ArrowLeft',\r\n  arrowRight = 'ArrowRight',\r\n  arrowUp = 'ArrowUp',\r\n  arrowDown = 'ArrowDown',\r\n  insert = 'Insert',\r\n  f1 = 'F1',\r\n  // weird ones:\r\n  meta = 'Meta', // f1, or other f's with custom binding and windows key\r\n  unidentified = 'Unidentified', // brightness\r\n  __NotReacting__ = 'fn, print, maybe others', // not even triggering event?\r\n\r\n\r\n}\r\nexport class AutocompleteMatch {\r\n  hiddenprecondition: string;\r\n  key: string;\r\n  //value: string;\r\n  /*minCharMatch = 1;\r\n\r\n  constructor(key: string, minCharMatch: number = 1, value: string = null){\r\n    this.minCharMatch = Math.min(1, minCharMatch);\r\n    //this.value = value;\r\n    this.key = key; }\r\n*/\r\n  constructor(hiddenprecondition: string = '', key: string = ''){\r\n    this.hiddenprecondition = hiddenprecondition;\r\n    this.key = key; }\r\n\r\n  matches(preCursorString: string): number{\r\n    let fullkey: string = this.hiddenprecondition + this.key;\r\n    for (let i = this.hiddenprecondition.length; i < fullkey.length; i++){\r\n      let keystart = fullkey.substring(0, i);\r\n      //console.log('str:', preCursorString, ' matches:', keystart);\r\n      let matchindex = preCursorString.lastIndexOf(keystart);\r\n      if (matchindex !== -1 &&  matchindex === preCursorString.length - keystart.length){\r\n        //console.log('matched!  at index:', preCursorString.lastIndexOf(keystart) );\r\n        return i - this.hiddenprecondition.length; // indice dove posso splittare key\r\n      }\r\n    }\r\n    return -1; }\r\n\r\n  getLI(splitIndex: number): HTMLLIElement{\r\n    const li: HTMLLIElement = document.createElement('li');\r\n    const matched: HTMLElement = document.createElement('span');\r\n    matched.style.fontWeight = '900';\r\n    matched.classList.add('matched');\r\n    const suggestion: HTMLElement = document.createElement('span');\r\n    suggestion.classList.add('prediction');\r\n    li.classList.add('suggestion');\r\n    li.style.cursor = 'pointer';\r\n    li.append(matched);\r\n    li.append(suggestion);\r\n    matched.innerText = this.key.substr(0, splitIndex);\r\n    suggestion.innerText = this.key.substr(splitIndex);\r\n    return li; }\r\n\r\n// aaaa+this.\r\n// aaa+th\r\n\r\n\r\n}\r\nexport enum TSON_JSTypes {\r\n  'null' = 'null',\r\n  'undefined' = 'undefined',\r\n  'boolean' = 'boolean',\r\n  'number' = 'number',\r\n  'string' = 'string',\r\n  'object' = 'object',\r\n  'Array' = 'array',\r\n  'Date' = 'date',\r\n  'Boolean' = 'boolean',// type is obj, serialized as bool.\r\n  'Number' = 'number',\r\n  'String' = 'string',// type is obj, serialized as str.\r\n  'function' = 'function',\r\n}\r\n\r\nexport enum TSON_UnsupportedTypes {\r\n  'BigInt' = 'bigint',\r\n  'symbol' = 'symbol',\r\n  'arrowFunction?' = 'arrowfunction?',\r\n  'RegExp' = 'regexp',\r\n  'Int8Array' = 'int8array',\r\n  'Uint8Array' = 'uint8array',\r\n  'Uint8ClampedArray' = 'uint8clampedarray',\r\n  'Int16Array' = 'int16array',\r\n  'Uint16Array' = 'uint16array',\r\n  'Int32Array' = 'int32array',\r\n  'Uint32Array' = 'uint32array',\r\n  'Float32Array' = 'float32array',\r\n  'Float64Array' = 'float64array',\r\n  'BigInt64Array' = 'bigint64array',\r\n  'BigUint64Array' = 'biguint64array',\r\n  'Keyed' = 'keyed',\r\n  'collections' = 'collections',\r\n  'Map' = 'map',\r\n  'Set' = 'set',\r\n  'WeakMap' = 'weakmap',\r\n  'WeakSet' = 'weakset',\r\n  'ArrayBuffer' = 'arraybuffer',\r\n  'SharedArrayBuffer' = 'sharedarraybuffer',\r\n  'Atomics' = 'atomics',\r\n  'DataView' = 'dataview',\r\n  'Promise' = 'promise',\r\n  'Generator' = 'generator',\r\n  'GeneratorFunction' = 'generatorfunction',\r\n  'AsyncFunction' = 'asyncfunction',\r\n  'Iterator' = 'iterator',\r\n  'AsyncIterator' = 'asynciterator',\r\n  'Reflection' = 'reflection',\r\n  'Reflect' = 'reflect',\r\n  'Proxy' = 'proxy',\r\n}\r\nexport type TSONString = string;\r\nexport class TSON { //typed json (js impl.) actually dovrei fare una map che converte JS_Types in TSON_Types per scrivere e leggere types language-indipendent.\r\n  private values: any;\r\n  private types: any;\r\n\r\n  public static stringify(val: any): TSONString {\r\n    try { JSON.stringify(val); } catch(e) { U.pe(true, 'U.deepCloneWithFunctions() Object might have circular references.', e); } // just to throw exception if the object have circular references\r\n    let tmp = TSON.cloneAndGetTypings(val);\r\n    const ret = new TSON();\r\n    ret.values = tmp.val as any;//  JSON.stringify(val);\r\n    ret.types = tmp.type as any;// JSON.stringify(typings);\r\n    return JSON.stringify(ret); }\r\n\r\n  public static parse(tson: string): any {\r\n    try{\r\n      // let tson: TSON = typeof(Tson) === TSON_JSTypes.string ? JSON.parse(Tson as string) : Tson;\r\n      return TSON.parse0(JSON.parse(tson));\r\n    }\r\n    catch (e) { let er = new Error('TSON.parse failed, it maybe the argument is not a valid TSON string / object.'); er['suberror'] = e; throw e; }\r\n  }\r\n\r\n  private static parse0(jsontson: TSON): any {\r\n    TSON.fixTypes(jsontson.values, jsontson.types);\r\n    return jsontson; }\r\n\r\n  private static cloneAndGetTypings(obj: any): {val: any, type: string | any[] | object} {\r\n    // let copy: object;\r\n    let key: string;\r\n    let ret: {val: object, type: string | any[] | object} = {val: undefined, type: undefined};\r\n    let tmp: {val: object, type: string | any[] | object} = {val: undefined, type: undefined};\r\n    // Handle primitives\r\n    if (null === obj) { ret.val = obj; ret.type = TSON_JSTypes.null; return ret; }\r\n    if (undefined === obj) { ret.val = obj; ret.type = TSON_JSTypes.undefined; return ret; }\r\n    switch(typeof obj){\r\n      default: U.pe(true, 'unexpected type:', obj, typeof obj); break; // do not use, too dangerous for types not defined in TSON_JSTypes\r\n      case TSON_JSTypes.boolean: ret.val = obj; ret.type = TSON_JSTypes.boolean; return ret;\r\n      case TSON_JSTypes.number: ret.val = obj; ret.type = TSON_JSTypes.number; return ret;\r\n      case TSON_JSTypes.string: ret.val = obj; ret.type = TSON_JSTypes.string; return ret;\r\n      case TSON_JSTypes.function: break;\r\n      case TSON_JSTypes.object: break; // those should cover everything. array and date = object\r\n    }\r\n    if (typeof obj === TSON_JSTypes.boolean) { ret.val = obj; ret.type = TSON_JSTypes.undefined; return ret; }\r\n\r\n    // handle non-primitives\r\n    if (obj instanceof Date) { ret.val = new Date(obj.toString()); ret.type = TSON_JSTypes.Date; return ret; }\r\n    if (obj instanceof Boolean) { ret.val = new Boolean(obj.valueOf()); ret.type = TSON_JSTypes.Boolean; return ret; }\r\n    if (obj instanceof Number) { ret.val = new Number(obj.valueOf()); ret.type = TSON_JSTypes.Number; return ret; }\r\n    if (obj instanceof String) { ret.val = new String(obj.valueOf()); ret.type = TSON_JSTypes.String; return ret; }\r\n    // takes lambda too\r\n    if (obj instanceof Function) { ret.val = obj.toString(); ret.type = TSON_JSTypes.function; return ret; }\r\n    if (Array.isArray(obj)) { ret.val = []; ret.type = []; }\r\n    else if (obj instanceof Object) { ret.val = {}; ret.type = {}; }\r\n    if (typeof(obj) === TSON_JSTypes.string) { ret.val = obj; ret.type = TSON_JSTypes.string; return ret; }\r\n    // Handle Object\r\n    for (key in obj) {\r\n      //if (!obj.hasOwnProperty(key)) continue;\r\n      tmp = TSON.cloneAndGetTypings(obj[key]);\r\n      if (key === 'cc') console.log('cc:', tmp);\r\n      ret.val[key] = tmp.val;\r\n      ret.type[key] = tmp.type; }\r\n    return ret; }\r\n\r\n  private static fixTypes(values: any, types: any): any {\r\n      let key: string;\r\n      let i: number;\r\n      let exampleval = {a:0, b:'0', c:[1, 'kk', ()=>{}, {k:''}]};\r\n      let exampletyp = {a:'number', b:'string', c:['number', 'string', 'arrowfunc', {k:'string'}]};\r\n      let leafvalstr: string;\r\n      switch (typeof(values)){\r\n        default: // is leaf-type and i can read my typemap\r\n        case TSON_UnsupportedTypes.BigInt: case TSON_UnsupportedTypes.symbol:\r\n          U.pe (true, 'TSON parse found an unsupported type:', typeof(values)); break;\r\n        case TSON_JSTypes.string:\r\n        case TSON_JSTypes.function:\r\n        case TSON_JSTypes.undefined:\r\n        case TSON_JSTypes.number:\r\n        case TSON_JSTypes.boolean:\r\n        leafvalstr = '' + values;\r\n          switch(types) { // primitivi secondo JSON\r\n            default: U.pe(true, 'Unimplemented TSON type found:', types); break;\r\n            case TSON_JSTypes.null: return null;\r\n            case TSON_JSTypes.undefined: return undefined;\r\n            case TSON_JSTypes.Date: return new Date(leafvalstr);\r\n            case TSON_JSTypes.boolean: return new Boolean(leafvalstr).valueOf();\r\n            case TSON_JSTypes.number: return +leafvalstr;\r\n            case TSON_JSTypes.Boolean: return new Boolean(leafvalstr);\r\n            case TSON_JSTypes.Number: return new Number(leafvalstr);\r\n            case TSON_JSTypes.string: return leafvalstr;\r\n            case TSON_JSTypes.String: return new String(leafvalstr);\r\n            case TSON_JSTypes.function: return eval('let a=' + leafvalstr + '; a;');\r\n          }\r\n          //\r\n        case TSON_JSTypes.object:\r\n          let typestr = typeof(types) === 'string' ? types : null; // null if non-leaf type.\r\n          switch(typestr) { // non primitivi secondo JSON\r\n            default: U.pe(true, 'Unimplemented TSON typing found:', types); break;\r\n            case null: // object or array (non primitivi secondo json e non-leaf per tson)\r\n              // if (Array.isArray(values)){ same as object fallback, will ignore length.\r\n              for (key in values) { values[key] = TSON.fixTypes(values[key], types[key]); }\r\n              // problema: Json stringify and parse trasforma (let a = []; a[600] = 1;) in un array con 600 elementi (599 null). problema ereditato da TSON.\r\n              return values; }\r\n      }\r\n      U.pe(true, 'TSON.fixtypes() should not reach here');\r\n    }\r\n\r\n}\r\nexport enum AttribETypes {\r\n//  FakeElementAddFeature = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//FakeElement',\r\n// era il 'pulsante per aggiungere feature nel mm.',\r\n  // reference = 'reference??',\r\n  void = '???void',\r\n  EChar = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EChar',\r\n  EString = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString',\r\n  EDate = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDate',\r\n  EFloat = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EFloat',\r\n  EDouble = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDouble',\r\n  EBoolean = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean',\r\n  EByte = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EByte',\r\n  EShort = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EShort',\r\n  EInt = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt',\r\n  ELong = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//ELong',\r\n  /*\r\n  ECharObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//ECharObject',\r\n  EStringObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EStringObject',\r\n  EDateObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDateObject',\r\n  EFloatObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EFloatObject',\r\n  EDoubleObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDoubleObject',\r\n  EBooleanObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBooleanObj',\r\n  EByteObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EByteObject',\r\n  EShortObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EShortObject',\r\n  EIntObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EIntegerObject',\r\n  ELongObj = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//ELongObject', */\r\n  // EELIST = 'ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EEList', // List<E> = List<?>\r\n}\r\n\r\n// export type Json = object;\r\nexport class Json {\r\n  constructor(j: object) {/* U.pe('' + j === j, 'parameter cannot be a string'); */}\r\n\r\n  static getAnnotations(thiss: Json): Json[] {\r\n    const ret = thiss[ECorePackage.eAnnotations];\r\n    if (!ret || $.isEmptyObject(ret)) { return []; }\r\n    if (Array.isArray(ret)) { return ret; } else { return [ret]; } }\r\n\r\n  static getDetails(thiss: Json): Json[] {\r\n    const ret = thiss[ECoreAnnotation.details];\r\n    if (!ret || $.isEmptyObject(ret)) { return []; }\r\n    if (Array.isArray(ret)) { return ret; } else { return [ret]; } }\r\n\r\n  static getChildrens(thiss: Json, throwError: boolean = false, functions: boolean = false): Json[] {\r\n    if (!thiss && !throwError) { return []; }\r\n    const mod = thiss[ECoreRoot.ecoreEPackage];\r\n    const pkg = thiss[ECorePackage.eClassifiers];\r\n    const cla = thiss[functions ? ECoreClass.eOperations : ECoreClass.eStructuralFeatures];\r\n    const fun = thiss[ECoreOperation.eParameters];\r\n    const lit = thiss[ECoreEnum.eLiterals];\r\n\r\n    const ret: any = mod || pkg || cla || fun || lit;\r\n    /*if ( ret === undefined || ret === null ) {\r\n      if (thiss['@name'] !== undefined) { ret = thiss; } // if it's the root with only 1 child arrayless\r\n    }*/\r\n    // U.pe(true, debug, 'getchildrens(', thiss, ')');\r\n    U.pe( throwError && !ret, 'getChildrens() Failed: ', thiss, ret);\r\n    // console.log('ret = ', ret, ' === ', {}, ' ? ', ($.isEmptyObject(ret) ? [] : [ret]));\r\n    if (!ret || $.isEmptyObject(ret)) { return []; }\r\n    if (Array.isArray(ret)) { return ret; } else { return [ret]; }\r\n  }\r\n\r\n  static read<T>(json: Json, field: string, valueIfNotFound: any = 'read<T>()CanThrowError'): T {\r\n    let ret: any = json ? json[field] : null;\r\n    if (ret !== null && ret !== undefined &&  field.indexOf(Status.status.XMLinlineMarker) !== -1) {\r\n      U.pe(U.isObject(ret, false, false, true), 'inline value |' + field + '| must be primitive.', ret);\r\n      ret = U.multiReplaceAll('' + ret, ['&amp;', '&#38;', '&quot;'], ['&', '\\'', '\"']);\r\n    }\r\n    if ((ret === null || ret === undefined)) {\r\n      U.pe(valueIfNotFound === 'read<T>()CanThrowError', 'Json.read<',  '> failed: field[' + field + '], json: ', json);\r\n      return valueIfNotFound; }\r\n    return ret as T ; }\r\n\r\n  static write(json: Json, field: string, val: any): string {\r\n    if (val !== null && field.indexOf(Status.status.XMLinlineMarker) !== -1) {\r\n      U.pe(val !== '' + val, 'inline value |' + field + '| must be a string.', val);\r\n      val = U.multiReplaceAll(val, ['&', '\\'', '\"'], ['&amp;', '&#38;', '&quot;']);\r\n    }\r\n    else U.pe(val !== '' + val || !U.isObject(val, true), 'primitive values should be inserted only inline in the xml:', field, val);\r\n    json[field] = val;\r\n    return val; }\r\n}\r\n\r\n\r\nexport class DetectZoom {\r\n  static device(): number { return detectzoooom.device(); }\r\n  static zoom(): number {U.pe(true, 'better not use this, looks like always === 1'); return detectzoooom.zoom(); }\r\n  private test(): any {\r\n    let a: InputPopup;\r\n    return a = null; }\r\n}\r\n\r\nexport abstract class ISize {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  constructor(x: number = 0, y: number = 0, w: number = 0, h: number = 0) {\r\n    if (x === null) this.x = null;\r\n    else if (isNaN(+x)) { this.x = 0; }\r\n    else this.x = +x;\r\n    if (y === null) this.y = null;\r\n    else if (isNaN(+y)) { this.y = 0; }\r\n    else this.y = +y;\r\n    if (w === null) this.w = null;\r\n    else if (isNaN(+w)) { this.w = 0; }\r\n    else this.w = +w;\r\n    if (h === null) this.h = null;\r\n    else if (isNaN(+h)) { this.h = 0; }\r\n    else this.h = +h; }\r\n\r\n  abstract makePoint(x: number, y: number): IPoint;\r\n  abstract clone(otherJson: ISize): ISize;\r\n  abstract duplicate(): ISize;\r\n  tl(): IPoint { return this.makePoint(   this.x,             this.y         ); }\r\n  tr(): IPoint { return this.makePoint(this.x + this.w,    this.y         ); }\r\n  bl(): IPoint { return this.makePoint(   this.x,          this.y + this.h); }\r\n  br(): IPoint { return this.makePoint(this.x + this.w, this.y + this.h); }\r\n  equals(size: ISize): boolean { return this.x === size.x && this.y === size.y && this.w === size.w && this.h === size.h; }\r\n  /// field-wise Math.min()\r\n  min(minSize: ISize, clone: boolean): ISize {\r\n    const ret: ISize = clone ? this.duplicate() : this;\r\n    if (!isNaN(minSize.x) && ret.x < minSize.x) { ret.x = minSize.x; }\r\n    if (!isNaN(minSize.y) && ret.y < minSize.y) { ret.y = minSize.y; }\r\n    if (!isNaN(minSize.w) && ret.w < minSize.w) { ret.w = minSize.w; }\r\n    if (!isNaN(minSize.h) && ret.h < minSize.h) { ret.h = minSize.h; }\r\n    return ret; }\r\n  max(maxSize: ISize, clone: boolean): ISize {\r\n    const ret: ISize = clone ? this.duplicate() : this;\r\n    if (!isNaN(maxSize.x) && ret.x > maxSize.x) { ret.x = maxSize.x; }\r\n    if (!isNaN(maxSize.y) && ret.y > maxSize.y) { ret.y = maxSize.y; }\r\n    if (!isNaN(maxSize.w) && ret.w > maxSize.w) { ret.w = maxSize.w; }\r\n    if (!isNaN(maxSize.h) && ret.h > maxSize.h) { ret.h = maxSize.h; }\r\n    return ret; }\r\n\r\n  abstract intersection(size: ISize): ISize;\r\n  contains(pt: IPoint): boolean {\r\n    return  pt.x >= this.x && pt.x <= this.x + this.w && pt.y >= this.y && pt.y <= this.y + this.h; }\r\n}\r\nexport class Size extends ISize {\r\n  static fromPoints(firstPt: Point, secondPt: Point): Size {\r\n    const minX = Math.min(firstPt.x, secondPt.x);\r\n    const maxX = Math.max(firstPt.x, secondPt.x);\r\n    const minY = Math.min(firstPt.y, secondPt.y);\r\n    const maxY = Math.max(firstPt.y, secondPt.y);\r\n    return new Size(minX, minY, maxX - minX, maxY - minY); }\r\n  dontMixWithGraphSize: any;\r\n  clone(json: Size): Size { return new Size(json.x, json.y, json.w, json.h); }\r\n  duplicate(): Size { return new Size().clone(this); }\r\n  makePoint(x: number, y: number): Point { return new Point(x, y); }\r\n  tl(): Point { return super.tl() as Point; }\r\n  tr(): Point { return super.tr() as Point; }\r\n  bl(): Point { return super.bl() as Point; }\r\n  br(): Point { return super.br() as Point; }\r\n  equals(size: Size): boolean { return super.equals(size); }\r\n  min(minSize: Size, clone: boolean): Size { return super.min(minSize, clone) as Size; }\r\n  max(minSize: Size, clone: boolean): Size { return super.max(minSize, clone) as Size; }\r\n\r\n  intersection(size: Size): Size {\r\n    // anche \"isinside\"\r\n    let startx, starty, endx, endy;\r\n    startx = Math.max(this.x, size.x);\r\n    starty = Math.max(this.y, size.y);\r\n    endx = Math.min(this.x + this.w, size.x + size.w);\r\n    endy = Math.min(this.y + this.h, size.y + size.h);\r\n    const intersection: Size = new Size(0, 0, 0, 0);\r\n    intersection.x = startx;\r\n    intersection.y = starty;\r\n    intersection.w = endx - startx;\r\n    intersection.h = endy - starty;\r\n    const doesintersect: boolean = intersection.w > 0 && intersection.h > 0;\r\n    return (doesintersect) ? intersection: null; }\r\n}\r\nexport class GraphSize extends ISize {\r\n  static fromPoints(firstPt: GraphPoint, secondPt: GraphPoint): GraphSize {\r\n    const minX = Math.min(firstPt.x, secondPt.x);\r\n    const maxX = Math.max(firstPt.x, secondPt.x);\r\n    const minY = Math.min(firstPt.y, secondPt.y);\r\n    const maxY = Math.max(firstPt.y, secondPt.y);\r\n    return new GraphSize(minX, minY, maxX - minX, maxY - minY); }\r\n  static closestIntersection(vertexGSize: GraphSize, prevPt: GraphPoint, pt0: GraphPoint, gridAlign: GraphPoint = null): GraphPoint {\r\n    let pt = pt0.duplicate();\r\n    const m = GraphPoint.getM(prevPt, pt);\r\n    const q = GraphPoint.getQ(prevPt, pt);\r\n    // U.pe( Math.abs((pt.y - m * pt.x) - (prevPt.y - m * prevPt.x)) > .001, 'wrong math in Q:', (pt.y - m * pt.x), ' vs ', (prevPt.y - m * prevPt.x));\r\n    /*const isL = prevPt.x < pt.x;\r\n    const isT = prevPt.y < pt.y;\r\n    const isR = !isL;\r\n    const isB = !isT; */\r\n    if (m === Number.POSITIVE_INFINITY && q === Number.NEGATIVE_INFINITY) { // bottom middle\r\n      return new GraphPoint(vertexGSize.x + vertexGSize.w / 2, vertexGSize.y + vertexGSize.h); }\r\n    // console.log('pt:', pt, 'm:', m, 'q:', q);\r\n    let L: GraphPoint = new GraphPoint(0, 0);\r\n    let T: GraphPoint = new GraphPoint(0, 0);\r\n    let R: GraphPoint = new GraphPoint(0, 0);\r\n    let B: GraphPoint = new GraphPoint(0, 0);\r\n    L.x = vertexGSize.x;\r\n    L.y = m * L.x + q;\r\n    R.x = vertexGSize.x + vertexGSize.w;\r\n    R.y = m * R.x + q;\r\n    T.y = vertexGSize.y;\r\n    T.x = (T.y - q) / m;\r\n    B.y = vertexGSize.y + vertexGSize.h;\r\n    B.x = (B.y - q) / m;\r\n    // prendo solo il compreso pt ~ prevPt (escludo così il \"pierce\" sulla faccia opposta), prendo il più vicino al centro.\r\n    // console.log('4 possibili punti di intersezione (LTBR):', L, T, B, R);\r\n    /* this.owner.mark(this.owner.toHtmlCoord(T), true, 'blue');\r\n    this.owner.mark(this.owner.toHtmlCoord(B), false, 'violet');\r\n    this.owner.mark(this.owner.toHtmlCoord(L), false, 'red');\r\n    this.owner.mark(this.owner.toHtmlCoord(R), false, 'orange');*/\r\n    if ( (B.x >= pt.x && B.x <= prevPt.x) || (B.x >= prevPt.x && B.x <= pt.x) ) { } else { B = null; }\r\n    if ( (T.x >= pt.x && T.x <= prevPt.x) || (T.x >= prevPt.x && T.x <= pt.x) ) { } else { T = null; }\r\n    if ( (L.y >= pt.y && L.y <= prevPt.y) || (L.y >= prevPt.y && L.y <= pt.y) ) { } else { L = null; }\r\n    if ( (R.y >= pt.y && R.y <= prevPt.y) || (R.y >= prevPt.y && R.y <= pt.y) ) { } else { R = null; }\r\n    // console.log('superstiti step1: (LTBR):', L, T, B, R);\r\n    const vicinanzaT = !T ? Number.POSITIVE_INFINITY : ((T.x - pt.x) * (T.x - pt.x)) + ((T.y - pt.y) * (T.y - pt.y));\r\n    const vicinanzaB = !B ? Number.POSITIVE_INFINITY : ((B.x - pt.x) * (B.x - pt.x)) + ((B.y - pt.y) * (B.y - pt.y));\r\n    const vicinanzaL = !L ? Number.POSITIVE_INFINITY : ((L.x - pt.x) * (L.x - pt.x)) + ((L.y - pt.y) * (L.y - pt.y));\r\n    const vicinanzaR = !R ? Number.POSITIVE_INFINITY : ((R.x - pt.x) * (R.x - pt.x)) + ((R.y - pt.y) * (R.y - pt.y));\r\n    const closest = Math.min(vicinanzaT, vicinanzaB, vicinanzaL, vicinanzaR);\r\n    // console.log( 'closest:', closest);\r\n    // succede quando pt e prevPt sono entrambi all'interno del rettangolo del vertice.\r\n    // L'edge non è visibile e il valore ritornato è irrilevante.\r\n    if (closest === Number.POSITIVE_INFINITY) {\r\n      /* top center */\r\n      pt = vertexGSize.tl();\r\n      pt.x += vertexGSize.w / 2; } else\r\n    if (closest === Number.POSITIVE_INFINITY) {\r\n      /* bottom center */\r\n      pt = vertexGSize.br();\r\n      pt.x -= vertexGSize.w / 2; } else\r\n    if (closest === vicinanzaT) { pt = T; } else\r\n    if (closest === vicinanzaB) { pt = B; } else\r\n    if (closest === vicinanzaR) { pt = R; } else\r\n    if (closest === vicinanzaL) { pt = L; }\r\n\r\n    if (!gridAlign) { return pt; }\r\n    if ((pt === T || pt === B || isNaN(closest)) && gridAlign.x) {\r\n      const floorX: number = Math.floor(pt.x / gridAlign.x) * gridAlign.x;\r\n      const ceilX: number = Math.ceil(pt.x / gridAlign.x) * gridAlign.x;\r\n      let closestX;\r\n      let farthestX;\r\n      if (Math.abs(floorX - pt.x) < Math.abs(ceilX - pt.x)) {\r\n        closestX = floorX; farthestX = ceilX;\r\n      } else { closestX = ceilX; farthestX = floorX; }\r\n\r\n      // todo: possibile causa del bug che non allinea punti fake a punti reali. nel calcolo realPT questo non viene fatto.\r\n      // if closest grid intersection is inside the vertex.\r\n      if (closestX >= vertexGSize.x && closestX <= vertexGSize.x + vertexGSize.w) { pt.x = closestX; } else\r\n      // if 2° closer grid intersection is inside the vertex.\r\n      if (closestX >= vertexGSize.x && closestX <= vertexGSize.x + vertexGSize.w) { pt.x = farthestX;\r\n        // if no intersection are inside the vertex (ignore grid)\r\n      } else { pt = pt; }\r\n    } else if ((pt === L || pt === R) && gridAlign.y) {\r\n      const floorY: number = Math.floor(pt.y / gridAlign.y) * gridAlign.y;\r\n      const ceilY: number = Math.ceil(pt.y / gridAlign.y) * gridAlign.y;\r\n      let closestY;\r\n      let farthestY;\r\n      if (Math.abs(floorY - pt.y) < Math.abs(ceilY - pt.y)) {\r\n        closestY = floorY; farthestY = ceilY;\r\n      } else { closestY = ceilY; farthestY = floorY; }\r\n\r\n      // if closest grid intersection is inside the vertex.\r\n      if (closestY >= vertexGSize.y && closestY <= vertexGSize.y + vertexGSize.h) { pt.y = closestY; } else\r\n      // if 2° closer grid intersection is inside the vertex.\r\n      if (closestY >= vertexGSize.y && closestY <= vertexGSize.y + vertexGSize.h) { pt.y = farthestY;\r\n        // if no intersection are inside the vertex (ignore grid)\r\n      } else { pt = pt; }\r\n    }\r\n    return pt; }\r\n  dontMixWithSize: any;\r\n  clone(json: GraphSize): GraphSize { return new GraphSize(json.x, json.y, json.w, json.h); }\r\n  duplicate(): GraphSize { return new GraphSize().clone(this); }\r\n  makePoint(x: number, y: number): Point { return new GraphPoint(x, y); }\r\n  tl(): GraphPoint { return super.tl() as GraphPoint; }\r\n  tr(): GraphPoint { return super.tr() as GraphPoint; }\r\n  bl(): GraphPoint { return super.bl() as GraphPoint; }\r\n  br(): GraphPoint { return super.br() as GraphPoint; }\r\n  equals(size: GraphSize): boolean { return super.equals(size); }\r\n  min(minSize: GraphSize, clone: boolean): GraphSize { return super.min(minSize, clone) as GraphSize; }\r\n  max(minSize: GraphSize, clone: boolean): GraphSize { return super.max(minSize, clone) as GraphSize; }\r\n\r\n  intersection(size: GraphSize): GraphSize {\r\n    // anche \"isinside\"\r\n    let startx, starty, endx, endy;\r\n    startx = Math.max(this.x, size.x);\r\n    starty = Math.max(this.y, size.y);\r\n    endx = Math.min(this.x + this.w, size.x + size.w);\r\n    endy = Math.min(this.y + this.h, size.y + size.h);\r\n    const intersection: GraphSize = new GraphSize(0, 0, 0, 0);\r\n    intersection.x = startx;\r\n    intersection.y = starty;\r\n    intersection.w = endx - startx;\r\n    intersection.h = endy - starty;\r\n    const doesintersect: boolean = intersection.w > 0 && intersection.h > 0;\r\n    return (doesintersect) ? intersection: null; }\r\n  contains(pt: IPoint): boolean { return super.contains(pt); }\r\n\r\n}\r\n\r\nexport abstract class IPoint {\r\n  x: number;\r\n  y: number;\r\n\r\n  static getM(firstPt: IPoint, secondPt: IPoint): number { return (firstPt.y - secondPt.y) / (firstPt.x - secondPt.x); }\r\n  static getQ(firstPt: IPoint, secondPt: IPoint): number { return firstPt.y - IPoint.getM(firstPt, secondPt) * firstPt.x; }\r\n\r\n  constructor(x: number | string = 0, y: number | string = 0) {\r\n    if (x === null) this.x = null;\r\n    else if (isNaN(+x)) { this.x = 0; }\r\n    else this.x = +x;\r\n    if (y === null) this.y = null;\r\n    else if (isNaN(+y)) { this.y = 0; }\r\n    else this.y = +y;}\r\n\r\n  toString(): string { return '(' + this.x + ', ' + this.y + ')'; }\r\n  abstract clone(other: IPoint): void;\r\n  abstract duplicate(): IPoint;\r\n\r\n  subtract(p2: IPoint, newInstance: boolean): IPoint {\r\n    U.pe(!p2, 'subtract argument must be a valid point: ', p2);\r\n    let p1: IPoint;\r\n    if (!newInstance) { p1 = this; } else { p1 = this.duplicate(); }\r\n    p1.x -= p2.x;\r\n    p1.y -= p2.y;\r\n    return p1; }\r\n\r\n  add(p2: IPoint, newInstance: boolean): IPoint {\r\n    U.pe(!p2, 'add argument must be a valid point: ', p2);\r\n    let p1: IPoint;\r\n    if (!newInstance) { p1 = this; } else { p1 = this.duplicate(); }\r\n    p1.x += p2.x;\r\n    p1.y += p2.y;\r\n    return p1; }\r\n\r\n  addAll(p: IPoint[], newInstance: boolean): IPoint {\r\n    let i;\r\n    let p0: IPoint;\r\n    if (!newInstance) { p0 = this; } else { p0 = this.duplicate(); }\r\n    for (i = 0; i < p.length; i++) { p0.add(p[i], true); }\r\n    return p0; }\r\n\r\n  subtractAll(p: IPoint[], newInstance: boolean): IPoint {\r\n    let i;\r\n    let p0: IPoint;\r\n    if (!newInstance) { p0 = this; } else { p0 = this.duplicate(); }\r\n    for (i = 0; i < p.length; i++) { p0.subtract(p[i], true); }\r\n    return p0; }\r\n\r\n  multiply(scalar: number, newInstance: boolean): IPoint {\r\n    U.pe( isNaN(+scalar), 'scalar argument must be a valid number: ', scalar);\r\n    let p1: IPoint;\r\n    if (!newInstance) { p1 = this; } else { p1 = this.duplicate(); }\r\n    p1.x *= scalar;\r\n    p1.y *= scalar;\r\n    return p1; }\r\n\r\n  divide(scalar: number, newInstance: boolean): IPoint {\r\n    U.pe( isNaN(+scalar), 'scalar argument must be a valid number: ', scalar);\r\n    let p1: IPoint;\r\n    if (!newInstance) { p1 = this; } else { p1 = this.duplicate(); }\r\n    p1.x /= scalar;\r\n    p1.y /= scalar;\r\n    return p1; }\r\n\r\n  isInTheMiddleOf(firstPt: IPoint, secondPt: IPoint, tolleranza: number): boolean {\r\n    const rectangle: Size = Size.fromPoints(firstPt as Point, secondPt as Point);\r\n    const tolleranzaX = tolleranza; // actually should be cos * arctan(m);\r\n    const tolleranzaY = tolleranza; // actually should be sin * arctan(m);\r\n    if (this.x < rectangle.x - tolleranzaX || this.x > rectangle.x + rectangle.w + tolleranzaX) { return false; }\r\n    if (this.y < rectangle.y - tolleranzaX || this.y > rectangle.y + rectangle.h + tolleranzaY) { return false; }\r\n    const m = IPoint.getM(firstPt, secondPt);\r\n    const q = IPoint.getQ(firstPt, secondPt);\r\n    const lineDistance = this.distanceFromLine(firstPt, secondPt);\r\n    // console.log('distance:', lineDistance, ', this:', this, ', p1:', firstPt, ', p2:', secondPt);\r\n    return lineDistance <= tolleranza; }\r\n\r\n  distanceFromLine(p1: IPoint, p2: IPoint): number {\r\n    const top: number =\r\n      + (p2.y - p1.y) * this.x\r\n      - (p2.x - p1.x) * this.y\r\n      + p2.x * p1.y\r\n      - p1.x * p2.y;\r\n    const bot =\r\n      (p2.y - p1.y) * (p2.y - p1.y) +\r\n      (p2.x - p1.x) * (p2.x - p1.x);\r\n    return Math.abs(top) / Math.sqrt(bot);  }\r\n\r\n  equals(pt: IPoint, tolleranzaX: number = 0, tolleranzaY: number = 0): boolean {\r\n    if (pt === null) { return false; }\r\n    return Math.abs(this.x - pt.x) <= tolleranzaX && Math.abs(this.y - pt.y) <= tolleranzaY; }\r\n\r\n  moveOnNearestBorder(startVertexSize: ISize, clone: boolean, debug: boolean = true): IPoint {\r\n    const pt: IPoint = clone ? this.duplicate() : this;\r\n    const tl: IPoint = startVertexSize.tl();\r\n    const tr: IPoint = startVertexSize.tr();\r\n    const bl: IPoint = startVertexSize.bl();\r\n    const br: IPoint = startVertexSize.br();\r\n    const L: number = pt.distanceFromLine(tl, bl);\r\n    const R: number = pt.distanceFromLine(tr, br);\r\n    const T: number = pt.distanceFromLine(tl, tr);\r\n    const B: number = pt.distanceFromLine(bl, br);\r\n    const min: number = Math.min(L, R, T, B);\r\n    if (min === L) { pt.x = tl.x; }\r\n    if (min === R) { pt.x = tr.x; }\r\n    if (min === T) { pt.y = tr.y; }\r\n    if (min === B) { pt.y = br.y; }\r\n    if (debug && pt instanceof GraphPoint) { Status.status.getActiveModel().graph.markg(pt, false, 'purple'); }\r\n    return pt;\r\n  }\r\n\r\n  getM(pt2: IPoint): number { return IPoint.getM(this, pt2); }\r\n\r\n  degreeWith(pt2: IPoint, toRadians: boolean): number {\r\n    const directionVector: IPoint = this.subtract(pt2, true);\r\n    const ret: number = Math.atan2(directionVector.y, directionVector.x);\r\n    return toRadians ? ret : U.RadToDegree(ret); }\r\n\r\n  absolute(): number { return Math.sqrt(this.x * this.x + this.y * this.y); }\r\n}\r\nexport class GraphPoint extends IPoint{\r\n  dontmixwithPoint: any;\r\n  static fromEvent(e: ClickEvent | MouseMoveEvent | MouseUpEvent | MouseDownEvent | MouseEnterEvent | MouseLeaveEvent | MouseEvent)\r\n    : GraphPoint {\r\n    if (!e) { return null; }\r\n    const p: Point = new Point(e.pageX, e.pageY);\r\n    const g: IGraph = Status.status.getActiveModel().graph;\r\n    return g.toGraphCoord(p); }\r\n\r\n  duplicate(): GraphPoint { return new GraphPoint(this.x, this.y); }\r\n  clone(other: GraphPoint): void { this.x = other.x; this.y = other.y; }\r\n  subtract(p2: GraphPoint, newInstance: boolean): GraphPoint { return super.subtract(p2, newInstance) as GraphPoint; }\r\n  add(p2: GraphPoint, newInstance: boolean): GraphPoint { return super.add(p2, newInstance) as GraphPoint; }\r\n  multiply(scalar: number, newInstance: boolean): GraphPoint { return super.multiply(scalar, newInstance) as GraphPoint; }\r\n  divide(scalar: number, newInstance: boolean): GraphPoint { return super.divide(scalar, newInstance) as GraphPoint; }\r\n  isInTheMiddleOf(firstPt: GraphPoint, secondPt: GraphPoint, tolleranza: number): boolean { return super.isInTheMiddleOf(firstPt, secondPt, tolleranza); }\r\n  distanceFromLine(p1: GraphPoint, p2: GraphPoint): number { return super.distanceFromLine(p1, p2); }\r\n  equals(pt: GraphPoint, tolleranzaX: number = 0, tolleranzaY: number = 0): boolean { return super.equals(pt, tolleranzaX, tolleranzaY); }\r\n  moveOnNearestBorder(startVertexSize: GraphSize, clone: boolean, debug: boolean = true): GraphPoint {\r\n    return super.moveOnNearestBorder(startVertexSize, clone, debug) as GraphPoint; }\r\n  getM(pt2: GraphPoint): number { return super.getM(pt2); }\r\n  degreeWith(pt2: GraphPoint, toRadians: boolean): number { return super.degreeWith(pt2, toRadians); }\r\n\r\n}\r\nexport class Point extends IPoint{\r\n  dontmixwithPoint: any;\r\n  static fromEvent(e: ClickEvent | MouseMoveEvent | MouseUpEvent | MouseDownEvent | MouseEnterEvent | MouseLeaveEvent | MouseEvent)\r\n    : Point {\r\n    if (!e) { return null; }\r\n    const p: Point = new Point(e.pageX, e.pageY);\r\n    return p; }\r\n\r\n  duplicate(): Point { return new Point(this.x, this.y); }\r\n  clone(other: Point): void{ this.x = other.x; this.y = other.y; }\r\n  subtract(p2: Point, newInstance: boolean): Point { return super.subtract(p2, newInstance) as Point; }\r\n  add(p2: Point, newInstance: boolean): Point { return super.add(p2, newInstance) as Point; }\r\n  multiply(scalar: number, newInstance: boolean): Point { return super.multiply(scalar, newInstance) as Point; }\r\n  divide(scalar: number, newInstance: boolean): Point { return super.divide(scalar, newInstance) as Point; }\r\n  isInTheMiddleOf(firstPt: Point, secondPt: Point, tolleranza: number): boolean { return super.isInTheMiddleOf(firstPt, secondPt, tolleranza); }\r\n  distanceFromLine(p1: Point, p2: Point): number { return super.distanceFromLine(p1, p2); }\r\n  equals(pt: Point, tolleranzaX: number = 0, tolleranzaY: number = 0): boolean { return super.equals(pt, tolleranzaX, tolleranzaY); }\r\n  moveOnNearestBorder(startVertexSize: GraphSize, clone: boolean, debug: boolean = true): Point {\r\n    return super.moveOnNearestBorder(startVertexSize, clone, debug) as Point; }\r\n  getM(pt2: Point): number { return super.getM(pt2); }\r\n  degreeWith(pt2: Point, toRadians: boolean): number { return super.degreeWith(pt2, toRadians); }\r\n}\r\n\r\nexport class FileReadTypeEnum {\r\n  public static image: FileReadTypeEnum = \"image/*\" as any;\r\n  public static audio: FileReadTypeEnum = \"audio/*\" as any;\r\n  public static video: FileReadTypeEnum = \"video/*\" as any;\r\n  /// a too much huge list https://www.iana.org/assignments/media-types/media-types.xhtml\r\n  public static AndManyOthersButThereAreTooMuch: string = \"And many others... https://www.iana.org/assignments/media-types/media-types.xhtml\";\r\n  public static OrJustPutFileExtension: string = \"OrJustPutFileExtension\";\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {InputPopup, U} from '../../common/util';\r\nimport {ReservedStorageKey} from '../../common/Joiner';\r\nimport ClickEvent = JQuery.ClickEvent;\r\n\r\n\r\nexport class ChangelogEntry {\r\n\r\n  version: VersionUpload;\r\n  title: string;\r\n  description: string;\r\n  subPoints: ChangelogEntry[];\r\n  allowHtml: boolean;\r\n\r\n\r\n  date: Date; // only for versions.\r\n\r\n  constructor(title: string, description: string, subPoints: ChangelogEntry[] = null, allowHTML: boolean = false) {\r\n    this.title = (title ? '' + title : '').trim();\r\n    this.description = (description ? '' + description : '').trim();\r\n    if (this.description) this.title += ' ';\r\n    this.subPoints = subPoints || [];\r\n    this.allowHtml = allowHTML; }\r\n\r\n  generateHtml(): HTMLElement {\r\n    const li: HTMLLIElement = document.createElement('li');\r\n    const title: HTMLElement = document.createElement('span');\r\n    const description: HTMLElement = document.createElement('span');\r\n    const subPoints: HTMLUListElement = document.createElement('ul');\r\n    title.classList.add('title');\r\n    description.classList.add('description');\r\n    // const date: HTMLElement = document.createElement('span');\r\n    // li.appendChild(date);\r\n    li.appendChild(title);\r\n    li.appendChild(description);\r\n    li.appendChild(subPoints);\r\n    const isFeature: boolean = this instanceof Feature;\r\n    const isInfo: boolean = this instanceof FeatureInfo;\r\n    const isBug: boolean = this instanceof Bug;\r\n    const isBugfix: boolean = this instanceof BugFix;\r\n    const isVersion: boolean = this instanceof VersionUpload;\r\n    const isRoot: boolean = this instanceof ChangelogRoot;\r\n    if (isRoot) { subPoints.classList.add('versionPoints', 'changelog'); }\r\n    else if (isVersion) { subPoints.classList.add('versionSubPoints'); }\r\n    else { subPoints.classList.add('subPoint'); }\r\n\r\n    if (isInfo) li.classList.add('info');\r\n    if (isVersion) li.classList.add('version');\r\n    if (isFeature) li.classList.add('feature');\r\n    if (isBug) li.classList.add('bug');\r\n    if (isBugfix) li.classList.add('bugfix');\r\n\r\n    if (this.date) {\r\n      let datestr: string = this.date.getDate() + ' ' + this.date.toLocaleString('default', { month: 'long' });\r\n      if (new Date().getFullYear() !== this.date.getFullYear()) datestr +=  ' ' + this.date.getFullYear();\r\n      this.title = datestr + (this.title ? ' - ' + this.title : ''); }\r\n    if (this.allowHtml) {\r\n      title.innerHTML = this.title || '';\r\n      description.innerHTML = this.description || ''; }\r\n    else {\r\n      title.innerText = this.title || '';\r\n      description.innerText = this.description || ''; }\r\n    let i: number;\r\n    for (i = 0; i < this.subPoints.length; i++) { subPoints.appendChild(this.subPoints[i].generateHtml()); }\r\n\r\n    return li; }\r\n\r\n\r\n  public addb(title: string, description: string, subPoints: ChangelogEntry[] = null, asHtml: boolean = false) {\r\n    this.subPoints.push(new Bug( title, description, subPoints, asHtml)); }\r\n  public addi(title: string, description: string, subPoints: ChangelogEntry[] = null, asHtml: boolean = false) {\r\n    this.subPoints.push(new FeatureInfo( title, description, subPoints, asHtml)); }\r\n  public addbf(title: string, description: string, subPoints: ChangelogEntry[] = null, asHtml: boolean = false) {\r\n    this.subPoints.push(new BugFix( title, description, subPoints, asHtml)); }\r\n  public addf(title: string, description: string, subPoints: ChangelogEntry[] = null, asHtml: boolean = false) {\r\n    this.subPoints.push(new Feature( title, description, subPoints, asHtml)); }\r\n}\r\n\r\nexport class Feature extends ChangelogEntry {\r\n\r\n}\r\nexport class FeatureInfo extends ChangelogEntry {\r\n\r\n}\r\n\r\nexport class BugFix extends ChangelogEntry {\r\n\r\n}\r\nexport class Bug extends ChangelogEntry {\r\n\r\n}\r\n\r\nexport class VersionUpload extends ChangelogEntry {\r\n static all: VersionUpload[] = [];\r\n  constructor (date: Date, title: string, description: string, subPoints: ChangelogEntry[] = []) {\r\n    super (title, description, subPoints);\r\n    this.date = date;\r\n    ChangelogRoot.latestVersion = date.toString();\r\n    VersionUpload.all.push(this); }\r\n\r\n}\r\n\r\nexport class ChangelogRoot extends ChangelogEntry {\r\n  static latestVersion: string = null;\r\n\r\n  static generateHtml(): HTMLElement {\r\n    ChangelogRoot.versionBlockNoteWriteHere();\r\n    let root: ChangelogRoot = new ChangelogRoot(null, null, VersionUpload.all.reverse());\r\n    const points: HTMLUListElement = $(root.generateHtml()).find('.versionPoints')[0] as HTMLUListElement;\r\n    const html: HTMLElement = document.createElement('div');\r\n    const $html: JQuery<Element> = $(html);\r\n    const buttonfilters: HTMLElement = document.createElement('div');\r\n    const buttonnamesArr: string[] = ['Feature', 'Info', 'Bug', 'BugFix'];\r\n    const buttonstylearr: string[] = ['info', 'secondary', 'danger', 'success'];\r\n    const getStyle = (button: HTMLButtonElement): string => { let ind: number = buttonnamesArr.indexOf(button.getAttribute('stile')); return buttonstylearr[ind]; }\r\n    let i: number;\r\n    let button: HTMLButtonElement;\r\n    let buttons: HTMLButtonElement[] = [];\r\n    for (i = 0; i < buttonnamesArr.length; i++) {\r\n      let name: string = buttonnamesArr[i];\r\n      let namelc: string = name.toLowerCase();\r\n      button = document.createElement('button');\r\n      buttons.push(button);\r\n      buttonfilters.append(button);\r\n      button.classList.add('featurefilter', namelc, 'btn');\r\n      button.setAttribute('filter', namelc);\r\n      button.setAttribute('stile', name);\r\n      button.innerText = name;\r\n      button.classList.add('btn');\r\n      button.classList.add('active'); }\r\n    $(buttons).on('click', (e: ClickEvent) => {\r\n      let button = e.currentTarget;\r\n      let active: boolean = button.classList.contains('active');\r\n      let targettype: string = button.getAttribute('filter');\r\n      let $targets: JQuery<Element> = $html.find('.changelog li.' + targettype);\r\n      let style = getStyle(button);\r\n      if (active) {\r\n        button.classList.remove('active', 'btn-' + style);\r\n        button.classList.add('btn-outline-' + style);\r\n        $targets.hide();\r\n      } else {\r\n        button.classList.add('active', 'btn-' + style);\r\n        button.classList.remove( 'btn-outline-' + style);\r\n        $targets.show();\r\n      }\r\n    }).trigger('click').trigger('click');\r\n    buttonfilters.classList.add('filterContainer');\r\n    /*const title = document.createElement('h1');\r\n    title.style.textAlign = \"center\";\r\n    title.innerText = 'Changelog';\r\n    html.style.position = 'relative';\r\n    html.append(title);*/\r\n    html.append(buttonfilters);\r\n    html.append(points);\r\n    return html; }\r\n\r\n\r\n\r\n  static versionBlockNoteWriteHere(): void {\r\n    let v: VersionUpload;\r\n\r\n    v = new VersionUpload(new Date('2020/4/21'), 'Measurable reworking:',\r\n      'Measurable system got rewritten from scratch to expand functionality and making the syntax more user friendly, the old documentation became obsolete and will be rewritten.', null);\r\n    v.addf('GUI: ', 'Demo of light theme inserted (in the topbar).');\r\n    v.addf('GUI: ', 'for inserting measurable rules without editing directly the HTML with some suggestion while typing and minor autocorrections on input mistakes.');\r\n    v.addf('debugger: ', 'built-in simple debugger to see the output or execution errors of the rules executed and manually trigger measurable events. (\"Test it!\" button)');\r\n    v.addf('Popup improvement 1: ',\r\n      'now a single click on a popup will close all of them and copy the content of the clicked alert in the clipboard.\\n' +\r\n      'useful to dismiss them faster or as an help to read long messages without rush.');\r\n    v.addf('Popup improvement 2: ',\r\n      'Some popup will now be displayed just once for each page visit.' +\r\n      'Such as warning the user about improper usage of some feature or warning about partially invalid inputs that are being auto-corrected.');\r\n    v.addi('Measurable: ', 'inserted 3 logical group of rules:<ul><li>Event triggers</li><li>Executable rules</li><li>JqueryUI config (measurable relies on jqueryUI)</li></ul>', null, true);\r\n    v.addbf('Many minor bugfixed', '');\r\n    v.addf('Vertex', 'Support for manually set vertex size and position through coordinates and possibility to set a vertex in autosize mode, losing the ability to manually resize it but ensuring it will always fit to his contents.');\r\n    v.addi('Other:', 'Implemented this self-referential changelog system, that will automatically pop-up every time there are new updates not yet acknowledged.');\r\n\r\n    v = new VersionUpload(new Date('2020/4/30'), '', '');\r\n    v.addi('Info:', 'Measurable elements are now called layouting elements');\r\n    v.addf('GUI:', 'Layouting elements editor now have a search form to filter layouting rules.');\r\n    v.addf('Changelog:', 'Inserted possibility to filter news on your interests (features, info, bugfix...).');\r\n    v.addbf('GUI:', 'Layouting rules counter on the editor gui was not updated on rule removal.');\r\n    v.addf('GUI:', 'Default edge colors will now change according to website theme (manually edited styles won\\'t change).');\r\n    v.addbf('Layoutable:', '_Constraint was not working properly, rules sometime were improperly altering graph grid\\'s size.');\r\n    v.addbf('GUI:', 'A recent chrome update was making the graph grid blurry on extremely big or small grid sizes, fixed.');\r\n\r\n    v = new VersionUpload(new Date('2020/5/6'), '', '');\r\n    v.addf('Layoutable:', 'Improved the rule editor with code autocompletion, providing dynamic suggestions and information about types of available variables, function\\'s parameters and return values. With a link to documentation.');\r\n    v.addi('Optimization:', 'Reduced redundant calls during MClass creation and loading.');\r\n\r\n    v = new VersionUpload(new Date('2020/6/6'), 'Generalization / Inheritance system', 'Huge update with many features and bugfixes.');\r\n    v.addf('Generalization / Inheritance:', 'Can be added through vertex contextmenù.\\n'\r\n      + 'Like all edges, you can change their endpoint by selecting the edge and dragging the dot near the target vertex, and you can delete them by pressing CANC/DEL key.\\n' +\r\n      'By default inherited features are hidden in m2 and displayed in m1, this behaviour can be changed using the new filtering feature described in a following point.\\n' +\r\n      'Chain of inheritances are supported. (ClassA can extend ClassB and ClassB will extend classC, so ClassA indirectly extends classC).\\n' +\r\n      'Multiple inheritance is allowed. (ClassA can directly extend ClassB and ClassC at the same time)\\n' +\r\n      'The setup of circular inheritances will be prevented, either directly or indirectly and a popup will warn the user.\\n' +\r\n      'E.g. If ClassA extends ClassB, and ClassB extends ClassC, you cannot make classC extend classA.');\r\n    v.addf('Overriding / Polymorphism', 'Operations can now violate name uniqueness constraint to allow overriding and polymorphism.\\n' +\r\n      'If two functions are homonym and cannot be in a polymorphism or overriding relationship they will be marked in pairs as invalid with the same dynamic color until the user makes a change to fix the violation.');\r\n    v.addf('Shadowing',\r\n      'Features shadowed by redeclaration on subclasses are now detected and hidden.\\n' +\r\n      'Shadowed variables can be displayed in M1 for informative purpose, but their value will not be saved (on purpose).');\r\n    v.addf('Style editor: ', 'Inserted \"Use as default style\" checkbox which can only be used on customized elements.\\n' +\r\n      'When marked the customized style of this element will be inherited by all other elements of the same type (Class, Enum, Attribute, Reference...) with the least priority.\\n' +\r\n      'A reminder on style priorities:' +\r\n      '<ul>' +\r\n      '<li>1) \"Own html\" customized style attached to the element itself.</li>' +\r\n      '<li>2) \"Inherited html\" customized style attached to the meta-parent of the element (eg: a M1-class instance inheriting his style from his M2-class type).</li>' +\r\n      '<li>3) User-defined \"default html\", eg: a M1-class instance inheriting his style from another M1-class peer marked as default style with this brand new feature.</li>' +\r\n      '<li>4) Hardcoded, static \"default html\", the one you see on \"default\" viewpoint.</li>' +\r\n      '</ul>' +\r\n      'If one of those style throws an exception while rendering or executing custom code injected inside the style,' +\r\n      ' that faulty style will be automatically removed and the next style in priority order will be applied.' +\r\n      'Until eventually the fourth level is reached, which has been broadly tested and should never fail.', null, true);\r\n    v.addf('Vertex gui customization:', 'It is now possible to set up a custom filter and condition to select which childrens of a classifier / operation should be displayed.' +\r\n      'There are shortcuts to filter children based on their type or whether they are inherited or not. <a href=\"https://github.com/DamianoNaraku/jjodel/wiki/Display-and-filter-sub-features-inside-a-vertex\">More info here.</a>', null, true)\r\n    v.addf('Text popup improved:', '' +\r\n      'Textual popup notifying the user about invalid actions, errors, tooltip or automatic fixing invalid user input now cannot show duplicates at the same time.\\n' +\r\n      'Clicking a popup will make it disappear instantly while copying his text to the clipboard (copy-paste, old feature reminder).\\n' +\r\n      'Right-clicking a popup will now hide all same-colored notifications.\\n' +\r\n      'Wheel-clicking a popup will now hide all notifications.');\r\n    v.addf('Usability: mouse shortcuts', '' +\r\n      '<ul>' +\r\n      '<li>Rightclicking a vertex will make it follow the cursor until released, ignoring measurables.\\n' +\r\n      'Can be useful if the only visible part of a vertex / feature is a input or a measurable, as left-clicking them will not drag the vertex.</li>'+\r\n      '<li>MouseWheel-clicking anywhere on the graph and start dragging will ignore any vertexes and make the graph offset follow the cursor.\\n' +\r\n      'Can be useful on high zoom levels, huge vertexes or densely populated graph.</li></ul>', null, true);\r\n    v.addf('ContextMenu:', 'User right-clicking input elements inside vertexes might desire both native contextmenù or customized contextmenù.\\n' +\r\n      'To access the native context menù, the user must rightclicking a input field inside the currently selected feature / vertex or do a slow right-click.\\n' +\r\n      'Here are detailed rules to check which one will appear: '+\r\n    '<ul>' +\r\n      '<li>RightClick and drag on any child of a vertex / feature: no custom menù, the whole vertex will be dragged, measurables and inputs will be ignored.</li>' +\r\n      '<li>still RightClick on a input child of a selected vertex / feature: native context menù.</li>' +\r\n      '<li>still RightClick on any child of a un-selected vertex / feature: custom context menù.</li>' +\r\n      '<li>still, slow (hold for 1 sec) RightClick a input child of vertex / feature: native menù</li></ul>', null, true);\r\n    v.addb('Bug:', 'The usage of the $ and £ characters outside variable templates ($##likeThis$) and inside the html of custom styles might cause errors.\\n' +\r\n      'Until bugfix use the unicode combination \\\\u0024 for $ and \\\\u00A3 for £ when possible. This bugfix will have low priority.');\r\n\r\n    v.addbf('Edge:', 'Fixed an error that was preventing to insert the first mid-points to an edge when his style was \"straight\".');\r\n    v.addbf('PropertyBar:', 'Automatized update of structured view, style editor and raw viewer when visualized html node in graph or his parents are updated.\\n');\r\n    v.addbf('ContextMenu:', 'Was not appearing.');\r\n\r\n    v = new VersionUpload(new Date('2020/7/31'), '', '');\r\n    v.addf('Interface and Abstract classes support', 'Accessible through the structured tree view on the right bar.');\r\n    v.addf('Class conversion:',\r\n      'It is now possible to change type of a single M1-class, or of all instances of a target M2-class. (<a href=\"https://github.com/DamianoNaraku/jjodel/wiki/Class-deletion-&-Class-type-conversion\">Full guide here</a>)\\n' +\r\n      'For example converting all \"Date\" instances to \"DateTime\" instances, adding a \"time\" attribute to all of them without changing the definition of the \"Date\" class.', null, true);\r\n    v.addbf('children filtering:', 'was not working properly only on his generic version (childrenContainer) and not on AttributeContainer');\r\n    v.addbf('validation:', 'was working on run-time edits, but not on the initial load of the model');\r\n    v.addbf('class deletion:', 'When a class was used as function parameter, the removal was causing exceptions.' +\r\n      '\\nNow it will change the parmaeter\\'s type using class conversion, or removing it if conversion is impossible.');\r\n    v.addbf('firefox', 'default style of vertex had transparent background.');\r\n    v.addbf('Edges', 'Trying to delete the mandatory start and end-point of a edge would cause visual errors.');\r\n    v.addbf('Edges', 'Edges changing his target by dragging where not following his new target vertex when dragged.');\r\n\r\n    v = new VersionUpload(new Date('2020/10/26'), 'M2T groundwork, Type mapping improvement', '');\r\n    v.addf('Type mapping', 'Accessible through the topbar, it allows now to define sets of typing aliases.\\n' +\r\n      'Once a set of aliases is created you can give it a name to switch between saved alias sets, changing multiple aliases with one action.');\r\n    v.addf('M2T', 'Can be done in 2 ways.<br>' + '<ul>' +\r\n      '<li>Through style editor: Code will be produced according to nodes content, node content can become shards of code through style editor.<br>' +\r\n      'Combined style overriding it is extremely easy to customize code generation for specific cases or single classes / objects.<br>' +\r\n      'The final output will be obtained through the \"By text\" predefined transformation.<br>' +\r\n      'Users will be able to use pre-existing transformations by importing a viewpoint from the store.</li>' +\r\n      '<li>In future through the MTL standard (not yet supported)<br>' +\r\n      'Users will be able to create their own M2T transformation and share them on a public store.</li>' +\r\n      '</ul>', null, true);\r\n\r\n    v = new VersionUpload(new Date('2020/12/05'), 'Auto-layouting', '');\r\n    v.addf('Auto-layout',\r\n      'Accessible through the style editor of a graph, guide on the <a href=\"https://github.com/DamianoNaraku/jjodel/wiki/Auto-Layout\">wiki page</a>.', null, true);\r\n    v.addbf('zoom & pan',\r\n      'Zoom and pan weren\\'t combining well, panning with a zoom level used to cause calculation error leading to graphical mismatch.');\r\n\r\n    v.addf('Import / Export / Reset of viewpoint and vertices positions',\r\n      'Accessible through the top-bar, can be used to share a viewpoint while waiting for the store.\\n' +\r\n      'Resetting the viewpoint might fix errors caused by a wrong customization of a viewpoint.', null, true);\r\n    let searchterm = 'clog addbf ';\r\n\r\n    // v = new VersionUpload(new Date('2020/4/21'), 'faketitle', 'fakedescr.');\r\n    // v.addf('fakegfeat', 'kkk');\r\n    // v = new VersionUpload('v3'...);\r\n\r\n  }\r\n  private static clog(){}\r\n\r\n  static popup: InputPopup;\r\n  static generate(): void {\r\n    if (ChangelogRoot.popup) return;\r\n    ChangelogRoot.popup = new InputPopup();\r\n    ChangelogRoot.popup.setText('Changelog', this.generateHtml(), '');\r\n    ChangelogRoot.popup.onCloseButton([ChangelogRoot.acknowledgeOnClose]); }\r\n\r\n  static show(): void {\r\n    ChangelogRoot.generate();\r\n    ChangelogRoot.popup.show(); }\r\n\r\n  static acknowledgeOnClose(): void { localStorage.setItem(ReservedStorageKey.versionAcknowledged, ChangelogRoot.latestVersion); }\r\n\r\n  static CheckUpdates() {\r\n    ChangelogRoot.generate();\r\n    let acknowledgedVersion: string = localStorage.getItem(ReservedStorageKey.versionAcknowledged);\r\n    if (acknowledgedVersion !== ChangelogRoot.latestVersion) ChangelogRoot.show();\r\n  }\r\n}\r\n\r\n","export default \"\\r\\n.consoleRoot{\\r\\n  color: var(--mainFontColor);\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  font-family: monospace,monospace;\\r\\n  position: relative;\\r\\n  max-width: 100%;\\r\\n  max-height: 100%;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  overflow-y: auto;\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n}\\r\\n.consoleContent{\\r\\n  width: 100%;\\r\\n}\\r\\n.inputLine{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin-top: auto;\\r\\n}\\r\\n.inputEcho, .input, .output, .suggestion{\\r\\n  width: 100%;\\r\\n  /* padding: 16px 4px;*/\\r\\n  padding-top: 0.5em;\\r\\n  padding-bottom: 0.5em;\\r\\n  padding-left: 5em;\\r\\n  line-height: 1.5;\\r\\n}\\r\\n.input{\\r\\n  -webkit-box-flex: 0;\\r\\n          flex-grow: 0;\\r\\n  flex-shrink: 0;\\r\\n  width: auto;\\r\\n}\\r\\n.input:focus{\\r\\n  outline: none;\\r\\n}\\r\\n.suggestion{\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  width: auto;\\r\\n  padding-left: 0;\\r\\n  cursor: text;\\r\\n}\\r\\n.inputEcho{\\r\\n  font-style: italic;\\r\\n}\\r\\n.inputEcho:before, .input:before, .output:before{\\r\\n  content: '> ';\\r\\n  color: palevioletred;\\r\\n  vertical-align: top; }\\r\\n.input:before {\\r\\n  color: #FC3565;\\r\\n  margin-left: -1rem;\\r\\n  cursor: text;\\r\\n}\\r\\n.output:before {\\r\\n  color: #5F8787;\\r\\n  font-weight: 600 !important;\\r\\n}\\r\\n.suggestion{\\r\\n  color: gray;\\r\\n}\\r\\n.error {\\r\\n  color: palevioletred;\\r\\n}\\r\\n.console_error, .console_input{\\r\\n  display: inline-block;\\r\\n  color: red;\\r\\n}\\r\\n/*\\r\\n.output-cmd:before {\\r\\n  content: '> ';\\r\\n  color: #FC3565;\\r\\n  vertical-align: top;\\r\\n}*/\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9jb25zb2xlL2NvbnNvbGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7RUFDRSwyQkFBMkI7RUFDM0IsNENBQTRDO0VBQzVDLGdDQUFnQztFQUNoQyxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixvQkFBYTtFQUFiLGFBQWE7RUFDYiw0QkFBaUI7RUFBakIsNkJBQWlCO1VBQWpCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsV0FBVztBQUNiO0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLFdBQVc7RUFDWCxzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixpQkFBaUI7RUFDakIsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxtQkFBWTtVQUFaLFlBQVk7RUFDWixjQUFjO0VBQ2QsV0FBVztBQUNiO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLG1CQUFZO1VBQVosWUFBWTtFQUNaLFdBQVc7RUFDWCxlQUFlO0VBQ2YsWUFBWTtBQUNkO0FBQ0E7RUFDRSxrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLGFBQWE7RUFDYixvQkFBb0I7RUFDcEIsbUJBQW1CLEVBQUU7QUFDdkI7RUFDRSxjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLFlBQVk7QUFDZDtBQUNBO0VBQ0UsY0FBYztFQUNkLDJCQUEyQjtBQUM3QjtBQUNBO0VBQ0UsV0FBVztBQUNiO0FBQ0E7RUFDRSxvQkFBb0I7QUFDdEI7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixVQUFVO0FBQ1o7QUFDQTs7Ozs7RUFLRSIsImZpbGUiOiJzcmMvZ3VpRWxlbWVudHMvY29uc29sZS9jb25zb2xlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmNvbnNvbGVSb290e1xyXG4gIGNvbG9yOiB2YXIoLS1tYWluRm9udENvbG9yKTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQmFja2dyb3VuZENvbG9yKTtcclxuICBmb250LWZhbWlseTogbW9ub3NwYWNlLG1vbm9zcGFjZTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIG1heC1oZWlnaHQ6IDEwMCU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWZsb3c6IGNvbHVtbjtcclxufVxyXG4uY29uc29sZUNvbnRlbnR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuLmlucHV0TGluZXtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi10b3A6IGF1dG87XHJcbn1cclxuLmlucHV0RWNobywgLmlucHV0LCAub3V0cHV0LCAuc3VnZ2VzdGlvbntcclxuICB3aWR0aDogMTAwJTtcclxuICAvKiBwYWRkaW5nOiAxNnB4IDRweDsqL1xyXG4gIHBhZGRpbmctdG9wOiAwLjVlbTtcclxuICBwYWRkaW5nLWJvdHRvbTogMC41ZW07XHJcbiAgcGFkZGluZy1sZWZ0OiA1ZW07XHJcbiAgbGluZS1oZWlnaHQ6IDEuNTtcclxufVxyXG4uaW5wdXR7XHJcbiAgZmxleC1ncm93OiAwO1xyXG4gIGZsZXgtc2hyaW5rOiAwO1xyXG4gIHdpZHRoOiBhdXRvO1xyXG59XHJcbi5pbnB1dDpmb2N1c3tcclxuICBvdXRsaW5lOiBub25lO1xyXG59XHJcbi5zdWdnZXN0aW9ue1xyXG4gIGZsZXgtZ3JvdzogMTtcclxuICB3aWR0aDogYXV0bztcclxuICBwYWRkaW5nLWxlZnQ6IDA7XHJcbiAgY3Vyc29yOiB0ZXh0O1xyXG59XHJcbi5pbnB1dEVjaG97XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG59XHJcbi5pbnB1dEVjaG86YmVmb3JlLCAuaW5wdXQ6YmVmb3JlLCAub3V0cHV0OmJlZm9yZXtcclxuICBjb250ZW50OiAnPiAnO1xyXG4gIGNvbG9yOiBwYWxldmlvbGV0cmVkO1xyXG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7IH1cclxuLmlucHV0OmJlZm9yZSB7XHJcbiAgY29sb3I6ICNGQzM1NjU7XHJcbiAgbWFyZ2luLWxlZnQ6IC0xcmVtO1xyXG4gIGN1cnNvcjogdGV4dDtcclxufVxyXG4ub3V0cHV0OmJlZm9yZSB7XHJcbiAgY29sb3I6ICM1Rjg3ODc7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMCAhaW1wb3J0YW50O1xyXG59XHJcbi5zdWdnZXN0aW9ue1xyXG4gIGNvbG9yOiBncmF5O1xyXG59XHJcbi5lcnJvciB7XHJcbiAgY29sb3I6IHBhbGV2aW9sZXRyZWQ7XHJcbn1cclxuXHJcbi5jb25zb2xlX2Vycm9yLCAuY29uc29sZV9pbnB1dHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgY29sb3I6IHJlZDtcclxufVxyXG4vKlxyXG4ub3V0cHV0LWNtZDpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6ICc+ICc7XHJcbiAgY29sb3I6ICNGQzM1NjU7XHJcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcclxufSovXHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport {M2Class, IModel, Model, ModelPiece, Status, U, IClass, ansiUp} from '../../common/Joiner';\r\nimport KeyUpEvent = JQuery.KeyUpEvent;\r\nimport * as util from 'util';\r\n\r\n// @ts-ignore\r\n@Component({\r\n  selector: 'app-console',\r\n  templateUrl: './console.component.html',\r\n  styleUrls: ['./console.component.css']\r\n})\r\nexport class ConsoleComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\nexport class MyConsole {\r\n  static console: MyConsole;\r\n  container: HTMLElement = null;\r\n  content: HTMLElement = null;\r\n  inputLine: HTMLElement = null;\r\n  input: HTMLElement = null;\r\n  suggestion: HTMLElement = null;\r\n  position: number;\r\n  commandindex = 0;\r\n  commandHistory: string[] = [];\r\n  newline = '<br/>';\r\n  tab = '&nbsp;&nbsp;&nbsp;&nbsp;';\r\n  constructor() {\r\n    MyConsole.console = this;\r\n    const $consoleRoot = $('.consoleRoot');\r\n    const $inputLine = $consoleRoot.find('.inputLine');\r\n    this.container = $consoleRoot[0];\r\n    this.content = $consoleRoot.find('.consoleContent')[0];\r\n    this.inputLine = $inputLine[0];\r\n    this.input = $consoleRoot.find('span.input')[0];\r\n    this.suggestion = $consoleRoot.find('.suggestion')[0];\r\n    $inputLine.off('keydown.input').on('keydown.input', (e: KeyDownEvent) => { this.onKeyDown(e); });\r\n    $inputLine.off('keyup.input').on('keyup.input', (e: KeyUpEvent) => { this.onKeyUp(e); });\r\n    $(this.suggestion).off('mousedown.focus').on('mousedown.focus', (e: KeyUpEvent) => {\r\n      console.log(this.input, '.focus()');\r\n      e.preventDefault();\r\n      this.input.focus(); });\r\n  }\r\n  onKeyUp(e: KeyUpEvent): void {\r\n    switch (e.key) {\r\n      default: this.scrollBottom(); break;\r\n      case 'ArrowUp': case 'Enter':\r\n        this.scrollBottom(); break;\r\n    }\r\n  }\r\n  getText(): string { return (this.input.innerText + this.suggestion.innerText).trim(); }\r\n/*\r\n* azioni:\r\n* arrowUp: history--\r\n* arrowDown: history++\r\n* enter: apply suggestion, if suggestion is empty executes the user input as command\r\n* escape: delete suggestion, if suggestion is empty deletes user input too\r\n* tab: iterate through suggestion list\r\n* */\r\nsuggestionArray: string[] = [];\r\nsuggestionIndex: number = -1;\r\n  onKeyDown(e: KeyDownEvent): void {\r\n    switch (e.key) {\r\n      case 'Enter':\r\n        this.position = 0;\r\n        if (this.suggestion.innerText.length !== 0) {\r\n          this.input.innerText += this.suggestion.innerText;\r\n          this.suggestion.innerText = '';\r\n          this.suggestionArray = [];\r\n          break; }\r\n        this.command(this.getText());\r\n        return;\r\n      case 'Backspace':\r\n        if (this.position === 0) { break; }\r\n        this.generateSuggestion();\r\n        break;\r\n      case 'Escape':\r\n        if (this.suggestion.innerText.length > 0) { this.suggestion.innerText = ''; break; }\r\n        this.input.innerText = '';\r\n        break;\r\n      case 'Tab':\r\n        this.inputLine.focus();\r\n        this.iterateNextSuggestion();\r\n        break;\r\n      case 'ArrowUp':\r\n        e.preventDefault(); // avoid scroll.\r\n        this.suggestionIndex = -1;\r\n        this.suggestionArray = [];\r\n        this.suggestion.innerText = '';\r\n        if (--this.commandindex === -1) { this.commandindex = this.commandHistory.length - 1; }\r\n        this.commandindex = (this.commandindex % this.commandHistory.length);\r\n        this.input.innerText = this.commandHistory[this.commandindex];\r\n        this.position = this.input.innerText.length - 1;\r\n        console.log('command[' + (this.commandindex) + '/' + this.commandHistory.length + '] = ' +\r\n          this.commandHistory[this.commandindex], 'arr:', this.commandHistory);\r\n        break;\r\n      case 'ArrowDown':\r\n        e.preventDefault(); // avoid scroll.\r\n        this.suggestionIndex = -1;\r\n        this.suggestionArray = [];\r\n        this.suggestion.innerText = '';\r\n        this.commandindex = (++this.commandindex % this.commandHistory.length);\r\n        this.input.innerText = this.commandHistory[this.commandindex];\r\n        this.position = this.input.innerText.length - 1;\r\n        console.log('command[' + (this.commandindex) + '/' + this.commandHistory.length + '] = ' +\r\n          this.commandHistory[this.commandindex], 'arr:', this.commandHistory);\r\n        break;\r\n      case 'ArrowRight':\r\n        if (this.position !== this.input.innerText.length - 1 || this.suggestion.innerText.length === 0) break;\r\n        this.position++;\r\n        this.input.innerText += this.suggestion.innerText.charAt(0);\r\n        this.generateSuggestion();\r\n        break;\r\n      case 'ArrowLeft':\r\n        this.position = Math.max(0, this.position - 1);\r\n        this.suggestion.innerText = '';\r\n        break;\r\n      default:\r\n        // this.input.innerHTML += e.key === ' ' ? '&nbsp;' : e.key;\r\n        this.generateSuggestion();\r\n        this.scrollBottom();\r\n        break;\r\n    }\r\n  }\r\n  scrollBottom(): void {\r\n    console.log('scrollBottom()');\r\n    // this.container.scrollTop = this.inputLine.offsetHeight;\r\n    this.container.scrollTop = this.content.offsetHeight;\r\n  }/*\r\n  todo:\r\n    comando \"setcontext\" stessi parametri di getinfo, imposta l'oggetto root.\r\n    comando \"getcontext\" senza parametri, risponde con l'oggetto root, visualizzato come getinfo.*/\r\n  command(str: string): void {\r\n    str = U.replaceAll(str, ' ', ' ').trim(); // &nbsp; with space\r\n    console.log('myConsole.command(' + str + ')');\r\n    this.commandHistory.push(str);\r\n    // così quando fa keyUp si ritrova l'ultimo comando, se fa keyDown il 2°.\r\n    // dovrei dargli il 1° ma servirebbe un bool o un valore decimale (.5) per metterlo in una posizione tra l'ultimo e il primo\r\n    // invece di sovrapposto al primo o all'ultimo (ho scelto di sovrapporlo al primo).\r\n    this.commandindex = 0;\r\n    this.input.innerText = this.suggestion.innerText = '';\r\n    this.appendInput(str);\r\n    this.appendOutput(this.execCommand(str));\r\n    this.scrollBottom();\r\n  }\r\n  appendInput(str: string, compoundCommandPart: boolean = false): void {\r\n    const input: HTMLElement = document.createElement('div');\r\n    input.setAttribute('tabindex', '-1');\r\n    input.classList.add('inputEcho');\r\n    if (compoundCommandPart) { input.classList.add('compoundCommandPart'); }\r\n    input.innerHTML = str;\r\n    this.content.appendChild(input); }\r\n\r\n  appendOutput(str: string, compoundCommandPart: boolean = false): void {\r\n    if (str === '') { return; } // CLS special rule\r\n    U.pe(!str, 'null output');\r\n    const output: HTMLElement = document.createElement('div');\r\n    output.setAttribute('tabindex', '-1');\r\n    output.classList.add('output');\r\n    if (compoundCommandPart) { output.classList.add('compoundCommandPart'); }\r\n    output.innerHTML = str;\r\n    this.content.appendChild(output); }\r\n\r\n  exampleFormatting(s: string): string {\r\n    const es = '<b style=\"color: forestgreen;\">&lt;';\r\n    const ee = '&gt;</b>';\r\n    return  es + s + ee; }\r\n  optionalFormatting(s: string): string {\r\n      const os = '<i style=\"color: cornflowerblue;\">[';\r\n      const oe = ']</i>';\r\n      return  os + s + oe; }\r\n  commandFormatting(s: string): string { return '&nbsp;&nbsp;○&nbsp;' + s + this.newline; }\r\n  xmp(str: string): string { return '<xmp style=\"display: inline;\">' + str + '</xmp>'; }\r\n  descriptionFormatting(s: string): string { return this.tab + '<span style = \"color: lightsteelblue;\">' + s + '</span>' + this.newline; }\r\n  help(): string {\r\n    const nl = this.newline;\r\n    const tab = this.tab;\r\n    const desc = (s) => this.descriptionFormatting.call(this, s);\r\n    const command = (s) => this.commandFormatting.call(this, s);\r\n    const e = (s) => this.exampleFormatting.call(this, s);\r\n    const o = (s) => this.optionalFormatting.call(this, s);\r\n    return '' +\r\n      'Available Commands:' + this.newline +\r\n      'Normal text like this means literal constants.' + this.newline +\r\n      e('Text like this') + ' are examples that should be replaced without brakets' + this.newline +\r\n      o('Text like this') + ' are optional parameters' + this.newline +\r\n      e('leftCommand') + '|' + e('rightCommand') + ' The vertical bar means \"OR\", you must choose to insert the left or the ' +\r\n      'right command piece or argument.' + this.newline +\r\n      // 'Non-underlined text is just comments and explanations.' + this.newline +\r\n      'Commands executed without arguments or preceded by the \"?\" prefix will show the command guide.' + this.newline +\r\n      // '••••'\r\n      command('info ' + e('className') + o('.' + e('attributeName') + '|' + e('referenceName') + '|')) +\r\n      desc('Visualizza informationi riguardo la classe, reference o attributo fornito dal parametro.') +\r\n      command('cc ' + e('Comando Composito') ) +\r\n      desc('Consente di concatenare ed eseguire multipli comandi elementari in una sola linea di comando composita, ' +\r\n        'di utilizzare l\\'output di un comando come parte dei parametri input di altri comandi e di poter eseguire un qualsiasi ' +\r\n        'codice javascript che interagisca con l\\'output dei comandi console') +\r\n      command('raw ' + e('ProssimoComando') ) +\r\n      desc('Esegue il prossimo comando mostrandone l\\'output come testo grezzo invece che come html ' +\r\n        'per individuare eventuali errori nell\\'html impedendo che il browser esegua la correzione automatica, nascondendo il problema.') +\r\n      command('cls' ) +\r\n      desc(this.cls_Help());\r\n  }\r\n\r\n  execCommand(str: string): string {\r\n    str = str.trim();\r\n    const pos = str.indexOf(' ');\r\n    let command = (pos > 0 ? str.substring(0, pos) : str).toLowerCase();\r\n    const params = str.substring(pos).trim();\r\n    console.log('com: \"' + command + '\", par: \"' + params + '\"; pos:' + pos + '; str:' + str);\r\n    if (params === '/?' || params === 'help') { command = '?' + command; }\r\n    switch (command) {\r\n      default:\r\n        console.log(command, str, (command === 'help'), (str === 'help'));\r\n        return 'unrecognized command: |' + this.errorFormatting(this.xmp(command))\r\n        + '| To see the full list of commands type \"help\".';\r\n      case '?h': case '?help': case '?/?':\r\n      case 'h': case 'help': case '/?': return this.help();\r\n\r\n      case '?i': case '?info': return this.getModelPieceInfo_Help();\r\n      case 'i': case 'info': return this.getModelPieceInfo(params);\r\n\r\n      case '?cc': case '?compoundcommand': return this.compoundCommand_Help();\r\n      case 'cc': case 'compoundcommand': return this.compoundCommand(params);\r\n\r\n      case '?raw': case '?debug': return this.rawDebug_Help();\r\n      case 'raw': case 'debug': return this.rawDebug(params);\r\n\r\n      case '?cls': return this.cls_Help();\r\n      case 'cls': this.cls(); return '';\r\n    }\r\n  }\r\n  compoundCommand_Help(): string {\r\n    let ret: string;\r\n    const nl = this.newline;\r\n    ret = '' +\r\n      'Consente di concatenare ed eseguire multipli comandi elementari in una sola linea di comando composita' +\r\n      ', di utilizzare l\\'output di un comando come parte dei parametri input di altri comandi' +\r\n      ' e di poter eseguire un qualsiasi codice javascript che interagisca con l\\'output dei comandi console.' + nl +\r\n      'Il corpo del comando va scritto in codice javascript, all\\'interno del quale è possibile eseguire comandi console ' + nl +\r\n      'delimitati dal carattere \"$\" come prefisso e appendice al comando desiderato, l\\'output di tale comando può essere utilizzato ' +\r\n      'dal codice javascript come se fosse una variabile o una funzione che ritorna un oggetto.' + nl +\r\n      'esempio 1:' + nl +\r\n      'cc alert(\"L\\'output del comando help è: \" + $help$);' + nl +\r\n      'È anche possibile utilizzare l\\'output di un comando come parametro di un altro comando, ' +\r\n      'aggiungendo un ulteriore delimitatore \"$\" per ogni livello di nesting dei comandi.' + nl +\r\n      'Se ipotizziamo che il ' + nl +\r\n      'esempio 2:' + nl +\r\n      'cc alert($info $$comando2$$.name$);' + nl +\r\n      'Se ad esempio l\\'output di \\\"comando2\\\" è \"Book\", il comando diventerà \"cc alert($info Book.name$);\"' +\r\n      ' e verrà poi eseguito come nell\\'esempio 1.' + nl +\r\n      'Terzo esempio ulteriormente compesso, con due compound command concatenati.' +\r\n      'cc alert($info $$cc [altro codice js]$$$comando2$$$[altro codice js] $$.name$);';\r\n    return ret; }\r\n\r\n  compoundCommand(str: string, debug: boolean = true): string {\r\n    const prefix = '$';\r\n    const fullPrefix = prefix + '';\r\n    str = str.replace(/(^\\$|(((?!\\$).|^))[\\$](?!\\$))(.*?)(^\\$|((?!\\$).|^)[\\$](?!\\$))/gm,\r\n      (match: string, capture) => {\r\n        // console.log('matched:', match, 'capture: ', capture);\r\n        if (match === '$') { return ''; }\r\n        // prefixError: un lieve fix manuale alla regexp non 100% esatta.\r\n        let prefixError = '';\r\n        if (match.charAt(0) !== '$') {\r\n          prefixError = match.charAt(0);\r\n          match = match.substring(1);\r\n        }\r\n        let subcommand = match.substring(fullPrefix.length, match.length - 1);\r\n        // todo: max nesting attuale = 3. se faccio nesting 4 allora $$$$ ---> $$\r\n        // per risolvere: sostituisci [not($)]$^n[not($)]  --->  [not($)]$^(n-1)[not($)] in pratica: riduci di una singola $.\r\n        // oppure usa 2^n volte il $ al posto di solo n volte. es 4 nested: $$$$$$$$$$$$$$$$ ---> $$$$$$$$ -> $$$$ -> $$ -> $\r\n        subcommand = U.replaceAll(subcommand, '$$', '$');\r\n        const debugtext = subcommand + '(' + match + ')';\r\n        const tmp = prefixError + '' + this.execCommand(subcommand);\r\n        this.appendInput(subcommand, true);\r\n        this.appendOutput(tmp, true);\r\n        U.pif(debug, 'replaceSingleVar: ' + debugtext + ' --> ' + tmp);\r\n        return tmp;\r\n      });\r\n    return this.execCommand(str); }\r\n\r\n  rawDebug_Help(): string {\r\n    let ret: string;\r\n    const nl = this.newline;\r\n    const e = this.exampleFormatting;\r\n    ret = 'Sintassi: ' + nl + this.commandFormatting('raw' + e('Command'));\r\n    this.descriptionFormatting('Esegue il prossimo comando mostrandone l\\'output come testo grezzo invece che come html per individuare' +\r\n      ' eventuali errori nell\\'html impedendo che il browser esegua la correzione automatica, nascondendo il problema.');\r\n    return ret; }\r\n\r\n  cls_Help(): string {\r\n    return 'Svuota la console cancellando tutti gli input e gli output dei comandi precedenti.';\r\n  }\r\n  cls(): void { U.clear(this.content); }\r\n  rawDebug(params: string): string {\r\n    let ret = this.execCommand(params);\r\n    ret = U.replaceAll(ret, '<', '&lt;');\r\n    ret = U.replaceAll(ret, '>',  '&gt;');\r\n    return '<xmp>' + (ret) + '</xmp>'; }\r\n\r\n  errorFormatting(s: string): string { return '<div class=\"console_error\">' + s + '</div>'; }\r\n\r\n  getModelPieceInfo_Help(): string {\r\n    const nl = this.newline;\r\n    let ret: string;\r\n    ret = '' +\r\n      'Displays the available sub-fields of an object accessible through the \\'.\\' operator.' + nl +\r\n      'If a name conflict arise with a childrenObject or instanceObject name, that name will be added with the \\'_\\' prefix.' + nl +\r\n      'If a name conflict arise with a property only owned by a particular model piece type (es: reference target),' +\r\n      ' that name will be added with the \\'@\\' prefix.';\r\n    return ret; }\r\n\r\n  getModelPieceInfo(name: string): string {\r\n    console.log('getModelPieceInfo:', name);\r\n    if (name.indexOf(' ') !== -1) {\r\n      return this.errorFormatting('Spaces are not allowed inside a class, attribute or reference name-path.'); }\r\n    const tokens: string[] = name.split('.');\r\n    const modelPrio = Status.status.getActiveModel();\r\n    let info = this.getModelPieceInfoByModel(modelPrio, tokens);\r\n    if (info) { return this.stringify(info); }\r\n    // info = this.getModelPieceInfoByModel(modelPrio.isMM() ? Status.status.m : Status.status.mm, tokens);\r\n    info = this.getModelPieceInfoByModel(modelPrio.isMM() ? Status.status.m : Status.status.mm, tokens);\r\n    if (info) { return this.stringify(info); }\r\n    return this.errorFormatting('\"' + name + '\" is not matching any class, attribute or reference name-path.'); }\r\n\r\n  stringify(obj: any): string {\r\n    let str: string = util.inspect(obj, false, 0, true);\r\n    str = ansiUp.ansi_to_html(str);\r\n    return str; }\r\n\r\n  stringify_Old(obj: any): string {\r\n    const duplicateChecker: any[] = [];\r\n    return JSON.stringify(obj, (key: string, value: any) => {\r\n      if (!value) { return value; }\r\n      if ($.isEmptyObject(value)) { return '{}'; }\r\n      if (U.isObject(value)) { return '{' + U.getTSClassName(value) + '(' + U.fieldCount(value) + ' fields)}'; }\r\n      if (U.isArray(value)) { return '[Array(' + value.length + ')]'; }\r\n      if (duplicateChecker.indexOf(value) === -1) { return '{_CIRCULAR_REFERENCE_}'; }\r\n      duplicateChecker.push(value);\r\n      return '' + value; }); }\r\n\r\n  getModelPieceInfoByModel(m: IModel, tokens: string[], debug: boolean = true): any {\r\n    const toLower = true;\r\n    const classes: IClass[] = m.getAllClasses();\r\n    debug = true;\r\n    let i = -1;\r\n    if (toLower) { while (++i < tokens.length) { tokens[i] = toLower ? tokens[i].toLowerCase() : tokens[i]; } }\r\n    i = -1;\r\n    let current: IClass = null;\r\n    while (++i < classes.length) {\r\n      const classe = classes[i];\r\n      U.pe(!classe.name, 'err');\r\n      if (!classe.name) { return null; }\r\n      U.pif(debug, tokens[0] + '===' + classe.name + ' ? ' + (classe.name.toLowerCase() === tokens[0]));\r\n      if (classe.name.toLowerCase() === tokens[0]) { current = classe; break; }\r\n    }\r\n    let ret: any = current;\r\n    U.pif(debug, 'tokens:', tokens);\r\n    i = 0;\r\n    while (++i < tokens.length) {\r\n      const oldRet = ret;\r\n      U.pif(debug, 'PRE_ret: ', oldRet, ' ---> ', ret, 'token[' + i + '/' + tokens.length + '] = |' + tokens[i] + '|, tok:', tokens);\r\n      if (ret instanceof ModelPiece) { U.pif(debug, 'Modelpiece'); ret = (ret as ModelPiece).getInfo(toLower);\r\n      } else { U.pif(debug, 'Terminale'); }\r\n      U.pif(debug, 'gotInfo:', ret);\r\n      ret = ret[tokens[i]];\r\n      U.pif(debug, 'POST_ret: ', oldRet, ' ---> ', ret, 'token[' + i + '] = |' + tokens[i] + '|');\r\n    }\r\n    if (ret instanceof ModelPiece) { return ret.getInfo(); }\r\n    return ret;\r\n  }\r\n  private iteratePrevSuggestion(): void { this.iterateSuggestionDONOTUSEDirectly(-1); }\r\n  private iterateNextSuggestion(): void { this.iterateSuggestionDONOTUSEDirectly(+1); }\r\n  private iterateSuggestionDONOTUSEDirectly(offset: number): void {\r\n    if (!this.suggestionArray.length) return;\r\n    this.suggestionIndex = Math.abs((this.suggestionIndex + offset) % this.suggestionArray.length);\r\n    this.suggestion.innerText = this.suggestionArray[this.suggestionIndex];\r\n  }\r\n  private generateSuggestion(): void {\r\n    const oldSuggestion: string = this.suggestion.innerText;\r\n    return;\r\n    // NB: after the generation, if oldSuggestion is still viable, set that index, otherwise set this.suggestionArray[0];\r\n    this.suggestion.innerText = '//GenerateSuggestion(): to do.';\r\n  }\r\n}\r\n","export default \"#damContextMenuTemplateContainer{\\r\\n  display: none;\\r\\n}\\r\\n.contextMenuRoot{\\r\\n  position: absolute;\\r\\n  display: inline-block;\\r\\n  max-height: 100vh;\\r\\n  max-width: 100vw;\\r\\n  overflow: visible;\\r\\n}\\r\\n.popupRight{ display: none; }\\r\\n.popupRightParent:hover > .popupRight { display: block; }\\r\\n.popupRight {\\r\\n  white-space: nowrap;\\r\\n  flex-wrap: nowrap;\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  padding-right: 10px; }\\r\\n.refli .firstempty{\\r\\n  width: 100%;\\r\\n}\\r\\n.refli button.byindex {\\r\\n  margin-left: 5px;\\r\\n}\\r\\n.popupRightParent{\\r\\n  position: relative;\\r\\n}\\r\\n.refli .index {\\r\\n  padding-left: 3px;\\r\\n  color: orange;\\r\\n}\\r\\n.refli .text{\\r\\n  padding-left: 5px;\\r\\n  padding-right: 5px;\\r\\n}\\r\\nbutton.refli.delete{\\r\\n  padding: 0 4px;\\r\\n  margin-left: auto;\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n}\\r\\n.popupRight {\\r\\n  display: none;\\r\\n  left: calc(100%);\\r\\n  position: absolute;\\r\\n  background: white;\\r\\n  border: 1px solid black;\\r\\n  border-left: none;\\r\\n  padding: 2px 5px;\\r\\n  padding-right: 0;\\r\\n  top: 0;\\r\\n}\\r\\nul.contextMenu{\\r\\n  border: 1px solid black;\\r\\n  background-color: white;\\r\\n  padding: 10px;\\r\\n  padding-top: 6px;\\r\\n  padding-bottom: 8px;\\r\\n  padding-right: 0;\\r\\n}\\r\\nli:first-child{\\r\\n  padding-top: 0;\\r\\n}\\r\\nli.separator{\\r\\n  margin-top: 2px;\\r\\n  height: 1px;\\r\\n  padding: 0;\\r\\n  background-color: gray;\\r\\n  opacity: 0.4;\\r\\n}\\r\\nli:last-child{\\r\\n  border-bottom: none;\\r\\n}\\r\\nli{\\r\\n  display: block;\\r\\n  cursor: default;\\r\\n  font-size: 0.75rem;\\r\\n  padding-top: 2px;\\r\\n  padding-right: 10px;\\r\\n  color: var(--mainFontColor);\\r\\n}\\r\\nli:not(.unclickable):hover{\\r\\n  padding-left: 5px;\\r\\n  padding-right: 5px;\\r\\n  color: dodgerblue;\\r\\n}\\r\\nli:hover li{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  /*cursor: default;*/\\r\\n  font-size: 0.75rem;\\r\\n  padding-top: 2px;\\r\\n  padding-right: 10px;\\r\\n  color: var(--mainFontColor); }\\r\\nli:hover li:not(.unclickable):hover{\\r\\n  padding-left: 5px;\\r\\n  padding-right: 5px;\\r\\n  color: dodgerblue;\\r\\n}\\r\\n.typeli.dynamic, .refli.dynamic{\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9kYW0tY29udGV4dC1tZW51L2RhbS1jb250ZXh0LW1lbnUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtBQUNuQjtBQUNBLGFBQWEsYUFBYSxFQUFFO0FBQzVCLHdDQUF3QyxjQUFjLEVBQUU7QUFDeEQ7RUFDRSxtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLG9CQUFhO0VBQWIsYUFBYTtFQUNiLG1CQUFtQixFQUFFO0FBQ3ZCO0VBQ0UsV0FBVztBQUNiO0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLGFBQWE7QUFDZjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixvQkFBYTtFQUFiLGFBQWE7QUFDZjtBQUNBO0VBQ0UsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLHVCQUF1QjtFQUN2QixpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixNQUFNO0FBQ1I7QUFDQTtFQUNFLHVCQUF1QjtFQUN2Qix1QkFBdUI7RUFDdkIsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLFVBQVU7RUFDVixzQkFBc0I7RUFDdEIsWUFBWTtBQUNkO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7QUFFQTtFQUNFLGNBQWM7RUFDZCxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsMkJBQTJCO0FBQzdCO0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLDJCQUEyQixFQUFFO0FBRS9CO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixpQkFBaUI7QUFDbkI7QUFFQTtFQUNFLGVBQWU7QUFDakIiLCJmaWxlIjoic3JjL2d1aUVsZW1lbnRzL2RhbS1jb250ZXh0LW1lbnUvZGFtLWNvbnRleHQtbWVudS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2RhbUNvbnRleHRNZW51VGVtcGxhdGVDb250YWluZXJ7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG4uY29udGV4dE1lbnVSb290e1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgbWF4LWhlaWdodDogMTAwdmg7XHJcbiAgbWF4LXdpZHRoOiAxMDB2dztcclxuICBvdmVyZmxvdzogdmlzaWJsZTtcclxufVxyXG4ucG9wdXBSaWdodHsgZGlzcGxheTogbm9uZTsgfVxyXG4ucG9wdXBSaWdodFBhcmVudDpob3ZlciA+IC5wb3B1cFJpZ2h0IHsgZGlzcGxheTogYmxvY2s7IH1cclxuLnBvcHVwUmlnaHQge1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgZmxleC13cmFwOiBub3dyYXA7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4OyB9XHJcbi5yZWZsaSAuZmlyc3RlbXB0eXtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnJlZmxpIGJ1dHRvbi5ieWluZGV4IHtcclxuICBtYXJnaW4tbGVmdDogNXB4O1xyXG59XHJcbi5wb3B1cFJpZ2h0UGFyZW50e1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG4ucmVmbGkgLmluZGV4IHtcclxuICBwYWRkaW5nLWxlZnQ6IDNweDtcclxuICBjb2xvcjogb3JhbmdlO1xyXG59XHJcbi5yZWZsaSAudGV4dHtcclxuICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbn1cclxuYnV0dG9uLnJlZmxpLmRlbGV0ZXtcclxuICBwYWRkaW5nOiAwIDRweDtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcbi5wb3B1cFJpZ2h0IHtcclxuICBkaXNwbGF5OiBub25lO1xyXG4gIGxlZnQ6IGNhbGMoMTAwJSk7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gIGJvcmRlci1sZWZ0OiBub25lO1xyXG4gIHBhZGRpbmc6IDJweCA1cHg7XHJcbiAgcGFkZGluZy1yaWdodDogMDtcclxuICB0b3A6IDA7XHJcbn1cclxudWwuY29udGV4dE1lbnV7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBwYWRkaW5nLXRvcDogNnB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbiAgcGFkZGluZy1yaWdodDogMDtcclxufVxyXG5saTpmaXJzdC1jaGlsZHtcclxuICBwYWRkaW5nLXRvcDogMDtcclxufVxyXG5saS5zZXBhcmF0b3J7XHJcbiAgbWFyZ2luLXRvcDogMnB4O1xyXG4gIGhlaWdodDogMXB4O1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JheTtcclxuICBvcGFjaXR5OiAwLjQ7XHJcbn1cclxubGk6bGFzdC1jaGlsZHtcclxuICBib3JkZXItYm90dG9tOiBub25lO1xyXG59XHJcblxyXG5saXtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgZm9udC1zaXplOiAwLjc1cmVtO1xyXG4gIHBhZGRpbmctdG9wOiAycHg7XHJcbiAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICBjb2xvcjogdmFyKC0tbWFpbkZvbnRDb2xvcik7XHJcbn1cclxubGk6bm90KC51bmNsaWNrYWJsZSk6aG92ZXJ7XHJcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbiAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gIGNvbG9yOiBkb2RnZXJibHVlO1xyXG59XHJcbmxpOmhvdmVyIGxpe1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgLypjdXJzb3I6IGRlZmF1bHQ7Ki9cclxuICBmb250LXNpemU6IDAuNzVyZW07XHJcbiAgcGFkZGluZy10b3A6IDJweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG4gIGNvbG9yOiB2YXIoLS1tYWluRm9udENvbG9yKTsgfVxyXG5cclxubGk6aG92ZXIgbGk6bm90KC51bmNsaWNrYWJsZSk6aG92ZXJ7XHJcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbiAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gIGNvbG9yOiBkb2RnZXJibHVlO1xyXG59XHJcblxyXG4udHlwZWxpLmR5bmFtaWMsIC5yZWZsaS5keW5hbWlje1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  IPackage,\r\n  IVertex,\r\n  Size,\r\n  StyleEditor,\r\n  U,\r\n  M2Class,\r\n  Point,\r\n  ModelPiece,\r\n  IFeature,\r\n  IReference,\r\n  IAttribute,\r\n  IClass,\r\n  ExtEdge,\r\n  IEdge,\r\n  IClassifier,\r\n  IModel,\r\n  MReference,\r\n  GraphPoint,\r\n  Status,\r\n  Model,\r\n  MClass,\r\n  FocusHistoryEntry,\r\n  Dictionary,\r\n  EOperation,\r\n  EParameter, EAnnotation\r\n} from '../../common/Joiner';\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseEventBase = JQuery.MouseEventBase;\r\n\r\n@Component({\r\n  selector: 'app-dam-context-menu',\r\n  templateUrl: './dam-context-menu.component.html',\r\n  styleUrls: ['./dam-context-menu.component.css']\r\n})\r\n\r\nexport class DamContextMenuComponent implements OnInit {\r\n  static contextMenu: DamContextMenuComponent = null;\r\n  private html: HTMLElement = null;\r\n  private $html: JQuery<HTMLElement> = null;\r\n  // private currentlyOpened: HTMLElement = null;\r\n  private clickTarget: Element;\r\n  private $vertexcontext: JQuery<HTMLUListElement>;\r\n  private $edgecontext: JQuery<HTMLUListElement>;\r\n  private $extedgecontext: JQuery<HTMLUListElement>;\r\n  private vertexcontext: HTMLUListElement;\r\n  private edgecontext: HTMLUListElement;\r\n  private extedgecontext: HTMLUListElement;\r\n  static staticInit() {\r\n    DamContextMenuComponent.contextMenu = new DamContextMenuComponent();\r\n    console.log('sinit contextmenu');\r\n    $(document).off('contextmenu')\r\n      .on('contextmenu', (e: ContextMenuEvent): boolean => { return DamContextMenuComponent.contextMenu.onContextMenu(e); });\r\n  }\r\n  constructor() {\r\n    this.$html = $('#damContextMenuTemplateContainer');\r\n    this.html = this.$html[0];\r\n    $(document).off('mouseup.hideContextMenu').on('mouseup.hideContextMenu', (e: MouseDownEvent) => this.checkIfHide(e));\r\n    this.$vertexcontext = this.$html.find('ul.vertex') as JQuery<HTMLUListElement>;\r\n    this.$edgecontext = this.$html.find('ul.edge') as JQuery<HTMLUListElement>;\r\n    this.$extedgecontext = this.$html.find('ul.extedge') as JQuery<HTMLUListElement>;\r\n    this.vertexcontext = this.$vertexcontext[0];\r\n    this.edgecontext = this.$edgecontext[0];\r\n    this.extedgecontext = this.$extedgecontext[0];\r\n    // no contextmenù allowed inside my contextmenù\r\n    this.$html.on('contextmenu', (e: ContextMenuEvent): boolean => { e.preventDefault(); e.stopPropagation(); return false; });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  public onContextMenu(evt: ContextMenuEvent): boolean {\r\n\r\n    console.log('sinit click contextmenu');\r\n    // evt.preventDefault(); evt.stopPropagation(); return false;\r\n    const vertex: IVertex = IVertex.getvertexByHtml(evt.target, false);\r\n    // evt.stopPropagation();\r\n    DamContextMenuComponent.contextMenu.hide();\r\n    // only if is focused input\r\n    const lastSelected: FocusHistoryEntry = U.focusHistoryEntries[U.focusHistoryElements.length - 1];\r\n    const gotSelectedNow: boolean = lastSelected && U.isParentOf(lastSelected.element, evt.target) && (new Date().valueOf() - lastSelected.time.valueOf() < 0.3 * 1000);\r\n    const isInput = U.isInput(evt.target, true, false) && !gotSelectedNow;\r\n\r\n    const clickStartedOutsideVertex: boolean = IVertex.startDragContext === null;\r\n    // quando clickStartedOutsideVertex capita contextmenu dell'input senza che sia selezionato --> non triggerare contextmenu\r\n    // quando contextmenù e gotSelectedNow fà il contextmenù personalizzato ma seleziona l'input --> non triggerare contextmenu\r\n    if (isInput && clickStartedOutsideVertex) evt.target.focus();\r\n    if (!isInput && gotSelectedNow) evt.target.blur();\r\n    // happens when rightMouseDownClicked outside a vertex and rightMouseUpped inside a vertex.\r\n    const pixelMoved: number = !clickStartedOutsideVertex ? 0 : vertex && vertex.size.tl().subtract(IVertex.startDragContext.size.tl(), false).absolute();\r\n    const gotMoved: boolean = vertex && !clickStartedOutsideVertex && pixelMoved >= vertex.tolleranzaRightClickMove;\r\n    const mp: ModelPiece = ModelPiece.get(evt);\r\n    const ret: boolean = !mp || isInput && !gotMoved;\r\n    // evt['passedThroughVertex'] = ret;\r\n    console.log('ret:', ret, 'mp:', mp, 'moved:', gotMoved, 'isInput:', isInput);\r\n    if (ret) return true; else { evt.preventDefault(); }\r\n    if (gotMoved) return ret;\r\n    DamContextMenuComponent.contextMenu.show(new Point(evt.pageX, evt.pageY), evt.target);\r\n    return ret; }\r\n\r\n\r\n  private checkIfHide(e: MouseEventBase) {\r\n    const originalTarget: Element = e.target;\r\n    const isInput: boolean = U.isInput(originalTarget, true);\r\n    const isDisabled: boolean = (originalTarget as any).disabled;\r\n    const focused: boolean = this.html.contains(document.activeElement);\r\n    const isButton: boolean = (originalTarget.tagName.toLowerCase() === 'button')\r\n      && !(originalTarget as HTMLButtonElement).disabled\r\n      && originalTarget === document.activeElement;// se la selezione non è sul bottone, per me non l'ho premuto,\r\n    // magari era un mousedown di selezione su un input terminato con mouseup su un button\r\n\r\n    const clickedOutside = !U.isParentOf(this.html, originalTarget);\r\n    console.log('isInput:', isInput, 'isButton:', isButton, 'clickedOutside:', clickedOutside, '!focused:', !focused, originalTarget, document.activeElement, e);\r\n\r\n    if (isButton || clickedOutside || !isInput && !isDisabled && !focused) { this.hide(); }\r\n\r\n  }\r\n\r\n  private computePosition(location: Point): void {\r\n    const templateSize: Size = U.sizeof(this.html);\r\n    const viewPortSize: Size = new Size(0, 0, window.innerWidth, window.innerHeight);\r\n    location.x = Math.max(0, location.x );\r\n    location.y = Math.max(0, location.y );\r\n    location.x = Math.min(viewPortSize.w - (templateSize.w), location.x );\r\n    console.log('vp.w:', viewPortSize.w, ' - t.w:', templateSize.w, ', loc.x', location.x, ', t.size:', templateSize, this.html);\r\n    console.log('vp.h:', viewPortSize.h, ' - t.h:', templateSize.h, ', loc.y', location.y, ', t.size:', templateSize, this.html);\r\n    location.y = Math.min(viewPortSize.h - (templateSize.h), location.y );\r\n    this.html.style.position = 'absolute';\r\n    this.html.style.zIndex = '1000';\r\n    this.html.style.left = '' + location.x + 'px';\r\n    this.html.style.top = '' + location.y + 'px';\r\n  }\r\n  private show(location: Point, target: Element) {\r\n    const mp: ModelPiece = ModelPiece.getLogic(target);\r\n    U.pe(!target, 'target is null.');\r\n    if (!mp) return;\r\n    console.log('contextmenu target:', this.clickTarget);\r\n    const model: IModel = mp.getModelRoot();\r\n    this.clickTarget = target;\r\n    this.html.style.display = 'none'; // if was already displaying, start the scrollDown animation without doing the scrollUp()\r\n    // const vertex: IVertex = IVertex.getvertexByHtml(target);\r\n    let edge: IEdge = IEdge.getByHtml(target);\r\n    let extedge: ExtEdge = null;\r\n    if (edge instanceof ExtEdge) { extedge = edge; edge = null; }\r\n\r\n\r\n    this.extedgecontext.style.display = 'none';\r\n    this.edgecontext.style.display  = 'none';\r\n    this.vertexcontext.style.display = 'none';\r\n    this.edgecontext.style.display = edge ? '' : 'none';\r\n    this.extedgecontext.style.display = extedge ? '' : 'none';\r\n    this.vertexcontext.style.display = !edge && !extedge ? '' : 'none';\r\n    // this.$vertexcontext.find('.Reference').hide();\r\n    this.$vertexcontext.find('.refli.dynamic').remove();\r\n    this.$vertexcontext.find('.typeli.dynamic').remove();\r\n    let i: number;\r\n //   if (vertex) {\r\n      /*\r\n      if (model.isM1()) {\r\n        this.$vertexcontext.find('.m1hide').hide();\r\n        this.$vertexcontext.find('.m2hide').show(); }\r\n      else {\r\n        this.$vertexcontext.find('.m1hide').show();\r\n        this.$vertexcontext.find('.m2hide').hide(); }*/\r\n\r\n\r\n    if (mp instanceof IClassifier) {\r\n      const lishow = ($jq: JQuery<HTMLElement>): JQuery<HTMLElement> => $jq.each((i:number, e:HTMLElement) => { e.style.display = ''; });\r\n      // this.$vertexcontext.find('.Feature').hide();\r\n      // this.$vertexcontext.find('.Vertex').show();\r\n      if (mp instanceof IClass) { this.fillTypeLi(mp, lishow); }\r\n    }\r\n    else {\r\n      if (mp instanceof MReference) {\r\n        const $refli = this.$vertexcontext.find('.refli.template');\r\n        for (i = 0; i < mp.mtarget.length; i++) {\r\n          const target = mp.mtarget[i];\r\n          const li = U.cloneHtml($refli[0], true);\r\n          li.classList.remove('template');\r\n          li.classList.add('dynamic');\r\n          li.dataset.index = '' + i;\r\n          const $li = $(li);\r\n          $li.find('.index').text('' + i);\r\n          $li.find('.text').text(target ? target.printableNameshort() : 'Empty');\r\n          $refli[0].parentNode.appendChild(li);\r\n        }\r\n        // this.$vertexcontext.find('.Reference').show();\r\n      }\r\n      /*this.$vertexcontext.find('.Feature').show();\r\n      this.$vertexcontext.find('.Vertex').hide();*/\r\n    }\r\n    const mr: MReference = mp instanceof MReference ? mp : null;\r\n    const $indexinput = this.$vertexcontext.find('input.byindex');\r\n    const upperbound = mr ? mr.metaParent.upperbound : null;\r\n    if (mr) {\r\n      if (upperbound === -1) $indexinput[0].removeAttribute('max');\r\n      else $indexinput[0].setAttribute('max', '' + upperbound);\r\n    } else $indexinput[0].setAttribute('max', '-999');\r\n//\r\n    /*\r\n    if (model.isM1()) {\r\n      this.$html.find('.m1hide').hide();\r\n      this.$html.find('.m2hide').show();\r\n    }\r\n    else {\r\n      this.$html.find('.m1hide').show();\r\n      this.$html.find('.m2hide').hide();\r\n    }*/\r\n\r\n    let dic: Dictionary<string, boolean> = {};\r\n    dic['m1'] = model.isM1();\r\n    dic['m2'] = model.isM2();\r\n    dic['class'] = mp instanceof IClass;\r\n    dic['classifier'] = mp instanceof IClassifier;\r\n    dic['feature'] = mp instanceof IFeature;\r\n    dic['attribute'] = mp instanceof IAttribute;\r\n    dic['reference'] = mp instanceof IReference;\r\n    dic['operation'] = mp instanceof EOperation;\r\n    dic['param'] = mp instanceof EParameter;\r\n    dic['annotation'] = mp instanceof EAnnotation;\r\n    dic['edge'] = !!edge;\r\n    dic['extedge'] = !!extedge;\r\n    let ret = U.computeConditionalHides(this.$html, dic);\r\n    console.log('rrer', ret);\r\n    if (ret.show.length + ret.inaltered.length === 0) return;\r\n    this.addEventListeners(location, mp); // [??? what?] must be done here, per facilità di fare binding usando variabili esterne agli eventi.\r\n    this.computePosition(location);\r\n    // computePosition() needs to be after deciding sub-elements visibility and before sliding down, because needs to compute\r\n    // the final height with correct children display and without slideDown temporary height hard-limiter with inline css.\r\n    this.$html.slideDown();\r\n  }\r\n  private hide(): void {\r\n    this.$html.slideUp();\r\n  }\r\n\r\n  private fillTypeLi(mp: IClass, lishow: ($jq: JQuery<HTMLElement>) => JQuery<HTMLElement>): void {\r\n    let i: number;\r\n    const $typeli = this.$vertexcontext.find('.typeli.template');\r\n    const $fallback = this.$vertexcontext.find('.typeli.fallback').hide();\r\n    const containerli: HTMLElement = $typeli[0].parentElement;\r\n    const isM2: boolean = mp instanceof M2Class;\r\n    const m2Class: M2Class = (isM2 ? mp : mp.metaParent) as M2Class;\r\n    if (isM2 && mp.instances.length === 0) {\r\n      $(containerli).find('.typeli').hide();\r\n      lishow($fallback.text(\"This class does not have any instances to convert.\"));\r\n      return; }\r\n\r\n    const separator: HTMLElement = $(containerli).find('.separator')[0];\r\n    const arr = m2Class.getTypeConversionScores(true, true);\r\n\r\n    if (arr.length === 0) {\r\n      $(containerli).find('.typeli').hide();\r\n      lishow($fallback.text(\"This class does not have any super or subclass available for conversion.\"));\r\n      return; } else\r\n    if (arr.length === 1) {\r\n      lishow($(containerli).find('.typeli'));\r\n      $(containerli).find('.typeli.description, .typeli.separator').hide();\r\n    } else lishow($(containerli).find('.typeli'));\r\n\r\n    $fallback.hide();\r\n    for (i = 0; i < arr.length; i++) {\r\n      const li = U.cloneHtml($typeli[0], true);\r\n      const element = arr[i];\r\n      const popuptxt: string = \"Features: \" + (element.features >= 0 ? \"+\" : \"\") + element.features +\r\n        \"; Operations: \" + (element.operations >= 0 ? \"+\" : \"\") +element.operations +\r\n        \"; Annotations: \" + (element.annotations >= 0 ? \"+\" : \"\") +element.annotations + \";\"\r\n      li.classList.remove('template');\r\n      li.classList.add('dynamic');\r\n      li.setAttribute(\"title\", popuptxt);\r\n      li.dataset.index = '' + i;\r\n      li.dataset.classID = '' + element.class.getID();\r\n      const $li = $(li);\r\n      // $li.find('.index').text('' + i);\r\n      $li.find('.text').text(element.class.printableNameshort());\r\n      if (i === 0) containerli.insertBefore(li, separator);\r\n      else containerli.appendChild(li);\r\n    }\r\n  }\r\n\r\n  private addEventListeners(location: Point, m: ModelPiece) {\r\n    const graphLocation: GraphPoint = Status.status.getActiveModel().graph.toGraphCoord(location);\r\n    const html = this.html;\r\n    const $html = $(html);\r\n    // const v: IVertex = IVertex.getvertexByHtml(this.clickTarget);\r\n    // const m: ModelPiece = ModelPiece.getLogic(this.clickTarget);\r\n    console.log('contextMenu target:', this.clickTarget, 'modelPiece:', m);\r\n    const mr: MReference = m instanceof MReference ? m : null;\r\n    const $indexinput: JQuery<HTMLInputElement> = $html.find('input.byindex') as JQuery<HTMLInputElement>;\r\n    const upperbound = mr ? mr.getUpperbound() : null;\r\n    U.pe(!m, 'mp null:', m, this.clickTarget);\r\n\r\n    const $firstempty = $html.find('.refli .firstempty') as JQuery<HTMLButtonElement>;\r\n    let $byindexInputAndButton = ($html.find('.refli .byindex') as JQuery<HTMLButtonElement>);\r\n    console.log($byindexInputAndButton);\r\n    $byindexInputAndButton.each(\r\n      (index: number, el: HTMLButtonElement): false | void => { el.disabled = mr && upperbound === 0});\r\n    $firstempty[0].disabled = mr && upperbound === 0;\r\n\r\n    $html.find('.refli .firstempty').off('click.setref').on('click.setref', (e: ClickEvent) => {\r\n      let index = mr.getfirstEmptyTarget();\r\n      if (index === -1) { U.pw(true, 'This reference is already filled to his upperbound.'); e.preventDefault(); e.stopPropagation(); return; }\r\n      U.pw(upperbound === 0, 'Before setting a reference change set an Upperbound != 0 for his m2 counterpart.');\r\n      if(upperbound === 0) return;\r\n      const edge: IEdge = mr.edges[index];\r\n      if (!edge) {\r\n        const tmpend: GraphPoint = GraphPoint.fromEvent(e);\r\n        new IEdge(mr, index, m.getVertex(), null, tmpend);\r\n        return; }\r\n      IVertex.linkVertexMouseDown(null, edge, graphLocation);\r\n    });\r\n    $html.find('.refli button.byindex').off('click.setref').on('click.setref', (e: ClickEvent) => {\r\n      let index: number = +$indexinput[0].value;\r\n      if (index < 0 || ( upperbound > 0 && index >= upperbound)) {\r\n        U.pw(true, 'invalid reference index. It must be a value inside the [0,' + upperbound + '] interval.');\r\n        return; }\r\n      const edge: IEdge = mr.edges[index] ? mr.edges[index] : new IEdge(mr, index, m.getVertex(), null, null);\r\n      IVertex.linkVertexMouseDown(null, edge, graphLocation);\r\n    });\r\n    console.log('refli dynamic setup', $html.find('li.refli.dynamic').length);\r\n    $html.find('li.refli.dynamic').off('click.setref').on('click.setref', (e: ClickEvent) => {\r\n      const index: number = +e.currentTarget.dataset.index;\r\n      console.log('refli dynamic click');\r\n      console.log('setting reference[' + index + '] = ', mr.mtarget[index], mr);\r\n      const edge: IEdge = mr.edges[index] ? mr.edges[index] : new IEdge(mr, index, m.getVertex(), null, null);\r\n      IVertex.linkVertexMouseDown(null, edge, graphLocation);\r\n    });\r\n    $html.find('li.typeli.dynamic').off('click.changetype').on('click.changetype', (e: ClickEvent) => {\r\n      const newType: M2Class = ModelPiece.getByID(+e.currentTarget.dataset.classID) as M2Class;\r\n      U.pe(!(m instanceof IClass), \"tryed to change type of non-class element.\", m, e);\r\n      U.pe(!(newType instanceof M2Class), \"tryed to change type into non-class element.\", newType, e);\r\n      console.log('typeli dynamic click, changing type of: ', m, ' into: ', newType, this);\r\n      if (m instanceof M2Class) m.convertInstancesTo(newType);\r\n      if (m instanceof MClass) m.convertTo(newType);\r\n    });\r\n    // U.pe(true, $html.find('li.refli.dynamic'), $html);\r\n    $html.find('button.refli.delete').off('click.setref').on('click.setref', (e: ClickEvent) => {\r\n      e.preventDefault(); e.stopPropagation(); // impedisco di nascondere il contextmenù per tanto poco\r\n      const li = e.currentTarget.parentNode;\r\n      const index: number = li.dataset.index;\r\n      U.pe(!index || U.isNumber(index), 'failed to get index.');\r\n      mr.setTarget(index, null);\r\n      $(li).find('.text').text('Empty');\r\n    });\r\n    $html.find('.Vertex.duplicate').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.duplicate('_Copy', m.parent); });\r\n    $html.find('.Vertex.delete').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.delete(true); });\r\n    $html.find('.Vertex.minimize').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.getVertex().minimize(); });\r\n    $html.find('.Vertex.extend').off('click.ctxMenu').on('click.ctxMenu', (e: ClickEvent) => {\r\n      new ExtEdge(m as M2Class, m.getVertex(), null, GraphPoint.fromEvent(e));\r\n    });\r\n    $html.find('.Vertex.up').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.pushDown(true); m.getModelRoot().refreshGUI_Alone(); }); // must be the opposite of the text\r\n    $html.find('.Vertex.down').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.pushUp(true); m.getModelRoot().refreshGUI_Alone(); }); // must be the opposite of the text\r\n    $html.find('.Vertex.editStyle').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { U.pw(true, 'deprecato'); /*StyleEditor.editor.show(m);*/ });\r\n\r\n    $html.find('.Feature.autofix').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { alert('autofix conformity: todo.'); });\r\n    $html.find('.Feature.autofixinstances').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { alert('autofix instances: todo.'); });\r\n    $html.find('.Feature.duplicate').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.duplicate('_Copy', m.parent); m.refreshGUI(); });\r\n    $html.find('.Feature.delete').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.delete(true); });\r\n    $html.find('.Feature.minimize').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.getVertex().minimize(); });\r\n    $html.find('.Feature.up').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.pushUp(false); m.refreshGUI(); });\r\n    $html.find('.Feature.down').off('click.ctxMenu').on('click.ctxMenu',\r\n      (e: ClickEvent) => { m.pushDown(false); m.refreshGUI(); });\r\n\r\n  }\r\n}\r\n","export default \".RatioBox{\\r\\n  position: relative;\\r\\n  width: 50%;\\t\\t/* desired width */\\r\\n}\\r\\n.RatioBox:before{\\r\\n  content: \\\"\\\";\\r\\n  display: block;\\r\\n  padding-top: 100%; \\t/* initial ratio of 1:1*/\\r\\n}\\r\\n.RatioContent{\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  right: 0;\\r\\n}\\r\\n.sidebarClassContainer{\\r\\n  padding-top: 16px;\\r\\n  padding-left: 10px;\\r\\n  padding-right: 5px;\\r\\n}\\r\\n.sidebarNode{\\r\\n  cursor: pointer;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n.sidebarNodeName{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin: auto;\\r\\n}\\r\\n.modelTab{\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  margin-top: -11px;\\r\\n}\\r\\n.mat-tab-label{\\r\\n  border-top-left-radius: 20px;\\r\\n  border-top-right-radius: 20px;\\r\\n  border: var(--mainBorder);\\r\\n  border-bottom: unset;\\r\\n  opacity: 1 !important;\\r\\n  width: 160px !important;\\r\\n}\\r\\n.mat-tab-label.mat-tab-label-active{\\r\\n  background-color: var(--mainBorderColor);}\\r\\n.mat-tab-label{\\r\\n  background-color: var(--mainBackgroundColor);}\\r\\n.mat-tab-label-container{\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  border-bottom: var(--mainBorder);\\r\\n}\\r\\n/* property bar raws */\\r\\n.propertyTab{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  height: 40px;\\r\\n}\\r\\nh2.rawTitle{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n.rawecore{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-flex:1;\\r\\n          flex-grow:1;\\r\\n  flex-shrink:1;\\r\\n}\\r\\n/*\\r\\n\\r\\n.tablist{\\r\\n  display: inline-block;\\r\\n  padding: 0px;\\r\\n  margin: 0px;\\r\\n}\\r\\n.tabButton{\\r\\n  cursor: default;\\r\\n  display: inline-block;\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  border: var(--mainBorder);\\r\\n  border-top-left-radius: 10px;\\r\\n  border-top-right-radius: 10px;\\r\\n  padding: 3px 15px;\\r\\n\\r\\n}\\r\\n.tabButton[data-tabselected=\\\"true\\\"]{\\r\\n  background-color: var(--mainBorderColor); }\\r\\n#editorTabContainer{\\r\\n  display: inline-block;\\r\\n  width: 100vw;\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  border-bottom: var(--mainBorder);\\r\\n  top: calc(var(--topbarH));\\r\\n  height: var(--tabH);\\r\\n}*/\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9ncmFwaC10YWItaHRtbC9ncmFwaC10YWItaHRtbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVUsR0FBRyxrQkFBa0I7QUFDakM7QUFDQTtFQUNFLFdBQVc7RUFDWCxjQUFjO0VBQ2QsaUJBQWlCLEdBQUcsd0JBQXdCO0FBQzlDO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxTQUFTO0VBQ1QsUUFBUTtBQUNWO0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsWUFBWTtBQUNkO0FBQ0E7RUFDRSw0Q0FBNEM7RUFDNUMsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSw0QkFBNEI7RUFDNUIsNkJBQTZCO0VBQzdCLHlCQUF5QjtFQUN6QixvQkFBb0I7RUFDcEIscUJBQXFCO0VBQ3JCLHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0Usd0NBQXdDLENBQUM7QUFDM0M7RUFDRSw0Q0FBNEMsQ0FBQztBQUMvQztFQUNFLDRDQUE0QztFQUM1QyxnQ0FBZ0M7QUFDbEM7QUFDQSxzQkFBc0I7QUFDdEI7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixZQUFZO0FBQ2Q7QUFDQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGtCQUFXO1VBQVgsV0FBVztFQUNYLGFBQWE7QUFDZjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTBCRSIsImZpbGUiOiJzcmMvZ3VpRWxlbWVudHMvZ3JhcGgtdGFiLWh0bWwvZ3JhcGgtdGFiLWh0bWwuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5SYXRpb0JveHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgd2lkdGg6IDUwJTtcdFx0LyogZGVzaXJlZCB3aWR0aCAqL1xyXG59XHJcbi5SYXRpb0JveDpiZWZvcmV7XHJcbiAgY29udGVudDogXCJcIjtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBwYWRkaW5nLXRvcDogMTAwJTsgXHQvKiBpbml0aWFsIHJhdGlvIG9mIDE6MSovXHJcbn1cclxuLlJhdGlvQ29udGVudHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG59XHJcblxyXG4uc2lkZWJhckNsYXNzQ29udGFpbmVye1xyXG4gIHBhZGRpbmctdG9wOiAxNnB4O1xyXG4gIHBhZGRpbmctbGVmdDogMTBweDtcclxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbn1cclxuLnNpZGViYXJOb2Rle1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcbi5zaWRlYmFyTm9kZU5hbWV7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW46IGF1dG87XHJcbn1cclxuLm1vZGVsVGFie1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5CYWNrZ3JvdW5kQ29sb3IpO1xyXG4gIG1hcmdpbi10b3A6IC0xMXB4O1xyXG59XHJcbi5tYXQtdGFiLWxhYmVse1xyXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDIwcHg7XHJcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDIwcHg7XHJcbiAgYm9yZGVyOiB2YXIoLS1tYWluQm9yZGVyKTtcclxuICBib3JkZXItYm90dG9tOiB1bnNldDtcclxuICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XHJcbiAgd2lkdGg6IDE2MHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm1hdC10YWItbGFiZWwubWF0LXRhYi1sYWJlbC1hY3RpdmV7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbWFpbkJvcmRlckNvbG9yKTt9XHJcbi5tYXQtdGFiLWxhYmVse1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5CYWNrZ3JvdW5kQ29sb3IpO31cclxuLm1hdC10YWItbGFiZWwtY29udGFpbmVye1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5CYWNrZ3JvdW5kQ29sb3IpO1xyXG4gIGJvcmRlci1ib3R0b206IHZhcigtLW1haW5Cb3JkZXIpO1xyXG59XHJcbi8qIHByb3BlcnR5IGJhciByYXdzICovXHJcbi5wcm9wZXJ0eVRhYntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGhlaWdodDogNDBweDtcclxufVxyXG5oMi5yYXdUaXRsZXtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG4ucmF3ZWNvcmV7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWdyb3c6MTtcclxuICBmbGV4LXNocmluazoxO1xyXG59XHJcbi8qXHJcblxyXG4udGFibGlzdHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgcGFkZGluZzogMHB4O1xyXG4gIG1hcmdpbjogMHB4O1xyXG59XHJcbi50YWJCdXR0b257XHJcbiAgY3Vyc29yOiBkZWZhdWx0O1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQmFja2dyb3VuZENvbG9yKTtcclxuICBib3JkZXI6IHZhcigtLW1haW5Cb3JkZXIpO1xyXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDEwcHg7XHJcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogM3B4IDE1cHg7XHJcblxyXG59XHJcbi50YWJCdXR0b25bZGF0YS10YWJzZWxlY3RlZD1cInRydWVcIl17XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbWFpbkJvcmRlckNvbG9yKTsgfVxyXG4jZWRpdG9yVGFiQ29udGFpbmVye1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICB3aWR0aDogMTAwdnc7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbWFpbkJhY2tncm91bmRDb2xvcik7XHJcbiAgYm9yZGVyLWJvdHRvbTogdmFyKC0tbWFpbkJvcmRlcik7XHJcbiAgdG9wOiBjYWxjKHZhcigtLXRvcGJhckgpKTtcclxuICBoZWlnaHQ6IHZhcigtLXRhYkgpO1xyXG59Ki9cclxuIl19 */\"","import {Component, OnInit, ViewChild, ViewEncapsulation} from '@angular/core';\r\n// import {MatTab, MatTabChangeEvent, MatTabGroup} from '@angular/material';\r\nimport {U, IModel, Status} from '../../common/Joiner';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'app-graph-tab-html',\r\n  templateUrl: './graph-tab-html.component.html',\r\n  styleUrls: ['./graph-tab-html.component.css']\r\n})\r\nexport class GraphTabHtmlComponent implements OnInit {\r\n  // static matTabModel: MatTabGroup = null;\r\n // private static timesCanFailDuringInit = 1;\r\n  //private selectedTab = 0;\r\n  // @ViewChild('tabs') tabGroup: MatTabGroup;\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.selectModelTabOnInit(0);\r\n  }\r\n  /*\r\n    private selectModelTabOnInit(tentativi: number = 0) {\r\n      if (tentativi++ >= 10) { U.pe(true, 'failed to wait for Status initialization'); }\r\n      if (Status.status === null) {\r\n        setTimeout(() => this.selectModelTabOnInit(tentativi), 100);\r\n        return;\r\n      }\r\n      U.pe(!this.tabGroup, 'init fail on mat-tab');\r\n      this.tabGroup.selectedIndex = 1;\r\n      Status.status.modelMatTab = this.tabGroup;\r\n      GraphTabHtmlComponent.matTabModel = this.tabGroup;\r\n      // todo: qua devo ottimizzare un bordello e togliere il \"middle main\", il campo statico è l'unica cosa che funziona, non usare status.\r\n    }\r\n    ngAfterViewInit() {\r\n      console.log('afterViewInit => ', this.tabGroup.selectedIndex); }* /\r\n  doChangeTab() {\r\n    this.selectedTab += 1;\r\n    if (this.selectedTab >= 2) { this.selectedTab = 0; }\r\n  }\r\n  onTabChange(e: MatTabChangeEvent) {\r\n    const model: IModel = Status.status.getActiveModel();\r\n    if (!model && GraphTabHtmlComponent.timesCanFailDuringInit-- > 0) { return; }\r\n    let i;\r\n    // for (i = 0; i < model.childrens.length; i++) { model.childrens[i].refreshGUI(); }\r\n    const classes = model.getAllClasses();\r\n    for (i = 0; i < classes.length; i++) { classes[i].refreshGUI(); }\r\n  }*/\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvZ3VpRWxlbWVudHMvaXNpZGViYXIvaXNpZGViYXIuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  IModel,\r\n  U,\r\n  IPackage,\r\n  MetaModel,\r\n  ModelPiece,\r\n  Status,\r\n  Dictionary,\r\n  M2Class,\r\n  MClass,\r\n  MPackage,\r\n  IClass,\r\n  M3Class,\r\n  M3Package, IGraph, IClassifier, EEnum\r\n} from '../../common/Joiner';\r\nimport ClickEvent = JQuery.ClickEvent;\r\n\r\n\r\n@Component({\r\n  selector: 'app-isidebar',\r\n  templateUrl: './isidebar.component.html',\r\n  styleUrls: ['./isidebar.component.css']\r\n})\r\nexport class IsidebarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\r\nexport class ISidebar {\r\n  // mm: boolean = null;\r\n  model: IModel;\r\n  container: HTMLElement = null;\r\n  packageContainer: HTMLElement = null;\r\n  classContainer: HTMLElement = null;\r\n  // htmls: Dictionary<string /*ModelPiece.fullname*/, HTMLElement | SVGGElement> = null;\r\n  // nodeContainer: HTMLDivElement = null;\r\n  constructor(model: IModel, container: HTMLElement) {\r\n    this.model = model;\r\n    // this.mm = (model instanceof MetaModel);\r\n    if (Status.status.mmm === this.model) { Status.status.mm.sidebar = this; } else  { Status.status.m.sidebar = this; }\r\n    this.container = container;\r\n    this.packageContainer = document.createElement('div');\r\n    this.packageContainer.classList.add('sidebarPackageContainer');\r\n    this.classContainer = document.createElement('div');\r\n    this.classContainer.classList.add('sidebarClassContainer');\r\n    this.container.appendChild(this.packageContainer);\r\n    this.container.appendChild(this.classContainer);\r\n    this.updateAll();\r\n    // this.htmls = this.loadDefaultHtmls();\r\n  }\r\n  /*\r\n    loadDefaultHtmls(): Dictionary<string, HTMLElement | SVGGElement> /*\r\n      console.log('refresh left iSidebar');\r\n      // bug: todo: not refreshing quando cambio il nome di un m2class. però i classSelector si aggiornano.\r\n      this.clear();\r\n      let arr: IClassifier[];\r\n      let i;\r\n      // this.htmls = {};\r\n      /*if (false && false) {\r\n        arr = this.model.childrens;\r\n        for (i = 0; i < arr.length; i++) { this.htmls[arr[i].fullname()] = IPackage.defaultSidebarHtml(); } } * /\r\n      // arr = this.model.getAllClasses();\r\n      // if (this.model.isM3()) Array.prototype.push.apply(arr, this.model.getAllEnums());\r\n      // for (i = 0; i < arr.length; i++) { this.htmls[arr[i].fullname()] = arr[i].getSidebarHtml();  }\r\n      this.updateAll();\r\n      return this.htmls; */\r\n\r\n  clear() {\r\n    U.clear(this.packageContainer);\r\n    U.clear(this.classContainer); }\r\n\r\n\r\n  updateAll() {\r\n    this.clear();\r\n    let i;\r\n    const cla: IClassifier[] = this.model.getAllClasses();\r\n    const enu: IClassifier[] = this.model.isM2() ? [] : this.model.getAllEnums();\r\n    for (i = 0; i < cla.length; i++) { this.updateNode(cla[i], this.classContainer); }\r\n    for (i = 0; i < enu.length; i++) { this.updateNode(enu[i], this.classContainer); }\r\n  }\r\n\r\n  addEventListeners(html: HTMLElement): void {\r\n    const $html = $(html);\r\n    $html.off('click.sidebarNode').on('click.sidebarNode', (e: ClickEvent) => {\r\n      Status.status.getActiveModel().sidebar.sidebarNodeClick(e);\r\n    });\r\n  }\r\n  sidebarNodeClick(e: ClickEvent): void {\r\n    console.log('sidebarNodeClick()', Status.status.getActiveModel() === Status.status.mm, Status.status.getActiveModel());\r\n    if (Status.status.getActiveModel().isMM()) { this.sidebarNodeClick0(e); } else { this.sidebarNodeClick0(e); } }\r\n\r\n  sidebarNodeClick0(e: ClickEvent): void {\r\n    console.log('sidebarNodeClick()');\r\n    let html: HTMLElement = e.currentTarget;\r\n    while (!html.dataset.modelpieceid) { html = html.parentElement; }\r\n    const metaParent = ModelPiece.getLogic(html);\r\n    U.pe( !metaParent , 'the id does not match any class or package', e);\r\n    const modelOfSidebar: IModel /*m3*/ = metaParent.getModelRoot();\r\n    const modelOfGraph: IModel /*m2*/ = Status.status.getActiveModel();\r\n    const graph: IGraph = modelOfGraph.graph; /*m2*/\r\n    U.pe(!graph, 'invalid graph of model:', modelOfGraph);\r\n    const pkg: IPackage = modelOfGraph.getDefaultPackage();\r\n    if ( metaParent instanceof IClass /*m3*/) { pkg.addEmptyClass(metaParent); }\r\n    else if ( metaParent instanceof EEnum /*m3*/) { pkg.addEmptyEnum(); }\r\n    else { U.pe(true, 'unxpected class type of metaparent:', metaParent); }\r\n    console.log('addSidebarNodeClick done'); }\r\n\r\n  updateNode(piece: IClassifier, containerr: HTMLElement) {\r\n    const html: HTMLElement = U.replaceVars<HTMLElement>(piece, piece.getSidebarHtml(), true);\r\n    piece.linkToLogic(html);\r\n    this.addEventListeners(html);\r\n    containerr.appendChild(html); }\r\n/*\r\n  fullnameChanged(old: string, neww: string): void {\r\n    if (!this.htmls[old]) { return; }\r\n    this.htmls[neww] = this.htmls[old];\r\n    delete this.htmls[old]; }9*/\r\n}\r\n\r\n","export default \"/************************************************** statici */\\r\\n\\r\\n.template, .MDefaultStyles{\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.tabContent{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-flow: nowrap;/*?*/\\r\\n  /*margin-top: calc( var(--mainBorderWidth) * 2 );*/\\r\\n}\\r\\n\\r\\n/*olds*/\\r\\n\\r\\n#defaultMGraphHtmlVertex, #defaultMSidebarHtmlVertex, replace{\\r\\n  display:none;\\r\\n}\\r\\n\\r\\n.HiddenStructures > *{\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n#mproperty_sidebar, .sidebarShell, .editorShell, .propertyBarContainer{\\r\\n  flex-basis: 0;/* calc(var(--sidebarW));*/\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  /*border-right: var(--mainBorder);*/\\r\\n  width: calc(var(--sidebarW));\\r\\n  /*height: calc(100vh - (var(--topbarH) + var(--tabH)));*/\\r\\n  overflow: hidden;\\r\\n  /*flex-wrap: wrap;\\r\\n  margin-top: 5px;\\r\\n  border-top: var(--mainBorder);*/\\r\\n}\\r\\n\\r\\n.sidebarShell{ border-right: var(--mainBorder); }\\r\\n\\r\\n.propertyBarContainer{ border-left: var(--mainBorder); }\\r\\n\\r\\n.editorShell{\\r\\n  -webkit-box-flex: 3;\\r\\n          flex-grow: 3;\\r\\n}\\r\\n\\r\\n/*#sidebar, */\\r\\n\\r\\n#metamodel_sidebar, #model_sidebar, .property_sidebar{\\r\\n                -webkit-box-orient: horizontal;\\r\\n                -webkit-box-direction: normal;\\r\\n                        flex-direction: row;\\r\\n                flex-wrap: wrap;\\r\\n                -webkit-box-pack: justify;\\r\\n                        justify-content: space-between;/*si attiva solo se entra tutto in una riga e avanza pure spazio*/\\r\\n                -webkit-box-align: start;\\r\\n                        align-items: flex-start;\\r\\n                align-content: flex-start;/*accatasta tutto verticalmente verso la cima invece di spaziarli.*/\\r\\n                padding-right:5px;\\r\\n              }\\r\\n\\r\\n#msidebar>*:first-child, #metamodel_sidebar>*:first-child, #model_sidebar>*:first-child{\\r\\n  background-color: var(--mainBorderColor);\\r\\n  width: var(--mainBorderWidth);\\r\\n  right: 0px;\\r\\n}\\r\\n\\r\\n#msidebar>*:not(:first-child), #metamodel_sidebar>*:not(:first-child), #model_sidebar>*:not(:first-child){\\r\\n  padding: 2px;\\r\\n  max-width: 200px;\\r\\n  min-width: 75px;\\r\\n  flex-basis: 75px;/*should === min-width per mantenere l'effetto.*/\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  flex-shrink: 1;\\r\\n}\\r\\n\\r\\n.sidebarVertex:hover{\\r\\n  background-color: var(--mainBorderColor);\\r\\n  border: 2px solid var(--secondaryBorderColor);\\r\\n  padding: 0px;\\r\\n}\\r\\n\\r\\n.sidebarVertex{\\r\\n  min-width: 50px;\\r\\n  min-height: 50px;\\r\\n  flex-basis:50px;\\r\\n}\\r\\n\\r\\n@media all and (min-width: 200px) {\\r\\n  .sidebarVertex {\\r\\n    -webkit-box-flex: 0;\\r\\n            flex-grow: 0; }\\r\\n}\\r\\n\\r\\n#metamodel_editor, #model_editor{\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.rawContainer{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\nh2.rawTitle{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n.rawecore{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-flex:1;\\r\\n          flex-grow:1;\\r\\n  flex-shrink:1;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9tLWdyYXBoLWh0bWwvbS1ncmFwaC1odG1sLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkRBQTZEOztBQUU3RDtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGlCQUFpQixDQUFDLElBQUk7RUFDdEIsa0RBQWtEO0FBQ3BEOztBQUVBLE9BQU87O0FBR1A7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxhQUFhLENBQUMsMEJBQTBCO0VBQ3hDLG1CQUFZO1VBQVosWUFBWTtFQUNaLDRDQUE0QztFQUM1QyxtQ0FBbUM7RUFDbkMsNEJBQTRCO0VBQzVCLHdEQUF3RDtFQUN4RCxnQkFBZ0I7RUFDaEI7O2lDQUUrQjtBQUNqQzs7QUFDQSxlQUFlLCtCQUErQixFQUFFOztBQUNoRCx1QkFBdUIsOEJBQThCLEVBQUU7O0FBQ3ZEO0VBQ0UsbUJBQVk7VUFBWixZQUFZO0FBQ2Q7O0FBQ0EsYUFBYTs7QUFBQztnQkFDRSw4QkFBbUI7Z0JBQW5CLDZCQUFtQjt3QkFBbkIsbUJBQW1CO2dCQUNuQixlQUFlO2dCQUNmLHlCQUE4Qjt3QkFBOUIsOEJBQThCLENBQUMsaUVBQWlFO2dCQUNoRyx3QkFBdUI7d0JBQXZCLHVCQUF1QjtnQkFDdkIseUJBQXlCLENBQUMsbUVBQW1FO2dCQUM3RixpQkFBaUI7Y0FDbkI7O0FBRWQ7RUFDRSx3Q0FBd0M7RUFDeEMsNkJBQTZCO0VBQzdCLFVBQVU7QUFDWjs7QUFDQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGdCQUFnQixDQUFDLGdEQUFnRDtFQUNqRSxtQkFBWTtVQUFaLFlBQVk7RUFDWixjQUFjO0FBQ2hCOztBQUNBO0VBQ0Usd0NBQXdDO0VBQ3hDLDZDQUE2QztFQUM3QyxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7O0FBRUE7RUFDRTtJQUNFLG1CQUFZO1lBQVosWUFBWSxFQUFFO0FBQ2xCOztBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFHQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLDRCQUFpQjtFQUFqQiw2QkFBaUI7VUFBakIsaUJBQWlCO0VBQ2pCLFlBQVk7QUFDZDs7QUFDQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixrQkFBVztVQUFYLFdBQVc7RUFDWCxhQUFhO0FBQ2YiLCJmaWxlIjoic3JjL2d1aUVsZW1lbnRzL20tZ3JhcGgtaHRtbC9tLWdyYXBoLWh0bWwuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBzdGF0aWNpICovXHJcblxyXG4udGVtcGxhdGUsIC5NRGVmYXVsdFN0eWxlc3tcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4udGFiQ29udGVudHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZmxvdzogbm93cmFwOy8qPyovXHJcbiAgLyptYXJnaW4tdG9wOiBjYWxjKCB2YXIoLS1tYWluQm9yZGVyV2lkdGgpICogMiApOyovXHJcbn1cclxuXHJcbi8qb2xkcyovXHJcblxyXG5cclxuI2RlZmF1bHRNR3JhcGhIdG1sVmVydGV4LCAjZGVmYXVsdE1TaWRlYmFySHRtbFZlcnRleCwgcmVwbGFjZXtcclxuICBkaXNwbGF5Om5vbmU7XHJcbn1cclxuXHJcbi5IaWRkZW5TdHJ1Y3R1cmVzID4gKntcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4jbXByb3BlcnR5X3NpZGViYXIsIC5zaWRlYmFyU2hlbGwsIC5lZGl0b3JTaGVsbCwgLnByb3BlcnR5QmFyQ29udGFpbmVye1xyXG4gIGZsZXgtYmFzaXM6IDA7LyogY2FsYyh2YXIoLS1zaWRlYmFyVykpOyovXHJcbiAgZmxleC1ncm93OiAxO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5CYWNrZ3JvdW5kQ29sb3IpO1xyXG4gIC8qYm9yZGVyLXJpZ2h0OiB2YXIoLS1tYWluQm9yZGVyKTsqL1xyXG4gIHdpZHRoOiBjYWxjKHZhcigtLXNpZGViYXJXKSk7XHJcbiAgLypoZWlnaHQ6IGNhbGMoMTAwdmggLSAodmFyKC0tdG9wYmFySCkgKyB2YXIoLS10YWJIKSkpOyovXHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAvKmZsZXgtd3JhcDogd3JhcDtcclxuICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgYm9yZGVyLXRvcDogdmFyKC0tbWFpbkJvcmRlcik7Ki9cclxufVxyXG4uc2lkZWJhclNoZWxseyBib3JkZXItcmlnaHQ6IHZhcigtLW1haW5Cb3JkZXIpOyB9XHJcbi5wcm9wZXJ0eUJhckNvbnRhaW5lcnsgYm9yZGVyLWxlZnQ6IHZhcigtLW1haW5Cb3JkZXIpOyB9XHJcbi5lZGl0b3JTaGVsbHtcclxuICBmbGV4LWdyb3c6IDM7XHJcbn1cclxuLyojc2lkZWJhciwgKi8jbWV0YW1vZGVsX3NpZGViYXIsICNtb2RlbF9zaWRlYmFyLCAucHJvcGVydHlfc2lkZWJhcntcclxuICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47LypzaSBhdHRpdmEgc29sbyBzZSBlbnRyYSB0dXR0byBpbiB1bmEgcmlnYSBlIGF2YW56YSBwdXJlIHNwYXppbyovXHJcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuICAgICAgICAgICAgICAgIGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7LyphY2NhdGFzdGEgdHV0dG8gdmVydGljYWxtZW50ZSB2ZXJzbyBsYSBjaW1hIGludmVjZSBkaSBzcGF6aWFybGkuKi9cclxuICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6NXB4O1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiNtc2lkZWJhcj4qOmZpcnN0LWNoaWxkLCAjbWV0YW1vZGVsX3NpZGViYXI+KjpmaXJzdC1jaGlsZCwgI21vZGVsX3NpZGViYXI+KjpmaXJzdC1jaGlsZHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQm9yZGVyQ29sb3IpO1xyXG4gIHdpZHRoOiB2YXIoLS1tYWluQm9yZGVyV2lkdGgpO1xyXG4gIHJpZ2h0OiAwcHg7XHJcbn1cclxuI21zaWRlYmFyPio6bm90KDpmaXJzdC1jaGlsZCksICNtZXRhbW9kZWxfc2lkZWJhcj4qOm5vdCg6Zmlyc3QtY2hpbGQpLCAjbW9kZWxfc2lkZWJhcj4qOm5vdCg6Zmlyc3QtY2hpbGQpe1xyXG4gIHBhZGRpbmc6IDJweDtcclxuICBtYXgtd2lkdGg6IDIwMHB4O1xyXG4gIG1pbi13aWR0aDogNzVweDtcclxuICBmbGV4LWJhc2lzOiA3NXB4Oy8qc2hvdWxkID09PSBtaW4td2lkdGggcGVyIG1hbnRlbmVyZSBsJ2VmZmV0dG8uKi9cclxuICBmbGV4LWdyb3c6IDE7XHJcbiAgZmxleC1zaHJpbms6IDE7XHJcbn1cclxuLnNpZGViYXJWZXJ0ZXg6aG92ZXJ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbWFpbkJvcmRlckNvbG9yKTtcclxuICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnlCb3JkZXJDb2xvcik7XHJcbiAgcGFkZGluZzogMHB4O1xyXG59XHJcblxyXG4uc2lkZWJhclZlcnRleHtcclxuICBtaW4td2lkdGg6IDUwcHg7XHJcbiAgbWluLWhlaWdodDogNTBweDtcclxuICBmbGV4LWJhc2lzOjUwcHg7XHJcbn1cclxuXHJcbkBtZWRpYSBhbGwgYW5kIChtaW4td2lkdGg6IDIwMHB4KSB7XHJcbiAgLnNpZGViYXJWZXJ0ZXgge1xyXG4gICAgZmxleC1ncm93OiAwOyB9XHJcbn1cclxuI21ldGFtb2RlbF9lZGl0b3IsICNtb2RlbF9lZGl0b3J7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG5cclxuLnJhd0NvbnRhaW5lcntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZmxvdzogY29sdW1uO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5oMi5yYXdUaXRsZXtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG4ucmF3ZWNvcmV7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWdyb3c6MTtcclxuICBmbGV4LXNocmluazoxO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-m-graph-html',\r\n  templateUrl: './m-graph-html.component.html',\r\n  styleUrls: ['./m-graph-html.component.css']\r\n})\r\nexport class MGraphHtmlComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import {\r\n  IEdge,\r\n  GraphPoint,\r\n  IVertex,\r\n  Dictionary,\r\n  EdgePointStyle,\r\n  EdgeStyle,\r\n  IGraph,\r\n  Point,\r\n  Status,\r\n  U,\r\n  GraphSize\r\n} from '../../../common/Joiner';\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport MouseMoveEvent = JQuery.MouseMoveEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseLeaveEvent = JQuery.MouseLeaveEvent;\r\nimport MouseEnterEvent = JQuery.MouseEnterEvent;\r\nimport MouseOverEvent = JQuery.MouseOverEvent;\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\n\r\nexport interface IEdgePoint {\r\n  edge: IEdge;\r\n  // pos: GraphPoint;\r\n  // html: HTMLElement | SVGCircleElement;\r\n  getEndPoint(): GraphPoint;\r\n  getStartPoint(): GraphPoint;\r\n  moveTo(pos: GraphPoint, refresh: boolean, centra: boolean);\r\n  show(): void;\r\n  hide(): void;\r\n}\r\nexport class EdgePointFittizio {\r\n  pos: GraphPoint = null;\r\n  realPoint: EdgePoint = null;\r\n  constructor(pos: GraphPoint, realPoint: EdgePoint = null) {\r\n    this.pos = pos;\r\n    this.realPoint = realPoint;\r\n  }\r\n  link(realPoint: EdgePoint) { this.realPoint = realPoint; }\r\n\r\n  getPreviousRealPt(fittizi: EdgePointFittizio[], includeMySelf = true) {\r\n    let index = fittizi.indexOf(this);\r\n    U.pe(index < 0, 'the element must be inside the array. this:', this, ', arr:', fittizi, ', index:', index);\r\n    index += (includeMySelf ? 1 : 0);\r\n    while (--index >= 0) {\r\n      if (fittizi[index].realPoint) { return fittizi[index].realPoint; }\r\n    }\r\n    return null;\r\n  }\r\n  getNextRealPt(fittizi: EdgePointFittizio[], includeMySelf = true, debug: boolean = false) {\r\n    let index = fittizi.indexOf(this);\r\n    U.pe(index < 0, 'the element must be inside the array');\r\n    index -= (includeMySelf ? 1 : 0);\r\n    while (++index < fittizi.length) {\r\n      U.pif(debug, index + '/' + fittizi.length + ']', fittizi[index], 'fittiziAll:', fittizi);\r\n      if (fittizi[index].realPoint) { return fittizi[index].realPoint; } }\r\n    return null;\r\n  }\r\n}\r\nexport class EdgePoint implements IEdgePoint {\r\n  static ID = 0;\r\n  static all: Dictionary<number, EdgePoint> = {};\r\n  id: number = null;\r\n  pos: GraphPoint = null;\r\n  html: SVGCircleElement = null;\r\n  edge: IEdge = null;\r\n  endPointOfVertex: IVertex = null;\r\n  isSelected: boolean = null;\r\n  isHighlighted: boolean = null;\r\n\r\n  constructor(e: IEdge, pos: GraphPoint, endPointOfVertex: IVertex = null) {\r\n    this.edge = e;\r\n    this.endPointOfVertex = endPointOfVertex;\r\n    // edge = null is ok, è il cursorfollower statico.\r\n    U.pe(this.edge === undefined, 'edge === undefined on EdgePoint constructor.');\r\n    this.html = U.newSvg<SVGCircleElement>('circle');\r\n    this.id = EdgePoint.ID++;\r\n    if (e) { e.logic.linkToLogic(this.html); }\r\n    EdgePoint.all[this.id] = this;\r\n    this.html.dataset.EdgePointID = '' + this.id;\r\n    this.pos = new GraphPoint(0, 0);\r\n    this.isSelected = false;\r\n    this.isHighlighted = false;\r\n    this.refreshGUI();\r\n    this.moveTo(pos, false);\r\n    this.addEventListeners(); }\r\n\r\n  static getFromHtml(html: Element): EdgePoint { return EdgePoint.getByID(+(html as HTMLElement).dataset.EdgePointID); }\r\n  static getByID(id: number): EdgePoint { return EdgePoint.all[id]; }\r\n\r\n  follow(e: MouseDownEvent = null): void {\r\n    CursorFollowerEP.activeEP = this;\r\n    const edge: IEdge = this.edge;\r\n    if (this as EdgePoint !== CursorFollowerEP.cursorFollower && this === edge.endNode) {\r\n      CursorFollowerEP.activeEP = null;\r\n      IVertex.linkVertexMouseDown(e, edge);\r\n    }\r\n  }\r\n\r\n  unfollow(): void {\r\n    console.log('un-follow');\r\n    CursorFollowerEP.activeEP = null; }\r\n\r\n  addEventListeners(): void {\r\n    const $html = $(this.html);\r\n    // $html.off('click.ep').on('click.ep', (e: ClickEvent) => { EdgePoint.getFromHtml(e.currentTarget).onClick(e); });\r\n    $html.off('mousedown.ep').on('mousedown.ep', (e: MouseDownEvent) => { EdgePoint.getFromHtml(e.currentTarget).onMouseDown(e); });\r\n    // $html.off('mousemove.ep').on('mousemove.ep', (e: MouseMoveEvent) => { EdgePoint.getFromHtml(e.currentTarget).onMouseMove(e); });\r\n    $html.off('mouseup.ep').on('mouseup.ep', (e: MouseUpEvent) => { EdgePoint.getFromHtml(e.currentTarget).onMouseUp(e); });\r\n    $html.off('mouseenter.ep').on('mouseenter.ep', (e: MouseEnterEvent) => { EdgePoint.getFromHtml(e.currentTarget).onMouseEnter(e); });\r\n    $html.off('mouseleave.ep').on('mouseleave.ep', (ee: MouseLeaveEvent) => { EdgePoint.getFromHtml(ee.currentTarget).onMouseLeave(ee); });\r\n    // $html.off('mouseover.ep').on('mouseover.ep', (e: MouseLeaveEvent) => { EdgePoint.getFromHtml(e.currentTarget).onMouseOver(e); });\r\n    $html.off('contextmenu.deleteEdgePoint').on('contextmenu.deleteEdgePoint',\r\n      (e: ContextMenuEvent) => { this.detach(); return false; });\r\n  }\r\n\r\n  isAttached(): boolean { return this.edge !== null; }\r\n\r\n  detach(refreshGUI: boolean = true): void {\r\n//    big: quando attacco un extend, l'endVertex non ha la reference all'edge input,\r\n//      quindi se muovo l'endVertex, l'ìedge non si muove.\r\n    if (!this.isAttached()) { return; }\r\n    if (this.edge && this.edge.startNode == this || this.edge.endNode === this) return;\r\n\r\n    U.arrayRemoveAll(this.edge.midNodes, this);\r\n    if (this.html && this.html.parentNode) { this.html.parentNode.removeChild(this.html); }\r\n    if (refreshGUI) { this.edge.refreshGui(); }\r\n    this.edge = null;\r\n    this.unfollow(); }\r\n\r\n  onClick(e: ClickEvent): void { }\r\n\r\n  onMouseEnter(e: MouseEnterEvent): void {\r\n    // console.log('enter');\r\n    this.refreshGUI(null, true);  }\r\n\r\n  onMouseLeave(e: MouseLeaveEvent): void {\r\n    // console.log('leave');\r\n    // if (this.isMoving) { this.onMouseMove(e); }\r\n    this.refreshGUI(null, false); }\r\n\r\n  onMouseDown(e: MouseDownEvent): void {\r\n    this.refreshGUI(true);\r\n    // console.log('leave');\r\n    this.follow(e);\r\n    e.preventDefault(); e.stopPropagation(); }\r\n  // onMouseOver(e: MouseOverEvent): void { e.preventDefault(); e.stopPropagation(); }\r\n  /* onMouseMoveOld(e: MouseMoveEvent | MouseLeaveEvent): void {\r\n    if (!this.isMoving) { return; }\r\n    const screenPt: Point = new Point(e.pageX, e.pageY);\r\n    const graphPt: GraphPoint = this.edge.owner.toGraphCoord(screenPt);\r\n    this.moveTo(graphPt, true); }*/\r\n\r\n  onMouseUp(e: MouseUpEvent): void {\r\n    this.refreshGUI(false);\r\n    e.stopPropagation();\r\n    // console.log('up');\r\n    this.unfollow(); }\r\n\r\n  getCenter(fitHorizontal: boolean = false, fitVertical: boolean = false): GraphPoint {\r\n    if (IEdge.edgeChanging) return this.pos.duplicate();\r\n    return this.edge.owner.fitToGrid(this.pos, true, false, fitHorizontal, fitVertical); }\r\n  getStartPoint(fitHorizontal: boolean = true, fitVertical: boolean = true): GraphPoint {\r\n    return this.getCenter(fitHorizontal, fitVertical); }\r\n  getEndPoint(fitHorizontal: boolean = true, fitVertical: boolean = true): GraphPoint {\r\n    return this.getCenter(fitHorizontal, fitVertical); }\r\n\r\n  moveTo(pos: GraphPoint, refresh: boolean, centra: boolean = true) {\r\n    if (!this.edge) { return; }\r\n    const r: number = centra ? 0 : (isNaN(-this.html.r) ? 0 : -this.html.r);\r\n    U.pe(!this.pos || this.pos.x === null || this.pos.x === undefined, 'this.pos.x undefined', this.pos);\r\n    //U.pe(!pos || pos.x === null || pos.x === undefined, 'pos.x undefined', pos); sometime happens at start of new ExtEdge setup and it's better if it fails silently throwing error\r\n    this.pos.x = (pos.x + r);\r\n    this.pos.y = (pos.y + r);\r\n    this.html.setAttribute('cx', '' + this.pos.x);\r\n    this.html.setAttribute('cy', '' + this.pos.y);\r\n    this.show();\r\n    if (refresh) { this.edge.refreshGui(); } }\r\n\r\n  show(debug: boolean = false): void {\r\n    const oldParent: Element = this.html.parentElement;\r\n    if (oldParent) { oldParent.removeChild(this.html); }\r\n    this.edge.shell.appendChild(this.html);\r\n    this.html.style.display = 'block';\r\n    this.refreshGUI(null, null, debug); }\r\n\r\n  hide(): void { this.html.style.display = 'none'; }\r\n\r\n  public refreshGUI(select: boolean = null, highlight: boolean = null, debug: boolean = false): void {\r\n    if (select !== null) { this.isSelected = select; }\r\n    if (highlight !== null) { this.isHighlighted = highlight; }\r\n    this.applyStyle(false); }\r\n\r\n  public getCurrentStyle(): EdgePointStyle {\r\n    if (this.isSelected) { return this.edge.logic.edgeStyleSelected.edgePointStyle; }\r\n    if (this.isHighlighted) { return this.edge.logic.edgeStyleHighlight.edgePointStyle; }\r\n    return this.edge.logic.edgeStyleCommon.edgePointStyle; }\r\n\r\n  private applyStyle(debug: boolean = false): void {\r\n    if (!this.isAttached()) { U.pw(debug, 'called EdgePoint.applyStyle() while not attached', this); return; }\r\n    const eps: EdgePointStyle = this.getCurrentStyle();\r\n    if (debug) { this.html.setAttributeNS(null, 'debug', 'styleCommon'); }\r\n    this.html.setAttributeNS(null, 'r', '' + eps.radius);\r\n    this.html.setAttributeNS(null, 'stroke-width', '' + eps.strokeWidth);\r\n    this.html.setAttributeNS(null, 'stroke', eps.strokeColor);\r\n    this.html.setAttributeNS(null, 'fill', eps.fillColor);\r\n  }\r\n\r\n\r\n  getSize(): GraphSize{\r\n    const style: EdgePointStyle = this.getCurrentStyle();\r\n    let radius = style.radius + style.strokeWidth;\r\n    return new GraphSize(this.pos.x, this.pos.y, radius * 2, radius * 2);\r\n  }\r\n}\r\n\r\nexport class CursorFollowerEP extends EdgePoint {\r\n  static cursorFollower: CursorFollowerEP = null;\r\n  static activeEP: EdgePoint = null;\r\n  private graph: IGraph;\r\n\r\n  public static get(): CursorFollowerEP {\r\n    if (!this.cursorFollower) { this.cursorFollower = new CursorFollowerEP(); }\r\n    return this.cursorFollower; }\r\n\r\n  constructor() {\r\n    super(null, new GraphPoint(0, 0));\r\n    this.endPointOfVertex = undefined;\r\n    this.html.setAttributeNS(null, 'fill', 'purple');\r\n    this.html.setAttributeNS(null, 'stroke', 'purple');\r\n    this.html.setAttributeNS(null, 'r', '5');\r\n    U.eventiDaAggiungereAlBody('cursor follower');\r\n    const $b = $(document.body);\r\n    $b.off('mousemove.cursorFollowerEdgePoint_Move').on('mousemove.cursorFollowerEdgePoint_Move',\r\n      (e: MouseMoveEvent) => {\r\n        const debug: boolean = false && false;\r\n        U.pif(debug, 'mousemove.cursorFollowerEdgePoint_Move()');\r\n        const f: EdgePoint = CursorFollowerEP.activeEP;\r\n        if (!f || !f.isAttached()) { return; }\r\n        const graph = Status.status.getActiveModel().graph;\r\n        f.moveTo(graph.toGraphCoord(new Point(e.pageX, e.pageY)), true);\r\n        f.edge.refreshGui(true);\r\n        /// here bug edge\r\n      });\r\n    $b.off('click.cursorFollowerEdgePoint_Detach').on('click.cursorFollowerEdgePoint_Detach',\r\n      (e: ClickEvent) => {\r\n        const f: CursorFollowerEP = CursorFollowerEP.get();\r\n        f.detach(); });\r\n    this.addEventListeners();\r\n  }\r\n/*\r\n  cursorFollowerClick(e: ClickEvent) {\r\n    const coord: GraphPoint = this.getCenter();\r\n    this.detach();\r\n    const useless = new EdgePoint(this.edge, coord);\r\n    this.attach(this.edge, null);\r\n  }*/\r\n  onMouseUp(e: JQuery.MouseUpEvent): void { if (this.isAttached()) { this.edge.onMouseUp(e); }}\r\n\r\n  moveTo(pos: GraphPoint, refresh: boolean, centra: boolean = true) {\r\n    super.moveTo(pos, refresh, centra);\r\n    if (!this.isAttached()) { return; }\r\n    if (refresh) { this.edge.refreshGui(); }\r\n  }\r\n\r\n  isAttached(): boolean { return this.edge !== null; }\r\n\r\n  attach(edge: IEdge, position: GraphPoint, index: number = Number.POSITIVE_INFINITY): void {\r\n    this.detach();\r\n    edge.logic.linkToLogic(this.html);\r\n    this.graph = edge.owner;\r\n    if (index < 0) { index = -1; }\r\n    if (index === null || index === Number.POSITIVE_INFINITY) { index = this.edge.midNodes.length; }\r\n    // console.log('CursorFollower.Attach()');\r\n    this.edge = edge;\r\n    this.html.dataset.modelpieceid = '' + this.edge.logic.id;\r\n    U.insertAt(this.edge.midNodes, index + 1, this);\r\n    if (position) { this.moveTo(position, false); }\r\n    this.graph.container.appendChild(this.html);\r\n    this.follow();\r\n    this.refreshGUI(true); }\r\n\r\n  addEventListeners() {\r\n    super.addEventListeners();\r\n    /*$(this.html).off('click.makeEdgePoint').on('click.makeEdgePoint',\r\n      (e: ClickEvent) => { CursorFollowerEP.cursorFollower.cursorFollowerClick(e); });*/\r\n    $(this.html).off('mouseup.makeEdgePoint').on('mouseup.makeEdgePoint',\r\n      (e: MouseUpEvent) => { CursorFollowerEP.get().onMouseUp(e); });\r\n  }\r\n}\r\n","import {GraphPoint, IClass, IClassifier, IEdge, IReference, IVertex, M2Class, MReference, U} from '../../../common/Joiner';\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport {Keystrokes} from '../../../common/util';\r\n\r\nexport class ExtEdge extends IEdge{\r\n  logic: M2Class;\r\n\r\n  constructor(logic: M2Class, startv: IVertex, end: IVertex, tmpend: GraphPoint) { super(logic, null, startv, end, tmpend); }\r\n\r\n  canBeLinkedTo(target0: M2Class): boolean {\r\n    let out: {reason: string, indirectExtendChain: IClass[]} = {reason: '', indirectExtendChain: null};\r\n    if (!this.logic.canExtend(target0, out)) { U.ps(true, out.reason); return false; }\r\n    return true; }\r\n\r\n  addEventListeners(foredge: boolean, forheadtail: boolean): void {\r\n    super.addEventListeners(foredge, forheadtail);\r\n    const $edgetail: JQuery<Element> = forheadtail ? $(this.headShell).add(this.tailShell) : $();\r\n    const $shell: JQuery<Element> = foredge ? $(this.shell) : $();\r\n    $edgetail.off('keydown.delete').on('keydown.delete', (e: KeyDownEvent) => this.keydown(e));\r\n    $shell.off('keydown.delete').on('keydown.delete', (e: KeyDownEvent) => this.keydown(e)); }\r\n\r\n\r\n  getContainedArray(): ExtEdge[] { return this.logic.extendEdges; }\r\n  remove(): void {\r\n    if (this.end) this.logic.unsetExtends(this.end.logic() as M2Class, false);\r\n    super.remove();\r\n  }\r\n}\r\n\r\n","import {IEdge, GraphPoint, IVertex, U, EdgeModes} from '../../../common/Joiner';\r\n\r\nexport class EdgePointStyle {\r\n  radius: number = null;\r\n  strokeWidth: number = null;\r\n  strokeColor: string = null;\r\n  fillColor: string = null;\r\n  constructor(radius: number = null, strokeWidth: number = null, strokeColor: string = null, fillColor: string = null) {\r\n    this.radius = radius;\r\n    this.strokeColor = strokeColor;\r\n    this.strokeWidth = strokeWidth;\r\n    this.fillColor = fillColor; }\r\n}\r\nexport class EdgeHeadStyle {\r\n  width: number;\r\n  height: number;\r\n  fill: string;\r\n  stroke: string;\r\n  constructor (width: number, height: number, fill: string, stroke: string) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.fill = fill;\r\n    this.stroke = stroke; }\r\n\r\n  clone(): EdgeHeadStyle { return new EdgeHeadStyle(this.width, this.height, this.fill, this.stroke); }\r\n}\r\nexport class EdgeStyle {\r\n  style: EdgeModes = null;\r\n  width: number = null;\r\n  color: string = null;\r\n  edgePointStyle: EdgePointStyle;\r\n  edgeHeadStyle: EdgeHeadStyle;\r\n\r\n  constructor(style: EdgeModes = EdgeModes.angular23Auto, width: number = 2, color: string = '#ffffff',\r\n              edgePointStyle: EdgePointStyle, edgeHeadStyle: EdgeHeadStyle) {\r\n    this.edgePointStyle = edgePointStyle;\r\n    this.edgeHeadStyle = edgeHeadStyle;\r\n    this.style = style;\r\n    this.width = width;\r\n    this.color = color; }\r\n\r\n  clone(): EdgeStyle { return new EdgeStyle(this.style, this.width, this.color, this.edgePointStyle, this.edgeHeadStyle); }\r\n}\r\n","import {\r\n  Json,\r\n  U,\r\n  IVertex, EdgePoint, IField,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IModel,\r\n  Status, IReference, CursorFollowerEP, EdgePointFittizio,\r\n  Point, GraphPoint, Size, GraphSize, EdgeStyle, PropertyBarr, Dictionary, IClass, ExtEdge, MAttribute, MReference, IClassifier, M2Reference\r\n} from '../../../common/Joiner';\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport MouseMoveEvent = JQuery.MouseMoveEvent;\r\nimport MouseOverEvent = JQuery.MouseOverEvent;\r\nimport MouseEnterEvent = JQuery.MouseEnterEvent;\r\nimport MouseLeaveEvent = JQuery.MouseLeaveEvent;\r\nimport {EdgeHeadStyle} from './edgeStyle';\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport {Keystrokes} from '../../../common/util';\r\nimport BlurEvent = JQuery.BlurEvent;\r\n\r\nenum EdgeDecoratorType {\r\n  containment = 'containment',\r\n  generalization = 'generalization',\r\n  simple = 'simple' }\r\n\r\nexport enum EdgeModes {\r\n  straight = 'straight',\r\n  angular2 = 'angular con 2 segmenti.',\r\n  angular3 = 'angular con 3 segmenti (un break centrale)',\r\n  angular23Auto = 'angular 2 o angular 3 automatico' }\r\n\r\n  export class IEdge {\r\n  static selecteds: IEdge[] = [];\r\n  static all: IEdge[] = null;\r\n  private static shadowWidthIncrease = 7;\r\n  static edgeChanging: IEdge;\r\n  static edgeChangingStopTime: number = Date.now();\r\n  static idToEdge: Dictionary<number, IEdge> = {};\r\n  static edgeCount: number = 0 || 0;\r\n  private headtype: EdgeDecoratorType = EdgeDecoratorType.simple;\r\n  private tailtype: EdgeDecoratorType = EdgeDecoratorType.simple;\r\n  // private static tempMidPoint_Clicked: GraphPoint = null;\r\n  // private static tempMidPoint_ModelPiece: ModelPiece = null;\r\n  owner: IGraph = null;\r\n  start: IVertex = null;\r\n  end: IVertex = null;\r\n  midNodes: EdgePoint[] = null;\r\n  startNode: EdgePoint;\r\n  endNode: EdgePoint;\r\n  shell: SVGGElement = null;\r\n  html: SVGPathElement = null;\r\n  shadow: SVGPathElement = null;\r\n  logic: IClass | IReference = null;\r\n  isSelected: boolean = null;\r\n  isHighlighted: boolean = null;\r\n  // mode: EdgeModes = null;\r\n  edgeHead: SVGSVGElement = null;\r\n  edgeTail: SVGSVGElement = null;\r\n  headShell: SVGGElement = null;\r\n  tailShell: SVGGElement = null;\r\n  tmpEnd: GraphPoint = null;\r\n  tmpEndVertex: IVertex = null;\r\n  useMidNodes: boolean = true || true;\r\n  useRealEndVertex: boolean = true || true;\r\n  id: number = null;\r\n  private isDeleted: number = 0;\r\n\r\n  static staticInit(): IEdge[] {\r\n    IEdge.all = [];\r\n    IEdge.selecteds = [];\r\n    // todo: prevent propagation on click on edges.\r\n    U.eventiDaAggiungereAlBody('trigger onBlur of all IEdge.selecteds.');\r\n    $(document.body).off('click.blurEdgeSelection').on('click.blurEdgeSelection',\r\n      (ee: ClickEvent) => {/*\r\n        const debug = false;\r\n        U.pif(debug, 'body.click(): clear All Edge Selections');\r\n        let i: number;\r\n        let arr: IEdge[] = U.shallowArrayCopy(IEdge.selecteds);\r\n        for (i = 0; i < arr.length; i++) { arr[i].onBlur(); }\r\n         U.pif(debug, 'graph clicked:', ee);\r\n        const modelPieceClicked: ModelPiece = ModelPiece.get(ee);\r\n        const edgeClicked: IEdge = IEdge.get(ee);\r\n        U.pif(debug, 'modelPieceClicked ? ', modelPieceClicked);\r\n        if (!modelPieceClicked) { return; }\r\n        const htmlClicked = ee.target;\r\n        let parent: HTMLElement = htmlClicked;\r\n        while (parent && parent.classList && !parent.classList.contains('EdgeShell')) { parent = parent.parentNode as HTMLElement; }\r\n        // const edgeClicked: IEdge = (parent && parent.classList) ? edge : null;\r\n        U.pif(debug, 'edgeClicked ? ', edgeClicked);\r\n        if (!edgeClicked) { return; }\r\n        edgeClicked.onClick(ee);*/\r\n      });\r\n\r\n    $(document.body).off('keydown.deletethings').on('keydown.deletethings', (evt: KeyDownEvent) => {\r\n      let i: number;\r\n      const target: Element = document.activeElement; // evt.target;\r\n      if (!U.isChildrenOf(target, Status.status.getActiveModel().graph.container)) return;\r\n      const tag: string = target.tagName.toLowerCase();\r\n      const isInput: boolean = U.isInput(target, true);\r\n      if (isInput) return;\r\n      const model: IModel = Status.status.getActiveModel();\r\n      const mp: ModelPiece = model.graph.propertyBar.selectedModelPiece;\r\n      const ism2: boolean = mp && model.isM2();\r\n      if (mp === model) return;\r\n      const v: IVertex = mp.getVertex(); // IVertex.getvertexByHtml(target);\r\n      const e: IEdge[] = []; //U.shallowArrayCopy(IEdge.selecteds);// IEdge.getByHtml(target);\r\n      const ext: ExtEdge[] = [];\r\n      const elogic: (IClass | IReference)[] = [];\r\n      const extlogic: M2Class[] = [];\r\n      for (i = 0; i < IEdge.selecteds.length; i++) {\r\n        const elem: IEdge = IEdge.selecteds[i];\r\n        if (elem instanceof ExtEdge) { ext.push(elem); extlogic.push(elem.logic); }\r\n        else { e.push(elem); elogic.push(elem.logic)}\r\n      }\r\n      console.log('document.keydown.deletethings: ', evt, e, v, mp);\r\n      if (e && e.length) {\r\n        console.log('edge: evt.key.toLowerCase() = ', evt.key.toLowerCase());\r\n        switch(evt.key.toLowerCase()) {\r\n          default: break;\r\n          case 'delete':\r\n            for (i = 0; i < elogic.length; i++) { (elogic[i] as ModelPiece).delete(true); }\r\n            for (i = 0; i < ext.length; i++) { ext[i].remove(); }\r\n            break;\r\n        }\r\n        return;\r\n      }\r\n      if (v) {\r\n      switch(evt.key.toLowerCase()) {\r\n        default: break;\r\n        case 'd':\r\n          if (!evt.ctrlKey || !ism2) return;\r\n          if (mp === model) return;\r\n          mp.duplicate();\r\n          break;\r\n        case 'delete': // case 'Backspace':\r\n          // if (isInput) return; was only here, moved to everyone\r\n          if (mp === model) return;\r\n          if (ism2) mp.delete(true); else {\r\n            if (mp instanceof MAttribute) mp.setValues(null); else\r\n            if (mp instanceof MReference) mp.clearTargets();\r\n          }\r\n          break;\r\n      }}\r\n    });\r\n    return IEdge.all; }\r\n\r\n  static get(e: ClickEvent | MouseMoveEvent | MouseDownEvent | MouseUpEvent | MouseLeaveEvent | MouseEnterEvent | MouseEvent): IEdge {\r\n    // return ModelPiece.getLogic(e.classType).edge;\r\n    return IEdge.getByHtml(e.target); }\r\n\r\n  static getByHtml(html0: Element, debug: boolean = true): IEdge {\r\n    if (!html0) { return null; }\r\n    let html: HTMLElement = html0 as HTMLElement;\r\n    while ( html && (!html.dataset || !html.dataset.edgeid)) { html = html.parentElement; }\r\n    const ret = html ? IEdge.getByID(+html.dataset.edgeid) : null;\r\n    // U.pe(debug && !ret, 'failed to find edge. html0:', html0, 'html:', html, 'map:', IEdge.idToEdge);\r\n    return ret; }\r\n\r\n  static getByID(id: number): IEdge { return IEdge.idToEdge[id]; }\r\n\r\n  constructor(logic: IClass | IReference, index: number, startv: IVertex, end: IVertex, tmpend: GraphPoint) {\r\n    this.tmpEnd = tmpend;\r\n    if (!startv) {\r\n      if (logic instanceof IClass) { startv = (logic as IClass).getVertex(); }\r\n      if (logic instanceof IReference) { startv = (logic as IReference).getVertex(); } }\r\n    U.pe(!startv, 'startVertex missing');\r\n    U.pe(!logic || !startv, 'new Edge() invalid parameters. logic:', logic, 'start:', startv, 'end:', end);\r\n    if (!end) {\r\n      U.pe(!!IEdge.edgeChanging, 'cannot create a pending edge (without target) while there are other pending edges.');\r\n      IEdge.edgeChanging = this; }\r\n    IEdge.all.push(this);\r\n    this.id = IEdge.edgeCount++;\r\n    IEdge.idToEdge[this.id] = this;\r\n    this.logic = logic;\r\n    if (!(this instanceof ExtEdge)) {\r\n      U.pe(index === null || index === undefined, 'index must be set.');\r\n      this.getContainedArray()[index] = this; }\r\n    this.shell = document.createElementNS('http://www.w3.org/2000/svg', 'g'); // U.newSvg<SVGGElement>('g');\r\n    this.html = document.createElementNS('http://www.w3.org/2000/svg', 'path'); // U.newSvg<SVGPathElement>('Path');\r\n    this.shadow = U.newSvg<SVGPathElement>('path');\r\n    this.shell.appendChild(this.html);\r\n    this.shell.appendChild(this.shadow);\r\n    this.shadow.dataset.edgeid = this.shell.dataset.edgeid = this.html.dataset.edgeid = '' + this.id;\r\n    this.start = startv;\r\n    this.start.edgesStart.push(this);\r\n    this.setTarget(end);\r\n    this.startNode = new EdgePoint(this, new GraphPoint(0, 0), this.start);\r\n    this.midNodes = [];\r\n    this.endNode = new EdgePoint(this, new GraphPoint(0, 0), this.end);\r\n    this.owner = this.start.owner;\r\n    this.isSelected = !!tmpend; // if created with no target, it will be selected and follow cursor.\r\n    this.isHighlighted = false;\r\n    this.edgeHead = null;\r\n    this.edgeTail = null;\r\n    this.headShell = null;\r\n    this.tailShell = null;\r\n\r\n    this.owner.edgeContainer.append(this.shell);\r\n    this.shell.classList.add('EdgeShell');\r\n    this.html.classList.add('Edge');\r\n    this.shadow.classList.add('Edge', 'Shadow');\r\n    this.shell.dataset.modelpieceid = '' + this.logic.id;\r\n    this.html.dataset.modelpieceid = '' + this.logic.id;\r\n    this.shadow.dataset.modelpieceid = '' + this.logic.id;\r\n    this.html.setAttribute('fill', 'none');\r\n    this.shadow.setAttribute('fill', 'none');\r\n    this.shadow.setAttribute('stroke', 'none');\r\n    this.shadow.setAttribute('visibility', 'hidden');\r\n    this.shadow.setAttribute('pointer-events', 'stroke');\r\n    this.addEventListeners(true, false);\r\n    this.refreshGui(); }\r\n\r\n\r\n  generateAggregationHead(style: EdgeHeadStyle): SVGSVGElement { return null; }\r\n  generateContainmentHead(style: EdgeHeadStyle): SVGSVGElement { return this.generateAggregationHead(style); }\r\n  generateContainmentTail(style: EdgeHeadStyle): SVGSVGElement { return this.generateAggregationTail(style); }\r\n\r\n  generateAggregationTail(style: EdgeHeadStyle): SVGSVGElement { // https://jsfiddle.net/Naraku/3hngkrc1/\r\n    let svg: SVGSVGElement;\r\n    let path: SVGPathElement;\r\n    const bugfigo = false;\r\n    // if (this instanceof ExtEdge) svg = this.edgeTail = this.edgeHead || U.newSvg('svg');\r\n    if (bugfigo || this.edgeTail && this.tailtype === EdgeDecoratorType.containment) {\r\n      svg = this.edgeTail;\r\n      // U.clear(svg);\r\n      path = svg.firstChild as SVGPathElement; }\r\n    else {\r\n      svg = U.newSvg<SVGSVGElement>('svg');\r\n      path = U.newSvg<SVGPathElement>('path');\r\n      svg.appendChild(path);\r\n      path.setAttributeNS(null, 'd', 'M100 0 L200 100 L100 200 L0 100 Z'); }\r\n    this.tailtype = EdgeDecoratorType.containment;\r\n    svg.setAttributeNS(null, 'width', '' + style.width);\r\n    svg.setAttributeNS(null, 'height', '' + style.width);\r\n    svg.setAttributeNS(null, 'viewBox',\r\n      (-style.width) + ' ' + (-style.width) + ' ' + (200 + style.width * 2) + ' ' +  (200 + style.width * 2));\r\n    path.setAttributeNS(null, 'fill', style.fill);\r\n    path.setAttributeNS(null, 'stroke', style.stroke);\r\n    path.setAttributeNS(null, 'stroke-width', '' + style.width);\r\n    return svg; }\r\n\r\n  generateGeneralizationHead(style: EdgeHeadStyle): SVGSVGElement {\r\n    let svg: SVGSVGElement;\r\n    let path: SVGPathElement;\r\n    const bugfigo = false;\r\n    if (bugfigo || this.edgeHead && this.headtype === EdgeDecoratorType.generalization) {\r\n      svg = this.edgeHead;\r\n      // U.clear(svg);\r\n      path = svg.firstChild as SVGPathElement; }\r\n    else {\r\n      svg = U.newSvg<SVGSVGElement>('svg');\r\n      path = U.newSvg<SVGPathElement>('path');\r\n      svg.appendChild(path);\r\n      path.setAttributeNS(null, 'd', 'M100 0 L200 200 L000 200 Z'); }\r\n    this.headtype = EdgeDecoratorType.generalization;\r\n    svg.setAttributeNS(null, 'width', '' + style.width);\r\n    svg.setAttributeNS(null, 'height', '' + style.width);\r\n    svg.setAttributeNS(null, 'viewBox',\r\n      (-style.width) + ' ' + (-style.width) + ' ' + (200 + style.width * 2) + ' ' +  (200 + style.width * 2));\r\n    path.setAttributeNS(null, 'fill', style.fill);\r\n    path.setAttributeNS(null, 'stroke', style.stroke);\r\n    path.setAttributeNS(null, 'stroke-width', '' + style.width);\r\n    return svg; }\r\n\r\n  generateGeneralizationTail(style: EdgeHeadStyle): SVGSVGElement { return null; }\r\n\r\n  static makePathSegment(prevPt: GraphPoint, nextPt: GraphPoint, mode0: EdgeModes, angularFavDirectionIsHorizontal: boolean = null,\r\n                                 prevVertexSize: GraphSize, nextVertexSize: GraphSize, type: string = ' L', debug = false): string {\r\n    // todo old: devi rifare totalmente la parte di \"angularFavDirection\" basandoti su se cade perpendicolare sul vertice e devi usare\r\n    // 2 variabili, forzando la direzione ad essere per forza perpendicolare sul lato su cui risiede il vertex.startPt o .endPt\r\n    // poi: se le direzioni forzate coincidono, allora è un angular3, se sono vertical+horizontal, allora è un angular2.\r\n    // nb: in prevVertexSize e nextVertexSize la favDirection viene calcolata uguale, ma l'assenamento prevVertexSize = nextVertexSize;\r\n    // poi deve sparire perchè devo generare 2 diverse favDirection e non una sola.\r\n    let m;\r\n    let pathStr = '';\r\n    const pt1IsOnHorizontalSide = !prevVertexSize ? null : U.isOnHorizontalEdges(prevPt, prevVertexSize);\r\n    const pt2IsOnHorizontalSide = !nextVertexSize ? null : U.isOnHorizontalEdges(nextPt, nextVertexSize);\r\n\r\n    // if (prevVertexSize) { prevPt = prevVertexSize} //IVertex.closestIntersection(); }\r\n    if (debug) {\r\n      U.cclear();\r\n      Status.status.getActiveModel().graph.markg(prevPt, true, 'green');\r\n      if (prevVertexSize) { Status.status.getActiveModel().graph.markgS(prevVertexSize, false, 'green'); }\r\n      Status.status.getActiveModel().graph.markg(nextPt, false, 'blue');\r\n      if (nextVertexSize) { Status.status.getActiveModel().graph.markgS(nextVertexSize, false, 'blue'); }\r\n    }\r\n    U.pif(debug, 'prev:' + (pt1IsOnHorizontalSide) + ', next:' + (pt2IsOnHorizontalSide),\r\n      'm0:' + mode0 + ' --> ' + mode0 + ', favDirection' + angularFavDirectionIsHorizontal);\r\n    // return '';\r\n    U.pif(debug, 'directions:', pt1IsOnHorizontalSide, pt2IsOnHorizontalSide);\r\n    if (prevVertexSize && !U.isOnEdge(prevPt, prevVertexSize)) {\r\n      U.pw(true, 'prev not on border', U.isOnEdge, prevPt, prevVertexSize);\r\n      // return '';  può causare path di un solo punto (origine)\r\n    }\r\n    if (nextVertexSize && !U.isOnEdge(nextPt, nextVertexSize)) {\r\n      U.pw(true, 'next not on border', U.isOnEdge, nextPt, nextVertexSize);\r\n      // return '';  può causare path di un solo punto (origine)\r\n    }\r\n    // U.pe(prevVertexSize && !U.isOnEdge(prevPt, prevVertexSize) || nextVertexSize && !U.isOnEdge(nextPt, nextVertexSize), 'not on border');\r\n\r\n    if (debug && prevVertexSize && !U.isOnEdge(prevPt, prevVertexSize) || nextVertexSize && !U.isOnEdge(nextPt, nextVertexSize)) {\r\n      const g = Status.status.getActiveModel().graph;\r\n      g.markg(prevPt, true, 'green');\r\n      g.markgS(prevVertexSize, false, 'green');\r\n      g.markg(prevPt, false);\r\n      g.markgS(prevVertexSize, false);\r\n    }\r\n    let mode: EdgeModes = mode0;\r\n    if (prevVertexSize && nextVertexSize) {\r\n      // mode = (pt1IsOnHorizontalSide && pt2IsOnHorizontalSide) ? EdgeModes.angular3 : EdgeModes.angular2;\r\n    }\r\n    // if (mode === EdgeModes.angular23Auto) { mode = EdgeModes.angular3; }\r\n\r\n    /*\r\n    if (prevVertexSize && mode === EdgeModes.angular23Auto) {\r\n      // U.pe(angularFavDirectionIsHorizontal === null, 'preferred direction is useless with prevVertexSize');\r\n      U.pif(debug, 'favdirection pre:', angularFavDirectionIsHorizontal,\r\n        'isOnVerticalEdge:', U.isOnVerticalEdges(prevPt, prevVertexSize),\r\n        'isOnHorizontalEdge:', U.isOnHorizontalEdges(prevPt, prevVertexSize), 'prevPt:', prevPt, 'prevSize:', prevVertexSize);\r\n      if (angularFavDirectionIsHorizontal === false && U.isOnVerticalEdges(prevPt, prevVertexSize)) {\r\n        mode = EdgeModes.angular2; angularFavDirectionIsHorizontal = true; }\r\n      if (angularFavDirectionIsHorizontal === true && U.isOnHorizontalEdges(prevPt, prevVertexSize)) {\r\n        mode = EdgeModes.angular2; angularFavDirectionIsHorizontal = false; }\r\n      U.pif(debug, 'favdirection post:', angularFavDirectionIsHorizontal);\r\n    } */\r\n    /* compute last favorite direction * /\r\nlet lastIsHorizontalSide: boolean = null;\r\nconst endPt: GraphPoint = allRealPt[allRealPt.length - 1].pos;\r\nconst penultimoPt: GraphPoint = allRealPt[allRealPt.length - 2].getStartPoint();\r\nconsole.log('endVertex:', endVertex, 'endPt:', endPt, '; useRealEnd ? ', useRealEndVertex, ' = ', this.tmpEnd, this.tmpEndVertex);\r\nif (!endVertex) { lastIsHorizontalSide = Math.abs(GraphPoint.getM(penultimoPt, endPt)) < 1; } else\r\nif (endPt.x === endVertexSize.x) {                   /*from Left* /   lastIsHorizontalSide = true; } else\r\nif (endPt.x === endVertexSize.x + endVertexSize.w) { /*from Right* /  lastIsHorizontalSide = true; } else\r\nif (endPt.y === endVertexSize.y) {                   /*from Top* /    lastIsHorizontalSide = false; } else\r\nif (endPt.y === endVertexSize.y + endVertexSize.h) { /*from Bottom* / lastIsHorizontalSide = false;\r\n} else { lastIsHorizontalSide = null; }\r\nU.pe(lastIsHorizontalSide === null, 'endpoint is not on the boundary of vertex.',\r\n  ' Vertex.endpoint:', endPt, '; vertexSize:', endVertexSize);*/\r\n    /* done setting realpoints.pos, now draw path */\r\n    let oldPathStr = pathStr;\r\n\r\n    if (mode === EdgeModes.angular23Auto) { mode = mode0 = EdgeModes.angular3; }\r\n    const angular23: EdgeModes = EdgeModes.angular3;\r\n    // if (mode0 === angular23 && prevVertexSize && !pt1IsOnHorizontalSide && nextVertexSize && pt2IsOnHorizontalSide) {\r\n    U.pif(debug, mode0 === angular23, !!prevVertexSize, pt1IsOnHorizontalSide);\r\n    if (mode0 === angular23 && prevVertexSize && pt1IsOnHorizontalSide) {\r\n      angularFavDirectionIsHorizontal = false;\r\n      mode = EdgeModes.angular3;\r\n      U.pif(debug, 'fixed'); }\r\n    // if (prevVertexSize) { angularFavDirectionIsHorizontal = pt1IsOnHorizontalSide; }\r\n    // if (nextVertexSize) { angularFavDirectionIsHorizontal = !pt2IsOnHorizontalSide; }\r\n    // if (mode === angular23 && prev)\r\n    switch (mode) {\r\n      default: U.pe(true, 'unexpected EdgeMode:', mode); break;\r\n      case EdgeModes.angular2:\r\n        m = GraphPoint.getM(prevPt, nextPt); // coefficiente angolare della prossima linea disegnata (come se fosse dritta)\r\n        if (angularFavDirectionIsHorizontal === null) { angularFavDirectionIsHorizontal = Math.abs(m) <= 1; } // angolo <= abs(45°)\r\n        if (angularFavDirectionIsHorizontal) {\r\n          // qui resizer orizzontale\r\n          oldPathStr = pathStr;\r\n          pathStr += type + (nextPt.x) + ' ' + (prevPt.y);\r\n          U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; ang2 favdirectionHorizontal');\r\n        } else {\r\n          // qui resizer verticale.\r\n          oldPathStr = pathStr;\r\n          pathStr += type + (prevPt.x) + ' ' + (nextPt.y);\r\n          U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; ang2 favdirectionVertical');\r\n        }\r\n        // qui resizer opposto al precedente.\r\n        // oldPathStr = pathStr;\r\n        // pathStr += type + (nextPt.x) + ' ' + (nextPt.y);\r\n        // U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; ang2 end ridondante?');\r\n        break;\r\n      case EdgeModes.angular23Auto + '': U.pw(true, 'mode.angular23Auto should be replaced before entering here'); break;\r\n      case EdgeModes.angular3:\r\n        m = GraphPoint.getM(prevPt, nextPt); // coefficiente angolare della prossima linea disegnata (come se fosse dritta)\r\n        if (angularFavDirectionIsHorizontal === null) { angularFavDirectionIsHorizontal = Math.abs(m) <= 1; } // angolo <= abs(45°)\r\n        if (angularFavDirectionIsHorizontal) {\r\n          const midX = (nextPt.x + prevPt.x) / 2;\r\n          // todo: e qui dovrei appendere un path invisibile che cambia cursore in HorizontalResizer intercettare gli eventi edge.\r\n          oldPathStr = pathStr;\r\n          pathStr += type + (midX) + ' ' + (prevPt.y);\r\n          U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; angular3 orizzontale: orizzontale big');\r\n          // qui invece uno piccolino verticale\r\n          oldPathStr = pathStr;\r\n          pathStr += type + (midX) + ' ' + (nextPt.y);\r\n          U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; angular3 orizzontale: verticale small');\r\n        } else {\r\n          const midY = (nextPt.y + prevPt.y) / 2;\r\n          // todo: qui resizer verticale.\r\n          oldPathStr = pathStr;\r\n          pathStr += type + prevPt.x + ' ' + (midY);\r\n          U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; angular3 verticale: verticale big');\r\n          // qui invece uno piccolino orizzontale\r\n          oldPathStr = pathStr;\r\n          pathStr += type + nextPt.x + ' ' + (midY);\r\n          U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; angular3 verticale: orizzontale small');\r\n        }\r\n        // todo: qui resizer opposto al precedente.\r\n        break;\r\n      case EdgeModes.straight: /* nessun punto fittizio di mezzo */ break;\r\n    }\r\n    oldPathStr = pathStr;\r\n    pathStr += type + (nextPt.x) + ' ' + (nextPt.y);\r\n    U.pif(debug, 'pathStr: ', oldPathStr, ' --> ', pathStr, '; lastPt comune a tutti.');\r\n\r\n    return pathStr; }\r\n  /*private static midPointMouseDown(e: JQuery.MouseDownEvent) {\r\n    IEdge.tempMidPoint_ModelPiece = ModelPiece.getLogic(e.currentTarget);\r\n    IEdge.tempMidPoint_Clicked = Status.status.getActiveModel().graph.toGraphCoord( new Point(e.pageX, e.pageY) );\r\n  }*//*\r\n  private static midPointMouseMove(e: JQuery.MouseMoveEvent) {\r\n    const p: GraphPoint = Status.status.getActiveModel().graph.toGraphCoord( new Point(e.pageX, e.pageY) );\r\n\r\n  }\r\n  private static midPointMouseUp(e: JQuery.MouseUpEvent) { }*/\r\n    canBeLinkedTo(target: IClass): boolean { return this.logic.canBeLinkedTo(target); }\r\n\r\n  refreshGui(debug: boolean = false, useRealEndVertex: boolean = null, usemidnodes: boolean = null) {\r\n    debug = false;\r\n    let debugi: number = window['' + 'debug'];\r\n    if (debugi === 1) return;\r\n    // || this.start.size.isinside(this.end.size) ||  this.end.size.isinside(this.start.size\r\n    // quando startpoint o endpoint sono dentro un vertice size\r\n    if (!this.midNodes.length && (this.start === this.end)) { //this.start.size.intersection(this.end.size))) {\r\n      $(this.shell).hide();\r\n      return; } else $(this.shell).show();\r\n\r\n    // if (this.tmpEnd && !this.end) { this.shell.focus(); }\r\n    this.isSelected = U.hasFocusWithin(this.shell);\r\n    U.pe(!this.logic, 'IEdge.logic is null:', this);\r\n    if (useRealEndVertex === null) { useRealEndVertex = this.useRealEndVertex; }\r\n    if (usemidnodes === null) { usemidnodes = this.useMidNodes; }\r\n    /* setup variables */\r\n    const startVertex: IVertex = this.start;\r\n    const startVertexSize: GraphSize = this.start.getSize();\r\n    let endVertex: IVertex = null;\r\n    let endVertexSize: GraphSize = null;\r\n    let allRealPt: EdgePoint[] = this.getAllRealMidPoints();\r\n    if (!usemidnodes) { allRealPt = [allRealPt[0], allRealPt[allRealPt.length - 1]]; }\r\n    if (useRealEndVertex && this.end) {\r\n      endVertex = this.end;\r\n      endVertexSize = endVertex.getSize();\r\n      this.startNode.moveTo(startVertex.getStartPoint(allRealPt[1].getEndPoint()), false);\r\n      this.endNode.moveTo(endVertex.getEndPoint(allRealPt[allRealPt.length - 2].getStartPoint()), false);\r\n    } else {\r\n      endVertex = this.tmpEndVertex;\r\n      endVertexSize = endVertex ? endVertex.getSize() : null;\r\n      this.startNode.moveTo(startVertex.getStartPoint(allRealPt[1].getEndPoint()), false);\r\n\r\n      // console.log('3x moveto() endvertex:', endVertex, 'endvertexpos:',\r\n      // endVertex && endVertex.getEndPoint(allRealPt[allRealPt.length - 2].getStartPoint()).duplicate(),  'tmpend:', this.tmpEnd);\r\n      const endpos = endVertex ? endVertex.getEndPoint(allRealPt[allRealPt.length - 2].getStartPoint()) : this.tmpEnd;\r\n      if (endpos) this.endNode.moveTo(endpos, false);\r\n    }\r\n    if (debugi === 2) return;\r\n    U.pif(debug, 'allRealPt:', allRealPt);\r\n    let i;\r\n    let pathStr: string; // 'M' + (allRealPt[0].getStartPoint().x) + ' ' + (allRealPt[0].getStartPoint().y);\r\n    let oldpathStr: string;\r\n    const graph: IGraph = this.logic.getModelRoot().graph;\r\n\r\n    if (debugi === 3) return;\r\n    if (debug) {\r\n      // U.cclear();\r\n      if (startVertexSize) { graph.markgS(startVertexSize, true, 'blue'); }\r\n      if (endVertexSize) { graph.markgS(endVertexSize, false); } }\r\n\r\n    for (i = 1; i < allRealPt.length; i++) { // escludo il primo punto dal loop.\r\n      const curr: EdgePoint = allRealPt[i];\r\n      const prev: EdgePoint = allRealPt[i - 1];\r\n      const favdirection: boolean = null; // i === allRealPt.length - 1 ? lastdirectionIsHorizontal : null;\r\n      const prevVertexSize: GraphSize = i === 1 ? startVertexSize : null;\r\n      const nextVertexSize: GraphSize = i === allRealPt.length - 1 ? endVertexSize : null;\r\n      const prevPt: GraphPoint = prev.getStartPoint(!prevVertexSize, !prevVertexSize);\r\n      const currPt: GraphPoint = curr.getEndPoint(!nextVertexSize, !nextVertexSize);\r\n      // console.log(prevVertexSize, new GraphSize());\r\n      const intersection = nextVertexSize && prevVertexSize ? nextVertexSize.intersection(prevVertexSize) : null;\r\n      if (debug && false) {\r\n        if (intersection) console.log('midenodes.length:', !this.midNodes.length , '&&', prevPt , currPt, ' contained in ', intersection,\r\n          intersection.contains(prevPt), intersection.contains(currPt));\r\n        if (intersection) this.owner.markgS(intersection, true, 'black');\r\n        this.owner.markg(prevPt, true, 'orange');\r\n        this.owner.markg(currPt, false,'yellow');\r\n        if (prevVertexSize) { graph.markgS(prevVertexSize, false, 'blue'); }\r\n        if (nextVertexSize) { graph.markgS(nextVertexSize, false); } }\r\n      if (!this.midNodes.length && intersection && ( intersection.contains(prevPt) || intersection.contains(currPt)) ){\r\n        $(this.shell).hide();\r\n        return; }\r\n      // if (i === 1) { pt1.moveOnNearestBorder(startVertexSize, false); }\r\n      // if (i === allRealPt.length - 1) { pt2.moveOnNearestBorder(endVertexSize, false); }\r\n      if (i === 1) { pathStr = 'M' + prevPt.x + ' ' + prevPt.y; }\r\n      oldpathStr = pathStr;\r\n      pathStr += IEdge.makePathSegment(prevPt, currPt, this.getEdgeMode(), favdirection, prevVertexSize, nextVertexSize);\r\n      U.pif(debug, 'pathStr: RealPts:' + '[' + i + '] = ' + currPt.toString() + '; prev:' + prevPt.toString());\r\n      U.pif(debug, 'pathStr[' + (i) + '/' + allRealPt.length + ']: ' + oldpathStr + ' --> ' + pathStr);\r\n\r\n      U.pe( pathStr.lastIndexOf('L') === -1,\r\n        '0: the pathString have no L (but should have at least 2 points)', pathStr, allRealPt, this);\r\n    }\r\n\r\n\r\n    U.pe( pathStr.lastIndexOf('L') === -1,\r\n      'the pathString have no L (but should have at least 2 points)', pathStr, allRealPt, this);\r\n\r\n    if (debugi === 3) return;\r\n    this.setPath(pathStr, debug);\r\n    if (debugi === 4) return;\r\n    this.getEdgeHead();\r\n    this.getEdgeTail();\r\n    if (debugi === 5) return;\r\n    this.appendTailHead(true, pathStr);\r\n    this.appendTailHead(false, pathStr);\r\n    if (debugi === 6) return;\r\n    // this.addEventListeners(true, false);\r\n  }\r\n\r\n  getEdgeMode(): EdgeModes {\r\n    let tmp = this.logic.edgeStyleCommon.style;\r\n    return tmp ? tmp : this.logic.edgeStyleCommon.style = EdgeModes.straight; }\r\n\r\n  private getStyle(): EdgeStyle {\r\n   if (this.isSelected) {\r\n      return this.logic.edgeStyleSelected;\r\n    } if (this.isHighlighted) {\r\n      return this.logic.edgeStyleHighlight;\r\n    } else { return this.logic.edgeStyleCommon; } }\r\n\r\n  private setPath(pathStr: string, debug: boolean = false): void {\r\n    let style: EdgeStyle = this.getStyle();\r\n    /* update style */\r\n    this.html.setAttribute('stroke', style.color);\r\n    this.html.setAttribute('stroke-width', '' + style.width);\r\n    this.shadow.setAttribute('stroke-width', '' + (style.width + IEdge.shadowWidthIncrease));\r\n    // U.clear(this.shell);\r\n    this.shell.appendChild(this.html);\r\n    this.shell.appendChild(this.shadow);\r\n    U.pif(debug, 'edgeHead:', this.edgeHead, 'tail:', this.edgeTail);\r\n    this.html.setAttributeNS(null, 'd', pathStr);\r\n    this.shadow.setAttributeNS(null, 'd', pathStr);\r\n    let i: number;\r\n    if (this.isSelected) {\r\n      this.startNode.show();\r\n      for (i = 0; i < this.midNodes.length; i++) { this.midNodes[i].show(); }\r\n      this.endNode.show(); } else\r\n    if (this.isHighlighted) {\r\n      this.startNode.hide();\r\n      for (i = 0; i < this.midNodes.length; i++) { this.midNodes[i].show(); }\r\n      this.endNode.hide();\r\n    } else {\r\n      this.startNode.hide();\r\n      for (i = 0; i < this.midNodes.length; i++) { this.midNodes[i].hide(); }\r\n      this.endNode.hide();\r\n    }\r\n  }\r\n\r\n  addEventListeners(foredge: boolean, forheadtail: boolean): void {\r\n    const $edgetail: JQuery<Element> = forheadtail ? $(this.headShell).add(this.tailShell) : $();\r\n    const $shell: JQuery<Element> = foredge ? $(this.shell) : $();\r\n    const $edgeparts = $(this.shell);// .find('>*');\r\n    console.log('EdgeParts:', $edgeparts);\r\n    // $edgetail.attr('tabindex', '-1');\r\n    $shell.attr('tabindex', '-1');\r\n    // U.pe(!$shell.length, 'html+', $htmlplus, 'html', $html, 'tailhead', $edgetail);\r\n    //  U.pe(!$edgetail.length, 'html+', $htmlplus, 'html', $html, 'tailhead', $edgetail, 'head-tail:', this.edgeHead, this.edgeTail);\r\n    // $shell.off('click.pbar').on('click.pbar', (e: ClickEvent) => IVertex.ChangePropertyBarContentClick(e, this) );\r\n    /*$html.off('mousedown.showStyle').on('mousedown.showStyle',\r\n      (e: MouseDownEvent) => { Status.status.getActiveModel().graph.propertyBar.styleEditor.showE(this.logic); });*/\r\n    $shell.off('mousedown.startSetMidPoint').on('mousedown.startSetMidPoint',\r\n      (e: MouseDownEvent) => {\r\n        // const ownermp: M2Class | IReference = ModelPiece.getLogic(e.currentTarget) as M2Class | IReference;\r\n        // U.pe( ownermp === null || ownermp === undefined, 'unable to get logic of:', e.currentTarget);\r\n        const edge: IEdge = IEdge.get(e);\r\n        U.pe( !e , 'unable to get edge of:', e.currentTarget);\r\n        edge.onMouseDown(e); } );\r\n    $shell.off('mousemove.startSetMidPoint').on('mousemove.startSetMidPoint',\r\n      (e: MouseMoveEvent) => {\r\n        // const ownermp: M2Class | IReference = ModelPiece.getLogic(e.currentTarget) as M2Class | IReference;\r\n        // U.pe( ownermp === null || ownermp === undefined, 'unable to get logic of:', e.currentTarget);\r\n        const edge: IEdge = IEdge.getByHtml(e.target, true);\r\n        edge.onMouseMove(e); } );\r\n    // $shell.off('click.addEdgePoint').on('click.addEdgePoint', (e: ClickEvent) => { IEdge.get(e).onClick(e); });\r\n    $edgeparts.off('mouseover.cursor').on('mouseover.cursor', (e: MouseOverEvent) => { IEdge.get(e).onMouseOver(e); });\r\n    $edgeparts.off('mouseenter.cursor').on('mouseenter.cursor', (e: MouseEnterEvent) => { IEdge.get(e).onMouseEnter(e); });\r\n    $edgeparts.off('mouseleave.cursor').on('mouseleave.cursor', (e: MouseLeaveEvent) => { IEdge.get(e).onMouseLeave(e); });\r\n    $edgeparts.off('keydown.delete').on('keydown.delete', (e: KeyDownEvent) => this.keydown(e));\r\n    $shell.off('blur').on('blur', (e: BlurEvent) => { this.onBlur(e); });\r\n    $shell.off('focus').on('focus', (e: Event) => { this.onFocus(e); });\r\n    }\r\n\r\n  keydown(e: KeyDownEvent): void {\r\n    e.stopPropagation();\r\n    console.log('keydown:', e.key);\r\n    if (e.key == Keystrokes.escape) {\r\n      // console.log('focused0:', document.activeElement);\r\n      // if (U.isFunction((document.activeElement as any).blur)) this.shell.blur();\r\n      Status.status.getActiveModel().graph.edgeChangingAbort(e);\r\n      }\r\n    if (e.key !== Keystrokes.delete) return;\r\n    this.remove(); }\r\n\r\n  onBlur(e: BlurEvent = null) {\r\n    if (this.isDeleted) return;// check dopo aver fatto edgeabort se continua a dare errore quando deselezioni premendo altrove.\r\n    // this.isSelected = false;\r\n    // this.html.classList.remove('selected_debug');\r\n    U.arrayRemoveAll(IEdge.selecteds, this);\r\n    let i;\r\n    for (i = 0; i < this.midNodes; i++) { this.midNodes[i].hide(); }\r\n    this.refreshGui(); }\r\n\r\n  getAllRealMidPoints(): EdgePoint[] {\r\n    const allNodes: EdgePoint[] =  [];\r\n    allNodes.push(this.startNode);\r\n    let i = 0;\r\n    while (i < this.midNodes.length) { allNodes.push(this.midNodes[i++]); }\r\n    allNodes.push(this.endNode);\r\n    return allNodes; }\r\n\r\n  getAllFakePoints(debug: boolean = false): EdgePointFittizio[] {\r\n    // if (!this.html) { return null; }\r\n    const d = this.html.getAttributeNS(null, 'd'); // .replace('M', 'L');\r\n    // let dArr: string[] = d.split('L'); /// consider instead: U.parseSvgPath(pathStr).pts;\r\n    // if (dArr.length === 1) { dArr = [dArr[0], dArr[0]]; }\r\n    let i;\r\n    const realMidPoints: EdgePoint[] = this.getAllRealMidPoints();\r\n    const nodiFittizi: EdgePointFittizio[] = [];\r\n    let realNodeIndex = 0;\r\n    let puntiReali = 0;\r\n    const parsedpts:{assoc: {letter: string, pt: Point}[], pts: Point[]} = U.parseSvgPath(d);\r\n    for (i = 0; i < parsedpts.pts.length; i++) {\r\n      const pt: GraphPoint = new GraphPoint(parsedpts.pts[i].x, parsedpts.pts[i].y);\r\n      let target: EdgePoint = null;\r\n      U.pif(debug, 'getAllFakePoints() d:', d, 'pt', pt, 'realMidPoints:', realMidPoints, 'index:', realNodeIndex, 'match?',\r\n        realNodeIndex >= realMidPoints.length ? 'overflow' : realMidPoints[realNodeIndex].pos.equals(pt));\r\n      let fitHorizontal: boolean;\r\n      let fitVertical: boolean;\r\n      if (i !== 0 && i !== parsedpts.pts.length - 1) { fitHorizontal = fitVertical = true; }\r\n      if (i === 0 && !U.isOnHorizontalEdges(pt, this.start.getSize())) { fitHorizontal = false; fitVertical = true; }\r\n      if (i === 0 && U.isOnHorizontalEdges(pt, this.start.getSize())) { fitHorizontal = true; fitVertical = false; }\r\n      if (i === parsedpts.pts.length - 1 && !U.isOnHorizontalEdges(pt, this.end.getSize())) { fitHorizontal = false; fitVertical = true; }\r\n      if (i === parsedpts.pts.length - 1 && U.isOnHorizontalEdges(pt, this.end.getSize())) { fitHorizontal = true; fitVertical = false; }\r\n      // fitHorizontal = (i === 0 && U.isOnHorizontalEdges(pt, this.start.getSize()));\r\n      const midPoint: GraphPoint = realMidPoints[realNodeIndex].getStartPoint(fitHorizontal, fitVertical);\r\n      // todo: se cambi endpoint !== startpoint, devi fare due check.\r\n      // const prevPt: GraphPoint = allNodes[realNodeIndex].getStartPoint(!!prevVertexSize, !!prevVertexSize);\r\n      // const currPt: GraphPoint = curr.getEndPoint(!!nextVertexSize, !!nextVertexSize);\r\n      U.pif(debug, pt, ' =?= ', midPoint, pt.equals(midPoint));\r\n      if (pt.equals(midPoint)) {\r\n        puntiReali++;\r\n        target = realMidPoints[realNodeIndex++];\r\n      }\r\n      nodiFittizi.push( new EdgePointFittizio(pt, target)); }\r\n    if (puntiReali < 2 || puntiReali < realMidPoints.length) {\r\n      const prettyFittizi: string[] = [];\r\n      const prettyRealMidPoints: string[] = [];\r\n      i = -1;\r\n      while (++i < nodiFittizi.length) { prettyFittizi.push(nodiFittizi[i].pos.toString()); }\r\n      i = -1;\r\n      while (++i < realMidPoints.length) { prettyRealMidPoints.push(realMidPoints[i].pos.toString()); }\r\n      U.pw(debug, 'fallimento nell\\'assegnare fakepoints ai punti reali. Assegnati:' + puntiReali + ' / ' + prettyRealMidPoints.length\r\n        + '; fittizi trovati:', prettyFittizi, ' reali:', prettyRealMidPoints, ', parsedpts:', parsedpts, ', path:', d);\r\n    }\r\n    return nodiFittizi; }\r\n\r\n  getBoundingMidPoints(e: ClickEvent | MouseMoveEvent | MouseUpEvent | MouseDownEvent | MouseEvent | MouseEnterEvent | MouseLeaveEvent,\r\n                       style: EdgeStyle = null, canFail: boolean = false, arrFittizi: EdgePointFittizio[] = null): {prev: EdgePoint, next: EdgePoint} {\r\n    const fittizi: EdgePointFittizio[] = arrFittizi ? arrFittizi : this.getAllFakePoints();\r\n    const tmp: EdgePointFittizio[] = this.getBoundingMidPointsFake(e, style, canFail, fittizi);\r\n    return {prev:tmp[0].getPreviousRealPt(fittizi), next: tmp[1].getNextRealPt(fittizi)}; }\r\n\r\n  getBoundingMidPointsFake(e: ClickEvent | MouseMoveEvent | MouseUpEvent | MouseDownEvent | MouseEvent | MouseEnterEvent | MouseLeaveEvent,\r\n                           style: EdgeStyle = null, canFail: boolean = false, arrFittizi: EdgePointFittizio[] = null): EdgePointFittizio[] {\r\n\r\n    // if (style.style === EdgeModes.straight) { return this.getBoundingMidPointsStraight(e, canFail); }\r\n    // const edge: IEdge = ModelPiece.getLogic(e.classType).edge;\r\n    const clickedPt: GraphPoint = GraphPoint.fromEvent(e);\r\n    const lineWidth: number = +this.shadow.getAttributeNS(null, 'stroke-width');\r\n\r\n    const allNodes: EdgePoint[] =  this.getAllRealMidPoints();\r\n    const fittizi: EdgePointFittizio[] = arrFittizi ? arrFittizi : this.getAllFakePoints();\r\n\r\n    let i: number;\r\n    let closestPrev: EdgePointFittizio = null;\r\n    let closestNext: EdgePointFittizio = null;\r\n    let closestDistance: number = Number.POSITIVE_INFINITY;\r\n    if (fittizi.length < 2) return null;\r\n    for (i = 1; i < fittizi.length; i++) {\r\n      const prev: EdgePointFittizio = fittizi[i - 1];\r\n      const next: EdgePointFittizio = fittizi[i];\r\n      const currentDistance = clickedPt.distanceFromLine(prev.pos, next.pos);\r\n      /*if (clickedPt.isInTheMiddleOf(prev.pos, next.pos, lineWidth)) { return [prev, next]; }*/\r\n      if (currentDistance < closestDistance) { closestPrev = prev; closestNext = next; closestDistance = currentDistance; }\r\n    }\r\n    return [closestPrev, closestNext]; }\r\n\r\n  getBoundingMidPointsStraight_OLD(\r\n    e: ClickEvent | MouseMoveEvent | MouseUpEvent | MouseDownEvent | MouseEvent | MouseEnterEvent | MouseLeaveEvent,\r\n    canFail: boolean = false): EdgePoint[] {\r\n\r\n    const edge: IEdge = null; // ModelPiece.getLogic(e.classType).edge;\r\n    const clickedPt: GraphPoint = GraphPoint.fromEvent(e);\r\n    const first: EdgePoint = this.startNode;\r\n    const second: EdgePoint = (this.midNodes.length === 0 ? this.endNode : this.midNodes[0]);\r\n    const penultimo: EdgePoint = (this.midNodes.length === 0 ? this.startNode : this.midNodes[this.midNodes.length - 1]);\r\n    const last: EdgePoint = this.endNode;\r\n    const lineWidth: number = +this.shadow.getAttributeNS(null, 'stroke-width');\r\n    if (clickedPt.isInTheMiddleOf(first.pos, second.pos, lineWidth)) {\r\n      /*console.log('bounding (first[' + edge.midNodes.indexOf(second)\r\n        + '] && second[' + + edge.midNodes.indexOf(penultimo) + ']); e:', edge);*/\r\n      return [first, second]; }\r\n    /* if (penultimo !== first && second !== penultimo && clickedPt.isInTheMiddleOf(second.pos, penultimo.pos, lineWidth)) {\r\n      console.log('bounding (second[' + edge.midNodes.indexOf(second)\r\n        + '] && penultimo[' + + edge.midNodes.indexOf(penultimo) + ']), e:', edge);\r\n      U.pe(edge.midNodes.indexOf(second) + 1 !== edge.midNodes.indexOf(penultimo), 'non conseguenti');\r\n      return [second, penultimo]; } */\r\n    if (last !== second && clickedPt.isInTheMiddleOf(penultimo.pos, last.pos, lineWidth)) {\r\n      /*console.log('bounding (penultimo[' + edge.midNodes.indexOf(penultimo)\r\n        + '] && ultimo[' + + edge.midNodes.indexOf(last) + ']); e:', edge);*/\r\n      return [penultimo, last]; }\r\n    let i;\r\n    for (i = 0; i < this.midNodes.length; i++) { // ottimizzazione: può partire da 1 e terminare 1 prima (penultimo)\r\n      const pre: EdgePoint = i === 0 ? first : this.midNodes[i - 1];\r\n      const now: EdgePoint = this.midNodes[i];\r\n      if (clickedPt.isInTheMiddleOf(pre.pos, now.pos, lineWidth)) {\r\n        /*console.log('bounding (pre[' + edge.midNodes.indexOf(pre)\r\n          + '] && now[' + + edge.midNodes.indexOf(now) + ']), e:', edge);*/\r\n        U.pe(edge.midNodes.indexOf(pre) + 1 !== edge.midNodes.indexOf(now), 'non consecutivi.');\r\n        return [pre, now]; }\r\n    }\r\n    console.log('clickedPt:', clickedPt, ', start:', this.startNode.pos, ', mids:', this.midNodes, ', end:', this.endNode.pos);\r\n    U.pe(!canFail, 'bounding points not found:', e, this, 'edge:', IEdge.get(e));\r\n    return null; }\r\n\r\n  onMouseLeave(e: MouseLeaveEvent): void {\r\n    this.isHighlighted = false;\r\n    this.startNode.refreshGUI(null, false);\r\n    this.endNode.refreshGUI(null, false);\r\n    let i;\r\n    for (i = 0; i < this.midNodes.length; i++) { this.midNodes[i].refreshGUI(null, false); }\r\n    this.refreshGui(); }\r\n\r\n  onMouseEnter(e: MouseEnterEvent): void {\r\n    this.onMouseLeave(null);\r\n    this.isHighlighted = true;\r\n    this.refreshGui(true);\r\n  }\r\n\r\n  onMouseMove(e: MouseMoveEvent): void { this.onMouseOver(e as any, false); }\r\n\r\n  onMouseOver(e: MouseOverEvent | MouseMoveEvent, canFail: boolean = false, debug: boolean = false): void {\r\n    if (CursorFollowerEP.get().isAttached() || IEdge.edgeChanging) { return; }\r\n    const fakePoints: EdgePointFittizio[] = this.getAllFakePoints();\r\n    const tmp: EdgePointFittizio[] = this.getBoundingMidPointsFake(e, null, canFail, fakePoints);\r\n    if (!tmp || tmp.length < 2) { return; }\r\n    const preFake: EdgePointFittizio = tmp[0];\r\n    const nextFake: EdgePointFittizio = tmp[1];\r\n    const pre: EdgePoint = preFake.getPreviousRealPt(fakePoints);\r\n    const next: EdgePoint = nextFake.getNextRealPt(fakePoints);\r\n    if (!pre || !next) return; // for some reason it does not detect start and endpoint, but it's fine ignoring them here.\r\n    // U.pe(!pre, 'failed to get previousRealPt of point:', preFake, ', all fakePoints:', fakePoints);\r\n    // U.pe(!next, 'failed to get nextRealPt of point:', nextFake, ', all fakePoints:', fakePoints);\r\n    let i = -1;\r\n    this.startNode.refreshGUI(null, false);\r\n    this.endNode.refreshGUI(null, false);\r\n    let cursor: string;\r\n    switch (this.getEdgeMode()) {\r\n      default: cursor = 'help'; break;\r\n      case EdgeModes.straight: cursor = 'select'; break;\r\n      case EdgeModes.angular2:\r\n      case EdgeModes.angular3:\r\n      case EdgeModes.angular23Auto:\r\n        if (preFake.pos.x === nextFake.pos.x) { cursor = 'col-resize';\r\n        } else if (preFake.pos.y === nextFake.pos.y) { cursor = 'row-resize';\r\n        } else { cursor = 'no-drop'; }\r\n        break;\r\n    }\r\n    this.shadow.style.cursor = this.html.style.cursor = cursor;\r\n    while (++i < this.midNodes.length) { this.midNodes[i].refreshGUI(null, false); }\r\n    if (debug) { U.cclear(); }\r\n    U.pif(debug, 'fake     pre: ', preFake, ', next:', nextFake);\r\n    U.pif(debug, 'real     pre: ', pre, ', next:', next);\r\n    pre.refreshGUI(null, true);\r\n    next.refreshGUI(null, true); }\r\n\r\n  onFocus(e: Event = null): void {\r\n    this.isSelected = true;\r\n    IEdge.selecteds.push(this);\r\n    this.refreshGui(); }\r\n\r\n  onMouseDown(e: MouseDownEvent): void {\r\n    IVertex.ChangePropertyBarContentClick(e, this);\r\n    e.stopPropagation();\r\n    // attach midpoint mouse follower\r\n    if (!this.isSelected) { return; }\r\n    const tmp = this.getBoundingMidPoints(e);\r\n    const pos: GraphPoint = this.owner.toGraphCoord(new Point(e.pageX, e.pageY));\r\n    CursorFollowerEP.get().attach(this, pos, this.midNodes.indexOf(tmp.prev)); }\r\n\r\n  onMouseUp(e: MouseUpEvent): void {\r\n    const len0: number = this.midNodes.length;\r\n    const index = this.midNodes.indexOf(CursorFollowerEP.get());\r\n    if (!this.isSelected) { return; }\r\n    // console.log('point inserted Pre', this.midNodes, ' [0]:', this.midNodes[0], this.midNodes[1]);\r\n    CursorFollowerEP.get().detach(false);\r\n    const len1: number = this.midNodes.length;\r\n    U.insertAt(this.midNodes, index, new EdgePoint(this, CursorFollowerEP.get().pos));\r\n    const len2: number = this.midNodes.length;\r\n    U.pe(len0 !== this.midNodes.length, 'size varied: ' + len0 + ' --> ' + len1 + ' --> ' + len2 + ' --> ' + this.midNodes.length);\r\n    // console.log('point inserted Post:', this.midNodes,  len0 + ' --> ' + this.midNodes.length);\r\n    this.refreshGui(); }\r\n\r\n  remove() {\r\n    console.log('edge.remove()');\r\n    this.isDeleted++;\r\n    if (this.isDeleted > 1) {\r\n      if (!(this instanceof M2Reference)) U.pw(true, 'edge removed ' + this.isDeleted + ' times.', this);\r\n      return; }\r\n    U.arrayRemoveAll(this.start.edgesStart, this);\r\n    if (this.end) U.arrayRemoveAll(this.end.edgesEnd, this);\r\n    U.arrayRemoveAll(IEdge.all, this);\r\n    U.arrayRemoveAll(IEdge.selecteds, this);\r\n    const index = this.getIndex();\r\n    this.getContainedArray()[index] = null;\r\n    if (this.logic && this.logic.edges) U.arrayRemoveAll(this.logic.edges, this);\r\n    if (this.logic instanceof MReference) { this.logic.mtarget[index] = null; }\r\n    if (this.logic instanceof M2Reference) { (this.logic as M2Reference).delete(true, null, null); }\r\n    this.shell.parentNode.removeChild(this.shell);\r\n\r\n    // gc helper\r\n    this.end = null;\r\n    this.logic = null;\r\n    this.tmpEnd = null;\r\n    this.tmpEndVertex = null;\r\n    this.endNode = null;\r\n    this.midNodes = null;\r\n    this.owner = null;\r\n    this.start = null;\r\n    this.startNode = null;\r\n  }\r\n\r\n  unsetTarget(): IVertex {\r\n    const v: IVertex = this.end;\r\n    if (!v) { return null; }\r\n    this.end = null;\r\n    U.arrayRemoveAll(v.edgesEnd, this);\r\n    return v; }\r\n\r\n  setTarget(v: IVertex): void {\r\n    this.unsetTarget();\r\n    this.end = v;\r\n    if (v) { v.edgesEnd.push(this); } }\r\n  mark(markb: boolean, key: string = 'errorGeneric', color: string = 'red'): void {\r\n    U.pe(true, 'IEdge.mark() todo.');\r\n  }\r\n\r\n\r\n    private getEdgeHead(): SVGSVGElement { return this.getEdgeHeadTail(true); }\r\n    private getEdgeTail(): SVGSVGElement { return this.getEdgeHeadTail(false); }\r\n// bug: https://bugzilla.mozilla.org/show_bug.cgi?id=577785#c2\r\n    private getEdgeHeadTail(isHead: boolean, debug: boolean = false): SVGSVGElement {\r\n      const logic: IReference | IClass = this.logic;\r\n      const logicref: IReference = logic instanceof IReference ? logic : null;\r\n      const logicclass: IClass = logic instanceof IClass ? logic : null;\r\n      let html: SVGSVGElement = null;\r\n      let debugi: number;\r\n      let edgeTailHeadSVG = isHead ? this.edgeHead : this.edgeTail;\r\n      if (debug) {\r\n        console.trace();\r\n        console.log('getEdge' + (isHead ? 'Head' : 'Tail') + '(), ', this.getStyle().edgeHeadStyle, this.isHighlighted);\r\n        debugi = window['' + 'debug'];\r\n        if (debugi === 4.1) return  (edgeTailHeadSVG ? edgeTailHeadSVG : html) ; }\r\n      if (isHead) {\r\n        if (logicref && logicref.isContainment()) { html = this.generateContainmentHead(this.getStyle().edgeHeadStyle); }\r\n        if (this instanceof ExtEdge) { html = this.generateGeneralizationHead(this.getStyle().edgeHeadStyle); }\r\n      } else {\r\n        if (logicref && logicref.isContainment()) { html = this.generateContainmentTail(this.getStyle().edgeHeadStyle); }\r\n        if (this instanceof ExtEdge) { html = this.generateGeneralizationTail(this.getStyle().edgeHeadStyle); }\r\n      }\r\n      // U.pe(this instanceof ExtEdge && !html, 'cannot return null on extedge:', html, this);\r\n      if (debug && debugi === 4.2) return edgeTailHeadSVG ? edgeTailHeadSVG : html;\r\n      if (!html) {\r\n        if (isHead) this.edgeHead = null; else this.edgeTail = null;\r\n        return null; }\r\n      if (isHead) {\r\n        if (html === this.edgeHead) return html;\r\n        if (!html) return this.edgeHead = null;\r\n        this.edgeHead = html;\r\n        html.classList.add('Edge', 'EdgeHead');\r\n        if (this.headShell) this.headShell.appendChild(html);\r\n      }\r\n      else {\r\n        if (html === this.edgeTail) return html;\r\n        if (!html) return this.edgeTail = null;\r\n        this.edgeTail = html;\r\n        html.classList.add('Edge', 'EdgeTail');\r\n        if (this.tailShell) this.tailShell.appendChild(html);\r\n      }\r\n      return html; }\r\n\r\n\r\n  private appendTailHead(tail: boolean, pathStr: string, debug: boolean = false) {\r\n    const svg: SVGSVGElement = tail ? this.edgeTail : this.edgeHead;\r\n    const shell: SVGGElement = tail ? this.tailShell : this.headShell;\r\n    if (!svg) { return; }\r\n    // debug = true;\r\n    if (debug) U.cclear();\r\n    const oldPathStr: string = pathStr;\r\n    let startsub: number;\r\n    let endsub: number;\r\n    // filtro il pathStr estraendo solo i primi 2 o gli ultimi 2 punti. (migliora performance su edge pieni di edgepoints)\r\n    let pt1: Point;\r\n    let pt2: Point;\r\n    if (!tail) {\r\n      endsub = pathStr.length;\r\n      startsub = pathStr.lastIndexOf('L');\r\n      U.pe(startsub === -1, 'the pathString have no L (but should have at least 2 points)', pathStr);\r\n      startsub = pathStr.lastIndexOf('L', startsub - 1);\r\n      if (startsub === -1) { startsub = 0; }\r\n    } else {\r\n      startsub = 0;\r\n      endsub = pathStr.indexOf('L');\r\n      U.pe(endsub === -1, 'the pathString have no L (but should have at least 2 points)');\r\n      endsub = pathStr.indexOf('L', endsub + 1);\r\n      if (endsub === -1) { endsub = pathStr.length; } }\r\n    pathStr = pathStr.substring(startsub, endsub);\r\n    U.pif(debug, 'pathStr: ' + oldPathStr + ' --> ' + pathStr, 'onEnd ? ', !tail);\r\n    const points: Point[] = U.parseSvgPath(pathStr).pts;\r\n    U.pe(points.length !== 2, 'expected exactly 2 points, the pathStr got substringed for that.', points);\r\n    if (!tail) { pt1 = points[1]; pt2 = points[0]; } else { pt1 = points[0]; pt2 = points[1]; }\r\n    if (debug) { this.owner.markg(pt1, true, 'red'); this.owner.markg(pt2, false, 'blue'); }\r\n\r\n    U.pif(debug, 'size of head: ', svg, 'pt1:', pt1, 'pt2:', pt2, ', pts:', points, pathStr, oldPathStr);\r\n    this.appendTailHead2(tail, pt1, pt2); }\r\n\r\n  private appendTailHead2(tail: boolean, pt1: GraphPoint, pt2real: GraphPoint, debug: boolean = false): void {\r\n    const m = GraphPoint.getM(pt1, pt2real);\r\n    const svg: SVGSVGElement = tail ? this.edgeTail : this.edgeHead;\r\n    let shell: SVGGElement = tail ? this.tailShell : this.headShell;\r\n    const HeadSize: GraphSize = U.getSvgSize(svg);\r\n\r\n    const firstEdgePointHtml: Node = this.html.nextElementSibling;\r\n    if (!shell) {\r\n      shell = U.newSvg('g');\r\n      shell.appendChild(svg);\r\n      if (tail) { this.tailShell = shell; } else { this.headShell = shell; }\r\n      if (firstEdgePointHtml) {\r\n        this.shell.insertBefore(shell, firstEdgePointHtml); }\r\n      else { this.shell.appendChild(shell); }\r\n      this.addEventListeners(false, true);\r\n    }\r\n    if (debug) { this.owner.markg(pt1, true, 'red'); this.owner.markg(pt2real, false, 'green'); }\r\n    U.pif(debug, 'size of head: ', HeadSize, 'pt1:', pt1, 'pt2:', pt2real, 'm:', m);\r\n\r\n    const degreeRad :number = pt1.degreeWith(pt2real, true); // U.TanToDegree(m);\r\n    const center: GraphPoint = new GraphPoint(0, 0);\r\n    const pt2: GraphPoint = new GraphPoint(0, 0);\r\n    //todo: perchè zindex e position?\r\n    // svg.style.zIndex = '' + 100;\r\n    // svg.style.position = 'absolute';\r\n    pt2.x = pt1.x - HeadSize.w * Math.cos(degreeRad);\r\n    pt2.y = pt1.y - HeadSize.h * Math.sin(degreeRad);\r\n    center.x = (pt1.x + pt2.x) / 2;\r\n    center.y = (pt1.y + pt2.y) / 2;\r\n    const degree = U.RadToDegree(degreeRad) + 90; // uso riferimento con 0 = top invece di 0 = right\r\n    if (debug) { this.owner.markg(pt2, false, 'blue'); }\r\n    shell.setAttributeNS(null, 'transform', 'rotate(' + degree + ' ' + center.x + ' ' + center.y + ')');\r\n    (svg).setAttributeNS(null, 'x', '' + (center.x - HeadSize.w / 2));\r\n    (svg).setAttributeNS(null, 'y', '' + (center.y - HeadSize.h / 2));\r\n  }\r\n  getContainedArray(): IEdge[] { return this.logic.edges; }\r\n  getIndex(): number { return this.getContainedArray().indexOf(this); }\r\n}\r\n","import {\r\n  Json,\r\n  U,\r\n  IEdge,\r\n  IVertex,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IModel,\r\n  Status, Typedd\r\n} from '../../../common/Joiner';\r\n\r\nexport class IField {\r\n  owner: IVertex;\r\n  logic: Typedd;\r\n  private html: Element;\r\n\r\n  constructor(logic: Typedd) { this.logic = logic; }\r\n\r\n  getHtml(): Element { return this.html; }\r\n\r\n  // refreshGUI(debug: boolean = true): void { }\r\n\r\n  remove(): void {\r\n    if (this.html && this.html.parentNode) { this.html.parentNode.removeChild(this.html); }\r\n    this.logic.field = null;\r\n    U.arrayRemoveAll(this.owner.fields, this);\r\n  }\r\n}\r\n","import { Edge, AnimationOptions, BoundingBox, ChosenLabelValues, ChosenNodeValues, ClusterOptions, Color, Data,\r\n  DataInterfaceEdges, DataInterfaceNodes, DataSetEdges, DataSetNodes, DataViewEdges, DataViewNodes, DirectionType,\r\n  DOMutil, data, Hammer, keycharm, util, // weird ones, are they namespaces? subfiles?\r\n  EasingFunction, EdgeOptions, FitOptions, FocusOptions, FontOptions, IdType, Image, ImagePadding,\r\n  LocaleMessages, Locales, MoveToOptions, Network, network, NetworkEvents, Node, NodeChosen,\r\n  NodeChosenLabelFunction, NodeChosenNodeFunction, NodeOptions, OpenClusterOptions, Options, OptionsScaling,\r\n  OptionsShadow, Position, SelectionOptions, TimelineAnimationType, ViewPortOptions, DataSet, DataView, Queue} from \"vis-network\";\r\nimport {Dictionary, EdgePoint, GraphPoint, GraphSize, IEdge, IGraph, IVertex, ModelPiece, U} from '../../common/Joiner';\r\n\r\nexport class Layouting{\r\n  private static maxID: number = 1;\r\n  public static scaleFactor = 1;\r\n  // private static layouting: Layouting;\r\n  // nodes: {id: number, label: string}[] = [];\r\n  // edges: {from: number, to: number}[] = [];\r\n  data: Data;\r\n  stabilizationSteps: number;\r\n  graphHtml: Element;\r\n  optionsHtml: Element;\r\n\r\n  optionsDefault: {\r\n    layout: {\r\n      randomSeed: number | string\r\n      improvedLayout: boolean,\r\n      clusterThreshold: number,\r\n      hierarchical: {\r\n        enabled: boolean,\r\n        levelSeparation: number,\r\n        nodeSpacing: number,\r\n        treeSpacing: number,\r\n        blockShifting: boolean,\r\n        edgeMinimization: boolean,\r\n        parentCentralization: boolean,\r\n        direction: 'UD' | 'DU' | 'LR' | 'RL',\r\n        sortMethod: 'hubsize' | 'directed',\r\n        shakeTowards: 'leaves' | 'roots'\r\n      }\r\n    } // https://visjs.github.io/vis-network/docs/network/layout.html\r\n    interaction:{\r\n      dragNodes: boolean,\r\n      dragView: boolean,\r\n      hideEdgesOnDrag: boolean,\r\n      hideEdgesOnZoom: boolean,\r\n      hideNodesOnDrag: boolean,\r\n      hover: boolean,\r\n      hoverConnectedEdges: boolean,\r\n      keyboard: {\r\n        enabled: boolean,\r\n        speed: {x: number, y: number, zoom: number},\r\n        bindToWindow: boolean\r\n      },\r\n      multiselect: boolean,\r\n      navigationButtons: boolean,\r\n      selectable: boolean,\r\n      selectConnectedEdges: boolean,\r\n      tooltipDelay: number,\r\n      zoomView: boolean\r\n    },\r\n    manipulation: {\r\n      enabled: boolean,\r\n      initiallyActive: boolean,\r\n      addNode: boolean,\r\n      addEdge: boolean,\r\n      editNode: Function, // \"This function will be called like the addNode function with the node's data and a callback function.\"\r\n      editEdge: boolean,\r\n      deleteNode: boolean,\r\n      deleteEdge: boolean,\r\n      controlNodeStyle: unknown // \"all node options are valid.\" WTF THAT MEANS???\r\n    },\r\n    physics:{\r\n      enabled: boolean,\r\n      barnesHut: {\r\n        theta: number,\r\n        gravitationalConstant: number,\r\n        centralGravity: number,\r\n        springConstant: number,\r\n        springLength: number,\r\n        damping: number,\r\n        avoidOverlap: number\r\n      },\r\n      forceAtlas2Based: {\r\n        theta: number,\r\n        gravitationalConstant: number,\r\n        centralGravity: number,\r\n        springConstant: number,\r\n        springLength: number,\r\n        damping: number,\r\n        avoidOverlap: number\r\n      },\r\n      repulsion: {\r\n        centralGravity: number,\r\n        springLength: number,\r\n        springConstant: number,\r\n        nodeDistance: number,\r\n        damping: number\r\n      },\r\n      hierarchicalRepulsion: {\r\n        centralGravity: number,\r\n        springLength: number,\r\n        springConstant: number,\r\n        nodeDistance: number,\r\n        damping: number,\r\n        avoidOverlap: number\r\n      },\r\n      maxVelocity: number,\r\n      minVelocity: number,\r\n      solver: 'barnesHut' | 'repulsion' | 'hierarchicalRepulsion' | 'forceAtlas2Based',\r\n      stabilization: {\r\n        enabled?: boolean,\r\n        iterations?: number,\r\n        updateInterval?: number,\r\n        onlyDynamicEdges?: boolean,\r\n        fit?: boolean\r\n      },\r\n      timestep: number,\r\n      adaptiveTimestep: boolean,\r\n      wind: { x: number, y: number }\r\n    },\r\n    nodes?: {\r\n      shape?: string\r\n      scaling?: {\r\n        min?: number,\r\n        customScalingFunction?: (min:number, max:number, total:number, value:number) => number,\r\n      },\r\n    },\r\n    edges?: {\r\n      scaling?: {\r\n        min?: number,\r\n        customScalingFunction?: (min:number, max:number, total:number, value:number) => number,\r\n      },\r\n    }\r\n  };\r\n  net: Network;\r\n  isRunning: boolean = false;\r\n  myOptions: {\r\n    edgePointMode: 'delete' | 'vertex' | 'ignore' | 'relative';\r\n  };\r\n  graph: IGraph;\r\n  htmlg: HTMLElement;\r\n  id: string;\r\n  sid: string; // short id\r\n  nodeExampleCompiler: Node;\r\n  styleEditorOnLayoutStart: () => void;\r\n  styleEditorOnLayoutEnd: () => void;\r\n\r\n  public constructor(graph: IGraph) {\r\n    this.id = U.getID();\r\n    U.setID(this.id, this);\r\n    this.graph = graph;\r\n    this.stabilizationSteps = 10;\r\n    this.data = {\r\n      nodes: [],\r\n      edges: []\r\n    };\r\n\r\n    this.myOptions = {\r\n      edgePointMode: 'vertex'\r\n    };\r\n\r\n    this.optionsDefault = {\r\n      layout: {\r\n        randomSeed: undefined,\r\n        improvedLayout: true,\r\n        clusterThreshold: 1,\r\n        // clusterThreshold: 150 è il limite default per applicare improvedLayout\r\n        // (pre-algoritmo per trovare un buon punto di partenza da cui uscirà un miglior minimo locale)\r\n        hierarchical: {\r\n          enabled: false,\r\n          levelSeparation: 150,\r\n          nodeSpacing: 100,\r\n          treeSpacing: 200,\r\n          blockShifting: true,\r\n          edgeMinimization: true,\r\n          parentCentralization: true,\r\n          direction: 'UD',\r\n          sortMethod: 'hubsize',\r\n          shakeTowards: 'leaves'\r\n        }\r\n      },\r\n      interaction:{\r\n        dragNodes:true,\r\n        dragView: true,\r\n        hideEdgesOnDrag: false,\r\n        hideEdgesOnZoom: false,\r\n        hideNodesOnDrag: false,\r\n        hover: false,\r\n        hoverConnectedEdges: true,\r\n        keyboard: {\r\n          enabled: false,\r\n          speed: {x: 10, y: 10, zoom: 0.02},\r\n          bindToWindow: true\r\n        },\r\n        multiselect: false,\r\n        navigationButtons: false,\r\n        selectable: true,\r\n        selectConnectedEdges: true,\r\n        tooltipDelay: 300,\r\n        zoomView: true\r\n      },\r\n      manipulation: {\r\n        enabled: false,\r\n        initiallyActive: false,\r\n        addNode: true,\r\n        addEdge: true,\r\n        editNode: undefined,\r\n        editEdge: true,\r\n        deleteNode: true,\r\n        deleteEdge: true,\r\n        controlNodeStyle:{\r\n          // all node options are valid (WTF THAT MEANS???)\r\n        }\r\n      },\r\n      physics:{\r\n        enabled: true,\r\n        barnesHut: {\r\n          theta: 0.5,\r\n          gravitationalConstant: -1, //-2000,\r\n          centralGravity: 1000,\r\n          springLength: 10, //95,\r\n          springConstant: 0.04,\r\n          damping: 0.2, //0.09,\r\n          avoidOverlap: 1\r\n        },\r\n        forceAtlas2Based: {\r\n          theta: 0.5,\r\n          gravitationalConstant: -100,\r\n          centralGravity: 0.01,\r\n          springConstant: 0.08,\r\n          springLength: 100,\r\n          damping: 0.4,\r\n          avoidOverlap: 0\r\n        },\r\n        repulsion: {\r\n          centralGravity: 0.2,\r\n          springLength: 200,\r\n          springConstant: 0.05,\r\n          nodeDistance: 100,\r\n          damping: 0.09\r\n        },\r\n        hierarchicalRepulsion: {\r\n          centralGravity: 0.0,\r\n          springLength: 100,\r\n          springConstant: 0.01,\r\n          nodeDistance: 120,\r\n          damping: 100, //0.09,\r\n          avoidOverlap: 0\r\n        },\r\n        maxVelocity: 0.001,// 50,\r\n        minVelocity: 0.0001, // 0.1\r\n        solver: 'forceAtlas2Based',// 'barnesHut',\r\n        stabilization: {\r\n          enabled: true,\r\n          iterations: Number.MAX_SAFE_INTEGER,\r\n          updateInterval: 15,\r\n          onlyDynamicEdges: false,\r\n          fit: true\r\n        },\r\n        timestep: 0.5,\r\n        adaptiveTimestep: true,\r\n        wind: { x: 0, y: 0 }\r\n      },\r\n      /*\r\n      nodes: {\r\n        shape: \"square\",\r\n        scaling: {\r\n          min: 0,\r\n          customScalingFunction: function (min, max, total, value) { return value / Layouting.scaleFactor; },\r\n        },\r\n      },\r\n      edges: {\r\n        scaling: {\r\n          min: 0,\r\n          customScalingFunction: function (min, max, total, value) { return value / Layouting.scaleFactor; },\r\n        },\r\n      }*/\r\n\r\n    };\r\n\r\n    delete this.optionsDefault.manipulation; // editNode is giving problems\r\n    (this.optionsDefault as any).configure = { // c'è negli esempi, ma non nella documentazione\r\n      filter: function (option, path) {\r\n        if (path.indexOf(\"physics\") !== -1) return true;\r\n        if (path.indexOf(\"smooth\") !== -1 || option === \"smooth\") return true;\r\n        return false;\r\n      },\r\n      container: $('#visOptions')[0],\r\n    };\r\n    const container: HTMLElement = this.htmlg = $('#' + this.graph.model.getPrefix() + '_visGraph')[0];\r\n    this.net = new Network(container, {}, {});\r\n    this.net.on('stabilized', () => { this.onLayoutEnd(); } );\r\n    // this.net.on('stabilizationIterationsDone', () => { this.onStabilizationStep(); } );\r\n    this.net.on('stabilizationProgress', () => { this.onStabilizationStep(); } );\r\n    /*\r\n    this.net.startSimulation();\r\n    this.net.stopSimulation();// ferma senza stabilizzare?, ma chiama l'evento stabilized.\r\n    this.net.stabilize(); // stabilizza entro N iterazioni\r\n    */\r\n\r\n  }\r\n\r\n  public setStyleEditorBackEvents(styleEditorOnLayoutStart: () => void, styleEditorOnLayoutEnd: () => void): void {\r\n    this.styleEditorOnLayoutStart = styleEditorOnLayoutStart;\r\n    this.styleEditorOnLayoutEnd = styleEditorOnLayoutEnd;\r\n  }\r\n\r\n  private onLayoutEnd(): void{\r\n    const positions: Dictionary<string, Position> = this.onStabilizationStep();\r\n    const manualStop = !this.isRunning;\r\n    if (!manualStop) return;\r\n    if (this.styleEditorOnLayoutEnd) this.styleEditorOnLayoutEnd();\r\n    console.log('vis layout stopped:', positions);\r\n  }\r\n\r\n  private positionScaleFactor(p: Position, clone: boolean = false): Position {\r\n    p = clone ? U.cloneObj<Position>(p) as Position: p;\r\n    p.x = p.x * Layouting.scaleFactor;\r\n    p.y = p.y * Layouting.scaleFactor;\r\n    return p; }\r\n\r\n  private onStabilizationStep(): Dictionary<string, Position> {\r\n//    console.log('vis stabilization step');\r\n    let positions: Dictionary<string, Position> = this.net.getPositions();\r\n    let key: string;\r\n    for (key in positions) {\r\n      const vertex: IVertex = IVertex.getByID(+key);\r\n      let position: Position = positions[key];\r\n      position = this.positionScaleFactor(position);\r\n      const ep: EdgePoint = EdgePoint.getByID(+key);\r\n      const newPos: GraphPoint = new GraphPoint(position.x, position.y);\r\n      // U.pe ( !!(ep && vertex), 'duplicate id', key, ep, vertex);\r\n      // U.pe (!ep && !vertex, 'invalid id', key);\r\n      /// todo: digli che l'evento viene da autolayout e setta onvertexmove se non viene da autolayout\r\n      if (vertex) vertex.moveTo(newPos, false, false, true);\r\n      if (!vertex && ep) ep.moveTo(newPos, false, true);\r\n    }\r\n    // todo: springlength e grav constant devi precompilarle in base alla size del grafo.\r\n    // poi devi capire se cresce lineare, al quadrato, o come...\r\n    return positions;\r\n  }\r\n\r\n  public onVertexMove(v: IVertex): void {\r\n    // todo: che devo fare con edge che creano nuovi edgepoint dopo set data? mi sa che devo settare gli edge dinamicamente e tenermi i vertici selezionati al momento dello start\r\n    if (!this.isRunning) return;\r\n    const node: Node = this.vertexToVis(v);\r\n    if (!node) return;\r\n    this.stop();\r\n    this.start();\r\n    return;\r\n    const size: GraphSize = v.getSize();\r\n    node.size = (size.w * size.h === 0) ? 0 : size.w; // Math.max(size.w, size.h);\r\n    node['heightConstraint'] = size.h;\r\n    node.x = size.x;\r\n    node.y = size.y;\r\n  }\r\n\r\n  public prepareStartData(): void {\r\n    let vertexes: IVertex[] = this.graph.getVertexSelection();\r\n    if (!vertexes || !vertexes.length) vertexes = this.graph.getAllVertex();\r\n    this.clearLayout();\r\n    this.addToLayout(vertexes, false);\r\n    this.data.edges = this.prepareEdgeData(); // setta edge ed edgepoint nel data.nodes\r\n    this.data = this.applyScaleFactor(Layouting.scaleFactor, false);\r\n  }\r\n\r\n  private vertexMap: Dictionary<number, {vertex: IVertex, visNode: Node}>\r\n  private linkVisVertex(v: IVertex, node: Node) { this.vertexMap[v.id] = {vertex: v, visNode: node}; }\r\n  public vertexToVis(v: IVertex): Node { return this.vertexMap[v.id] && this.vertexMap[v.id].visNode; }\r\n  public visToVertex(v: Node): IVertex { return this.vertexMap[v.id] && this.vertexMap[v.id].vertex; }\r\n\r\n  private clearLayout(): void {\r\n    this.vertexMap = {};\r\n    this.data.nodes = [];\r\n  }\r\n\r\n  public addToLayout(vertexes: IVertex[], restart: boolean): void {\r\n    if (restart) return this.restart();\r\n    for (const v of vertexes){\r\n      if (!v.autoLayout) continue;\r\n      let node: Node = this.vertexToVis(v);\r\n      if (node) return; // already exists\r\n      node = {};\r\n      node.id = v.id;\r\n      this.linkVisVertex(v, node);\r\n      const size: GraphSize = v.getSize();\r\n      // https://almende.github.io/vis/docs/network/nodes.html deprecated, but best documentation\r\n      node.label = v.logic().name; // v.logic().printableNameshort(10);\r\n      node.shape = 'square'; // esiste anche \"box\" ma solo con label inside, e prende la size dalla label...\r\n      node.size = (size.w * size.h === 0) ? 0 : size.w; // Math.max(size.w, size.h);\r\n      node['heightConstraint'] = size.h;\r\n      node.x = size.x;\r\n      node.y = size.y;\r\n      node.font = {};\r\n      node.font.size = 100;\r\n      node.font.face = 'arial';\r\n      node.font.color = '#000000';\r\n      (this.data.nodes as Node[]).push(node);\r\n    }\r\n    this.prepareEdgeData();\r\n  }\r\n\r\n  public restart(): void{\r\n    this.start();\r\n    this.stop();\r\n  }\r\n  public removeFromLayout(vertexes: IVertex[], restart: boolean): void{\r\n    if (restart) return this.restart();\r\n    for (const v of vertexes){\r\n      if (v.autoLayout) continue;\r\n      const node: Node = this.vertexToVis(v);\r\n      U.arrayRemoveAll(this.data.nodes as Node[], node);\r\n      delete this.vertexMap[v.id]; }\r\n    this.prepareEdgeData();\r\n  }\r\n\r\n  private getCurrentVertexes(): IVertex[] {\r\n    let v: IVertex[] = [];\r\n    for (let id in this.vertexMap) { v.push(this.vertexMap[id].vertex); }\r\n    return v; }\r\n\r\n  private applyScaleFactor(factor: number, clone: boolean = false): Data {\r\n    const data: Data = clone ? U.cloneObj(this.data) : this.data;\r\n\r\n    for (let node of data.nodes as Node[]) {\r\n      console.log('vis node loop', node, data);\r\n      // node.scaling ??\r\n      node.x = node.x && node.x / factor;\r\n      node.y = node.y && node.y / factor;\r\n      node.size = node.size && node.size / factor;\r\n      node['heightConstraint'] = node['heightConstraint'] && node['heightConstraint'] / factor;\r\n      if (node.font) { node.font['size'] = node.font['size'] && node.font['size'] / factor; }\r\n    }\r\n    for (let edge of data.edges as Edge[]) {\r\n      edge.length = edge.length  && edge.length / factor;\r\n      edge.width = edge.width && edge.width / factor;\r\n      edge.hoverWidth = edge.hoverWidth && edge.hoverWidth / factor;\r\n      edge.selectionWidth = edge.selectionWidth && edge.selectionWidth / factor;\r\n    }\r\n    return data;\r\n  }\r\n\r\n  private prepareEdgeData(): Edge[] {\r\n    let visedges: Edge[];\r\n    const vertexes: IVertex[] = this.getCurrentVertexes();\r\n\r\n    let edgesArr: IEdge[] = null; // this.graph.getEdgeSelection();\r\n    if (!edgesArr || !edgesArr.length) {\r\n      const edgeset: Set<IEdge> = new Set();\r\n      vertexes.forEach( (v: IVertex) => { U.SetMerge(true, edgeset, v.edgesEnd, v.edgesStart); });\r\n      edgesArr = [...edgeset];\r\n    }\r\n\r\n    // accetto solo edge che hanno start ed end nella selezione, e che NON hanno length 0 (start = end senza midpoint forzati)\r\n    edgesArr = edgesArr.filter(\r\n      (e: IEdge) => { return this.vertexMap[e.start.id] && this.vertexMap[e.end.id] && !(e.midNodes.length === 0 && e.start === e.end); }\r\n      );\r\n    visedges = edgesArr.map((e: IEdge) => { return {from: e.start.id, to: e.end.id, id: e.id}; } );\r\n\r\n    switch (this.myOptions.edgePointMode) {\r\n      default: U.pe(true, 'unexpected switch layouting.edgepointMode:', this.myOptions.edgePointMode); break;\r\n      case 'ignore':\r\n      case 'relative': break;\r\n      case 'vertex':\r\n        const midPoints: EdgePoint[] = [];\r\n        edgesArr.forEach((e: IEdge) => { U.ArrayMerge(midPoints, e.midNodes); });\r\n        const midPointsvis: Node[] = midPoints.map((ep: EdgePoint) => {\r\n          const node: Node = {} as any;\r\n          const size: GraphSize = ep.getSize();\r\n          // https://almende.github.io/vis/docs/network/nodes.html deprecated, but best documentation\r\n          node.id = ep.id;\r\n          node.shape = 'square'; // esiste anche \"box\" ma solo con label inside, e prende la size dalla label...\r\n          node.label = '°';\r\n          node.size = (size.w * size.h === 0) ? 0 : size.w; // Math.max(size.w, size.h);\r\n          node['heightConstraint'] = size.h;\r\n          node.x = size.x;\r\n          node.y = size.y;\r\n          return node as any; } );\r\n        U.ArrayMerge(this.data.nodes as Node[], midPointsvis);\r\n        break;\r\n      case 'delete':\r\n        Object.values(EdgePoint.all).forEach( (ep: EdgePoint) => { ep.detach(); });\r\n        break;\r\n    }\r\n\r\n    return visedges;\r\n  }\r\n\r\n  public start(): void {\r\n    this.prepareStartData();\r\n    // this.nodeExampleCompiler.shape;\r\n    // this.nodeExampleCompiler.shapeProperties.\r\n    this.net.setOptions(this.optionsDefault);\r\n    console.log('vis.data:', this.data);\r\n    this.net.setData(this.data);\r\n    this.isRunning = true;\r\n    if (this.styleEditorOnLayoutStart) this.styleEditorOnLayoutStart();\r\n    // this.net.startSimulation();\r\n  }\r\n\r\n  public stop(): void {\r\n    this.net.stopSimulation();\r\n  }\r\n\r\n  public stabilize(steps: number = null, renewData: boolean = true): void {\r\n    if (renewData) {\r\n      this.net.setOptions(this.optionsDefault);\r\n      this.prepareStartData();\r\n      this.net.setData(this.data);\r\n    }\r\n    this.net.stabilize(steps === null ? steps : this.stabilizationSteps);\r\n  }\r\n\r\n  public setOption(key: string, value: any) {\r\n    const keypath: string[] = key.split('.');\r\n    let opt: any = this.optionsDefault;\r\n    switch(key) {\r\n      default:\r\n        for (let i = 0; i < keypath.length - 1; i++) {\r\n          opt = opt[keypath[i]];\r\n          console.log('key2 subpart: ', keypath[i], '->', opt);\r\n        }\r\n        opt[keypath[keypath.length - 1]] = value;\r\n        console.log('key2 END: setting ', keypath[keypath.length - 1], '->', value);\r\n        break;\r\n    }\r\n  }\r\n  public getOption(key: string) {\r\n    const keypath: string[] = key.split('.');\r\n    let opt: any = this.optionsDefault;\r\n    let ret: any;\r\n    switch(key) {\r\n      default:\r\n        for (let i = 0; i < keypath.length - 1; i++) {\r\n          opt = opt[keypath[i]];\r\n          // console.log('key2 subpart: ', keypath[i], '->', opt);\r\n        }\r\n        ret = opt[keypath[keypath.length - 1]];\r\n        //console.log('key2 END: ', keypath[keypath.length - 1], '->', ret);\r\n        break;\r\n    }\r\n  return ret;\r\n  }\r\n}\r\n","import {GraphSize, ISize, ModelPiece, Size, U} from '../../../common/Joiner';\r\nexport class MarkStyle {\r\n  color: string = 'red';\r\n  radiusX: number = 10;\r\n  radiusY: number = 10;\r\n  width: number = 5;\r\n  backColor: string = 'none';\r\n  extraOffset: ISize = null;\r\n  constructor (color: string = null, radiusX: number = 10, radiusY: number = 10,\r\n              width: number = 5, backColor: string = 'transparent', extraOffset: ISize = null) {\r\n    // if (color === null) { color = 'yellow'; }\r\n    if (radiusX === null) { radiusX = 10; }\r\n    if (radiusY === null) { radiusY = 10; }\r\n    if (backColor === null) { backColor = 'transparent'; }\r\n    if (width === null) { width = 5; }\r\n    if (!extraOffset) { const same = -width; extraOffset = new GraphSize(same, same, same, same); }\r\n    this.color = color;\r\n    this.radiusX = radiusX;\r\n    this.radiusY = radiusY;\r\n    this.width = width;\r\n    this.backColor = backColor;\r\n    this.extraOffset = extraOffset; }\r\n}\r\nexport class ColorCycle{\r\n  colors: string[];\r\n  index: number = -1;\r\n  constructor(colors: string[]) { this.colors = colors; }\r\n\r\n  get(): string {\r\n    this.incrementIndex(1);\r\n    return this.colors[this.index]; }\r\n\r\n  getindex(i: number): string {\r\n    this.index = i % this.colors.length;\r\n    return this.colors[this.index]; }\r\n\r\n  private incrementIndex(amount: number = 1): void { this.index = (this.index + amount) % this.colors.length; }\r\n\r\n  IUsedThisColor(color: string): void {\r\n    let index = this.colors.indexOf(color)\r\n    if (index >= 0) this.index = index; }\r\n}\r\n\r\nexport class Mark {\r\n  static colorCycle: ColorCycle = null;\r\n  static maxID: number = 0;\r\n  mp1: ModelPiece;\r\n  mp2: ModelPiece;\r\n  key: string;\r\n  style: MarkStyle;\r\n  html1: Element;\r\n  html2: Element;\r\n  private css1: HTMLStyleElement;\r\n  private css2: HTMLStyleElement;\r\n  private id: number;\r\n  staticinit(): void {\r\n    Mark.colorCycle = new ColorCycle(['red', 'blue', 'gray', 'green', 'yellow', 'purple', 'orange', 'brown'])\r\n  }\r\n  constructor(mp: ModelPiece, paired: ModelPiece, key: string, color: string = null, radiusX: number = 10, radiusY: number = 10,\r\n              width: number = 5, backColor: string = 'transparent', extraOffset: ISize = null) {\r\n    if (!Mark.colorCycle) this.staticinit();\r\n    this.id = Mark.maxID++;\r\n    this.mp1 = mp;\r\n    this.mp2 = paired;\r\n    this.key = key || U.genID();\r\n    this.style = new MarkStyle(color, radiusX, radiusY, width, backColor, extraOffset);\r\n  }\r\n\r\n  isApplied() {\r\n    // return !!mp.Vmarks[this.key];\r\n    return !!this.css1 || !!this.css2; }\r\n\r\n  private setHtml(markhtml: Element, mp: ModelPiece, css: HTMLStyleElement, markb: boolean): void {\r\n    if (this.style.color === null) { this.style.color = Mark.colorCycle.get(); }\r\n    let html: HTMLElement = this.mp1.getHtmlOnGraph() as HTMLElement;\r\n    let i: number;\r\n    /*if (this.key === 'refhover') { // crosshair (+), alias (default+link), cell (excel)ù\r\n      const $inputs = $(html).find('input, textarea, select, button');\r\n      let cursor: string = null;\r\n      if (markb) {\r\n        html.style.cursor = cursor = (this.style.color === 'red' ? 'no-drop' : 'crosshair');\r\n      } else { html.style.removeProperty('cursor'); }\r\n      for (i = 0; i < $inputs.length; i++) {\r\n        if (cursor) { $inputs[i].style.cursor = cursor; }\r\n        else { $inputs[i].style.removeProperty('cursor'); }\r\n      }\r\n    }*/\r\n\r\n    // mark off\r\n    if (!markb) { // se non deve essere marchiato\r\n      if (this.isApplied()) { // ma lo è attualmente\r\n        if (markhtml.parentNode) { markhtml.parentNode.removeChild(markhtml); }\r\n        delete mp.Vmarks[this.key];\r\n        delete ModelPiece.allmarks[mp.id + this.key];\r\n        html.classList.remove('.marked_' + this.id);\r\n      }\r\n      U.remove(css);\r\n      return; }\r\n\r\n    // mark on\r\n    mp.Vmarks[this.key] = this;\r\n    ModelPiece.allmarks[mp.id + this.key] = this;\r\n    // html.classList.add('marked_' + this.id);\r\n    // const model = mp.getModelRoot();\r\n    // const size: GraphSize = model.graph.toGraphCoordS(U.sizeof(html));\r\n    // U.setSvgSize(markhtml, size, null);\r\n\r\n    let stylestr = '' +\r\n      (this.style.backColor ? '    background-color:' + this.style.backColor + ' !important;\\n' : '') +\r\n      '    outline: ' + this.style.width + 'px solid ' + this.style.color + ' !important;\\n'+\r\n      (this.key === 'refhover' ? '    pointer: ' + (this.style.color === 'red' ?  + 'no-drop' : 'crosshair') + ' !important;' : '')+\r\n      '    outline-offset: ' + this.style.extraOffset.x + 'px !important;';\r\n    css.innerHTML += '[data-modelpieceid=\"' + mp.id + '\"]' + '{' + stylestr + '}\\n';\r\n    document.body.append(css);\r\n      /*+'[data-modelpieceid=\"' + mp.id + '\"]:before{' +\r\n      '    content: \\'\\';' +\r\n      '    width: 100%;\\n' +\r\n      '    height: 100%;\\n' +\r\n      '    clear: both;\\n' +\r\n      '    display: table;\\n' +\r\n      stylestr +\r\n      '    outline-offset: ' + -this.style.extraOffset.x + 'px !important;' +\r\n      '    outline-offset: 10px;\\n}'*/\r\n    /*\r\n    markhtml.setAttributeNS(null, 'rx', '' + (this.style.radiusX));\r\n    markhtml.setAttributeNS(null, 'ry', '' + (this.style.radiusY));\r\n    markhtml.setAttributeNS(null, 'stroke', '' + (this.style.color));\r\n    markhtml.setAttributeNS(null, 'stroke-width', '' + (this.style.width));\r\n    markhtml.setAttributeNS(null, 'fill', '' + (this.style.backColor));\r\n    if ((markhtml as HTMLElement).style) (markhtml as HTMLElement).style.pointerEvents = 'none';\r\n    model.graph.vertexContainer.append(markhtml);\r\n    */\r\n  }\r\n  mark(set: boolean = true) {\r\n    // console.log((set ? '' : 'un') + 'mark: 2x ', this.key, set);\r\n    if (set === this.isApplied()) return;\r\n    if (set && (this.mp1 && this.mp1.Vmarks[this.key] || this.mp2 && this.mp2.Vmarks[this.key])) { return; }\r\n    if (this.style.color === null) { this.style.color = Mark.colorCycle.get(); }\r\n    if (this.mp1 && !this.html1) { this.html1 = document.createElement('div'); }\r\n    if (this.mp2 && !this.html2) { this.html2 = document.createElement('div'); }\r\n    if (this.mp1 && !this.css1) { this.css1 = document.createElement('style'); }\r\n    if (this.mp2 && !this.css2) { this.css2 = document.createElement('style'); }\r\n    if (this.mp1 && this.mp1.getVertex(false)) this.setHtml(this.html1, this.mp1, this.css1, set);\r\n    if (this.mp2 && this.mp2.getVertex(false)) this.setHtml(this.html2, this.mp2, this.css2, set);\r\n  }\r\n}\r\n","import {\r\n  Json,\r\n  U,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IModel,\r\n  IClass,\r\n  Point,\r\n  DamContextMenuComponent,\r\n  Typedd,\r\n  Status,\r\n  Size,\r\n  Model,\r\n  IReference,\r\n  Dictionary,\r\n  DetectZoom,\r\n  PropertyBarr,\r\n  MClass,\r\n  MReference,\r\n  M2Reference,\r\n  EOperation,\r\n  EParameter,\r\n  MAttribute,\r\n  IPoint,\r\n  GraphSize,\r\n  GraphPoint,\r\n  StyleComplexEntry,\r\n  Type,\r\n  EEnum,\r\n  ELiteral,\r\n  ExtEdge,\r\n  IClassifier,\r\n  Measurable,\r\n  measurableRules,\r\n  MeasurableRuleParts,\r\n  MeasurableRuleLists,\r\n  Draggableoptions,\r\n  Resizableoptions,\r\n  Rotatableoptions,\r\n  DraggableOptionsImpl,\r\n  ResizableOptionsImpl, StyleEditor, ReservedClasses, EAnnotation,\r\n} from '../../../common/Joiner';\r\nimport MouseMoveEvent = JQuery.MouseMoveEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport MouseEnterEvent = JQuery.MouseEnterEvent;\r\nimport MouseLeaveEvent = JQuery.MouseLeaveEvent;\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport KeyUpEvent = JQuery.KeyUpEvent;\r\nimport KeyPressEvent = JQuery.KeyPressEvent;\r\nimport ResizableOptions = JQueryUI.ResizableOptions;\r\nimport DraggableOptions = JQueryUI.DraggableOptions;\r\nimport ResizableUIParams = JQueryUI.ResizableUIParams;\r\nimport DraggableEventUIParams = JQueryUI.DraggableEventUIParams;\r\nimport {FocusHistoryEntry} from '../../../common/util';\r\nimport {RotatableOptions} from '../../../common/measurable';\r\n\r\nexport class StartDragContext {\r\n  size: GraphSize;\r\n  vertex: IVertex;\r\n  // time: Date;\r\n  // grid: GraphPoint;\r\n  constructor(v: IVertex) {\r\n    this.size = v.size.duplicate();\r\n    this.vertex = v;\r\n    // this.time = new Date();\r\n    // this.grid = v.owner.grid.duplicate();\r\n  }\r\n}\r\n\r\nexport class IVertex {\r\n  static all: Dictionary = {};\r\n  static ID = 0;\r\n  static selected: IVertex = null;\r\n  static selectedGridWasOn: GraphPoint = null;\r\n  static selectedStartPt: GraphPoint = null;\r\n  static startDragContext: StartDragContext;\r\n  private static minSize: GraphSize = null;\r\n  private static defaultSize: GraphSize = null;\r\n  public tolleranzaRightClickMove: number = 5;\r\n  classe: IClassifier;\r\n  // package: IPackage;\r\n  owner: IGraph;\r\n  fields: IField[] = [];\r\n  edgesStart: IEdge[] = [];\r\n  edgesEnd: IEdge[] = [];\r\n  // styleRaw: SVGForeignObjectElement = null;\r\n  // style: SVGForeignObjectElement = null;\r\n  // position: GraphPoint;\r\n  size: GraphSize;\r\n  contains: IVertex[];\r\n  id: number;\r\n  htmlg: SVGGElement;\r\n  // dragaxis: {x: boolean, y: boolean} = {x: true, y: true};\r\n  // reshandles: {n: boolean, s: boolean, e: boolean, w: boolean, ne: boolean, nw: boolean, sw: boolean, se: boolean} = {n: false, s: false, e: false, w: false, ne: false, nw: false, sw: false, se: false};\r\n  dragConfig: DraggableOptions;\r\n  private htmlForeign: SVGForeignObjectElement;\r\n  private Vmarks: Dictionary<string, SVGRectElement> = {};\r\n  autoLayout: boolean = true;\r\n\r\n  static staticinit(): GraphPoint {\r\n    const g: GraphPoint = new GraphPoint(0, 0);\r\n    g.x = 'prevent_doublemousedowncheck' as any;\r\n    g.y = 'prevent_doublemousedowncheck' as any;\r\n    IVertex.minSize = new GraphSize(null, null, 0, 0);\r\n    IVertex.defaultSize = new GraphSize(5, 5, 201, 41);\r\n    return IVertex.selectedGridWasOn = g; }\r\n  /*\r\n    static linkVertexMouseDownButton(e: MouseDownEvent): void {\r\n      const ref: IReference = ModelPiece.get(e) as IReference;\r\n      U.pe(!(ref instanceof IReference), 'linkVertexButtons are currently only allowed on IReferences.');\r\n      const edges: IEdge[] = ref.getEdges();\r\n      U.pe(!edges, 'ref.edges === null', ref);\r\n      let edge: IEdge;\r\n      let index: number;\r\n      if (ref.getModelRoot().isMM()) { edge = edges[index = 0]; } else\r\n      if (ref.upperbound > 0 && edges.length >= ref.upperbound) { edge = edges[index = ref.upperbound - 1]; }\r\n      else { edge = new IEdge(ref); index = edges.length - 1; }\r\n      if (!edge) edge = new IEdge(ref);\r\n      IVertex.linkVertexMouseDown(e, edge); }*/\r\n\r\n  static linkVertexMouseDown(e: MouseDownEvent | ClickEvent, edge: IEdge = null, location: GraphPoint = null): void {\r\n    if (e) { e.stopPropagation(); }\r\n    if (IEdge.edgeChanging) { IEdge.edgeChanging.owner.edgeChangingAbort(e); }\r\n    edge = edge ? edge : IEdge.get(e);\r\n    U.pe(!edge, 'IVertex.linkVertexMouseDown() failed to get edge:', e);\r\n    const logic: IClass | IReference = edge.logic;\r\n    const classe: IClass = logic instanceof IClass ? logic : null;\r\n    const ref: IReference = logic instanceof IReference ? logic : null;\r\n    // U.pe( !ref, 'The .LinkVertex element must be inserted only inside a reference field.');\r\n    IEdge.edgeChanging = edge;\r\n    edge.useRealEndVertex = false;\r\n    edge.useMidNodes = true;\r\n    edge.tmpEnd = location ? location : GraphPoint.fromEvent(e);\r\n    U.pe(!edge.tmpEnd, 'failed to get coordinates from event:', e);\r\n    edge.tmpEndVertex = null;\r\n    // edge.tmpEndVertex = ref.parent.getVertex();\r\n    edge.refreshGui(); }\r\n\r\n  static getvertex(e: Event | MouseEvent | MouseDownEvent | MouseUpEvent | MouseMoveEvent | MouseEnterEvent | MouseLeaveEvent | ClickEvent\r\n    | KeyDownEvent | KeyUpEvent | KeyPressEvent | ChangeEvent, canUseMp: boolean = true): IVertex {\r\n      return IVertex.getvertexByHtml(e.currentTarget as Element, canUseMp);\r\n  }\r\n\r\n  static getvertexByHtml(node0: Element, canUseMp: boolean = true): IVertex {\r\n    if (canUseMp) {\r\n      const logic: ModelPiece = ModelPiece.getLogic(node0);\r\n      return logic && logic.getVertex();\r\n    }\r\n\r\n    let node: HTMLElement = node0 as any;\r\n    while (node) {\r\n       if (node.dataset && node.dataset.vertexID) return IVertex.getByID(+node.dataset.vertexID);\r\n       node = node.parentNode as any;\r\n    }\r\n    return null;\r\n  }\r\n    /*let node: HTMLElement = node0 as HTMLElement\r\n    U.pe(!node, 'getVertexByHtml: parameter is not a DOM node:', node);\r\n    while (node && node.dataset && !node.dataset.vertexID) { node = node.parentElement; }\r\n    // console.log('getVertex by id:' + node.dataset.vertexID, 'all:', IVertex.all);\r\n    return node && node.dataset ? IVertex.getByID(+(node.dataset.vertexID)) : null; }*/\r\n\r\n  static getByID(id: number): IVertex { return IVertex.all[id]; }\r\n\r\n  static FieldNameChanged(e: ChangeEvent) {\r\n    const html: Element = e.currentTarget;\r\n    const modelPiece: ModelPiece = ModelPiece.getLogic(html);\r\n    modelPiece.fieldChanged(e);\r\n    modelPiece.getModelRoot().graph.propertyBar.show(null, html, null, true);\r\n    // $(html).trigger('click'); // updates the propertyBar\r\n    // const m: IModel = modelPiece.getModelRoot();\r\n    const mm: IModel = Status.status.mm;\r\n    const m: IModel = Status.status.m;\r\n    setTimeout( () => { mm.refreshGUI(); m.refreshGUI(); }, 1); }\r\n\r\n  static ChangePropertyBarContentClick(e: ClickEvent | MouseDownEvent, isEdge: IEdge = null): ModelPiece {\r\n    const html: Element = e.target; // todo: approfondisci i vari tipi di classType (current, orginal...)\r\n    const modelPiece: ModelPiece = ModelPiece.getLogic(html);\r\n    const model: IModel = modelPiece.getModelRoot();\r\n    U.pe(!modelPiece, 'failed to get modelPiece from html:', html);\r\n    const pbar: PropertyBarr = model.graph.propertyBar;\r\n    pbar.show(modelPiece, html, isEdge, false);\r\n    return modelPiece; }\r\n\r\n  static GetMarkedWith(markKey: string, colorFilter: string = null): IVertex[] {\r\n    const ret: IVertex[] = [];\r\n    for (const id in IVertex.all) {\r\n      if (!IVertex.all[id]) { continue; }\r\n      const vertex: IVertex = IVertex.all[id];\r\n      if (vertex.isMarkedWith('refhover', colorFilter)) { ret.push(vertex); } }\r\n    return ret; }\r\n\r\n  constructor(logical: IClassifier, size: GraphSize = null) {\r\n    if (!logical) return;\r\n    this.id = IVertex.ID++;\r\n    IVertex.all[this.id] = this;\r\n    const graph: IGraph = logical.getModelRoot().graph;\r\n    this.logic(logical);\r\n    if (graph) { graph.addVertex(this); }\r\n    this.contains = [];\r\n    this.fields = [];\r\n    this.edgesStart = [];\r\n    this.edgesEnd = [];\r\n    this.classe = logical;\r\n    this.classe.vertex = this;\r\n    this.setGraph(logical.getModelRoot().graph);\r\n    if (!size) {\r\n      size = IVertex.defaultSize;\r\n      const gsize: Size = this.owner.getSize();\r\n      size.x = this.owner.scroll.x + (gsize.w - size.w) / 2;\r\n      size.y = this.owner.scroll.y + (gsize.h - size.h) / 2;\r\n    }\r\n    this.size = size;\r\n    this.refreshGUI();\r\n    // this.refreshGUI(); // need both refresh\r\n  }\r\n\r\n  mark(markb: boolean, key: string, color: string = 'red', radiusX: number = 10, radiusY: number = 10,\r\n       width: number = 5, backColor: string = 'none', extraOffset: GraphSize = null): void {\r\n    if (!this.isDrawn()) { return; }\r\n    if (color === null) { color = 'yellow'; }\r\n    if (radiusX === null) { radiusX = 10; }\r\n    if (radiusY === null) { radiusY = 10; }\r\n    if (backColor === null) { backColor = 'none'; }\r\n    if (width === null) { width = 5; }\r\n    let mark: SVGRectElement = this.Vmarks[key];\r\n    if (key === 'refhover') { // crosshair (+), alias (default+link), cell (excel)\r\n      const vertexRoot: SVGForeignObjectElement = this.htmlForeign;\r\n      const $inputs = $(vertexRoot).find('input, textarea, select, button');\r\n      let cursor: string = null;\r\n      console.log('markedHover', markb, vertexRoot, $inputs);\r\n      if (markb) {\r\n        vertexRoot.style.cursor = cursor = (color === 'red' ? 'no-drop' : 'crosshair'); // NO important, bugga e non setta il campo.\r\n      } else { vertexRoot.style.removeProperty('cursor'); }\r\n      let i: number;\r\n      for (i = 0; i < $inputs.length; i++) {\r\n        if (!cursor) { $inputs[i].style.removeProperty('cursor'); } else { $inputs[i].style.cursor = cursor; }\r\n      }\r\n    }\r\n    // mark off\r\n    if (!markb) { // se non deve essere marchiato\r\n      if (mark) { // ma lo è attualmente\r\n        if (mark.parentNode) { mark.parentNode.removeChild(mark); }\r\n        delete this.Vmarks[key]; }\r\n      return; }\r\n    // mark on\r\n    if (!extraOffset) { const same = 5; extraOffset = new GraphSize(same, same, same, same); }\r\n    mark = this.Vmarks[key] = U.newSvg<SVGRectElement>('rect');\r\n    const size: GraphSize = this.getSize();\r\n    // console.log('extraoffset:', extraOffset, 'size:', size);\r\n    size.x -= extraOffset.x;\r\n    size.y -= extraOffset.y;\r\n    size.w += extraOffset.x + extraOffset.w;\r\n    size.h += extraOffset.y + extraOffset.h;\r\n    U.setSvgSize(mark, size, null);\r\n    mark.setAttributeNS(null, 'rx', '' + (radiusX));\r\n    mark.setAttributeNS(null, 'ry', '' + (radiusY));\r\n    mark.setAttributeNS(null, 'stroke', '' + (color));\r\n    mark.setAttributeNS(null, 'stroke-width', '' + (width));\r\n    mark.setAttributeNS(null, 'fill', '' + (backColor));\r\n    this.logic().getModelRoot().graph.vertexContainer.prepend(mark); }\r\n\r\n  getStartPoint(nextPt: GraphPoint = null): GraphPoint { return this.getMidPoint(nextPt); }\r\n  getEndPoint(nextPt: GraphPoint = null): GraphPoint { return this.getMidPoint(nextPt); }\r\n  getMidPoint(prevPt: GraphPoint = null): GraphPoint {\r\n    // NB: MAI fare sizeof() di un SVGForeignObjectElement, ridà valori sballati. fallo ai suoi childs.\r\n    const html: HTMLElement = this.getHtmlFirstChild();\r\n    const $htmlEP = $(html).find('.EndPoint');\r\n    let htmlEP: HTMLElement;\r\n    let endPointSize: Size;\r\n    let pt: GraphPoint;\r\n    if ($htmlEP.length === 0) { htmlEP = html; } else { htmlEP = $htmlEP[0]; }\r\n    endPointSize = U.sizeof(htmlEP);\r\n    // console.log('htmlsize:', htmlSize, 'childSize:', U.sizeof(html.firstChild as HTMLElement));\r\n    // console.log('real size(', htmlSize, ') vs graphSize(', this.toGraphCoordS(htmlSize), '), html:', html);\r\n    const endPointGSize: GraphSize = this.owner.toGraphCoordS(endPointSize);\r\n    const vertexGSize = this.getSize();\r\n    pt = endPointGSize.tl();\r\n    pt.x += endPointGSize.w / 2;\r\n    pt.y += endPointGSize.h / 2;\r\n    if (! prevPt ) { return pt; }\r\n    pt = GraphSize.closestIntersection(vertexGSize, prevPt, pt, this.owner.grid);\r\n    // U.pe(!U.isOnEdge(pt, vertexGSize), 'not on Vertex edge.');\r\n    U.pw(!U.isOnEdge(pt, vertexGSize), 'not on Vertex edge.');\r\n    return pt; }\r\n\r\n  setSize(size: GraphSize, refreshVertex: boolean = false, refreshEdge: boolean = true, trigger: string = null && measurableRules.onRotationEnd): void {\r\n    const htmlForeign: SVGForeignObjectElement = this.getHtmlRawForeign();\r\n    if (!size || this.getSize().equals(size)) { U.setSvgSize(htmlForeign, this.size, IVertex.defaultSize); return; }\r\n    /*\r\n    if(window['debug'] === 1) for (let key in IVertex.all) {\r\n      let v2 = (IVertex.all[key] as IVertex);\r\n      U.pe(v2 !== this && v2.size.equals(size), 'err:', this.getSize(), '->', size);\r\n    }*/\r\n    const oldsize: GraphSize = this.size.duplicate();\r\n    this.size.x = (U.isNumerizable(size.x)) ? +size.x : this.size.x;\r\n    this.size.y = (U.isNumerizable(size.y)) ? +size.y : this.size.y;\r\n    this.size.w = (U.isNumerizable(size.w)) ? +size.w : this.size.w;\r\n    this.size.h = (U.isNumerizable(size.h)) ? +size.h : this.size.h;\r\n    // console.log('oldSize:', oldsize, 'new size candidate:', size, 'result:', this.size);\r\n    U.setSvgSize(htmlForeign, this.size, IVertex.defaultSize);\r\n    const pbar: PropertyBarr = this.owner.propertyBar;\r\n    if (pbar && pbar.selectedModelPiece === this.logic() && pbar.styleEditor.isLoaded() && pbar.styleEditor.sizeInputx) {\r\n      const se: StyleEditor = pbar.styleEditor;\r\n      se.sizeInputx.value = '' + this.size.x;\r\n      se.sizeInputy.value = '' + this.size.y;\r\n      se.sizeInputw.value = '' + this.size.w;\r\n      se.sizeInputh.value = '' + this.size.h; }\r\n    // todo: cerca tutti gli as string, non è un vero cast ma solo un cambiotipo senza trasformazione, crea errori.\r\n    // const spostamento: GraphPoint = this.size.tl().subtract(oldSize.tl(), true);\r\n    // todo: cambia struttura interna size in tl+br, controlla tutti i riferimenti a tl(newinstnce = false) e considera di cambiarli a true.\r\n    if (refreshVertex) { this.refreshGUI(); }\r\n    if (refreshEdge) { this.refreshEdgesGUI(); }\r\n    if (trigger) {\r\n      // todo: problema: un solo measurable node può eseguire gli eventi \"on....\" (il foreignObject)\r\n      let measnode = this.getMeasurableNode();\r\n      // todo: problema 2: i trigger possono eseguire solo comandi dello stesso nodo che contiene il trigger.\r\n      // todo problema 3: se imposto on onmove -> move linked object(follow me) && onmove->constraint e sposto in modo da violare il constraint:\r\n      //  siccome il constraint viene eseguito dopo, il linked object segue il mouse ma non l'oggetto che rimane fisso per il constraint.\r\n      //  non è un bug, va benissimo e deve funzionare così, però devo anche prevedere un assegnamento di ordine dei comandi\r\n      //  - fix lessicografico con prefix number: poco user friendly e costringe i nomi\r\n      //  - fix con pulsanti \"sposta regola\" su o giù e segui ordine di html (ordine attributi sul nodo in grafo == ordine esecuzione == ordine visualizzazione style editor)\r\n      if (measnode.classList.contains('measurable')) this.measuringEventTrigger(null, null, trigger, measnode); }\r\n  }\r\n\r\n  private draw(): void {\r\n    // return this.draw0();\r\n    try { this.draw0(); }\r\n    catch(e) {\r\n      U.pe(true, 'failed to draw vertex of \"' + this.logic().printableNameshort() + '\".', e);\r\n    }\r\n  }\r\n\r\n\r\n  public isAutosize(): {x: boolean, y: boolean, atLeastOne: boolean} {\r\n    const html: HTMLElement = this.getHtmlFirstChild();\r\n    const autosizey: string = html.dataset.autosizey;\r\n    const autosizex: string = html.dataset.autosizex;\r\n    const ret: {x: boolean, y: boolean, atLeastOne: boolean} = {x: true, y: true, atLeastOne: null};\r\n    const admittedStyles: string[] = ['auto', 'min-content', 'max-content'];\r\n    const admittedDisplays: string[] = ['inline', 'inline-block', 'inline-flex'];\r\n    if (autosizey !== '1' && autosizey !== 't' && autosizey !== 'true') { ret.y = false; }\r\n    else if (admittedStyles.indexOf(html.style.height) === -1) {\r\n      U.oneTime('autosize1key' + this.id, U.pw, true, 'To use autosize the root node must have \"height: ' + admittedStyles.join('|') + ';\", this has been automatically solved with \"auto\". was:' + html.style.height);\r\n      html.style.height = 'auto'; }\r\n    if (autosizex !== '1' && autosizex !== 't' && autosizex !== 'true') { ret.x = false; }\r\n    else {\r\n      if (admittedStyles.indexOf(html.style.width) === -1) {\r\n        U.oneTime('autosize1key' + this.id, U.pw, true, 'To use autosize the root node must have \"width: ' + admittedStyles.join('|') + ';\", this has been automatically solved with \"auto\". was:' + html.style.width);\r\n        html.style.width = 'auto'; }\r\n      if (admittedDisplays.indexOf(html.style.display) === -1) {\r\n        U.oneTime('autosize2key' + this.id, U.pw, true, 'To use autosizeWidth the root node must have \"display: ' + admittedDisplays.join('|') + ';\", this has been automatically solved with \"inline-block\". was:' + html.style.display);\r\n        html.style.display = 'inline-block'; }\r\n    }\r\n    ret.atLeastOne = ret.x || ret.y;\r\n    return ret; }\r\n\r\n  private draw0(): void {\r\n    /*const htmlRaw: SVGForeignObjectElement = U.newSvg('foreignObject');\r\n    htmlRaw.appendChild(this.classe.getStyleObj().html);*/\r\n    const style: StyleComplexEntry = this.classe.getStyle();\r\n    const htmlRaw0: SVGForeignObjectElement = style.html as SVGForeignObjectElement;\r\n\r\n    U.pe(!this.classe || !(htmlRaw0 instanceof Element), 'class null?', this, htmlRaw0);\r\n    const htmlRaw: SVGForeignObjectElement = this.setHtmls(this.classe, htmlRaw0);\r\n    if (this.classe instanceof IClass) this.drawC(this.classe);\r\n    if (this.classe instanceof EEnum) this.drawE(this.classe);\r\n    this.addEventListeners();\r\n    U.fixHtmlSelected($(htmlRaw));\r\n    Type.updateTypeSelectors($(this.getHtmlFirstChild()));\r\n    // let onrefresh: string = this.htmlForeign.getAttribute('onrefreshgui');\r\n    const $htmlraw = $(htmlRaw);\r\n    let i: number;\r\n    const parenttmp = htmlRaw.parentNode;\r\n    const next = htmlRaw.nextSibling;\r\n    if (parenttmp) parenttmp.removeChild(htmlRaw);\r\n    // duplicate id removal. TODO: non funziona, forse rileva ancora gli id del vecchio html generato e risultano già inseriti on refresh.\r\n    /*const idarr = $htmlraw.find('[id]').addBack('[id]');\r\n    for (i = 0; i < idarr.length; i++) {\r\n      if (!document.getElementById(idarr[i].id)) { continue; }\r\n      idarr[i].innerHTML = '';\r\n      U.clearAttributes(idarr[i]);\r\n      idarr[i].style.display = 'none';\r\n    }*/\r\n    const scripts: JQuery<HTMLScriptElement> =  $htmlraw.find('script') as any;\r\n\r\n    for(i = 0; i < scripts.length; i++) {\r\n      // clone the script, empty it while keeping (to keep same indexedPath structure as the template), execute id\r\n      // todo: problema: tutti i successivi elementi con id statici verranno rimossi e avranno struttura template != struttura ongraph\r\n      //  e falliranno a mostrare il clicked fragment nello styleeditor.\r\n      // non va bene: se cambio lo stile quello script appeso al body rimane e devo aggiornare la pagina.\r\n      // since newlines are replaced with spaces, scripts inline // comments are not allowed. use /*comments*/\r\n      // const oldid = scripts[i].id;\r\n      // delete scripts[i].id;\r\n\r\n      //console.log('script:', scripts[i], 'length:', scripts[i].innerHTML.length, scripts[i].innerText.length);\r\n      if (!scripts[i].innerHTML.length) { continue; } // \"deleted\" empty element\r\n      const cloned = scripts[i];\r\n      /*const cloned: HTMLScriptElement = U.cloneHtml(scripts[i]); bug: probably getbyid is working on detached elements too.\r\n      it is altering the ViewRule.\r\n      cloned.id = oldid;\r\n      scripts[i].innerHTML = '';\r\n      document.body.appendChild(cloned);*/\r\n      console.log('eval:', cloned.innerHTML);\r\n      try { eval(cloned.innerHTML); } catch(e) { U.pw(true, 'error in user script of \"' + this.logic().printableName()+ '\":', e, 'script:', cloned); }\r\n    }\r\n    if (parenttmp) { if (next) parenttmp.insertBefore(htmlRaw, next); else parenttmp.appendChild(htmlRaw); }\r\n    if (this.isAutosize().atLeastOne) this.autosizeNew(false, false);\r\n  }\r\n\r\n  public autosizeNew(refreshVertex: boolean = false, refreshEdge: boolean = true, trigger: string = null, autosizeobj: {x: boolean, y: boolean, atLeastOne: boolean} = null): IVertex {\r\n    if (!autosizeobj) autosizeobj = this.isAutosize();\r\n    if (!autosizeobj.atLeastOne) return this;\r\n    let html: Element = this.getMeasurableNode();\r\n    if (html.tagName.toLowerCase() === 'foreignobject') html = html.children[0];\r\n    const actualSize = this.owner.toGraphCoordS(U.sizeof(html));\r\n    actualSize.x = null;\r\n    actualSize.y = null;\r\n    if (!autosizeobj.x) actualSize.w = null;\r\n    if (!autosizeobj.y) actualSize.h = null;\r\n    // console.log('setSize:', actualSize, this.size, autosizeobj, html, U.sizeof(html));\r\n    this.setSize(actualSize, refreshVertex, refreshEdge, trigger);\r\n    return this; }\r\n\r\n  private drawE(data: EEnum, canfail: boolean = true): void {\r\n    try { this.drawE0(data); }\r\n    catch(e) {\r\n      if (!canfail) { throw e; }\r\n      const style = data.getStyle();\r\n      const styletype = style.isinstanceshtml ? 'inherited' : ( style.isownhtml ? 'personal' : (style.isGlobalhtml ? 'native' : 'user-made') + ' default');\r\n      U.pw(true, 'failed to draw ' + styletype + ' style of enum \"' + data.printableNameshort() + '\", his style will be resetted.', e);\r\n      if (style.isinstanceshtml) style.view.htmli = null;\r\n      if (style.isownhtml) style.view.htmlo = null;\r\n      if (style.isCustomGlobalhtml) style.view.unsetDefault();\r\n      this.htmlForeign = null;\r\n      this.drawE(data, false); }\r\n  }\r\n  private drawC(data: IClass, canfail: boolean = true): void {\r\n    try { this.drawC0(data); }\r\n    catch(e) {\r\n      if (!canfail) { throw e; }\r\n      const m: IModel = data.getModelRoot();\r\n      const style = data.getStyle();\r\n      const styletype = style.isinstanceshtml ? 'inherited' : ( style.isownhtml ? 'personal' : (style.isGlobalhtml ? 'native' : 'user-made') + ' default');\r\n      U.pw(true, 'failed to draw ' + styletype + ' style of ' + (m.isM() ? 'm1-object' : 'class') + ' \"' + data.printableNameshort() + '\", his style will be resetted.', e);\r\n      if (style.isinstanceshtml) style.view.htmli = null;\r\n      if (style.isownhtml) style.view.htmlo = null;\r\n      if (style.isCustomGlobalhtml) style.view.unsetDefault();\r\n      this.htmlForeign = null;\r\n      this.drawC(data, false); }\r\n  }\r\n\r\n  drawO(data: EOperation, canfail: boolean = true): Element {\r\n    try { return this.drawO0(data); }\r\n    catch(e) {\r\n      if (!canfail) { throw e; }\r\n      const m: IModel = data.getModelRoot();\r\n      const style = data.getStyle();\r\n      const styletype = style.isinstanceshtml ? 'inherited' : ( style.isownhtml ? 'personal' : (style.isGlobalhtml ? 'native' : 'user-made') + ' default');\r\n      U.pw(true, 'failed to draw ' + styletype + ' style of ' + m.getPrefix() + '-operation \"' + data.printableNameshort() + '\", his style will be resetted.', e);\r\n      if (style.isinstanceshtml) style.view.htmli = null;\r\n      if (style.isownhtml) style.view.htmlo = null;\r\n      if (style.isCustomGlobalhtml) style.view.unsetDefault();\r\n      return this.drawO(data, false); }\r\n  }\r\n  drawParam(data: EParameter, canfail: boolean = true): Element {\r\n    try { return this.drawParam0(data); }\r\n    catch(e) {\r\n      if (!canfail) { throw e; }\r\n      const m: IModel = data.getModelRoot();\r\n      const style = data.getStyle();\r\n      const styletype = style.isinstanceshtml ? 'inherited' : ( style.isownhtml ? 'personal' : (style.isGlobalhtml ? 'native' : 'user-made') + ' default');\r\n      U.pw(true, 'failed to draw ' + styletype + ' style of ' + m.getPrefix() + '-parameter \"' + data.printableNameshort() + '\", his style will be resetted.', e);\r\n      if (style.isinstanceshtml) style.view.htmli = null;\r\n      if (style.isownhtml) style.view.htmlo = null;\r\n      if (style.isCustomGlobalhtml) style.view.unsetDefault();\r\n      return this.drawParam(data, false); }\r\n  }\r\n  drawL(data: ELiteral): Element { return this.drawTerminal(data); }\r\n  drawA(data: IAttribute): Element { return this.drawTerminal(data); }\r\n  drawR(data: IReference): Element { return this.drawTerminal(data); }\r\n  drawTerminal(data: Typedd, canfail: boolean = true): Element {\r\n    try { return this.drawTerminal0(data); }\r\n    catch(e) {\r\n      if (!canfail) { throw e; }\r\n      const m: IModel = data.getModelRoot();\r\n      const style = data.getStyle();\r\n      const styletype = style.isinstanceshtml ? 'inherited' : ( style.isownhtml ? 'personal' : (style.isGlobalhtml ? 'native' : 'user-made') + ' default');\r\n      U.pw(true, 'failed to draw ' + styletype + ' style of ' + m.getPrefix() + '\"' + data.printableNameshort() + '\", his style will be resetted.', e);\r\n      if (style.isinstanceshtml) style.view.htmli = null;\r\n      if (style.isownhtml) style.view.htmlo = null;\r\n      if (style.isCustomGlobalhtml) style.view.unsetDefault();\r\n      return this.drawTerminal(data, false); }\r\n  }\r\n  private drawE0(logic: EEnum): void {\r\n    if (!this.htmlForeign) {\r\n      const style: StyleComplexEntry = this.classe.getStyle();\r\n      this.htmlForeign = style.html as SVGForeignObjectElement; }\r\n    const html: SVGForeignObjectElement = this.htmlForeign;\r\n    /// append childrens:\r\n    const $eContainer = $(html).find('.LiteralContainer');\r\n    let i: number;\r\n    for (i = 0; i < logic.childrens.length; i++) {\r\n      const field = this.drawL(logic.childrens[i]);\r\n      $eContainer.append(field); }\r\n  }\r\n  private drawC0(data: IClass): void {\r\n    // console.log('drawC()');\r\n    if (!this.htmlForeign) {\r\n      const style: StyleComplexEntry = this.classe.getStyle();\r\n      this.htmlForeign = style.html as SVGForeignObjectElement; }\r\n    const html: SVGForeignObjectElement = this.htmlForeign;\r\n    /// append childrens:\r\n    const $childContainer = $(html).find('.ChildrenContainer, .ChildContainer, .AttributeContainer, .ReferenceContainer, .OperationContainer, .ParameterContainer');\r\n\r\n\r\n\r\n    // U.pe($attContainer.length !== 1, 'there must be exactly one element with class \"AttributeContainer\".', $attContainer);\r\n    // U.pe($refContainer.length !== 1, 'there must be exactly one element with class \"ReferenceContainer\".', $refContainer);\r\n    // U.pe($opContainer.length !== 1, 'there must be exactly one element with class \"OperationContainer\".', $opContainer);\r\n    // const attContainer = $attContainer[0];\r\n    // const refContainer = $refContainer[0];\r\n    // const opContainer = $opContainer[0];\r\n\r\n    let i: number;\r\n    let j: number;\r\n    const childs: ModelPiece[] = data.getAllChildrens(true, true, true, true, null);\r\n    let validator: (children: ModelPiece, index: number, list: ModelPiece[]) => boolean;\r\n    let getValidator = (container): (children: ModelPiece, index: number, list: ModelPiece[]) => boolean => {\r\n      let validatorStr: string = container && container.getAttribute('filter');\r\n      let validator0: (children: ModelPiece, index: number, list: ModelPiece[]) => boolean;\r\n      try {\r\n        validator0 = eval(validatorStr);\r\n        if (!U.isFunction(validator0)) throw new Error(); } catch(e) { validator0 = () => true; }\r\n        return validator0; }\r\n\r\n    for (j = 0; j < $childContainer.length; j++) {\r\n      let childContainer = $childContainer[j];\r\n      validator = getValidator(childContainer);\r\n      let specific = !childContainer.classList.contains('ChildrenContainer') && !childContainer.classList.contains('ChildContainer');\r\n      let allowAttributes = childContainer.classList.contains('AttributeContainer') || !specific && U.fromBoolString(childContainer.getAttribute('attributes'), true);\r\n      let allowReferences = childContainer.classList.contains('ReferenceContainer') || !specific && U.fromBoolString(childContainer.getAttribute('references'), true);\r\n      let allowOperations = childContainer.classList.contains('OperationContainer') || !specific && U.fromBoolString(childContainer.getAttribute('operations'), true);\r\n      let allowParameters = childContainer.classList.contains('ParameterContainer') || !specific && U.fromBoolString(childContainer.getAttribute('parameters'), true);\r\n      let allowLiterals = childContainer.classList.contains('LiteralContainer') || !specific && U.fromBoolString(childContainer.getAttribute('literals'), true);\r\n      let allowAnnotations = childContainer.classList.contains('AnnotationContainer') || !specific && U.fromBoolString(childContainer.getAttribute('annotations'), true);\r\n      let allowInheritance = U.fromBoolString(childContainer.getAttribute('inherited'), data.getModelRoot().isM1());\r\n      let allowOnlyShadowed: boolean = childContainer.hasAttribute('shadowed') && U.fromBoolString(childContainer.getAttribute('shadowed'), false, true);\r\n\r\n      // U.pe(allowShadowed === false, childContainer.getAttribute('shadowed'), U.fromBoolString(childContainer.getAttribute('shadowed'), false, true));\r\n      for (i = 0; i < childs.length; i++) {\r\n\r\n        console.log('mx ' + data.id + ' filtering children [' + i + \" / \" + childs.length + ']', childs);\r\n        let child = childs[i];\r\n        let field;\r\n        if (validator && !validator(childs[i], i, childs)) continue;\r\n        console.log('mx ' + data.id + ' validator ok ');\r\n        if (!allowInheritance && child.parent !== data) continue;\r\n        console.log('mx ' + data.id + ' allowInheritance ok ');\r\n        if (child instanceof IFeature) {\r\n          // error: when i delete extedge shadowed attr will disappear\r\n          console.log('allowShadowed:', allowOnlyShadowed, child.isShadowed(data), child);\r\n          console.log('shadowed mx ' + data.id + '? ', allowOnlyShadowed, child.isShadowed(data), child, data);\r\n          if (allowOnlyShadowed !== null && child.isShadowed(data) !== allowOnlyShadowed) continue;\r\n          console.log('mx ' + data.id + ' shadowed ok');\r\n          if (allowAttributes && child instanceof IAttribute) field = this.drawA(child); else\r\n          if (allowReferences && child instanceof IReference) field = this.drawR(child); else\r\n            continue;\r\n        } else\r\n        if (allowOperations && child instanceof EOperation) field = this.drawO(child); else\r\n        if (allowLiterals && child instanceof ELiteral) field = this.drawL(child); else\r\n        if (allowParameters && child instanceof EParameter) field = this.drawParam(child); else\r\n        if (allowAnnotations && child instanceof EAnnotation) field = this.drawAnnotation(child); else continue;\r\n        U.pe(!field, 'failed to get html of:', child);\r\n        // field.id = 'ID' + childs[i].id;\r\n        childContainer.append(field); }\r\n    }\r\n\r\n  }\r\n\r\n  getStartPointHtml(): Element {\r\n    const html: HTMLElement = this.getHtmlFirstChild();\r\n    const $start = $(html).find('.StartPoint');\r\n    if ($start.length > 0) { return $start[0]; } else { return html; } }\r\n  getEndPointHtml(): Element {\r\n    const html: Element = this.getHtmlFirstChild();\r\n    const $start = $(html).find('.EndPoint');\r\n    if ($start.length > 0) { return $start[0]; }\r\n    return (html.tagName.toLowerCase() === 'foreignobject') ? html.firstChild as Element : html; }\r\n\r\n  public getMeasurableNode(): Element { return this.htmlForeign; }\r\n  private setHtmls(data: IClassifier, htmlRaw: SVGForeignObjectElement): SVGForeignObjectElement {\r\n    // console.log('drawCV()');\r\n    if (!this.htmlg) { this.owner.vertexContainer.appendChild(this.htmlg = U.newSvg('g'));  data.linkToLogic(this.htmlg); this.addRootEventListeners(); }\r\n    else U.clear(this.htmlg);\r\n    let i: number;\r\n    const graphHtml: Element = this.owner.vertexContainer;\r\n    const $graphHtml: JQuery<Element> = $(graphHtml);\r\n    // console.log('drawing Vertex[' + data.name + '] with style:', htmlRaw, 'logic:', data);\r\n    // console.log('drawVertex: template:', htmlRaw);\r\n    const foreign: SVGForeignObjectElement = this.htmlForeign = U.textToSvg(U.replaceVars<SVGForeignObjectElement>(data, htmlRaw, true).outerHTML);\r\n    this.htmlForeign.classList.add(ReservedClasses.vertexRoot);\r\n    const $foreign = $(foreign);\r\n    data.linkToLogic(foreign);\r\n    const $elementWithID = $foreign.find('[id]');\r\n    // duplicate prevention.\r\n    for (i = 0; i < $elementWithID.length; i++) {\r\n      const elem = $elementWithID[i];\r\n      const id: string = '#' + elem.id;\r\n      const $duplicate = $graphHtml.find(id);\r\n      if ($duplicate.length) { $foreign.remove(id); }\r\n    }\r\n    this.htmlg.appendChild(foreign);\r\n    foreign.id = 'ID' + data.id;\r\n    foreign.dataset.vertexID = '' + this.id;\r\n    if (!this.size) { this.size = this.getSize(); } else { this.setSize(this.size, false, false); }\r\n\r\n    U.pe(this.htmlForeign.tagName.toLowerCase() !== 'foreignobject', 'The custom style root must be a foreignObject node.', this.htmlForeign);\r\n    U.pe(this.htmlForeign.childNodes.length !== 1, 'The custom style must have a single child node,' +\r\n      ' without spaces between <foreignObject> and the next tag. found ' + this.htmlForeign.childNodes.length + ' childrens.',\r\n      this.htmlForeign, this.htmlForeign.childNodes);\r\n    // this.html = this.htmlForeign.firstChild as HTMLElement;\r\n    return foreign; }\r\n\r\n  drawO0(data: EOperation): Element {\r\n    const html: Element =  this.drawTerminal(data);\r\n    const $html = $(html);\r\n    const $signature = $html.find('.signature');\r\n    let i: number;\r\n    for (i = 0; i < $signature.length; i++) {\r\n      const htmldataset: HTMLElement = $signature[0] as HTMLElement;\r\n      data.setSignatureHtml(htmldataset, ', ', +htmldataset.dataset.maxargumentchars, +htmldataset.dataset.maxarguments); }\r\n    const $detailHtml: JQuery<HTMLElement> = $html.find('.operationDetail') as JQuery<HTMLElement> ;\r\n    $signature.off('click.show').on('click.show', (e: Event) => {\r\n      const target: Element = e.target as Element;\r\n      let avoidToggle: boolean;\r\n      switch (target.tagName.toLowerCase()) {\r\n        case 'input':\r\n        case 'textarea':\r\n        case 'select': avoidToggle = true; break;\r\n        default: avoidToggle = ((target instanceof HTMLElement) && target.isContentEditable); break; }\r\n      if (avoidToggle) { return; }\r\n      data.detailIsOpened = !data.detailIsOpened;\r\n      data.detailIsOpened ? $detailHtml.show() : $detailHtml.hide();\r\n      this.autosizeNew(false, true);\r\n    });\r\n    data.detailIsOpened ? $detailHtml.show() : $detailHtml.hide();\r\n\r\n    $html.find('input.name').val(data.name);\r\n    const $parameterList = $detailHtml.find('.parameterList');\r\n    let j: number;\r\n    for (j = 0; j < $parameterList.length; j++) {\r\n      const parameterList = $parameterList[j];\r\n      // U.clear(parameterList);\r\n      const lastChild: Node = parameterList.childNodes[parameterList.childNodes.length - 1];\r\n      for (i = 0; i < data.childrens.length; i++) {\r\n        const field = this.drawParam(data.childrens[i]);\r\n        parameterList.insertBefore(field, lastChild); }\r\n      // for (i = oldChilds.length; i > 0; i--) { parameterList.prepend(oldChilds.item(i)); }\r\n    }\r\n\r\n    const $addParamButton = $html.find('.addParameterButton');\r\n    // $addParamButton.html('<button style=\"width: 100%; height: 100%;\">+</button>');\r\n    $addParamButton.off('click.add').on('click.add', (e: Event) => { data.addParameter(); this.refreshGUI(); });\r\n    return html; }\r\n\r\n  drawParam0(data: EParameter): Element {\r\n    let i: number;\r\n    const html: Element = this.drawTerminal(data);\r\n    const $html = $(html);\r\n    // const $typeHtml: JQuery<HTMLSelectElement> = $html.find('select.fullType') as JQuery<HTMLSelectElement>;\r\n    const $nameHtml: JQuery<HTMLInputElement> = $html.find('input.name') as JQuery<HTMLInputElement>;\r\n    $nameHtml.val(data.name);\r\n    return html; }\r\n\r\n  drawAnnotation(data: EAnnotation): Element {\r\n    return null; }\r\n\r\n  drawTerminal0(data: Typedd): Element {\r\n    data.replaceVarsSetup();\r\n    const style: StyleComplexEntry = data.getStyle();\r\n    const htmlRaw: Element = style.html;\r\n    U.pe(!htmlRaw, 'failed to get attribute style:', data);\r\n    // todo: sposta l'opearzione nei Graph.Field\r\n    const html: Element = U.replaceVars<Element>(data, htmlRaw, true);\r\n    data.linkToLogic(html as any);\r\n    return html; }\r\n\r\n  toEdge(start: IVertex, end: IVertex): IEdge {\r\n    // todo\r\n    U.pe(true, 'vertexToEdge() todo.');\r\n    return null; }\r\n\r\n  private addRootEventListeners(): void {\r\n    const $html = $(this.htmlg);\r\n    $html.off('mousedown.vertex').on('mousedown.vertex', (e: MouseDownEvent) => { this.onMouseDown(e); });\r\n    $html.off('mouseup.vertex').on('mouseup.vertex', (e: MouseUpEvent) => { this.onMouseUp(e); });\r\n    $html.off('mousemove.vertex').on('mousemove.vertex', (e: MouseMoveEvent) => { this.onMouseMove(e); });\r\n    $html.off('mouseenter.vertex').on('mouseenter.vertex', (e: MouseEnterEvent) => { this.onMouseEnter(e); });\r\n    $html.off('mouseleave.vertex').on('mouseleave.vertex', (e: MouseLeaveEvent) => { this.onMouseLeave(e); });\r\n    $html.off('click').on('click', (e: ClickEvent) => { this.onClick(e); });\r\n    // $html.off('contextmenu').on('contextmenu', (e: ContextMenuEvent): boolean => { return DamContextMenuComponent.contextMenu.onContextMenu(e); });\r\n    // const $addFieldButtonContainer: JQuery<HTMLElement> = $html.find('.addFieldButtonContainer') as any as JQuery<HTMLElement>;\r\n    // this.setAddButtonContainer($addFieldButtonContainer[0]);\r\n   }\r\n  private addEventListeners(): void {\r\n    let i: number;\r\n    const $html = $(this.htmlg);\r\n//    $html.find('.Attribute, .Reference, .ELiteral, .Operation, .Parameter').off('contextmenu').on('contextmenu',\r\n//      (e: ContextMenuEvent): boolean => { return this.featureContextMenu(e); });\r\n    $html.find('.delete').off('click.delete').on('click.delete', (e: ClickEvent) => { ModelPiece.get(e).delete(true); });\r\n    $html.find('.addFieldButton').off('click.addField').on('click.addField', (e: ClickEvent) => { this.addFieldClick(e); });\r\n    $html.find('.AddFieldSelect').off('change.addField').on('change.addField',  (e: ChangeEvent) => { this.addFieldClick(e as any); });\r\n    $html.find('input, select, textarea').off('change.fieldchange').on('change.fieldchange', (e: ChangeEvent) => IVertex.FieldNameChanged(e));\r\n\r\n\r\n    // todo: viene chiamato 1 volta per ogni elementNode con modelID, ma io eseguo tutto dalla radice.\r\n    // quindi viene eseguito N +1 volte per ogni vertice dove N sono i suoi (attributes + references)\r\n    // console.log(html.tagName, html.dataset.modelpieceid);\r\n    // if (html.tagName.toLowerCase() === 'foreignobject' && html.dataset.modelpieceid )\r\n    //   { html = html.firstChild as Element; }\r\n    // while (!(html.classList.contains('Vertex'))) { console.log(html); html = html.parentNode as Element; }\r\n    // $html.find('.LinkVertex').off('mousedown.setReference').on('mousedown.setReference', IVertex.linkVertexMouseDownButton);\r\n    const defaultResizeConfig: ResizableOptions = new ResizableOptionsImpl();\r\n    const defaultDragConfig: DraggableOptions = new DraggableOptionsImpl();\r\n    const defaultRotConfig: RotatableOptions = new RotatableOptions();\r\n    // NB: do not delete the apparantly useless dynamic functions.\r\n    // jqueryui is binding this to e.currentTarget and e.currentTarget to document.body, the dynamic function makes this instanceof iVertex again.\r\n    // defaultResizeConfig.create = (e: Event, ui: ResizableUIParams) => this.measuringTrigger(ui, e, measurableRules.onRefresh);\r\n    defaultResizeConfig.start = (e: Event, ui: ResizableUIParams) => this.measuringEventTrigger(ui, e, measurableRules.onResizeStart);\r\n    defaultResizeConfig.resize = (e: Event, ui: ResizableUIParams) => this.measuringEventTrigger(ui, e, measurableRules.whileResizing);\r\n    defaultResizeConfig.stop = (e: Event, ui: ResizableUIParams) => this.measuringEventTrigger(ui, e, measurableRules.onResizeEnd);\r\n    // defaultDragConfig.create = (e: Event, ui: DraggableEventUIParams) => this.measuringTrigger(ui, e, measurableRules.onRefresh);\r\n    defaultDragConfig.start = (e: Event, ui: DraggableEventUIParams) => this.measuringEventTrigger(ui, e, measurableRules.onDragStart);\r\n    defaultDragConfig.drag = (e: Event, ui: DraggableEventUIParams) => this.measuringEventTrigger(ui, e, measurableRules.whileDragging);\r\n    defaultDragConfig.stop = (e: Event, ui: DraggableEventUIParams) => this.measuringEventTrigger(ui, e, measurableRules.onDragEnd);\r\n    defaultRotConfig.start = (e: Event, ui: DraggableEventUIParams) => this.measuringEventTrigger(ui, e, measurableRules.onRotationStart);\r\n    defaultRotConfig.rotate = (e: Event, ui: DraggableEventUIParams) => this.measuringEventTrigger(ui, e, measurableRules.whileRotating);\r\n    defaultRotConfig.stop = (e: Event, ui: DraggableEventUIParams) => this.measuringEventTrigger(ui, e, measurableRules.onRotationEnd);\r\n    this.dragConfig = null;\r\n//     console.log('measurableElementSetup:', defaultResizeConfig, defaultDragConfig);\r\n    // todo: sta cosa potrei eliminarla se uso jqui.create oppure li cerco mentre creo il $(node).resizable(resConfig);\r\n    Measurable.measurableElementSetup($html, defaultResizeConfig, defaultRotConfig, defaultDragConfig, this);\r\n    const $elementsWithRefreshTrigger = $html.find('.' + ReservedClasses.onRefresh);\r\n    for (i = 0; i < $elementsWithRefreshTrigger.length; i++) {\r\n      const elem: Element = $elementsWithRefreshTrigger[i];\r\n      this.measuringEventTrigger(null, null, measurableRules.onRefresh, elem);\r\n    }\r\n  }\r\n\r\n  measuringEventTrigger(uiseless: ResizableUIParams | DraggableEventUIParams = null, e: Event = null, prefix: string, html: Element = null): void {\r\n    if (!html) html = e.target as Element;\r\n    // console.log('measuringEventTrigger:', prefix); // , html, e);\r\n    if (!html.attributes) return;\r\n    let i: number;\r\n    for (i = 0; i < html.attributes.length; i++) {\r\n      const a: Attr = html.attributes[i];\r\n      if (a.name.indexOf(prefix.toLowerCase()) !== 0) continue;\r\n      new MeasurableRuleParts(a, prefix).process(false, this, this.owner);\r\n    }\r\n  }\r\n\r\n  /*\r\n    measuringInit(ui: ResizableUIParams | DraggableEventUIParams, e: Event): void {\r\n      const m = U.measurableGetArrays(null, e);\r\n      console.log('measuringInit:', ui, e, m);\r\n      let i: number;\r\n      const size: Size = U.sizeof(m.html);\r\n      const absTargetSize: Size = this.owner.getSize();\r\n      const logic: IClassifier = this.logic();\r\n      for (i = 0; i < m.variables.length; i++) { U.processMeasurableVariable(m.variables[i], logic, m.html, size, absTargetSize); }\r\n      for (i = 0; i < m.dstyle.length; i++) { U.processMeasurableDstyle(m.dstyle[i], logic, m.html, null, absTargetSize); }\r\n      for (i = 0; i < m.imports.length; i++) { U.processMeasurableImport(m.imports[i], logic, m.html, null, absTargetSize); }\r\n    }\r\n\r\n    measuringChanging(ui: ResizableUIParams | DraggableEventUIParams, e: Event, measurHtml: Element = null): void {\r\n      const m: MeasurableArrays = U.measurableGetArrays(measurHtml, e);\r\n      console.log('Changing.measurableHtml parsed special attributes:', m);\r\n      m.imports = [];\r\n      m.chainFinal = [];\r\n      // m.dstyle = [];\r\n      // m.rules = [];\r\n      // m.variables = [];\r\n      U.processMeasuring(this.logic(), m, ui);\r\n    }\r\n\r\n    measuringChanged(ui: ResizableUIParams | DraggableEventUIParams, e: Event, measurHtml: Element = null): void {\r\n      const m = U.measurableGetArrays(measurHtml, e);\r\n      console.log('Changed.measurableHtml parsed special attributes:', m);\r\n      m.chain = [];\r\n      m.imports = [];\r\n      U.processMeasuring(this.logic(), m, ui);\r\n    }*/\r\n\r\n\r\n  clickSetReference(e: ClickEvent | MouseUpEvent | MouseDownEvent, debug: boolean = true): void {\r\n    if (e) { e.stopPropagation(); e.preventDefault(); }\r\n    const edge: IEdge = IEdge.edgeChanging;\r\n    if (!edge) { return; }\r\n    U.pif(debug, 'setreferenceClick success!');\r\n    const newTargetVertex: IVertex = this;\r\n    const oldTargetVertex: IVertex = edge.end;\r\n    const newTargetLogic: IClassifier = newTargetVertex.logic();\r\n    const oldTargetLogic: IClassifier = oldTargetVertex && oldTargetVertex.logic();\r\n\r\n    if (!(newTargetLogic instanceof IClass)) return;\r\n    if (!edge.canBeLinkedTo(newTargetLogic)) {\r\n      U.pif(debug, 'edge ', edge.logic, 'cannot be linked to ', newTargetLogic, 'hoveringvertex:', newTargetVertex);\r\n      return; }\r\n    if (edge.logic instanceof MReference) edge.logic.linkClass(newTargetLogic as MClass, edge.getIndex(), true);\r\n    if (edge.logic instanceof M2Reference) edge.logic.setType((newTargetLogic as M2Class).getEcoreTypeName());\r\n    if (edge instanceof ExtEdge) {\r\n      if (edge.end && oldTargetLogic) edge.logic.unsetExtends(oldTargetLogic as M2Class, false); // unset old extend without removing this vertex\r\n      edge.logic.setExtends(this.logic() as M2Class); // extend the newly clicked vertex (this)\r\n    } else {\r\n      U.pe(edge.logic instanceof MClass, 'cst: class edges are currently not supported');\r\n    }\r\n    if (oldTargetVertex) U.arrayRemoveAll(oldTargetVertex.edgesEnd, edge);\r\n    U.ArrayAdd(newTargetVertex.edgesEnd, edge);\r\n\r\n    this.mark(false, 'refhover');\r\n    // altrimenti parte l'onClick su AddFieldButton quando fissi la reference.\r\n    // setTimeout( () => { IEdge.edgeChanging = null; }, 1);\r\n    IEdge.edgeChangingStopTime = Date.now();\r\n    IEdge.edgeChanging = null;\r\n    edge.tmpEnd = null;\r\n    edge.useMidNodes = true;\r\n    edge.useRealEndVertex = true;\r\n    edge.end = this;\r\n    edge.refreshGui(); }\r\n\r\n  onClick(e: ClickEvent): void {\r\n    // IVertex.ChangePropertyBarContentClick(e);\r\n  }\r\n\r\n\r\n  onMouseDown(e: MouseDownEvent): void {\r\n    if (IEdge.edgeChanging) { this.clickSetReference(e); return; }\r\n    let target: HTMLElement = e.target as HTMLElement;\r\n    if (!U.isChildrenOf(target, Status.status.getActiveModel().graph.container)) return;\r\n    // console.log(e.button, e.buttons, e);\r\n    const parentLine: Element[] = U.getParentLine(target, this.getMeasurableNode(), true, false, true);\r\n    const measurables: JQuery<Element> = $(parentLine).filter('.measurable');\r\n    const clickedOnMeasurableChildren: boolean = !!measurables.length;\r\n    if (e.button !== U.mouseLeftButton && clickedOnMeasurableChildren) { e.stopPropagation(); }\r\n    if (e.button === U.mouseLeftButton && (U.isInput(target, true) || clickedOnMeasurableChildren)) { return; }\r\n    if (e.button === U.mouseWheelButton) { this.owner.onMouseDown(e, true); return; }\r\n\r\n    IVertex.selected = this;\r\n    IVertex.startDragContext = new StartDragContext(this);\r\n\r\n    if (IVertex.selectedGridWasOn.x as any === 'prevent_doublemousedowncheck') {\r\n      IVertex.selectedGridWasOn.x = IVertex.selected.owner.grid.x; }\r\n    if (IVertex.selectedGridWasOn.y as any === 'prevent_doublemousedowncheck') {\r\n      IVertex.selectedGridWasOn.y = IVertex.selected.owner.grid.y; }\r\n    IVertex.selected.owner.grid.x = null;\r\n    IVertex.selected.owner.grid.y = null;\r\n    IVertex.selectedStartPt = this.owner.toGraphCoord(new Point(e.pageX, e.pageY));\r\n    IVertex.selectedStartPt.subtract(this.size.tl(), false); }\r\n\r\n  onMouseUp(e: MouseUpEvent): void {\r\n    if (IEdge.edgeChanging) { this.clickSetReference(e); return; }\r\n  }\r\n\r\n  onMouseMove(e: MouseMoveEvent): void { }\r\n  onMouseEnter(e: MouseEnterEvent): void { this.mouseEnterLinkPreview(e); }\r\n  onMouseLeave(e: MouseLeaveEvent): void { this.mouseLeaveLinkPreview(e); }\r\n\r\n  mouseEnterLinkPreview(e: MouseEnterEvent): void {\r\n    const edge: IEdge = IEdge.edgeChanging;\r\n    if (!edge) { return; }\r\n    const ref: IReference | IClass = edge.logic;\r\n    /*const edges: IEdge[] = ref.getEdges();\r\n    U.pe(!edges, 'ref.edges === null', ref);\r\n    let edge: IEdge;\r\n    if (ref.upperbound > 0 && edges.length - 1 >= ref.upperbound) { edge = edges[edges.length - 1]; } else { edge = new IEdge(ref); }*/\r\n    const html2: Element = e.currentTarget as HTMLElement | SVGGElement;\r\n    // while (html2 && html2.classList && !html2.classList.contains('vertexShell')) { html2 = html2.parentNode as Element;}\r\n    let hoveringTarget: IClassifier = html2 ? ModelPiece.getLogic(html2) as IClassifier : null;\r\n    U.pe(!hoveringTarget || !(hoveringTarget instanceof IClassifier),\r\n      'the currentTarget should point to the vertex root, only classifier should be retrieved.', hoveringTarget, e, html2);\r\n    const linkable: boolean = hoveringTarget instanceof IClass ? edge.canBeLinkedTo(hoveringTarget) : false;\r\n    const size: GraphSize = hoveringTarget.getVertex().getSize();\r\n    const width = 3;\r\n    const pad = 5 + width;\r\n    const padding: GraphSize = new GraphSize(pad, pad, pad, pad);\r\n    const vertex: IVertex = hoveringTarget.getVertex();\r\n    // const oldHoverVertex: IVertex = window.oldEdgeLink_HoveringVertex;\r\n    // if (oldHoverVertex) { vertex.mark(false, 'refhover'); }\r\n    // window.oldEdgeLink_HoveringVertex = vertex;\r\n    vertex.mark(true, 'refhover',\r\n      linkable ? 'green' : 'red',\r\n      (size.w + padding.x + padding.w) / 10,\r\n      (size.h + padding.y + padding.h) / 10,\r\n      width, null, padding);\r\n    edge.tmpEndVertex = hoveringTarget.getVertex();\r\n    // NB: serve farlo 2 volte, alla prima ripristina il targetEnd ma non corregge lo startingpoint adattandolo alla nuova destinazione.\r\n    edge.refreshGui(null, false); edge.refreshGui(null, false); }\r\n\r\n  mouseLeaveLinkPreview(evt: MouseLeaveEvent, debug: boolean = true): void {\r\n    if (!IEdge.edgeChanging) { return; }\r\n    const edge: IEdge = IEdge.edgeChanging;\r\n    U.pif(debug, 'vertexLeave()');\r\n    edge.tmpEndVertex = null;\r\n    edge.tmpEnd = GraphPoint.fromEvent(evt);\r\n    this.mark(false, 'refhover'); }\r\n\r\n  addFieldClick(e: ClickEvent): void {\r\n    // impedisco che un click mentre fisso un edge triggeri altre cose, 100ms di \"cooldown\"\r\n    if (IEdge.edgeChanging || Date.now() - IEdge.edgeChangingStopTime < 100) { return; }\r\n    const modelPiece: IClassifier = this.logic();\r\n    const classe: M2Class = modelPiece instanceof M2Class ? modelPiece : null;\r\n    const enumm: EEnum = modelPiece instanceof EEnum ? modelPiece : null;\r\n    U.pe(!enumm && !classe, 'AddFieldClick should only be allowed on M2-Classes or enumerations.');\r\n\r\n    U.pe(!this.classe, 'called addFieldClick on a package');\r\n    Status.status.debug = true;\r\n    const html = this.getHtmlFirstChild();\r\n    let select: HTMLSelectElement;\r\n    // const debugOldJson = U.cloneObj(modelPiece.generateModel({}));\r\n    select = $(html).find('.AddFieldSelect')[0] as unknown as HTMLSelectElement;\r\n    switch (select.value.toLowerCase()) {\r\n      default: U.pe(true, 'unexpected select value for addField:' + select.value + ' allowed values are: [\"Reference\", \"Attribute\", \"Operation\", \"Literal\"]'); break;\r\n      case 'reference': U.pe(!classe, '\"Reference\" as .AddFieldSelect value is only allowed on M2-classes'); classe.addReference(); break;\r\n      case 'attribute': U.pe(!classe, '\"Attribute\" as .AddFieldSelect value is only allowed on M2-classes'); classe.addAttribute(); break;\r\n      case 'operation': U.pe(!classe, '\"Operation\" as .AddFieldSelect value is only allowed on M2-classes'); classe.addOperation(); break;\r\n      case 'literal': U.pe(!enumm, '\"Literal\" as .AddFieldSelect value is only allowed on Enumerations'); enumm.addLiteral(); break; }\r\n  }\r\n  /*\r\n    setAddButtonContainer(container: HTMLElement): void {\r\n      U.toHtml('<span style=\"display:flex; margin:auto;\">Add&nbsp;</span>' +\r\n        '<select class=\"AddFieldSelect\" style=\"display:flex; margin:auto;\"><optgroup label=\"FeatureType\">' +\r\n        '<option value=\"Attribute\" selected=\"\">Attribute</option>' +\r\n        '<option value=\"Reference\">Reference</option>' +\r\n        '<option value=\"Operation\">Operation</option>' +\r\n        '</optgroup></select>' +\r\n        '<span style=\"display:flex; margin:auto;\">&nbsp;field</span>\\n' +\r\n        '<button>Go</button>', container); }\r\n  */\r\n  setFields(f: IField[]) {\r\n    this.fields = f;\r\n  }\r\n\r\n  setGraph(graph: IGraph) {\r\n    U.pe(!graph, 'Vertex should only be created after Graph initialization.');\r\n    this.owner = graph; }\r\n\r\n  refreshGUI(): void { this.draw(); }\r\n\r\n  refreshEdgesGUI(): void {\r\n    const refEnd: IEdge[] = this.edgesEnd; // this.getReferencesEnd();\r\n    const refStart: IEdge[] = this.edgesStart; // this.getReferencesStart();\r\n    let i: number;\r\n    for (i = 0; i < refEnd.length; i++) { if (refEnd[i]) { refEnd[i].refreshGui(); } }\r\n    for (i = 0; i < refStart.length; i++) { if (refStart[i]) { refStart[i].refreshGui(); } } }\r\n\r\n  moveTo(graphPoint: GraphPoint, gridIgnore: boolean = false, center: boolean = false, fromAutoLayouting: boolean = false): void {\r\n    // console.log('moveTo(', graphPoint, '), gridIgnore:', gridIgnore, ', grid:');\r\n    // const oldsize: GraphSize = this.size; // U.getSvgSize(this.logic().html as SVGForeignObjectElement);\r\n    if (center) {\r\n      const size: GraphSize = this.getSize();\r\n      graphPoint.x -= size.w / 2;\r\n      graphPoint.y += size.h / 2;\r\n    }\r\n    if (!gridIgnore) { graphPoint = this.owner.fitToGrid(graphPoint); }\r\n    if (!fromAutoLayouting) {\r\n      this.owner.layouting.onVertexMove(this);\r\n    }\r\n    this.setSize(new GraphSize(graphPoint.x, graphPoint.y, null, null), false, true, measurableRules.whileDragging);\r\n  }\r\n\r\n  logic(set: IClassifier = null): IClassifier {\r\n    if (set) { return this.classe = set; }\r\n    return this.classe; }\r\n  // todo: elimina differenze html e htmlforeign o almeno controlla e riorganizza\r\n  getHtmlRawForeign(): SVGForeignObjectElement { return this.htmlForeign; }\r\n  getHtmlFirstChild(): HTMLElement { return this.htmlForeign.firstChild as HTMLElement; }\r\n  minimize(): void {\r\n    U.pe(true, 'minimize() to do.');\r\n  }\r\n\r\n  isDrawn(): boolean { return !!(this.htmlForeign && this.htmlForeign.parentNode); }\r\n\r\n  /*pushDown(): void {\r\n    if (!this.isDrawn()) { return; }\r\n    const html = this.htmlForeign;\r\n    const parent = html.parentNode;\r\n    parent.removeChild(html);\r\n    parent.appendChild(html); }\r\n\r\n  pushUp(): void {\r\n    if (!this.isDrawn()) { return; }\r\n    const html = this.htmlForeign;\r\n    const parent = html.parentNode;\r\n    parent.removeChild(html);\r\n    parent.prepend(html); }*/\r\n\r\n  remove() {\r\n    console.log('IVertex.delete();');\r\n    let i: number;\r\n    // for (i = 0; i < this.edgesStart.length; i++) {}\r\n    let arr: IEdge[];\r\n    arr = U.ArrayCopy(this.edgesStart, false);\r\n    for (i = 0; i < arr.length; i++) { arr[i].remove(); }\r\n    arr = U.ArrayCopy(this.edgesEnd, false);\r\n    for (i = 0; i < arr.length; i++) { arr[i].remove(); }\r\n    const html = this.htmlForeign;\r\n    html.parentNode.removeChild(html);\r\n    delete IVertex.all[this.id];\r\n    for (const key in this.Vmarks) {\r\n      if (this.Vmarks[key]) { continue; }\r\n      const mark: SVGRectElement = this.Vmarks[key];\r\n      if (mark.parentNode) { mark.parentNode.removeChild(mark); } }\r\n    U.arrayRemoveAll(this.owner.vertex, this);\r\n    this.classe.vertex = null;\r\n\r\n    const fields: IField[] = U.ArrayCopy(this.fields, false);\r\n    for (i = 0; i < fields.length; i++) { fields[i].remove(); }\r\n\r\n    // gc helper\r\n    this.owner = null;\r\n    this.size = null;\r\n    this.edgesStart = null;\r\n    this.edgesEnd = null; }\r\n\r\n  getSize(debug: boolean = false): GraphSize {\r\n    const html0: SVGForeignObjectElement = this.htmlForeign;\r\n    let sizeOld: GraphSize;\r\n    if (debug) {\r\n      sizeOld = this.size ? this.size.duplicate() : null;\r\n      if (this.size) { this.owner.markgS(this.size, true, 'blue'); }\r\n    }\r\n    const size: GraphSize = this.size = U.getSvgSize(html0, IVertex.minSize);\r\n    U.pe(debug && !sizeOld.equals(size), 'Wrong size. this:', this);\r\n    return this.size; }\r\n\r\n/// end of IVertex\r\n  isMarkedWith(markKey: string, colorFilter: string = null) {\r\n    if (!this.Vmarks.hasOwnProperty(markKey)) { return false; }\r\n    if (!colorFilter) { return true; }\r\n    const markRect: SVGRectElement = this.Vmarks[markKey];\r\n    return (markRect.getAttributeNS(null, 'stroke') === colorFilter);\r\n  }\r\n\r\n  setAutolayout(checked: boolean): void{\r\n    this.autoLayout = checked;\r\n    if (this.autoLayout) { this.owner.layouting.addToLayout([this], true); }\r\n    else { this.owner.layouting.removeFromLayout([this], true); }\r\n  }\r\n}\r\n","import {\r\n  Json,\r\n  U,\r\n  IEdge,\r\n  IVertex,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IModel,\r\n  Status,\r\n  Size,\r\n  IReference,\r\n  GraphPoint,\r\n  GraphSize,\r\n  PropertyBarr,\r\n  Dictionary,\r\n  IClass,\r\n  ViewPoint,\r\n  EOperation,\r\n  EParameter,\r\n  Point,\r\n  EEnum,\r\n  ExtEdge,\r\n  measurableRules,\r\n  DamContextMenuComponent,\r\n  Model, IClassifier\r\n} from '../../common/Joiner';\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport MouseMoveEvent = JQuery.MouseMoveEvent;\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport BlurEvent = JQuery.BlurEvent;\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nimport {StartDragContext} from './Vertex/iVertex';\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\nimport {Layouting} from './Layouting';\r\n\r\n\r\nexport class ViewPointShell {\r\n  graph: IGraph;\r\n  model: IModel;\r\n  html: HTMLElement;\r\n  $html: JQuery<HTMLElement>;\r\n  $template: JQuery<HTMLLIElement>;\r\n  template: HTMLLIElement;\r\n  lastVP: ViewPoint = null; // se ne sono attivi multipli e modifichi lo stile di qualcosa, questo sarà quello che viene aggiornato.\r\n  defaultCheckbox: HTMLInputElement;\r\n  checkboxes: HTMLInputElement[];\r\n  ignoreEvents: boolean;\r\n  getViewpointGUI: Dictionary<number /*Viewpoint.id*/, HTMLLIElement> = {};\r\n  constructor(g: IGraph) {\r\n    this.graph = g;\r\n    this.model = g.model;\r\n    this.$html = $(g.container.parentElement).find('.viewpointShell');\r\n    this.html = this.$html[0];\r\n    this.$template = this.$html.find('li.viewpointrow.template') as JQuery<HTMLLIElement>;\r\n    this.template = this.$template[0];\r\n    const $checkboxlidefault = this.$html.find('li.viewpointrow.default');\r\n    const $defaultCheckbox = $checkboxlidefault.find('input[type=\"radio\"]') as JQuery<HTMLInputElement>;\r\n    this.defaultCheckbox = $defaultCheckbox[0];\r\n    this.checkboxes = [];\r\n    this.getViewpointGUI = {};\r\n    let i: number;\r\n    // this.ignoreEvents = false;\r\n    $defaultCheckbox.on('click', (e: ClickEvent) => { this.undoAll(true); });\r\n    $checkboxlidefault.find('button.duplicate').on('click', (e: ClickEvent) => this.duplicateEvent(e, null, this.defaultCheckbox) );\r\n  }\r\n  /*undoAllOld(model :IModel): void {\r\n    let i1: number;\r\n    let i2: number;\r\n    let i3: number;\r\n    let i4: number;\r\n    model.graph.gridDisplay = IGraph.defaultGridDisplay;\r\n    model.graph.scroll = new GraphPoint(0, 0);\r\n    model.graph.setZoom(IGraph.defaultZoom);\r\n    model.graph.setGrid(IGraph.defaultGrid);\r\n    const undostyle = (m: ModelPiece) => { m.resetViews(); };\r\n    for (i1 = 0; i1 < model.childrens.length; i1++) {\r\n      const pkg: IPackage = model.childrens[i1];\r\n      undostyle(pkg);\r\n      for (i2 = 0; i2 < pkg.childrens.length; i2++) {\r\n        const c: IClass = pkg.childrens[i2];\r\n        undostyle(c);\r\n        c.shouldBeDisplayedAsEdge(false);\r\n        for (i3 = 0; i3 < c.attributes.length; i3++) {\r\n          const a: IAttribute = c.attributes[i3];\r\n          undostyle(a); }\r\n        for (i3 = 0; i3 < c.references.length; i3++) {\r\n          const r: IReference = c.references[i3];\r\n          undostyle(r); }\r\n        const operations = c.getOperations();\r\n        for (i3 = 0; i3 < operations.length; i3++) {\r\n          const o: EOperation = operations[i3];\r\n          undostyle(o);\r\n          for (i4 = 0; i4 < o.childrens.length; i4++) {\r\n            const p: EParameter = o.childrens[i4];\r\n            undostyle(p); }\r\n        }\r\n      }\r\n    }\r\n    model.refreshGUI_Alone();\r\n  }*/\r\n  undoAll(changingGuiChecked: boolean): void {\r\n    let i: number;\r\n    // de-apply all\r\n    for (i = 0; i < this.model.viewpoints.length; i++) { this.model.viewpoints[i].detach(); }\r\n    // update gui\r\n    this.ignoreEvents = true;\r\n    if (changingGuiChecked) {\r\n      for (i = 0; i < this.checkboxes.length; i++) { this.checkboxes[i].checked = false; }\r\n      this.graph.model.refreshGUI_Alone();\r\n    }\r\n    const defaultradio: HTMLInputElement = this.$html.find('input[type=\"radio\"]')[0] as HTMLInputElement;\r\n    defaultradio.checked = true;\r\n    this.ignoreEvents = false;\r\n  }\r\n  refreshApplied(): void {\r\n    // this.undoAll(false);\r\n    let i: number;\r\n    let stylecustomized: boolean = false;\r\n    const makeSureAllCheckboxesAreProcessed: HTMLInputElement[] = this.checkboxes.slice();\r\n    for (i = this.model.viewpoints.length; --i >= 0; ) {\r\n      const vp: ViewPoint = this.model.viewpoints[i];\r\n      const checkbox: HTMLInputElement = this.getCheckbox(vp);\r\n      U.pe(!checkbox, 'failed to get checkbox of:', vp, this);\r\n      U.arrayRemoveAll(makeSureAllCheckboxesAreProcessed, checkbox);\r\n      stylecustomized = stylecustomized || checkbox.checked;\r\n      if (vp.isApplied === checkbox.checked) { continue; }\r\n      if (vp.isApplied) { vp.detach(); } else { vp.apply(); }\r\n    }/*\r\n    for (i = 0; i < makeSureAllCheckboxesAreProcessed.length; i++) {\r\n      const cbox: HTMLInputElement = makeSureAllCheckboxesAreProcessed[i];\r\n      const vp = ViewPoint.getbyID(+cbox.dataset.vpid);\r\n      if (vp.isApplied === checkbox.checked) { continue; }\r\n      if (vp.isApplied) { vp.detach(); } else { vp.apply(); }\r\n    }*/\r\n    U.pe(!!makeSureAllCheckboxesAreProcessed.length, 'Error: some checkbox are not yet processed.', makeSureAllCheckboxesAreProcessed, this);\r\n    // U.pe(true, 'stopped here still works? 2');\r\n    const defaultradio: HTMLInputElement = this.$html.find('input[type=\"radio\"]')[0] as HTMLInputElement;\r\n    defaultradio.checked = !stylecustomized;\r\n    this.updatelastvp();\r\n    this.graph.model.refreshGUI_Alone();\r\n    this.graph.propertyBar.refreshGUI();\r\n  }\r\n  duplicateEvent(e: ClickEvent, oldvp: ViewPoint, oldvpCheckbox: HTMLInputElement, debug: boolean = false): void {\r\n    U.pif(debug, 'duplicate(' + (oldvp ? oldvp.name : null) + ') Start:', this.model.viewpoints);\r\n    // const vp: ViewPoint = ViewPoint.get($input[0].value);\r\n    let newvp: ViewPoint = new ViewPoint(this.model, oldvp ? oldvp.name : null);\r\n    if (oldvp) { newvp.clone(oldvp); newvp.updateTarget(this.model); }\r\n    this.ignoreEvents = true;\r\n    this.add(newvp, false);\r\n    if (oldvpCheckbox) { oldvpCheckbox.checked = false; }\r\n    this.ignoreEvents = false;\r\n    this.refreshApplied();\r\n    U.pif(debug, 'duplicate() End:', this.model.viewpoints);\r\n  }\r\n\r\n  add(v: ViewPoint, allowApply: boolean): void {\r\n    const $li: JQuery<HTMLLIElement> = this.$template.clone();\r\n    const li: HTMLLIElement = $li[0];\r\n    const $checkbox: JQuery<HTMLInputElement> = $li.find('input[type=\"checkbox\"]') as any;\r\n    const checkbox: HTMLInputElement = $checkbox[0];\r\n    this.checkboxes.push(checkbox);\r\n    this.getViewpointGUI[v.id] = li;\r\n    const $input: JQuery<HTMLInputElement> = $li.find('input.name') as any;\r\n    const input: HTMLInputElement = $input[0];\r\n    const $duplicate: JQuery<HTMLButtonElement> = $li.find('button.duplicate') as any;\r\n    const $delete: JQuery<HTMLButtonElement> = $li.find('button.remove') as any;\r\n    const $rename: JQuery<HTMLButtonElement> = $li.find('button.edit') as any;\r\n\r\n    $duplicate.on('click', (e: ClickEvent) => this.duplicateEvent(e, v, checkbox));\r\n    $delete.on('click', (e: ClickEvent) => {\r\n      this.html.removeChild(li);\r\n      U.arrayRemoveAll(this.checkboxes, checkbox);\r\n      delete this.getViewpointGUI[v.id];\r\n      v.delete(); });\r\n    $rename.on('click', (e: ClickEvent) => {\r\n      input.readOnly = false;\r\n      input.focus();\r\n      //\r\n      //\r\n      // $rename.hide(); $delete.hide(); $duplicate.hide();\r\n    });\r\n    const inputConfirm = (confirm: boolean = true) => {\r\n      if (confirm) { v.setname(input.name); }\r\n      input.value = v.name;\r\n      input.readOnly = true;\r\n      // $rename.show();\r\n      // $delete.show();\r\n      // $duplicate.show();\r\n    };\r\n    $input.on('keydown', (e: KeyDownEvent) => { if (e.key === 'return') { inputConfirm(true); } else if (e.key === 'escape') { inputConfirm(false); }});\r\n    $input.on('blur', (e: BlurEvent) => { inputConfirm(false); });\r\n    $input.on('click', (e: ClickEvent) => {\r\n      // todo: se non lo fa già di suo: (per triggerare default.click() = this.undoAll();\r\n      // if (input.readOnly) { this.undoAll(true); }\r\n    });\r\n    checkbox.dataset.vpid = '' + v.id;\r\n    input.value = v.name;\r\n    checkbox.checked = v.isApplied;\r\n    $checkbox.on('change', (e: ChangeEvent): boolean => {\r\n      if (this.ignoreEvents) { e.preventDefault(); return false; }\r\n      this.refreshApplied();\r\n      return true; });\r\n    if (allowApply && v.isApplied) {\r\n      $checkbox.trigger('change');\r\n    }\r\n    li.classList.remove('template');\r\n    this.html.appendChild(li);\r\n  }\r\n  updatelastvp(): void {\r\n    this.$html.find('li[islastvp]').removeAttr('islastvp');\r\n    const vp: ViewPoint = this.model.getLastView();\r\n    console.log('updatelastvp() ', this.model.viewpoints, this.getViewpointGUI, this);\r\n    if (!vp) return;\r\n    this.lastVP = vp;\r\n    const li: HTMLLIElement = this.getViewpointGUI[vp.id];\r\n    li.setAttribute('islastvp', 'true');\r\n  }\r\n\r\n  getCheckbox(vp: ViewPoint): HTMLInputElement {\r\n    let i: number;\r\n    for (i = 0; i < this.checkboxes.length; i++) {\r\n      const cbox: HTMLInputElement = this.checkboxes[i];\r\n      if (cbox.dataset.vpid === '' + vp.id) return cbox;\r\n    }\r\n    return null;\r\n  }\r\n}\r\nenum CursorAction { drag, select, multiselect }\r\nexport class IGraph {\r\n// todo: this.vertex non è mai aggiornato reealmente.\r\n  static all: Dictionary<number, IGraph> = {};\r\n  static ID = 0;\r\n  private static allMarkp: HTMLElement[] = []; // campo per robe di debug\r\n  static defaultGridDisplay: boolean = true;\r\n  static defaultGrid: GraphPoint = new GraphPoint(20, 20);\r\n  static defaultZoom: Point = new Point(1, 1);\r\n  id: number = null;\r\n  container: SVGElement = null;\r\n  model: IModel = null;\r\n  vertex: IVertex[] = null;\r\n  edges: IEdge[] = null;\r\n  scroll: GraphPoint = null;\r\n  propertyBar: PropertyBarr = null;\r\n  zoom: Point = null;\r\n  grid: GraphPoint = null;\r\n  gridDisplay: boolean = false && false;\r\n  edgeContainer: SVGGElement;\r\n  vertexContainer: SVGGElement;\r\n  gridColor1: string = '#808080';\r\n  gridColor2: string = '#808080';\r\n  public layouting: Layouting;\r\n\r\n  // campi per robe di debug\r\n  private allMarkgp: SVGCircleElement[] = [];\r\n  private markp: HTMLElement;\r\n  private markgp: SVGCircleElement;\r\n  // private svg: SVGElement;\r\n  public viewPointShell: ViewPointShell;\r\n  private size: Size;\r\n  private cursorAction: CursorAction;\r\n  private isMoving: GraphPoint;\r\n  private clickedScroll: GraphPoint;\r\n  private gridPos: Point;\r\n  private gridHtml: SVGRectElement;\r\n  private gridDefsHtml: SVGDefsElement;\r\n  useGrid: boolean = true;\r\n\r\n  static getByID(id: string): IGraph { return IGraph.all[id]; }\r\n  static getByHtml(html: Element): IGraph {\r\n    for (const id in IGraph.all) {\r\n      if (!IGraph.all.hasOwnProperty(id)) { continue; }\r\n      const graph = IGraph.all[id] as IGraph;\r\n      if (U.isParentOf(graph.container, html)) { return graph; }\r\n    }\r\n    U.pe(true, 'failed to find parent graph of:', html);\r\n    return null; }\r\n\r\n  constructor(model: IModel, container: SVGElement) {\r\n    U.pe(!container, 'graph container is null. model:', model);\r\n    this.id = IGraph.ID++;\r\n    IGraph.all[this.id + ''] = this;\r\n    this.model = model;\r\n    this.layouting = new Layouting(this);\r\n    this.model.graph = this;\r\n    this.container = container;\r\n    this.container.dataset.graphID = '' + this.id;\r\n    this.edgeContainer = U.newSvg('g');\r\n    this.edgeContainer.classList.add('allEdgeContainer');\r\n    this.vertexContainer = U.newSvg('g');\r\n    this.vertexContainer.classList.add('allVertexContainer');\r\n    this.container.appendChild(this.edgeContainer);\r\n    this.container.appendChild(this.vertexContainer);\r\n    this.gridDefsHtml = $(this.container).find('g.gridContainer>defs')[0] as any;\r\n    this.gridHtml = $(this.container).find('g.gridContainer>rect.grid')[0] as any;\r\n    this.gridHtml.setAttributeNS(null, 'fill', 'url(#grid_' + this.id + ')');\r\n    this.isMoving = null;\r\n    this.clickedScroll = null;\r\n    this.cursorAction = CursorAction.select;\r\n    // this.svg = $(this.container).find('svg.graph')[0] as unknown as SVGElement;\r\n    this.vertex = [];\r\n    this.edges = [];\r\n    this.zoom = new Point(1, 1);\r\n    this.scroll = new GraphPoint(0, 0);\r\n    this.grid = new GraphPoint(20, 20);\r\n    this.gridPos = new Point(0, 0);\r\n    this.gridDisplay = true;\r\n    let i: number;\r\n    let j: number;\r\n    const earr: EEnum[] = this.model.getAllEnums();\r\n    for (i = 0; i < earr.length; i++) { earr[i].generateVertex(); }\r\n    const classArr: IClass[] = this.model.getAllClasses();\r\n    const classEdges: IClass[] = [];\r\n    for (i = 0; i < classArr.length; i++) {\r\n      if (classArr[i].shouldBeDisplayedAsEdge()) { classEdges.push(classArr[i]); continue; }\r\n      classArr[i].generateVertex();\r\n    }\r\n    // vertex disegnati, ora disegno gli edges.\r\n    // Class-extends-edges\r\n    if (this.model.isM2()) {\r\n      for (i = 0; i < classArr.length; i++) {\r\n        const classe: M2Class = classArr[i] as M2Class;\r\n        for (j = 0; j < classe.extends.length; j++) { U.ArrayAdd(this.edges, classe.makeExtendEdge(classe.extends[j])); }\r\n      }\r\n    }\r\n    // Class-edges\r\n    for (i = 0; i < classEdges.length; i++) { U.ArrayMerge(this.edges, classEdges[i].generateEdge()); }\r\n    // Reference-edges\r\n    const arrReferences: IReference[] = this.model.getAllReferences();\r\n    for (i = 0; i < arrReferences.length; i++) { U.ArrayMerge(this.edges, arrReferences[i].generateEdges()); }\r\n    this.propertyBar = new PropertyBarr(this.model);\r\n    this.viewPointShell = new ViewPointShell(this);\r\n    this.addGraphEventListeners();\r\n    this.refreshGridGUI(); }\r\n\r\n  fitToGrid(pt0: GraphPoint, clone: boolean = true, debug: boolean = false, fitHorizontal = true, fitVertical = true): GraphPoint {\r\n    if (!this.useGrid) return pt0;\r\n    const pt: GraphPoint = clone ? pt0.duplicate() : pt0;\r\n    U.pe(!this.grid, 'grid not initialized.');\r\n    if (fitHorizontal && !isNaN(this.grid.x) && this.grid.x > 0) { pt.x = Math.round(pt.x / this.grid.x) * this.grid.x; }\r\n    if (fitVertical && !isNaN(this.grid.y) && this.grid.y > 0) { pt.y = Math.round(pt.y / this.grid.y) * this.grid.y; }\r\n    U.pif(debug, 'fitToGrid(', pt0, '); this.grid:', this.grid, ' = ', pt);\r\n    return pt; }\r\n\r\n  fitToGridS(pt0: GraphSize, clone: boolean = true, debug: boolean = false, fitHorizontal = true, fitVertical = true): GraphSize {\r\n    if (!this.useGrid) return pt0;\r\n    const pt: GraphSize = clone ? pt0.duplicate() : pt0;\r\n    U.pe(!this.grid, 'grid not initialized.');\r\n    if (fitHorizontal && !isNaN(this.grid.x) && this.grid.x > 0) { pt.x = Math.round(pt.x / this.grid.x) * this.grid.x; }\r\n    if (fitVertical && !isNaN(this.grid.y) && this.grid.y > 0) { pt.y = Math.round(pt.y / this.grid.y) * this.grid.y; }\r\n    U.pif(debug, 'fitToGrid(', pt0, '); this.grid:', this.grid, ' = ', pt);\r\n    return pt; }\r\n/*\r\n  graphContextMenu(e: ContextMenuEvent): boolean {\r\n    // console.log('passedThroughVertex', e, e['passedThroughVertex']);\r\n    // if (e['passedThroughVertex'] !== undefined) return e['passedThroughVertex'];\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    return false; }\r\n*/\r\n  addGraphEventListeners() {\r\n    const $graph = $(this.container);\r\n    const thiss: IGraph = this;\r\n    this.model.linkToLogic(this.container);\r\n    // $graph.off('mousedown.graph').on('mousedown.graph', (evt: MouseDownEvent) => { thiss.onMouseDown(evt); });\r\n    // $graph.off('mouseup.graph').on('mouseup.graph', (evt: MouseUpEvent) => { thiss.onMouseUp(evt); });\r\n    $graph.off('mousemove.graph').on('mousemove.graph', (evt: MouseMoveEvent) => { this.onMouseMove(evt); });\r\n    // $graph.off('keydown.graph').on('keydown.graph', (evt: KeyDownEvent) => { thiss.onKeyDown(evt); }); non triggerabile, non ha focus.\r\n    // $graph.off('click.mark').on('click.mark', (e: ClickEvent) => { thiss.markClick(e, true); } );\r\n    $graph.off('mousedown.move').on('mousedown.move', (e: MouseDownEvent) => this.onMouseDown(e, false));\r\n    $graph.off('mouseup.move').on('mouseup.move', (e: MouseUpEvent) => this.onMouseUp(e));\r\n    // $graph.off('contextmenu').on('contextmenu', (e: ContextMenuEvent): boolean => { return this.graphContextMenu(e); });\r\n    // @ts-ignore\r\n    if (!!ResizeObserver) { // not supported by edge, android firefox.\r\n      if (!window['' + 'resizeobservers']) window['' + 'resizeobservers'] = [];\r\n      // @ts-ignore\r\n      const tmp = new ResizeObserver( (entryes: ResizeObserverEntry[], observer: ResizeObserverr) => { this.onResize(); });\r\n      window['' + 'resizeobservers'] = tmp;\r\n      tmp.observe(this.container.parentElement);\r\n    }\r\n    // @ts-ignore\r\n    if (!ResizeObserver){\r\n      let oldSize: Size = null;\r\n      setInterval(() => {\r\n        U.pif(true, 'setinterval graphsize checker');\r\n        const size: Size = this.getSize();\r\n        if (!size.equals(oldSize)) this.onResize(size);\r\n      }, 100);\r\n    }\r\n    // altre opzioni:\r\n    // 1) MutationObserver (detect dom changes (attributes like \"style\" too)),\r\n    // 2) http://marcj.github.io/css-element-queries/ : sembra simile a mutationObserver, no timers, funziona su flexbox che non cambiano\r\n    // direttamente valori. non ho capito perchè parsa tutti i file css.\r\n    // 3) \"Use a combination of mousedown, mousemove and/or mouseup to tell whether the div is being / has been resized.\r\n    // If you want really fine-grained control you can check in every mousemove event how much / if the div has been resized. If you don't need that,\r\n    // you can simply not use mousemove at all and just measure the div in mousedown and mouseup and figure out if it was resized in the latter.\"\r\n    // PROBLEMA: potrebbe avvenire un resize dovuto a serverEvents, keyboardEvents, timers.\r\n  }\r\n\r\n  printClickedMP(e: Event | MouseDownEvent) {\r\n    let mp: ModelPiece = ModelPiece.get(e);\r\n    let name: string =  mp.printableName(20, true);\r\n    console.log('clicked mp:', mp.id, name, mp);\r\n    console.info('clicked mp:', mp.id, name, mp);\r\n  }\r\n  onMouseDown(evt: MouseDownEvent, isTrigger: boolean): void {\r\n    // console.log('graphONMouseDown', evt);\r\n    isTrigger = isTrigger || !evt || evt['' + 'isTrigger'] || !evt.originalEvent;\r\n    console.log('GraphMouseDown:', evt, evt.button, U.mouseWheelButton);\r\n    if (evt && evt.button === U.mouseWheelButton) { evt.preventDefault(); evt.target.blur(); }\r\n    switch (this.cursorAction) {\r\n      default: U.pe(true, 'unexpected cursorAction:', this.cursorAction); break;\r\n      case CursorAction.drag:\r\n      case CursorAction.select:\r\n        let e: IEdge = IEdge.get(evt);\r\n        if (e instanceof ExtEdge) e = null;\r\n        const mp: ModelPiece = isTrigger ? null : IVertex.ChangePropertyBarContentClick(evt, e);\r\n        // console.log('graphONMouseDown', isTrigger, mp instanceof IModel);\r\n        if (!(isTrigger || (mp instanceof IModel))) return;\r\n        this.isMoving = Point.fromEvent(evt);\r\n        this.clickedScroll = this.scroll.duplicate();\r\n        break;\r\n      case CursorAction.multiselect: break;\r\n    } }\r\n\r\n  onMouseUp(evt: MouseUpEvent): void {\r\n    if (this.isMoving) { this.isMoving = this.clickedScroll = null; }\r\n    const v: IVertex = IVertex.selected;\r\n    const vcontext: StartDragContext = IVertex.startDragContext;\r\n    if (!v) return;\r\n    const afterContextMenu = () => { IVertex.startDragContext = null; }\r\n    IVertex.selected = null;\r\n    v.owner.grid.x = IVertex.selectedGridWasOn.x;\r\n    v.owner.grid.y = IVertex.selectedGridWasOn.y;\r\n    IVertex.selectedGridWasOn.x = 'prevent_doublemousedowncheck' as any;\r\n    IVertex.selectedGridWasOn.y = 'prevent_doublemousedowncheck' as any;\r\n    const afterContextMenuTimeout = () => setTimeout(afterContextMenu, 0);\r\n    afterContextMenuTimeout(); // do it regardless of moved or not.\r\n    const gotMoved = !vcontext.size.tl().equals(v.size.tl(), 0);\r\n    if (!gotMoved) return;\r\n    v.owner.fitToGridS(v.size, false);\r\n    v.setSize(v.size, false, true, measurableRules.onDragEnd);\r\n    //NB: Ivertex.selected va cancellato per forza prima di gotMoved e setSize, perchè crea casini con dragEnd.\r\n    // Dopo il contextmenù deve tornare nonsettato. se potessi spotare il tempo di esecuzione di contextmenù risolverei tutto... ma è impossibile.\r\n  }\r\n\r\n  onMouseMoveSetReference(evt: MouseMoveEvent, edge: IEdge): void {\r\n    // console.log('graph.movereference()', edge, edge ? edge.tmpEndVertex : null);\r\n    if (!edge || edge.tmpEndVertex) { return; }\r\n    // const ref: IReference | IClass = edge.logic;\r\n    edge.tmpEnd = GraphPoint.fromEvent(evt);\r\n    U.pe(!edge.tmpEnd, 'failed to get coordinates from event:', evt);\r\n    // console.log('graph.movereference: success!', edge.tmpEnd);\r\n    edge.refreshGui(null, false); }\r\n\r\n  onMouseMoveVertexMove(evt: MouseMoveEvent, v: IVertex): void {\r\n    if (!v) { return; }\r\n    // if (U.vertexOldPos === 1) U.vertexOldPos = 2;\r\n//     console.log('onMouseMoveVertexMove:', v.logic().name, evt, v);\r\n    const currentMousePos: Point = new Point(evt.pageX, evt.pageY);\r\n    // console.log('evt:', evt);\r\n    let currentGraphCoord: GraphPoint = this.toGraphCoord(currentMousePos);\r\n    currentGraphCoord = currentGraphCoord.subtract(IVertex.selectedStartPt, false);\r\n    const axis: string = v.dragConfig && v.dragConfig.axis;\r\n    const isMeasurable = v.dragConfig;\r\n    //NB: axis null = both. axis undefined or empty string = no-one.\r\n    if (isMeasurable) {\r\n      if (axis === undefined || axis !== null && axis.indexOf('x') === -1) currentGraphCoord.x = null;\r\n      if (axis === undefined || axis !== null && axis.indexOf('y') === -1) currentGraphCoord.y = null; }\r\n    console.log('onMouseMoveVertexMove:', v.logic().name, 'vertex:', v, 'coord:', currentGraphCoord, 'ismeasurable:', isMeasurable);\r\n    v.moveTo(currentGraphCoord); }\r\n\r\n  onMouseMoveDrag(e: MouseMoveEvent): void {\r\n    if (!this.isMoving) return;\r\n    const offset: Point = Point.fromEvent(e);\r\n    offset.subtract(this.isMoving, false);\r\n    this.scroll.x = this.clickedScroll.x - offset.x;\r\n    this.scroll.y = this.clickedScroll.y - offset.y;\r\n    this.setGridPos();\r\n    // console.log('scroll:', this.scroll, 'offset:', offset, ' scroll0: ', this.clickedScroll, ' currentCursor:', this.isMoving);\r\n    this.updateViewbox(); }\r\n\r\n  onMouseMove(evt: MouseMoveEvent): void {\r\n    if (IEdge.edgeChanging) return this.onMouseMoveSetReference(evt, IEdge.edgeChanging);\r\n    if (IVertex.selected) return this.onMouseMoveVertexMove(evt, IVertex.selected);\r\n    if (this.isMoving) return this.onMouseMoveDrag(evt);\r\n  }\r\n  edgeChangingAbort(e: KeyDownEvent | MouseDownEvent | ClickEvent): void {\r\n    const edge: IEdge = IEdge.edgeChanging;\r\n    if (!edge) { return; }\r\n    IEdge.edgeChanging = null;\r\n    edge.shell.blur();\r\n    edge.isSelected = false;\r\n\r\n    // unmark hovering vertex\r\n    const hoveringVertex: IVertex[] = IVertex.GetMarkedWith('refhover');\r\n    let i: number;\r\n    U.pw(hoveringVertex.length > 1, 'hovering on more than one target at the same time should be impossible.', hoveringVertex);\r\n    for (i = 0; i < hoveringVertex.length; i++) { hoveringVertex[i].mark(false, 'refhover'); }\r\n\r\n    // restore previous endTarget or delete edge.\r\n    console.log('edgeChange abort', edge);\r\n    if (!edge.end) { edge.remove(); return; }\r\n    edge.useMidNodes = true;\r\n    edge.useRealEndVertex = true;\r\n    edge.tmpEnd = null;\r\n    edge.onBlur(); // will refreshgui too\r\n    edge.refreshGui();\r\n    // double refresh on purpose, to fix imprecision on huge sudden movement possibly caused by blur (startpoint must keep up)\r\n    // todo: aggiusta dentro refreshgui e reitera solo quella parte interna così posso chiamarlo 1 volta e stare safe e ottimizzato\r\n  }\r\n\r\n\r\n  toGraphCoordS(s: Size): GraphSize {\r\n    const tl = this.toGraphCoord(new Point(s.x, s.y));\r\n    const br = this.toGraphCoord(new Point(s.x + s.w, s.y + s.h));\r\n    const ret = new GraphSize(tl.x, tl.y, br.x - tl.x, br.y - tl.y);\r\n    return ret; }\r\n\r\n  private computeSize(): void { this.size =  U.sizeof(this.container); }\r\n  getSize(): Size {\r\n    if (!this.size ) this.computeSize();\r\n    return this.size; }\r\n\r\n  toGraphCoord(p: Point): GraphPoint {\r\n    const graphSize: Size = this.getSize();\r\n    const ret: GraphPoint = new GraphPoint(p.x, p.y);\r\n    const debug = true;\r\n    ret.x -= graphSize.x;\r\n    ret.y -= graphSize.y;\r\n    ret.x /= this.zoom.x;\r\n    ret.y /= this.zoom.y;\r\n    ret.x += this.scroll.x;\r\n    ret.y += this.scroll.y;\r\n    // console.log('toGraph()  - graphSize:', graphSize, ' + scroll: ', this.scroll, ' / zoom', this.zoom);\r\n    if (debug) {\r\n      const ver: Point = this.toHtmlCoord(ret);\r\n      let tolerance = 0.001;\r\n      U.pw( Math.abs(ver.x - p.x) > tolerance || Math.abs(ver.y - p.y) > tolerance, 'error in toGraphCoord or toHtmlCoord: inputPt:', p, ', result: ', ret, 'verify:', ver,\r\n        'point:', p, 'scroll:', this.scroll, 'zoom:', this.zoom, 'GraphHtmlSize:', graphSize); }\r\n    return ret; }\r\n  toHtmlCoordS(s: GraphSize): Size {\r\n    if (s === null) { return null; }\r\n    const tl = this.toHtmlCoord(new GraphPoint(s.x, s.y));\r\n    const br = this.toHtmlCoord(new GraphPoint(s.x + s.w, s.y + s.h));\r\n    return new Size(tl.x, tl.y, br.x - tl.x, br.y - tl.y); }\r\n  toHtmlCoord(p: GraphPoint): Point {\r\n    const graphSize: Size = this.getSize();\r\n    const ret: Point = new Point(p.x, p.y);\r\n    // console.log('toHtml()', ' * zoom', this.zoom, ' - scroll: ', this.scroll, ' + graphSize:', graphSize);\r\n    ret.x -= this.scroll.x;\r\n    ret.y -= this.scroll.y;\r\n    ret.x *= this.zoom.x;\r\n    ret.y *= this.zoom.y;\r\n    ret.x += graphSize.x;\r\n    ret.y += graphSize.y;\r\n    return ret; }\r\n\r\n  getAllVertex(): IVertex[] { return [...this.model.getAllClasses(), ...this.model.getAllEnums()].map((c: IClassifier) => c.getVertex(false)); }\r\n  getAllVertexIsBroke() { return this.vertex; }\r\n\r\n  markClick(e: JQuery.ClickEvent, clean: boolean = true) { return this.mark(new Point(e.pageX, e.pageY), clean); }\r\n  markg(gp: GraphPoint, clean: boolean = false, colorTop: string = 'red'): void {\r\n    return this.mark(this.toHtmlCoord(gp), clean, colorTop); }\r\n  markgS(gs: GraphSize, clean: boolean = false, colorTop: string = 'red', colorBot: string = null): void {\r\n    /*if (!colorBot) { colorBot = colorTop; }\r\n    this.markg(gs.tl(), clean, colorTop);\r\n    this.markg(gs.tr(), false, colorTop);\r\n    this.markg(gs.bl(), false, colorBot);\r\n    this.markg(gs.br(), false, colorBot);*/\r\n    // const htmls: Size = this.owner.toHtmlCoordS(size0);\r\n    return this.markS(this.toHtmlCoordS(gs), clean, colorTop, colorBot);\r\n  }\r\n  markS(s: Size, clean: boolean = false, colorTop: string = 'red', colorBot: string = null): void {\r\n    if (!colorBot) { colorBot = colorTop; }\r\n    U.pe(!s, 'size cannot be null.');\r\n    this.mark(s.tl(), clean, colorTop);\r\n    // color = 'white';\r\n    this.mark(s.tr(), false, colorTop);\r\n    // color = 'purple';\r\n    this.mark(s.bl(), false, colorBot);\r\n    // color = 'orange';\r\n    this.mark(s.br(), false, colorBot);\r\n  }\r\n  mark(p: Point, clean: boolean = false, color: string = 'red'): void {\r\n    const gp: GraphPoint = this.toGraphCoord(p);\r\n    if (clean) {\r\n      let i;\r\n      for (i = 0; i < this.allMarkgp.length; i++) {\r\n        const node: SVGCircleElement = this.allMarkgp[i];\r\n        if (this.container.contains(node)) { this.container.removeChild(node); }\r\n      }\r\n      for (i = 0; i < IGraph.allMarkp.length; i++) {\r\n        const node: HTMLElement = IGraph.allMarkp[i];\r\n        if (document.body.contains(node)) { document.body.removeChild(node); }\r\n      }\r\n    }\r\n    // console.log('mark:', p, gp);\r\n    this.markp = U.toHtml('<div style=\"width:10px; height:10px; top:' + (p.y - 5) + 'px; left:' + (p.x - 5) + 'px;' +\r\n      ' position: absolute; border: 1px solid ' + color + '; z-index:1;\">');\r\n    this.markgp = U.newSvg('circle');\r\n    this.markgp.setAttribute('cx', '' + gp.x);\r\n    this.markgp.setAttribute('cy', '' + gp.y);\r\n    this.markgp.setAttribute('r', '' + 1);\r\n    this.markgp.setAttribute('stroke', color);\r\n    this.allMarkgp.push(this.markgp);\r\n    IGraph.allMarkp.push(this.markp);\r\n    document.body.appendChild(this.markp);\r\n    this.container.appendChild(this.markgp); }\r\n\r\n  setGrid(x: number = null, y: number = null, checked: boolean = null): void {\r\n    if (x !== null) this.grid.x = x;\r\n    if (y !== null) this.grid.y = y;\r\n    if (checked !== null) this.gridDisplay = checked;\r\n    this.refreshGridGUI(); }\r\n\r\n  setUseGrid(b: boolean): void {\r\n    if (this.useGrid === b) return;\r\n    this.useGrid = b;\r\n    this.fitVertexToGrid(false);\r\n  }\r\n\r\n  setScroll(x: number, y: number): void {\r\n    const old = this.scroll.duplicate();\r\n    if (x !== null) this.scroll.x = x;\r\n    if (y !== null) this.scroll.y = y;\r\n    console.log('SetScroll(', x, y, '): ', old.x, old.y, ' -> ', this.scroll.x, this.scroll.y);\r\n    this.refreshGridGUI(); // error here\r\n    this.updateViewbox();\r\n  }\r\n\r\n  setZoom(x: number, y: number): void {\r\n    const oldZoom = this.zoom.duplicate();\r\n    y = x;\r\n    this.zoom.x = !U.isNumber(x) || x === 0 ? this.zoom.x : +x;\r\n    this.zoom.y = !U.isNumber(y) || y === 0 ? this.zoom.y : +y;\r\n    console.log('zoomOld:', oldZoom, 'x:', x, 'y:', y, ' zoom:', this.zoom);\r\n    this.updateViewbox(); }\r\n\r\n  onResize(currSize: Size = null): void {\r\n    if (currSize) this.size = currSize;\r\n    else this.computeSize();\r\n    this.updateViewbox(); }\r\n\r\n  updateViewbox(): void {\r\n    const vbox: Size = U.getViewBox(this.container);\r\n    vbox.w = this.size.w / this.zoom.x;\r\n    vbox.h = this.size.h / this.zoom.y;\r\n    vbox.x = this.scroll.x;\r\n    vbox.y = this.scroll.y;\r\n    U.setViewBox(this.container, vbox); }\r\n\r\n  setGridPos(): void {\r\n    const biggerSquareX = this.grid.x * 10;\r\n    const biggerSquareY = this.grid.y * 10;\r\n    const safetySquares = 1;\r\n    if (this.grid.x > 0 && !isNaN(this.scroll.x + this.grid.x))\r\n      this.gridHtml.setAttributeNS(null, 'x', '' + ((this.scroll.x - this.scroll.x % biggerSquareX) - biggerSquareX * safetySquares));\r\n    if (this.grid.y > 0 && !isNaN(this.scroll.y + this.grid.y))\r\n      this.gridHtml.setAttributeNS(null, 'y', '' + ((this.scroll.y - this.scroll.y % biggerSquareY) - biggerSquareY * safetySquares));\r\n    const size: Size = new Size(0, 0, window.screen.width, window.screen.height);\r\n    size.w = Math.max(size.w, window.outerWidth);\r\n    size.h = Math.max(size.h, window.outerHeight);\r\n    if (!isNaN(this.grid.x + this.zoom.x))\r\n      this.gridHtml.setAttributeNS(null, 'width', ((size.w + biggerSquareX * safetySquares * 2) / this.zoom.x) + '');\r\n    if (!isNaN(this.grid.y + this.zoom.y))\r\n      this.gridHtml.setAttributeNS(null, 'height', ((size.h + biggerSquareY * safetySquares * 2) / this.zoom.y) + ''); }\r\n\r\n  private oldGridX: number = null;\r\n  private oldGridY: number = null;\r\n  refreshGridGUI() {\r\n    // if (this.grid.x === null) this.grid.x = this.oldGridX; crea un bug che mette i vertici trascinati che triggerano una rule (anche senza effetto o event senza targets) in vertexPos.y = 0;\r\n    // if (this.grid.y === null) this.grid.y = this.oldGridY; forse perchè null è un valore valido che dice \"non usare la griglia\", almeno mentre trascini\r\n\r\n\r\n    if (this.grid.x !== null) this.oldGridX = this.grid.x;\r\n    if (this.grid.y !== null) this.oldGridY = this.grid.y;\r\n    const maxSquareSize = 1000; // Number.MAX_SAFE_INTEGER sarebbe meglio maxint, ma temo per il consumo di memoria.\r\n    const x = isNaN(this.grid.x) || this.grid.x === null ? this.oldGridX : this.grid.x <= 0 ? maxSquareSize : this.grid.x; // if the size of squares in grid is zero or negative, i just use a big number.\r\n    const y = isNaN(this.grid.y) || this.grid.y === null ? this.oldGridX : this.grid.y <= 0 ? maxSquareSize : this.grid.y;\r\n    // NB: x è \"displayed grid\", grid.x è actual grid. se grid.x = null lo snap è disattivato ma continuo a mostrare old grid.\r\n    console.log('oldGridX:' + this.oldGridX, this.grid.x, x, this.gridDisplay);\r\n    console.log('oldGridY:' + this.oldGridY, this.grid.y, y);\r\n    if (x === null || y === null) /*todo: x = getOldX;*/ return;\r\n\r\n    let drawx = this.grid.x === null || !(isNaN(this.grid.x) || this.grid.x <= 0 || this.grid.x >= maxSquareSize);\r\n    let drawy = this.grid.x === null || !(isNaN(this.grid.y) || this.grid.y <= 0 || this.grid.x >= maxSquareSize);\r\n\r\n\r\n    this.gridDefsHtml.innerHTML =\r\n      '<pattern id=\"smallGrid_' + this.id + '\" width=\"' + x + '\" height=\"' + y + '\" patternUnits=\"userSpaceOnUse\">\\n' +\r\n      (!drawx && !drawy ? '<!-- no grid -->' :\r\n      '  <path d=\"m 0 0' + (drawy ? ' l' : ' m' ) + (x) + ' 0' + (drawx ? ' l' : ' m') + ' 0 ' + (y) + '\" fill=\"none\" stroke=\"' + this.gridColor1 + '\" stroke-width=\"0.5\"/>\\n'\r\n      ) +\r\n      '</pattern>\\n' +\r\n      '<pattern id=\"grid_' + this.id + '\" width=\"' + (x * 10) + '\" height=\"' + (y * 10) + '\" patternUnits=\"userSpaceOnUse\">\\n' +\r\n      (!drawx && !drawy ? '<!-- no grid -->' :\r\n      '  <rect width=\"' + (x * 10) + '\" height=\"' + (y * 10) + '\" fill=\"url(#smallGrid_' + this.id + ')\"/>\\n' +\r\n      '  <path d=\"m 0 0' + (drawy ? ' l' : ' m' ) + (x * 10) + ' 0' + (drawx ? ' l' : ' m') + ' 0 ' + (y * 10) + '\" fill=\"none\" stroke=\"' + this.gridColor2 + '\" stroke-width=\"1\"/>\\n') +\r\n      '</pattern>';\r\n    this.setGridPos();\r\n    // $grid[0].setAttributeNS(null, 'justForRefreshingIt', 'true');\r\n    // $grid.x\r\n    if (this.gridDisplay) { $(this.gridHtml).show(); } else { $(this.gridHtml).hide(); }\r\n\r\n  }\r\n\r\n  addVertex(v: IVertex): void {\r\n    v.owner = this;\r\n    U.ArrayAdd(this.vertex, v);\r\n    // todo: aggiungi edges tra i vertici. in matrix edgeMatrix[vertex][vertex] = edge\r\n  }\r\n/*\r\n  setGrid(grid: GraphPoint): void {\r\n    this.grid = grid;\r\n    this.model.refreshGUI_Alone(); // reallinea tutti i vertici.\r\n  }*/\r\n  getVertexSelection(): IVertex[]{\r\n    return [];\r\n  }\r\n  getEdgeSelection(): IEdge[]{\r\n    return [];\r\n  }\r\n  getSelection(): (IVertex | IEdge)[] {\r\n    return [];\r\n  }\r\n\r\n  fitVertexToGrid(force: boolean = false): void{\r\n    const vertexes: IVertex[] = this.getAllVertex();\r\n    vertexes.forEach((v: IVertex, i:number) => {\r\n      v.setSize(this.fitToGridS(v.getSize()), false, true, measurableRules.onDragEnd);\r\n    });\r\n  }\r\n}\r\n","export default \"\\r\\n/*::ng-deep foreignObject.Class *{\\r\\n  cursor: default;\\r\\n}\\r\\n::ng-deep foreignObject.Class input, foreignObject.Class *[contenteditable=\\\"true\\\"], foreignObject.Class textarea{\\r\\n  cursor: text;\\r\\n} ::ng-deep foreignObject.Class select{ cursor: pointer; }*/\\r\\n\\r\\n/* viewpoint */\\r\\n\\r\\n::ng-deep .viewpointShell{\\r\\n  max-width: 107px;\\r\\n  overflow: visible;\\r\\n  position: absolute;\\r\\n  right: 10px;\\r\\n  top: 10px; }\\r\\n\\r\\n::ng-deep .viewpointrow.template { display: none; }\\r\\n\\r\\n::ng-deep .viewpointrow button {\\r\\n  display: none;\\r\\n  height: 21px;\\r\\n  width: 21px;\\r\\n  min-width: 21px;\\r\\n  float: right;\\r\\n  margin-left: 5px; }\\r\\n\\r\\n::ng-deep .viewpointrow:hover button { display: inline-block; }\\r\\n\\r\\n::ng-deep .viewpointrow{ background-color: transparent; display: -webkit-box; display: flex; position: relative; }\\r\\n\\r\\n/*::ng-deep .viewpointrow .buttons{ display: none }*/\\r\\n\\r\\n::ng-deep .viewpointrow:hover .buttons{\\r\\n  z-index: 1;\\r\\n  position: absolute;\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  top: 100%;\\r\\n  right: 0; }\\r\\n\\r\\n::ng-deep .viewpointrow > label{\\r\\n  display: -webkit-inline-box;\\r\\n  display: inline-flex;\\r\\n  margin: auto;\\r\\n  margin-left: 0; }\\r\\n\\r\\n::ng-deep .viewpointrow > label.checkbox{ }\\r\\n\\r\\n::ng-deep .viewpointrow > label.name{\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  flex-basis: 0;\\r\\n  min-width: 0;\\r\\n}\\r\\n\\r\\n::ng-deep .viewpointrow input[type=\\\"text\\\"]{ min-width: 0; height: 21px; background: transparent; border: none; }\\r\\n\\r\\n/* ::ng-deep .viewpointrow:hover input[type=\\\"text\\\"]{ box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); }*/\\r\\n\\r\\n::ng-deep .viewpointrow input[type='checkbox'], ::ng-deep .viewpointrow input[type='radio']{\\r\\n  width: 17px;\\r\\n  min-width: 17px;\\r\\n  height: 17px;\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\n::ng-deep .viewpointrow button{ margin: auto; background-color: transparent }\\r\\n\\r\\n::ng-deep .viewpointrow input[readonly]{ background-color: transparent; border: none; }\\r\\n\\r\\n::ng-deep .viewpointrow input.name{ opacity: 0.75; }\\r\\n\\r\\n::ng-deep .viewpointrow[islastvp='true'] input.name{ opacity: 1; }\\r\\n\\r\\n/************************************************** statici */\\r\\n\\r\\n.template, .MMDefaultStyles{\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.tabContent{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-flow: nowrap;/*?*/\\r\\n  /*margin-top: calc( var(--mainBorderWidth) * 2 );*/\\r\\n}\\r\\n\\r\\n/*olds*/\\r\\n\\r\\n.HiddenStructures > *{\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.property_sidebar, .editorShell, .propertyBarContainer{/*.sidebarShell,*/\\r\\n  flex-basis: 0;/* calc(var(--sidebarW));*/\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  /*border-right: var(--mainBorder);*/\\r\\n  width: calc(var(--sidebarW));\\r\\n  /*height: calc(100vh - (var(--topbarH) + var(--tabH)));*/\\r\\n  overflow: hidden;\\r\\n  /*flex-wrap: wrap;\\r\\n  margin-top: 5px;\\r\\n  border-top: var(--mainBorder);*/\\r\\n}\\r\\n\\r\\n.sidebarShell{ border-right: var(--mainBorder); }\\r\\n\\r\\n.propertyBarContainer{ border-left: var(--mainBorder); }\\r\\n\\r\\n.editorShell{\\r\\n  -webkit-box-flex: 3;\\r\\n          flex-grow: 3;\\r\\n}\\r\\n\\r\\n/*#sidebar, */\\r\\n\\r\\n#metamodel_sidebar, #model_sidebar, .property_sidebar{\\r\\n  -webkit-box-orient: horizontal;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-direction: row;\\r\\n  flex-wrap: wrap;\\r\\n  -webkit-box-pack: justify;\\r\\n          justify-content: space-between;/*si attiva solo se entra tutto in una riga e avanza pure spazio*/\\r\\n  -webkit-box-align: start;\\r\\n          align-items: flex-start;\\r\\n  align-content: flex-start;/*accatasta tutto verticalmente verso la cima invece di spaziarli.*/\\r\\n  padding-right:5px;\\r\\n}\\r\\n\\r\\n/*\\r\\n#sidebarResizer, .sidebarResizer{\\r\\n    margin: 0px;\\r\\n    padding: 0px;\\r\\n    width: var(--mainBorderWidth);\\r\\n    cursor: ew-resize;\\r\\n    background-color: var(--mainBorderColor);\\r\\n    user-drag: none;\\r\\n    user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -webkit-user-drag: none;\\r\\n    -webkit-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n}*/\\r\\n\\r\\n#sidebar>*:first-child, #metamodel_sidebar>*:first-child, #model_sidebar>*:first-child{\\r\\n  background-color: var(--mainBorderColor);\\r\\n  width: var(--mainBorderWidth);\\r\\n  right: 0px;\\r\\n}\\r\\n\\r\\n#sidebar>*:not(:first-child), #metamodel_sidebar>*:not(:first-child), #model_sidebar>*:not(:first-child){\\r\\n  padding: 2px;\\r\\n  max-width: 200px;\\r\\n  min-width: 75px;\\r\\n  flex-basis: 75px;/*should === min-width per mantenere l'effetto.*/\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  flex-shrink: 1;\\r\\n}\\r\\n\\r\\n.sidebarVertex:hover{\\r\\n  background-color: var(--mainBorderColor);\\r\\n  border: 2px solid var(--secondaryBorderColor);\\r\\n  padding: 0px;\\r\\n}\\r\\n\\r\\n.sidebarVertex{\\r\\n  min-width: 50px;\\r\\n  min-height: 50px;\\r\\n  flex-basis:50px;\\r\\n}\\r\\n\\r\\n@media all and (min-width: 200px) {\\r\\n  .sidebarVertex {\\r\\n    -webkit-box-flex: 0;\\r\\n            flex-grow: 0; }\\r\\n}\\r\\n\\r\\n#metamodel_editor, #model_editor{\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n/* property bar raws */\\r\\n\\r\\n::ng-deep .propertyBarContainer .mat-tab-label{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  height: 20px;\\r\\n  -webkit-box-flex: 1;\\r\\n          flex-grow: 1;\\r\\n  flex-basis: 0;\\r\\n  min-width: 0 !important;\\r\\n  /*width: auto !important;*/\\r\\n  max-width: 50% !important\\r\\n}\\r\\n\\r\\n::ng-deep .propertyBarContainer .mat-tab-header-pagination{\\r\\n  display: none !important;\\r\\n}\\r\\n\\r\\n.rawContainer{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\nh2.rawTitle{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n.rawecore{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-flex:1;\\r\\n          flex-grow:1;\\r\\n  flex-shrink:1;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9tbS1ncmFwaC1odG1sL21tLWdyYXBoLWh0bWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7Ozs7OzJEQUsyRDs7QUFFM0QsY0FBYzs7QUFDZDtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxTQUFTLEVBQUU7O0FBQ2IsbUNBQW1DLGFBQWEsRUFBRTs7QUFDbEQ7RUFDRSxhQUFhO0VBQ2IsWUFBWTtFQUNaLFdBQVc7RUFDWCxlQUFlO0VBQ2YsWUFBWTtFQUNaLGdCQUFnQixFQUFFOztBQUNwQix1Q0FBdUMscUJBQXFCLEVBQUU7O0FBQzlELHlCQUF5Qiw2QkFBNkIsRUFBRSxvQkFBYSxFQUFiLGFBQWEsRUFBRSxrQkFBa0IsRUFBRTs7QUFDM0Ysb0RBQW9EOztBQUNwRDtFQUNFLFVBQVU7RUFDVixrQkFBa0I7RUFDbEIsb0JBQWE7RUFBYixhQUFhO0VBQ2IsU0FBUztFQUNULFFBQVEsRUFBRTs7QUFFWjtFQUNFLDJCQUFvQjtFQUFwQixvQkFBb0I7RUFDcEIsWUFBWTtFQUNaLGNBQWMsRUFBRTs7QUFDbEIsMENBQTBDOztBQUMxQztFQUNFLG1CQUFZO1VBQVosWUFBWTtFQUNaLGFBQWE7RUFDYixZQUFZO0FBQ2Q7O0FBQ0EsNENBQTRDLFlBQVksRUFBRSxZQUFZLEVBQUUsdUJBQXVCLEVBQUUsWUFBWSxFQUFFOztBQUMvRyxxR0FBcUc7O0FBQ3JHO0VBQ0UsV0FBVztFQUNYLGVBQWU7RUFDZixZQUFZO0VBQ1osU0FBUztBQUNYOztBQUNBLGdDQUFnQyxZQUFZLEVBQUUsOEJBQThCOztBQUM1RSx5Q0FBeUMsNkJBQTZCLEVBQUUsWUFBWSxFQUFFOztBQUN0RixvQ0FBb0MsYUFBYSxFQUFFOztBQUNuRCxxREFBcUQsVUFBVSxFQUFFOztBQUVqRSw2REFBNkQ7O0FBQzdEO0VBQ0UsYUFBYTtBQUNmOztBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsaUJBQWlCLENBQUMsSUFBSTtFQUN0QixrREFBa0Q7QUFDcEQ7O0FBRUEsT0FBTzs7QUFJUDtFQUNFLGFBQWE7QUFDZjs7QUFFQSx1REFBdUQsaUJBQWlCO0VBQ3RFLGFBQWEsQ0FBQywwQkFBMEI7RUFDeEMsbUJBQVk7VUFBWixZQUFZO0VBQ1osNENBQTRDO0VBQzVDLG1DQUFtQztFQUNuQyw0QkFBNEI7RUFDNUIsd0RBQXdEO0VBQ3hELGdCQUFnQjtFQUNoQjs7aUNBRStCO0FBQ2pDOztBQUNBLGVBQWUsK0JBQStCLEVBQUU7O0FBQ2hELHVCQUF1Qiw4QkFBOEIsRUFBRTs7QUFDdkQ7RUFDRSxtQkFBWTtVQUFaLFlBQVk7QUFDZDs7QUFDQSxhQUFhOztBQUFDO0VBQ1osOEJBQW1CO0VBQW5CLDZCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLHlCQUE4QjtVQUE5Qiw4QkFBOEIsQ0FBQyxpRUFBaUU7RUFDaEcsd0JBQXVCO1VBQXZCLHVCQUF1QjtFQUN2Qix5QkFBeUIsQ0FBQyxtRUFBbUU7RUFDN0YsaUJBQWlCO0FBQ25COztBQUVBOzs7Ozs7Ozs7Ozs7O0VBYUU7O0FBRUY7RUFDRSx3Q0FBd0M7RUFDeEMsNkJBQTZCO0VBQzdCLFVBQVU7QUFDWjs7QUFDQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGdCQUFnQixDQUFDLGdEQUFnRDtFQUNqRSxtQkFBWTtVQUFaLFlBQVk7RUFDWixjQUFjO0FBQ2hCOztBQUNBO0VBQ0Usd0NBQXdDO0VBQ3hDLDZDQUE2QztFQUM3QyxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7O0FBRUE7RUFDRTtJQUNFLG1CQUFZO1lBQVosWUFBWSxFQUFFO0FBQ2xCOztBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFHQSxzQkFBc0I7O0FBQ3RCO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsWUFBWTtFQUNaLG1CQUFZO1VBQVosWUFBWTtFQUNaLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsMEJBQTBCO0VBQzFCO0FBQ0Y7O0FBQ0E7RUFDRSx3QkFBd0I7QUFDMUI7O0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYiw0QkFBaUI7RUFBakIsNkJBQWlCO1VBQWpCLGlCQUFpQjtFQUNqQixZQUFZO0FBQ2Q7O0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCOztBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2Isa0JBQVc7VUFBWCxXQUFXO0VBQ1gsYUFBYTtBQUNmIiwiZmlsZSI6InNyYy9ndWlFbGVtZW50cy9tbS1ncmFwaC1odG1sL21tLWdyYXBoLWh0bWwuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKjo6bmctZGVlcCBmb3JlaWduT2JqZWN0LkNsYXNzICp7XHJcbiAgY3Vyc29yOiBkZWZhdWx0O1xyXG59XHJcbjo6bmctZGVlcCBmb3JlaWduT2JqZWN0LkNsYXNzIGlucHV0LCBmb3JlaWduT2JqZWN0LkNsYXNzICpbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXSwgZm9yZWlnbk9iamVjdC5DbGFzcyB0ZXh0YXJlYXtcclxuICBjdXJzb3I6IHRleHQ7XHJcbn0gOjpuZy1kZWVwIGZvcmVpZ25PYmplY3QuQ2xhc3Mgc2VsZWN0eyBjdXJzb3I6IHBvaW50ZXI7IH0qL1xyXG5cclxuLyogdmlld3BvaW50ICovXHJcbjo6bmctZGVlcCAudmlld3BvaW50U2hlbGx7XHJcbiAgbWF4LXdpZHRoOiAxMDdweDtcclxuICBvdmVyZmxvdzogdmlzaWJsZTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgcmlnaHQ6IDEwcHg7XHJcbiAgdG9wOiAxMHB4OyB9XHJcbjo6bmctZGVlcCAudmlld3BvaW50cm93LnRlbXBsYXRlIHsgZGlzcGxheTogbm9uZTsgfVxyXG46Om5nLWRlZXAgLnZpZXdwb2ludHJvdyBidXR0b24ge1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgaGVpZ2h0OiAyMXB4O1xyXG4gIHdpZHRoOiAyMXB4O1xyXG4gIG1pbi13aWR0aDogMjFweDtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luLWxlZnQ6IDVweDsgfVxyXG46Om5nLWRlZXAgLnZpZXdwb2ludHJvdzpob3ZlciBidXR0b24geyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH1cclxuOjpuZy1kZWVwIC52aWV3cG9pbnRyb3d7IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyBkaXNwbGF5OiBmbGV4OyBwb3NpdGlvbjogcmVsYXRpdmU7IH1cclxuLyo6Om5nLWRlZXAgLnZpZXdwb2ludHJvdyAuYnV0dG9uc3sgZGlzcGxheTogbm9uZSB9Ki9cclxuOjpuZy1kZWVwIC52aWV3cG9pbnRyb3c6aG92ZXIgLmJ1dHRvbnN7XHJcbiAgei1pbmRleDogMTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB0b3A6IDEwMCU7XHJcbiAgcmlnaHQ6IDA7IH1cclxuXHJcbjo6bmctZGVlcCAudmlld3BvaW50cm93ID4gbGFiZWx7XHJcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIG1hcmdpbi1sZWZ0OiAwOyB9XHJcbjo6bmctZGVlcCAudmlld3BvaW50cm93ID4gbGFiZWwuY2hlY2tib3h7IH1cclxuOjpuZy1kZWVwIC52aWV3cG9pbnRyb3cgPiBsYWJlbC5uYW1le1xyXG4gIGZsZXgtZ3JvdzogMTtcclxuICBmbGV4LWJhc2lzOiAwO1xyXG4gIG1pbi13aWR0aDogMDtcclxufVxyXG46Om5nLWRlZXAgLnZpZXdwb2ludHJvdyBpbnB1dFt0eXBlPVwidGV4dFwiXXsgbWluLXdpZHRoOiAwOyBoZWlnaHQ6IDIxcHg7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBib3JkZXI6IG5vbmU7IH1cclxuLyogOjpuZy1kZWVwIC52aWV3cG9pbnRyb3c6aG92ZXIgaW5wdXRbdHlwZT1cInRleHRcIl17IGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDAsMTIzLDI1NSwuMjUpOyB9Ki9cclxuOjpuZy1kZWVwIC52aWV3cG9pbnRyb3cgaW5wdXRbdHlwZT0nY2hlY2tib3gnXSwgOjpuZy1kZWVwIC52aWV3cG9pbnRyb3cgaW5wdXRbdHlwZT0ncmFkaW8nXXtcclxuICB3aWR0aDogMTdweDtcclxuICBtaW4td2lkdGg6IDE3cHg7XHJcbiAgaGVpZ2h0OiAxN3B4O1xyXG4gIG1hcmdpbjogMDtcclxufVxyXG46Om5nLWRlZXAgLnZpZXdwb2ludHJvdyBidXR0b257IG1hcmdpbjogYXV0bzsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgfVxyXG46Om5nLWRlZXAgLnZpZXdwb2ludHJvdyBpbnB1dFtyZWFkb25seV17IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyBib3JkZXI6IG5vbmU7IH1cclxuOjpuZy1kZWVwIC52aWV3cG9pbnRyb3cgaW5wdXQubmFtZXsgb3BhY2l0eTogMC43NTsgfVxyXG46Om5nLWRlZXAgLnZpZXdwb2ludHJvd1tpc2xhc3R2cD0ndHJ1ZSddIGlucHV0Lm5hbWV7IG9wYWNpdHk6IDE7IH1cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBzdGF0aWNpICovXHJcbi50ZW1wbGF0ZSwgLk1NRGVmYXVsdFN0eWxlc3tcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi50YWJDb250ZW50e1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1mbG93OiBub3dyYXA7Lyo/Ki9cclxuICAvKm1hcmdpbi10b3A6IGNhbGMoIHZhcigtLW1haW5Cb3JkZXJXaWR0aCkgKiAyICk7Ki9cclxufVxyXG5cclxuLypvbGRzKi9cclxuXHJcblxyXG5cclxuLkhpZGRlblN0cnVjdHVyZXMgPiAqe1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi5wcm9wZXJ0eV9zaWRlYmFyLCAuZWRpdG9yU2hlbGwsIC5wcm9wZXJ0eUJhckNvbnRhaW5lcnsvKi5zaWRlYmFyU2hlbGwsKi9cclxuICBmbGV4LWJhc2lzOiAwOy8qIGNhbGModmFyKC0tc2lkZWJhclcpKTsqL1xyXG4gIGZsZXgtZ3JvdzogMTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQmFja2dyb3VuZENvbG9yKTtcclxuICAvKmJvcmRlci1yaWdodDogdmFyKC0tbWFpbkJvcmRlcik7Ki9cclxuICB3aWR0aDogY2FsYyh2YXIoLS1zaWRlYmFyVykpO1xyXG4gIC8qaGVpZ2h0OiBjYWxjKDEwMHZoIC0gKHZhcigtLXRvcGJhckgpICsgdmFyKC0tdGFiSCkpKTsqL1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgLypmbGV4LXdyYXA6IHdyYXA7XHJcbiAgbWFyZ2luLXRvcDogNXB4O1xyXG4gIGJvcmRlci10b3A6IHZhcigtLW1haW5Cb3JkZXIpOyovXHJcbn1cclxuLnNpZGViYXJTaGVsbHsgYm9yZGVyLXJpZ2h0OiB2YXIoLS1tYWluQm9yZGVyKTsgfVxyXG4ucHJvcGVydHlCYXJDb250YWluZXJ7IGJvcmRlci1sZWZ0OiB2YXIoLS1tYWluQm9yZGVyKTsgfVxyXG4uZWRpdG9yU2hlbGx7XHJcbiAgZmxleC1ncm93OiAzO1xyXG59XHJcbi8qI3NpZGViYXIsICovI21ldGFtb2RlbF9zaWRlYmFyLCAjbW9kZWxfc2lkZWJhciwgLnByb3BlcnR5X3NpZGViYXJ7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOy8qc2kgYXR0aXZhIHNvbG8gc2UgZW50cmEgdHV0dG8gaW4gdW5hIHJpZ2EgZSBhdmFuemEgcHVyZSBzcGF6aW8qL1xyXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gIGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7LyphY2NhdGFzdGEgdHV0dG8gdmVydGljYWxtZW50ZSB2ZXJzbyBsYSBjaW1hIGludmVjZSBkaSBzcGF6aWFybGkuKi9cclxuICBwYWRkaW5nLXJpZ2h0OjVweDtcclxufVxyXG5cclxuLypcclxuI3NpZGViYXJSZXNpemVyLCAuc2lkZWJhclJlc2l6ZXJ7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICAgIHdpZHRoOiB2YXIoLS1tYWluQm9yZGVyV2lkdGgpO1xyXG4gICAgY3Vyc29yOiBldy1yZXNpemU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQm9yZGVyQ29sb3IpO1xyXG4gICAgdXNlci1kcmFnOiBub25lO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLXdlYmtpdC11c2VyLWRyYWc6IG5vbmU7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xyXG59Ki9cclxuXHJcbiNzaWRlYmFyPio6Zmlyc3QtY2hpbGQsICNtZXRhbW9kZWxfc2lkZWJhcj4qOmZpcnN0LWNoaWxkLCAjbW9kZWxfc2lkZWJhcj4qOmZpcnN0LWNoaWxke1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5Cb3JkZXJDb2xvcik7XHJcbiAgd2lkdGg6IHZhcigtLW1haW5Cb3JkZXJXaWR0aCk7XHJcbiAgcmlnaHQ6IDBweDtcclxufVxyXG4jc2lkZWJhcj4qOm5vdCg6Zmlyc3QtY2hpbGQpLCAjbWV0YW1vZGVsX3NpZGViYXI+Kjpub3QoOmZpcnN0LWNoaWxkKSwgI21vZGVsX3NpZGViYXI+Kjpub3QoOmZpcnN0LWNoaWxkKXtcclxuICBwYWRkaW5nOiAycHg7XHJcbiAgbWF4LXdpZHRoOiAyMDBweDtcclxuICBtaW4td2lkdGg6IDc1cHg7XHJcbiAgZmxleC1iYXNpczogNzVweDsvKnNob3VsZCA9PT0gbWluLXdpZHRoIHBlciBtYW50ZW5lcmUgbCdlZmZldHRvLiovXHJcbiAgZmxleC1ncm93OiAxO1xyXG4gIGZsZXgtc2hyaW5rOiAxO1xyXG59XHJcbi5zaWRlYmFyVmVydGV4OmhvdmVye1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5Cb3JkZXJDb2xvcik7XHJcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tc2Vjb25kYXJ5Qm9yZGVyQ29sb3IpO1xyXG4gIHBhZGRpbmc6IDBweDtcclxufVxyXG5cclxuLnNpZGViYXJWZXJ0ZXh7XHJcbiAgbWluLXdpZHRoOiA1MHB4O1xyXG4gIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgZmxleC1iYXNpczo1MHB4O1xyXG59XHJcblxyXG5AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiAyMDBweCkge1xyXG4gIC5zaWRlYmFyVmVydGV4IHtcclxuICAgIGZsZXgtZ3JvdzogMDsgfVxyXG59XHJcbiNtZXRhbW9kZWxfZWRpdG9yLCAjbW9kZWxfZWRpdG9ye1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuXHJcbi8qIHByb3BlcnR5IGJhciByYXdzICovXHJcbjo6bmctZGVlcCAucHJvcGVydHlCYXJDb250YWluZXIgLm1hdC10YWItbGFiZWx7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbiAgZmxleC1ncm93OiAxO1xyXG4gIGZsZXgtYmFzaXM6IDA7XHJcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XHJcbiAgLyp3aWR0aDogYXV0byAhaW1wb3J0YW50OyovXHJcbiAgbWF4LXdpZHRoOiA1MCUgIWltcG9ydGFudFxyXG59XHJcbjo6bmctZGVlcCAucHJvcGVydHlCYXJDb250YWluZXIgLm1hdC10YWItaGVhZGVyLXBhZ2luYXRpb257XHJcbiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xyXG59XHJcbi5yYXdDb250YWluZXJ7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWZsb3c6IGNvbHVtbjtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuaDIucmF3VGl0bGV7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbn1cclxuLnJhd2Vjb3Jle1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1ncm93OjE7XHJcbiAgZmxleC1zaHJpbms6MTtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport {Status, U} from '../../common/Joiner';\r\n\r\n@Component({\r\n  selector: 'app-mm-graph-html',\r\n  templateUrl: './mm-graph-html.component.html',\r\n  styleUrls: ['./mm-graph-html.component.css']\r\n})\r\nexport class MmGraphHtmlComponent implements OnInit {\r\n  constructor() { }\r\n  static graphMain() {\r\n    if (Status.status === null) {\r\n      setTimeout(MmGraphHtmlComponent.graphMain, 1000);\r\n      return; }\r\n    // real main can start\r\n  }\r\n  ngOnInit() {\r\n    MmGraphHtmlComponent.graphMain();\r\n  }\r\n}\r\n","export default \"#MM_INPUT{\\r\\n  width: 100vw;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9tbWlucHV0L21taW5wdXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7QUFDZCIsImZpbGUiOiJzcmMvZ3VpRWxlbWVudHMvbW1pbnB1dC9tbWlucHV0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjTU1fSU5QVVR7XHJcbiAgd2lkdGg6IDEwMHZ3O1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-mminput',\r\n  templateUrl: './mminput.component.html',\r\n  styleUrls: ['./mminput.component.css']\r\n})\r\nexport class MminputComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvZ3VpRWxlbWVudHMvbW1zaWRlYmFyL21tc2lkZWJhci5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-mmsidebar',\r\n  templateUrl: './mmsidebar.component.html',\r\n  styleUrls: ['./mmsidebar.component.css']\r\n})\r\nexport class MmsidebarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvZ3VpRWxlbWVudHMvbXNpZGViYXIvbXNpZGViYXIuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-msidebar',\r\n  templateUrl: './msidebar.component.html',\r\n  styleUrls: ['./msidebar.component.css']\r\n})\r\nexport class MsidebarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export default \"\\r\\ninput, select {\\r\\n  height: 21px;\\r\\n  border-radius: 5px;\\r\\n  border-bottom-right-radius: 12px; }\\r\\ninput:hover, select:hover, input:focus, select:focus {\\r\\n  outline: none;\\r\\n  border: 2px solid dodgerblue;\\r\\n  height: 22px;\\r\\n}\\r\\n/* label > input[type='checkbox']{ height: 21px; } */\\r\\n/* input[type='checkbox']:hover, input[type='checkbox']:focus { height: 23px; }*/\\r\\ninput[disabled]:hover, select[disabled]:hover{\\r\\n  outline: none;\\r\\n  border: 2px solid gray;\\r\\n  /* height: auto; */\\r\\n}\\r\\n/*propertyBar*/\\r\\n#modelTemplate, #packageTemplate, #classTemplate, #attributeTemplate, #referenceTemplate{\\r\\n  width: 100%;\\r\\n}\\r\\n.propertySidebarTemplates{\\r\\n  display: none;\\r\\n}\\r\\n.wastemplate {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n.wastemplate > * {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin-bottom: 8px;\\r\\n}\\r\\n.wastemplate > *{\\r\\n  width: 100%;\\r\\n}\\r\\n.minimizer {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  border-left: 2px dashed dodgerblue;\\r\\n  border-bottom: 2px dashed dodgerblue;\\r\\n  min-width: 8px !important;\\r\\n  height: auto;\\r\\n  width: 8px !important;\\r\\n}\\r\\n.wastemplate.minimized > *{\\r\\n  display: none;\\r\\n}\\r\\n.wastemplate.minimized:hover {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  border-color: var(--secondary);\\r\\n}\\r\\n.wastemplate.minimized:before {\\r\\n  color: dodgerblue;\\r\\n  content: '+';\\r\\n  font-size: 20px;\\r\\n  margin: auto;\\r\\n  line-height: 0;\\r\\n}\\r\\n.wastemplate.minimized:hover:before {\\r\\n  color: var(--secondary);\\r\\n}\\r\\n.minimizer:hover, .attributeMinimizer:hover{\\r\\n  border-left: 2px dashed var(--secondary);\\r\\n  border-bottom: 2px dashed var(--secondary);\\r\\n}\\r\\n.wastemplate.minimized{\\r\\n  border: 2px solid dodgerblue;\\r\\n  height: 20px;\\r\\n  margin-bottom: 8px;\\r\\n}\\r\\n.wastemplate.minimized.list{\\r\\n  border-style: dashed;\\r\\n}\\r\\n.minimizer.single {\\r\\n  border-style: solid;\\r\\n  border-right: none;\\r\\n  border-top: none;\\r\\n}\\r\\n.content {\\r\\n  margin-left: 8px;\\r\\n  width: 100%;\\r\\n  height: -webkit-min-content;\\r\\n  height: -moz-min-content;\\r\\n  height: min-content;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-box-direction: normal;\\r\\n          flex-flow: column;\\r\\n  /*width: calc(100% - 16px);*/\\r\\n\\r\\n}\\r\\nlabel{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  width: 100%;\\r\\n  height: 24px;\\r\\n  line-height: 24px;\\r\\n  white-space: nowrap;\\r\\n}\\r\\nlabel > input:not([type]), label > input[type=\\\"\\\"], label > input[type=\\\"text\\\"], label > input[type=\\\"number\\\"],\\r\\nlabel > input[type=\\\"checkbox\\\"], label > select{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  margin: auto;\\r\\n  margin-right: 0;\\r\\n  margin-left: 20px;\\r\\n  width: inherit;\\r\\n  min-width: 60px;\\r\\n}\\r\\n/*\\r\\nlabel > input[type=\\\"checkbox\\\"]{\\r\\n   display: flex;\\r\\n   margin: auto;\\r\\n   margin-left: 0;\\r\\n   margin-right: 20px;\\r\\n   min-width: 20px;\\r\\n }*/\\r\\nlabel > input[type=\\\"number\\\"] {\\r\\n  min-width: 30px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9wcm9wZXJ0eS1iYXJyL3Byb3BlcnR5LWJhcnIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGdDQUFnQyxFQUFFO0FBQ3BDO0VBQ0UsYUFBYTtFQUNiLDRCQUE0QjtFQUM1QixZQUFZO0FBQ2Q7QUFFQSxvREFBb0Q7QUFFcEQsZ0ZBQWdGO0FBQ2hGO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7QUFDQSxjQUFjO0FBQ2Q7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2Isa0JBQWtCO0FBQ3BCO0FBRUE7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGtDQUFrQztFQUNsQyxvQ0FBb0M7RUFDcEMseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixxQkFBcUI7QUFDdkI7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IsOEJBQThCO0FBQ2hDO0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLGVBQWU7RUFDZixZQUFZO0VBQ1osY0FBYztBQUNoQjtBQUNBO0VBQ0UsdUJBQXVCO0FBQ3pCO0FBQ0E7RUFDRSx3Q0FBd0M7RUFDeEMsMENBQTBDO0FBQzVDO0FBQ0E7RUFDRSw0QkFBNEI7RUFDNUIsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usb0JBQW9CO0FBQ3RCO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCwyQkFBbUI7RUFBbkIsd0JBQW1CO0VBQW5CLG1CQUFtQjtFQUNuQiw0QkFBaUI7RUFBakIsNkJBQWlCO1VBQWpCLGlCQUFpQjtFQUNqQiw0QkFBNEI7O0FBRTlCO0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixXQUFXO0VBQ1gsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixtQkFBbUI7QUFDckI7QUFDQTs7RUFFRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixZQUFZO0VBQ1osZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsZUFBZTtBQUNqQjtBQUNBOzs7Ozs7O0dBT0c7QUFDSDtFQUNFLGVBQWU7QUFDakIiLCJmaWxlIjoic3JjL2d1aUVsZW1lbnRzL3Byb3BlcnR5LWJhcnIvcHJvcGVydHktYmFyci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmlucHV0LCBzZWxlY3Qge1xyXG4gIGhlaWdodDogMjFweDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDEycHg7IH1cclxuaW5wdXQ6aG92ZXIsIHNlbGVjdDpob3ZlciwgaW5wdXQ6Zm9jdXMsIHNlbGVjdDpmb2N1cyB7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBib3JkZXI6IDJweCBzb2xpZCBkb2RnZXJibHVlO1xyXG4gIGhlaWdodDogMjJweDtcclxufVxyXG5cclxuLyogbGFiZWwgPiBpbnB1dFt0eXBlPSdjaGVja2JveCddeyBoZWlnaHQ6IDIxcHg7IH0gKi9cclxuXHJcbi8qIGlucHV0W3R5cGU9J2NoZWNrYm94J106aG92ZXIsIGlucHV0W3R5cGU9J2NoZWNrYm94J106Zm9jdXMgeyBoZWlnaHQ6IDIzcHg7IH0qL1xyXG5pbnB1dFtkaXNhYmxlZF06aG92ZXIsIHNlbGVjdFtkaXNhYmxlZF06aG92ZXJ7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBib3JkZXI6IDJweCBzb2xpZCBncmF5O1xyXG4gIC8qIGhlaWdodDogYXV0bzsgKi9cclxufVxyXG4vKnByb3BlcnR5QmFyKi9cclxuI21vZGVsVGVtcGxhdGUsICNwYWNrYWdlVGVtcGxhdGUsICNjbGFzc1RlbXBsYXRlLCAjYXR0cmlidXRlVGVtcGxhdGUsICNyZWZlcmVuY2VUZW1wbGF0ZXtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4ucHJvcGVydHlTaWRlYmFyVGVtcGxhdGVze1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLndhc3RlbXBsYXRlIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG4ud2FzdGVtcGxhdGUgPiAqIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi1ib3R0b206IDhweDtcclxufVxyXG5cclxuLndhc3RlbXBsYXRlID4gKntcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4ubWluaW1pemVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGJvcmRlci1sZWZ0OiAycHggZGFzaGVkIGRvZGdlcmJsdWU7XHJcbiAgYm9yZGVyLWJvdHRvbTogMnB4IGRhc2hlZCBkb2RnZXJibHVlO1xyXG4gIG1pbi13aWR0aDogOHB4ICFpbXBvcnRhbnQ7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiA4cHggIWltcG9ydGFudDtcclxufVxyXG4ud2FzdGVtcGxhdGUubWluaW1pemVkID4gKntcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi53YXN0ZW1wbGF0ZS5taW5pbWl6ZWQ6aG92ZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1zZWNvbmRhcnkpO1xyXG59XHJcbi53YXN0ZW1wbGF0ZS5taW5pbWl6ZWQ6YmVmb3JlIHtcclxuICBjb2xvcjogZG9kZ2VyYmx1ZTtcclxuICBjb250ZW50OiAnKyc7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBsaW5lLWhlaWdodDogMDtcclxufVxyXG4ud2FzdGVtcGxhdGUubWluaW1pemVkOmhvdmVyOmJlZm9yZSB7XHJcbiAgY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XHJcbn1cclxuLm1pbmltaXplcjpob3ZlciwgLmF0dHJpYnV0ZU1pbmltaXplcjpob3ZlcntcclxuICBib3JkZXItbGVmdDogMnB4IGRhc2hlZCB2YXIoLS1zZWNvbmRhcnkpO1xyXG4gIGJvcmRlci1ib3R0b206IDJweCBkYXNoZWQgdmFyKC0tc2Vjb25kYXJ5KTtcclxufVxyXG4ud2FzdGVtcGxhdGUubWluaW1pemVke1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkIGRvZGdlcmJsdWU7XHJcbiAgaGVpZ2h0OiAyMHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDhweDtcclxufVxyXG4ud2FzdGVtcGxhdGUubWluaW1pemVkLmxpc3R7XHJcbiAgYm9yZGVyLXN0eWxlOiBkYXNoZWQ7XHJcbn1cclxuLm1pbmltaXplci5zaW5nbGUge1xyXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgYm9yZGVyLXJpZ2h0OiBub25lO1xyXG4gIGJvcmRlci10b3A6IG5vbmU7XHJcbn1cclxuLmNvbnRlbnQge1xyXG4gIG1hcmdpbi1sZWZ0OiA4cHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiBtaW4tY29udGVudDtcclxuICBmbGV4LWZsb3c6IGNvbHVtbjtcclxuICAvKndpZHRoOiBjYWxjKDEwMCUgLSAxNnB4KTsqL1xyXG5cclxufVxyXG5sYWJlbHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMjRweDtcclxuICBsaW5lLWhlaWdodDogMjRweDtcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG59XHJcbmxhYmVsID4gaW5wdXQ6bm90KFt0eXBlXSksIGxhYmVsID4gaW5wdXRbdHlwZT1cIlwiXSwgbGFiZWwgPiBpbnB1dFt0eXBlPVwidGV4dFwiXSwgbGFiZWwgPiBpbnB1dFt0eXBlPVwibnVtYmVyXCJdLFxyXG5sYWJlbCA+IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSwgbGFiZWwgPiBzZWxlY3R7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW46IGF1dG87XHJcbiAgbWFyZ2luLXJpZ2h0OiAwO1xyXG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gIHdpZHRoOiBpbmhlcml0O1xyXG4gIG1pbi13aWR0aDogNjBweDtcclxufVxyXG4vKlxyXG5sYWJlbCA+IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXXtcclxuICAgZGlzcGxheTogZmxleDtcclxuICAgbWFyZ2luOiBhdXRvO1xyXG4gICBtYXJnaW4tbGVmdDogMDtcclxuICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICBtaW4td2lkdGg6IDIwcHg7XHJcbiB9Ki9cclxubGFiZWwgPiBpbnB1dFt0eXBlPVwibnVtYmVyXCJdIHtcclxuICBtaW4td2lkdGg6IDMwcHg7XHJcbn1cclxuIl19 */\"","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-property-barr',\r\n  templateUrl: './property-barr.component.html',\r\n  styleUrls: ['./property-barr.component.css']\r\n})\r\nexport class PropertyBarrComponent implements OnInit {\r\n\r\n  @Input() isM2: boolean;\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import {\r\n  AttribETypes, EEnum, ELiteral,\r\n  EOperation,\r\n  EParameter,\r\n  IAttribute,\r\n  IClass, Typedd,\r\n  IModel,\r\n  IPackage,\r\n  IReference,\r\n  M2Attribute,\r\n  M2Class,\r\n  M2Package,\r\n  M2Reference,\r\n  MAttribute,\r\n  MClass,\r\n  MetaModel,\r\n  Model,\r\n  ModelPiece,\r\n  MPackage,\r\n  MReference,\r\n  AccessModifier,\r\n  ShortAttribETypes,\r\n  Status,\r\n  StyleEditor, Type,\r\n  U, IEdge\r\n} from '../../common/Joiner';\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nexport enum PropertyBarTabs {style = 'Style', structured = 'Structured', raw = 'Raw' }\r\nexport class PropertyBarr {\r\n  model: IModel = null;\r\n  container: HTMLElement;\r\n  rawTextArea: HTMLTextAreaElement;\r\n  templateContainer: HTMLElement;\r\n  selectedModelPiece: ModelPiece;\r\n  styleEditor: StyleEditor = null;\r\n  selectedModelPieceIsEdge: IEdge;\r\n  clickedLevel: Element;\r\n\r\n\r\n  static getActiveTab(): PropertyBarTabs {\r\n    return $('app-' + Status.status.getActiveModel().getPrefix() + '-graph-html .propertyBarContainer .UtabHeader[selected=\"true\"]')[0].innerText as PropertyBarTabs; }\r\n\r\n  static isTabVisible(model: IModel, tab: PropertyBarTabs) { return model === Status.status.getActiveModel() && PropertyBarr.getActiveTab() === tab; }\r\n\r\n  private templateMinimizerClick(e: ClickEvent): void {\r\n    const minimizer: HTMLElement = e.currentTarget;\r\n    let templatee: HTMLElement = minimizer;\r\n    while ( !templatee.classList.contains('wastemplate')) { templatee = templatee.parentNode as HTMLElement; }\r\n    templatee.classList.add('minimized');\r\n    $(templatee).off('click.maximizeTemplate').on('click.maximizeTemplate',\r\n      (ee: ClickEvent) => { PropertyBarr.templateMaximizerClick(ee); }).on('contextmenu', (e: ContextMenuEvent) => { this.subTemplateShow(e); });\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    e.preventDefault(); }\r\n\r\n  private static templateMaximizerClick(e: ClickEvent): void {\r\n    const template: HTMLElement = e.currentTarget;\r\n    template.classList.remove('minimized'); }\r\n\r\n  private static makeVisibilitySelector(selectHtml: HTMLSelectElement, visibility: AccessModifier): HTMLSelectElement {\r\n    if (selectHtml === null) { selectHtml = document.createElement('select'); }\r\n    U.clear(selectHtml);\r\n    const optgrp: HTMLOptGroupElement = document.createElement('optgroup');\r\n    optgrp.label = 'Access Modifier';\r\n    selectHtml.appendChild(optgrp);\r\n    let optionFound = false;\r\n    for (const key in AccessModifier) {\r\n      if (!AccessModifier[key]) { continue; }\r\n      const access: string = AccessModifier[key];\r\n      const opt: HTMLOptionElement = document.createElement('option');\r\n      opt.value = access;\r\n      opt.innerHTML = access;\r\n      if (visibility === access) { opt.selected = true; optionFound = true; }\r\n      optgrp.appendChild(opt); }\r\n    U.pe(visibility && !optionFound, 'OperationVisibility selected option not found; optgrp:', optgrp,\r\n      'OperationVisibility:', AccessModifier, ', searchedVal:', visibility);\r\n    return selectHtml; }\r\n\r\n  constructor(model: IModel) {\r\n    this.model = model;\r\n    this.selectedModelPiece = null;\r\n    const $root: JQuery<HTMLElement> = this.get$root();\r\n    this.container = $root.find('.propertySidebarCurrentContent')[0] as HTMLElement;\r\n    this.templateContainer = $root.find('.propertySidebarTemplates')[0] as HTMLElement;\r\n    U.pe( !this.container, 'property bar shell not found in: ', $root);\r\n    U.pe( !this.templateContainer, 'property bar template shell not found in: ', $root);\r\n    this.styleEditor = new StyleEditor(this, $root); }\r\n\r\n  private subTemplateShow(e: ContextMenuEvent): boolean {\r\n    const target: HTMLElement = e.currentTarget;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (target.classList.contains('list')) return false;\r\n    const mp = ModelPiece.getLogic(target);\r\n    this.show(mp, mp.getHtmlOnGraph(), null);\r\n    return false; }\r\n\r\n  private removeOthers($html: JQuery<HTMLElement>, keep: string): void {\r\n    const toremove: string = '.model, .package, .class, .enum, .attribute, .reference, .operation, .parameter, .literal';\r\n    // ['.model', '.package', '.class', '.enum', '.attribute', '.reference', '.operation', '.parameter', '.literal'];\r\n    const index = toremove.indexOf(keep);\r\n    U.pe(index === -1, 'invalid selector to keep:', keep, toremove);\r\n    // toremove = toremove.substr(0, index - 1) + toremove.substr(index + keep.length);\r\n    $html.find(toremove).not(keep).remove(); }\r\n  private getTemplate(o: ModelPiece, selector: string = 'propertySidebarTemplates', root: HTMLElement = null): JQuery<HTMLElement> {\r\n    // selector = '.propertySidebarTemplates';\r\n    // if (!root) { root = this.templateContainer; }\r\n    // const $html = $(U.cloneHtml<HTMLElement>($(root).find(selector)[0]));\r\n    const html = U.cloneHtml<HTMLElement>(this.templateContainer);\r\n    o.linkToLogic(html);\r\n    html.classList.add('linkedWith_' + U.getTSClassName(o));\r\n    html.classList.remove('propertySidebarTemplates');\r\n    html.classList.remove('template');\r\n    html.classList.add('wastemplate');\r\n    const $html = $(html);\r\n    $html.find('.replaceVarOn').each( (ii: number, elem: HTMLElement) => { U.replaceVars(o, elem, false); });\r\n    let namestr: string;\r\n    const model: IModel = o.getModelRoot();\r\n    if (! (o instanceof IModel || model.isMM()) ) { namestr = o.metaParent.name; } else { namestr = o.name; }\r\n    $html.find('input.name').val(namestr)\r\n      .off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const input: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        console.log('value:', input.value, 'inputHtml:', input, 'evt:', evt);\r\n        input.value = o.setName(input.value, true);\r\n      });\r\n    $html.find('.replaceVarOn').each( (i: number, elem: HTMLElement) => { U.replaceVars(o, elem, false); });\r\n    console.log('7x', $html, $html.find('.m1disable'), model.isM(), (model.isM() ? '.m1' : '.m2') + 'disable', $html.find((model.isM() ? '.m1' : '.m2') + 'disable'));\r\n    $html.find((model.isM() ? '.m1' : '.m2') + 'disable').attr('disabled', 'true');\r\n    $html.find((model.isM() ? '.m1' : '.m2') + 'hide').remove();\r\n    return $html; }\r\n\r\n  private get$root(): JQuery<HTMLElement> {\r\n    let TabRootHtml: Element = this.model.graph.container;\r\n    // console.log('TabRootHtml:', TabRootHtml);\r\n    while (!TabRootHtml.classList.contains('UtabContent')) { TabRootHtml = TabRootHtml.parentNode as Element; }\r\n    const $ret = $(TabRootHtml).find('.propertyBarContainer') as JQuery<HTMLElement>;\r\n    U.pe($ret.length !== 1, 'pbar container not found:', $ret);\r\n    return $ret; }\r\n\r\n  public updateRaw(o: ModelPiece = null): void {\r\n    // o = o || this.selectedModelPiece;\r\n    // if (!o) { return; }\r\n    const $root = this.get$root();\r\n    const textArea = this.rawTextArea = $root.find('.rawecore')[0] as HTMLTextAreaElement;\r\n    if (!textArea) { return; }\r\n    textArea.value = o.generateModelString(); }\r\n\r\n  public show(o: ModelPiece = null, clickedLevel: Element, isEdge: IEdge, forceRefresh: boolean = true): void {\r\n    const oldClickedLevel: Element = this.clickedLevel;\r\n    const oldMP: ModelPiece = this.selectedModelPiece;\r\n    const oldisEdge: IEdge = this.selectedModelPieceIsEdge;\r\n    this.selectedModelPiece = o = (o || this.selectedModelPiece);\r\n    this.clickedLevel = clickedLevel = (clickedLevel || this.clickedLevel);\r\n    this.selectedModelPieceIsEdge = isEdge; // = (isEdge || this.selectedModelPieceIsEdge);\r\n    if (!forceRefresh && oldMP === this.selectedModelPiece && oldisEdge === this.selectedModelPieceIsEdge) {\r\n      if (oldClickedLevel === this.clickedLevel) { return; }\r\n      if (isEdge) { this.styleEditor.showE(o as IClass | IReference, isEdge); } else { this.styleEditor.show(o, clickedLevel); }\r\n      return; }\r\n    if (isEdge) { this.styleEditor.showE(o as IClass | IReference, isEdge); } else { this.styleEditor.show(o, clickedLevel); }\r\n\r\n    U.pe(!(o instanceof ModelPiece), 'invalid parameter type:', U.getTSClassName(o), o);\r\n    if (!o) { return; }\r\n    // console.log('PropertyBar.show: ', o);\r\n    U.clear(this.container);\r\n    if (false && false) {\r\n    } else if (o instanceof IModel) { this.container.append(this.getM_I(o));\r\n    } else if (o instanceof IPackage) { this.container.append(this.getP_I(o));\r\n    } else if (o instanceof IClass) { this.container.append(this.getC_I(o));\r\n    } else if (o instanceof EEnum) { this.container.append(this.getE_I(o));\r\n    } else if (o instanceof IAttribute) { this.container.append(this.getA_I(o));\r\n    } else if (o instanceof IReference) { this.container.append(this.getR_I(o));\r\n    } else if (o instanceof EOperation) { this.container.append(this.getO(o));\r\n    } else if (o instanceof EParameter) { this.container.append(this.getParam(o));\r\n    } else if (o instanceof ELiteral) { this.container.append(this.getEL(o));\r\n    } else { U.pe(true, 'invalid ModelPiece type instance: ', o); }\r\n    this.updateRaw(o);\r\n    const $container = $(this.container);\r\n    // $container.find('.template').addClass('.wastemplate').removeClass('template');\r\n    Type.updateTypeSelectors($container);\r\n    $container.find('.minimizer').off('click.minimizeTemplate').on('click.minimizeTemplate',\r\n      (e: ClickEvent) => { this.templateMinimizerClick(e); });\r\n\r\n    /// ottimizzazioni di stile.\r\n    while ($container.find('.wastemplate:has(>.content:not(:has(*)))').remove().length) {} // remove empty minimizer-content.\r\n    // rimuove template.minimizer nested con un solo child che è un altro template+minimizer.\r\n    // tipo:  ((1, 2)) --> (1, 2); sopravvive invece: (1, (2)) -> (1, (2));\r\n    const monoChildReplacer = (i: number, h: HTMLElement) => {\r\n      /*\r\n        '<template_1>' +\r\n          '<content_1>' +\r\n            '<template_2>' +\r\n              '<content_2>' +\r\n              '</content_2>' +\r\n            '</template_2>' +\r\n          '</content_1>' +\r\n        '</template_1>';*/\r\n      const content1: HTMLElement = h;\r\n      const template1: HTMLElement = h.parentElement;\r\n      const template2: ChildNode = content1.firstChild;\r\n      const content2: ChildNode = $(template2).find('>.content')[0];\r\n      const parent = template1.parentElement;\r\n      parent.insertBefore(template2, template1);\r\n      parent.removeChild(template1);\r\n      // template1.insertBefore(content2, content1);\r\n      // template1.removeChild(content1);\r\n    };\r\n    // while ($container.find('.content:has(>.wastemplate:only-child)').each(monoChildReplacer).length) {}\r\n    while ($container.find('.content:has(>.wastemplate:only-child)').each(monoChildReplacer).length) {}\r\n    // rimuove il template.minimizer alla radice, non ha senso chiudere tutto e rimanere con la pbar vuota.\r\n    $container.find('.minimizer.single').on('contextmenu', (e: ContextMenuEvent) => { this.subTemplateShow(e); });\r\n    const contentRoot = $container.find('>.wastemplate>.content')[0];\r\n    U.clear(this.container);\r\n    while (contentRoot.firstChild) { this.container.append(contentRoot.firstChild); }\r\n  }\r\n\r\n  private getM_I(o: IModel): HTMLElement {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    this.removeOthers($html, '.model'); // $html.find('.model').show();\r\n    const nsHtml = $html.find('input.namespace')[0] as HTMLInputElement;\r\n    const uriHtml = $html.find('input.uri')[0] as HTMLInputElement;\r\n    nsHtml.value = o.namespace();\r\n    uriHtml.value = o.uri();\r\n    $(uriHtml).off('change.pbar').on('change.pbar', (e: Event) => { o.uri(uriHtml.value); });\r\n    $(nsHtml).off('change.pbar').on('change.pbar', (e: Event) => { o.namespace(nsHtml.value); });\r\n    const pkgListHtml = ($html.find('.packageList')[0]);\r\n    let i;\r\n    for (i = 0; i < o.childrens.length; i++) { pkgListHtml.appendChild(this.getP_I(o.childrens[i])); }\r\n    return $html[0]; }\r\n\r\n  private getP_I(o: IPackage): HTMLElement {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    this.removeOthers($html, '.package'); // $html.find('.package').show();\r\n    const classListHtml = $html.find('.classList')[0];\r\n    const enumListHtml = $html.find('.enumList')[0];\r\n    let i: number;\r\n    for (i = 0; i < o.classes.length; i++) { classListHtml.appendChild(this.getC_I(o.classes[i])); }\r\n    for (i = 0; i < o.enums.length; i++) { enumListHtml.appendChild(this.getE_I(o.enums[i])); }\r\n    // package own properties (sembra ci sia solo il name)\r\n    return $html[0]; }\r\n\r\n  private getC_I(o: IClass): HTMLElement {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    let model: IModel = o.getModelRoot();\r\n    this.removeOthers($html, '.class');\r\n    const m1class: MClass = model.isM1() ? o as MClass: null;\r\n    const m2class: M2Class = model.isM2() ? o as M2Class: null;\r\n\r\n\r\n    // $html.find('.class').show();\r\n    let i: number;\r\n    const attribListHtml: HTMLElement = ($html.find('.attributeList')[0]);\r\n    const refListHtml: HTMLElement = ($html.find('.referenceList')[0]);\r\n    const opListHtml: HTMLElement = ($html.find('.operationList')[0]);\r\n    const attributes: IAttribute[] = [...o.getAllChildrens(false, false, true, false, false)] as any;\r\n    for (i = 0; i < attributes.length; i++) { attribListHtml.appendChild(this.getA_I(attributes[i])); }\r\n    const references: IReference[] = [...o.getAllChildrens(false, false, false, true, false)] as any;\r\n    for (i = 0; i < references.length; i++) { refListHtml.appendChild(this.getR_I(references[i])); }\r\n    const operations: EOperation[] = [...o.getAllChildrens(true, false, false, false)] as any;\r\n    for (i = 0; i < operations.length; i++) { opListHtml.appendChild(this.getO(operations[i])); }\r\n    $html.find('.attributeCount')[0].innerHTML = '' + attributes.length;\r\n    $html.find('.referenceCount')[0].innerHTML = '' + references.length;\r\n    $html.find('.operationCount')[0].innerHTML = '' + operations.length;\r\n    let stopPropagation = (e: ClickEvent | MouseDownEvent | MouseUpEvent) => { e.stopPropagation(); };\r\n    if (m2class) {\r\n      const $interfaceCheckbox: JQuery<HTMLInputElement> = $html.find('input.isinterface') as JQuery<HTMLInputElement>;\r\n      const interfaceCheckbox = $interfaceCheckbox[0];\r\n      const $abstractCheckbox: JQuery<HTMLInputElement> = $html.find('input.isabstract') as JQuery<HTMLInputElement>;\r\n      const abstractCheckbox = $abstractCheckbox[0];\r\n      const $accessModifierHtml: JQuery<HTMLSelectElement> = $html.find('select.accessModifier') as JQuery<HTMLSelectElement>;\r\n      const accessModifierHtml = $accessModifierHtml[0];\r\n      abstractCheckbox.checked = m2class.getAbstract();\r\n      interfaceCheckbox.checked = m2class.getInterface();\r\n\r\n      U.$makeSelect($accessModifierHtml, AccessModifier, 'Access modifier', m2class.visibility.toString());\r\n      $accessModifierHtml.on('change', (e: ChangeEvent) => {\r\n        m2class.setAccessModifier(U.getEnumValByVal<AccessModifier>(accessModifierHtml.value, AccessModifier));\r\n      });\r\n\r\n      $abstractCheckbox.on('click', stopPropagation).on('mousedown', stopPropagation).on('mouseup', stopPropagation)\r\n      .on('change', (e: ChangeEvent) => {\r\n        m2class.setAbstract(abstractCheckbox.checked, true);\r\n        abstractCheckbox.checked = m2class.getAbstract(); // they are linked, editing abstract could unset interface\r\n        interfaceCheckbox.checked = m2class.getInterface();\r\n      });\r\n      $interfaceCheckbox.on('click', stopPropagation).on('mousedown', stopPropagation).on('mouseup', stopPropagation)\r\n      .on('change', (e: ChangeEvent) => {\r\n        m2class.setInterface(interfaceCheckbox.checked, true);\r\n        abstractCheckbox.checked = m2class.getAbstract(); // setting interface could remove abstract\r\n        interfaceCheckbox.checked = m2class.getInterface();\r\n      });\r\n    }\r\n\r\n    if (!m1class) { return $html[0]; }\r\n    /// Se MClass\r\n    const isRoot: HTMLInputElement = ($html.find('input.isRoot')[0]) as HTMLInputElement;\r\n    console.log('this:', m1class);\r\n    isRoot.disabled = isRoot.checked = m1class.isRoot();\r\n    $(isRoot).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const input: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        if (!input.checked) { input.checked = true; return $html[0]; }\r\n        m1class.setRoot(input.checked);\r\n        m1class.refreshGUI();\r\n        this.refreshGUI();\r\n      });\r\n    return $html[0]; }\r\n\r\n  private getE_I(o: EEnum): HTMLElement {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    this.removeOthers($html, '.enum');//$html.find('.enum').show();\r\n    let i: number;\r\n    const literalsHtml: HTMLElement = ($html.find('.literalList')[0]);\r\n    for (i = 0; i < o.childrens.length; i++) { literalsHtml.appendChild(this.getEL(o.childrens[i])); }\r\n    return $html[0]; }\r\n\r\n  private setClassChild(o: Typedd, $html: JQuery<HTMLElement>): void {\r\n    let upperbound: number = o.getUpperbound();\r\n    let lowerbound: number = o.getLowerbound();\r\n    const htmlUpperBound = ($html.find('input.upperbound')[0] as HTMLInputElement);\r\n    const htmlLowerBound = ($html.find('input.lowerbound')[0] as HTMLInputElement);\r\n    if (!htmlUpperBound || !htmlLowerBound) return;\r\n    if (upperbound === null) { htmlUpperBound.placeholder = '1'; } else { htmlUpperBound.value = '' + upperbound; }\r\n    if (lowerbound === null) { htmlLowerBound.placeholder = '1'; } else { htmlLowerBound.value = '' + lowerbound; }\r\n\r\n    $(htmlUpperBound).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const target: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        o.setUpperbound(+target.value);\r\n        o.refreshGUI();\r\n      });\r\n    $(htmlLowerBound).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const target: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        o.setLowerbound(+target.value);\r\n        o.refreshGUI();\r\n      });\r\n  }\r\n\r\n  private getR_I(o: IReference): HTMLElement {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    this.removeOthers($html, '.reference'); // $html.find('.reference').show();\r\n    this.setClassChild(o, $html);\r\n    const htmlContainment = ($html.find('input.referenceContainment')[0] as HTMLInputElement);\r\n    htmlContainment.checked = o.isContainment();\r\n    const selectType = $html.find('select')[0] as HTMLSelectElement;\r\n\r\n    if (o instanceof MReference) { return $html[0]; }\r\n    const ref: M2Reference = o as M2Reference;\r\n    $(selectType).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const target: HTMLSelectElement = (evt.currentTarget as HTMLSelectElement);\r\n        ref.type.changeType(target.value); } );\r\n    $(htmlContainment).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const target: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        ref.setContainment(target.checked);\r\n        ref.refreshGUI();\r\n      });\r\n    return $html[0]; }\r\n\r\n  private getA_I(o: IAttribute): HTMLElement {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    this.removeOthers($html, '.attribute');\r\n    // $html.find('.attribute').show();\r\n    this.setClassChild(o, $html);\r\n    // const typeHtml: HTMLSelectElement = ($html.find('select.attributeType')[0] as HTMLSelectElement);\r\n    // Type.makeTypeSelector(typeHtml, o.getType(), true, true, false, false);\r\n    /* $(typeHtml).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const target: HTMLSelectElement = (evt.currentTarget as HTMLSelectElement);\r\n        o.setType(target.value, null, true);} );*/\r\n\r\n    if (o instanceof M2Attribute) { return $html[0]; }\r\n    // Se MAttribute\r\n    const attr: MAttribute = o as MAttribute;\r\n    $html.find('.attributeValue').val(attr.getValueStr()).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const input: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        attr.setValueStr(input.value);\r\n        attr.refreshGUI();\r\n      });\r\n    return $html[0]; }\r\n\r\n  private getO(o: EOperation): HTMLElement {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    this.removeOthers($html, '.operation'); // $html.find('.operation').show();\r\n    this.setClassChild(o, $html);\r\n    let i: number;\r\n    const paramListHtml: HTMLElement = ($html.find('.parameterList')[0]);\r\n    const visibilityHtml: HTMLSelectElement = ($html.find('.visibilitySelector')[0]) as HTMLSelectElement;\r\n    PropertyBarr.makeVisibilitySelector(visibilityHtml, o.visibility);\r\n    let paramHtml: HTMLElement = this.getParam(o, true);\r\n    const returnName: HTMLInputElement = ($(paramHtml).find('input.name')[0] as HTMLInputElement);\r\n    returnName.placeholder = 'Return type.';\r\n    returnName.disabled = true;\r\n    returnName.value = '';\r\n    const templateContainingParamList = paramListHtml;\r\n    // while (!templateContainingParamList.classList.contains('replaceVarOn')) { templateContainingParamList = templateContainingParamList.parentElement; }\r\n    templateContainingParamList.prepend(paramHtml);\r\n\r\n    for (i = 0; i < o.childrens.length; i++) {\r\n      paramHtml = this.getParam(o.childrens[i], false);\r\n      paramListHtml.appendChild(paramHtml); }\r\n\r\n    $html.find('input.exceptions').val(o.exceptionsStr).off('change.pbar').on('change.pbar', (evt: Event) => {\r\n      const input: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n      input.value = o.exceptionsStr = input.value; });\r\n    return $html[0]; }\r\n\r\n  private getEL(eLiteral: ELiteral): HTMLElement{\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(eLiteral);\r\n    this.removeOthers($html, '.literal'); // $html.find('.literal').show();\r\n    this.setClassChild(eLiteral, $html);\r\n    $html.find('.value').val(eLiteral.ordinal).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const input: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        eLiteral.ordinal = +input.value;\r\n        eLiteral.refreshGUI();\r\n      });\r\n    $html.find('input.literal').val(eLiteral.literal).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const input: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        eLiteral.setLiteral(input.value);\r\n        eLiteral.refreshGUI();\r\n      });\r\n    $html.find('.name').val(eLiteral.name).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const input: HTMLInputElement = evt.currentTarget as HTMLInputElement;\r\n        eLiteral.setName(input.value);\r\n        eLiteral.refreshGUI();\r\n      });\r\n    return $html[0];\r\n  }\r\n\r\n  public refreshGUI() { this.show(this.selectedModelPiece, this.clickedLevel, this.selectedModelPieceIsEdge, true); }\r\n\r\n  private getParam(o: EParameter | EOperation, asReturnType: boolean = false) {\r\n    const $html: JQuery<HTMLElement> = this.getTemplate(o);\r\n    this.removeOthers($html, '.parameter'); // $html.find('.parameter').show();\r\n    this.setClassChild(o, $html);\r\n    const typeHtml: HTMLSelectElement = ($html.find('select')[0] as HTMLSelectElement);\r\n    typeHtml.dataset.void = asReturnType ? \"true\" : \"false\";\r\n    const ordered = ($html.find('input.ordered')[0] as HTMLInputElement);\r\n    const unique = ($html.find('input.unique')[0] as HTMLInputElement);\r\n    ordered.checked = o.ordered;\r\n    unique.checked = o.unique;\r\n    $(typeHtml).off('change.pbar').on('change.pbar',\r\n      (evt: Event) => {\r\n        const target: HTMLSelectElement = (evt.currentTarget as HTMLSelectElement);\r\n        o.setType(target.value, null, true); } ); // .trigger('change');\r\n    return $html[0]; }\r\n\r\n  public onShow(isRaw: boolean = false): void { this.styleEditor.onHide(); }\r\n\r\n  public onHide(): void {}\r\n\r\n  static staticinit(): void {\r\n    $('app-mm-graph-html .propertyBarContainer .UtabHeader').on('click', (e) =>  {\r\n      switch (e.currentTarget.innerText) {\r\n        default: U.pe(true, 'unrecognized right-side tab:', e.currentTarget); break;\r\n        case PropertyBarTabs.style: Status.status.mm.graph.propertyBar.styleEditor.onShow(); break;\r\n        case PropertyBarTabs.structured: Status.status.mm.graph.propertyBar.onShow(); break;\r\n        case PropertyBarTabs.raw: Status.status.mm.graph.propertyBar.onShow(true); break; }\r\n    });\r\n    $('app-m-graph-html .propertyBarContainer .UtabHeader').on('click', (e) =>  {\r\n      switch (e.currentTarget.innerText) {\r\n        default: U.pe(true, 'unrecognized right-side tab:', e.currentTarget); break;\r\n        case PropertyBarTabs.style: Status.status.m.graph.propertyBar.styleEditor.onShow(); break;\r\n        case PropertyBarTabs.structured: Status.status.m.graph.propertyBar.onShow(); break;\r\n        case PropertyBarTabs.raw: Status.status.m.graph.propertyBar.onShow(true); break; }\r\n    });\r\n  }\r\n}\r\n","export default \"\\n.styleContainer{\\n  /*position: relative;\\n  height: 100%;\\n  overflow-y: auto;\\n  overflow-x: auto;\\n  padding: 17px;\\n  padding-right: calc(17px - 10px);*/\\n}\\n.template{\\n  display: none;\\n}\\n.StyleEditorDisplay .template{\\n  display: unset;\\n}\\n.preview{\\n  position: relative;\\n  display: block;\\n  width: 100%;\\n  min-height: 10px;\\n  border: 1px solid red;\\n  background-color: transparent;\\n  margin-bottom: 10px;\\n  margin-top: 10px;\\n}\\n.preview:blank{\\n  background-color: gray;\\n  opacity: 0.4;\\n}\\n.separatorShell.top{\\n  margin-top: 30px;\\n}\\ndiv[contenteditable=\\\"true\\\"]:focus {\\n  max-height: unset;\\n}\\ndiv[contenteditable=\\\"true\\\"], div[contenteditable=\\\"false\\\"] {\\n  overflow: auto;\\n  display: -webkit-box;\\n  display: flex;\\n  color: black;\\n  border: 1px solid black;\\n  min-height: 100px;\\n  max-height: 200px;\\n  margin-top: 5px;\\n  margin-bottom: 5px;\\n}\\ndiv[contenteditable=\\\"true\\\"] {\\n  background-color: white;\\n  cursor: text;\\n}\\ndiv[contenteditable=\\\"false\\\"] {\\n  background-color: gray;\\n  cursor: no-drop;\\n  opacity: 0.4;\\n}\\nlabel.allowEdit {\\n  color: goldenrod;\\n}\\nbutton {\\n  margin: 5px;\\n}\\n.style.own, .style.instances{\\n  display: -webkit-box;\\n  display: flex;\\n  flex-flow: wrap;\\n}\\n.detail{\\n  border: 3px solid var(--bluebordercolor);\\n  background: var(--);\\n  color: var(--altFontColor);\\n}\\nbutton.detail {\\n  margin: auto;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  display: -webkit-box;\\n  display: flex;\\n  height: auto;\\n  border-top-left-radius: 17px;\\n  border-top-right-radius: 17px;\\n  z-index: 1;\\n }\\nbutton.detail:first-child:not(:only-child){ /* first visible child not possible ic pure css */\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-flow: column;\\n  margin-right: 0;\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n}\\nbutton.detail:last-child:not(:only-child){\\n  margin-left: -3px;\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\nbutton.detail:focus {\\n  box-shadow: none !important;\\n  outline: none !important;\\n}\\ndiv.detail{\\n  padding: 5px;\\n  margin-top: -3px;\\n  width: calc(100%);\\n}\\n.saveasrow{\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\nbutton.delete{\\n  margin: auto;\\n  margin-bottom: 5px;\\n}\\nbutton.saveas{\\n  margin: auto;\\n  margin-bottom: 5px;\\n}\\ninput.saveas {\\n  margin: auto;\\n  margin-bottom: 5px;\\n  flex-basis: 100px;\\n  -webkit-box-flex: 0.6;\\n          flex-grow: 0.6;\\n  width: 0;\\n}\\n.compatibleRow > label > span{\\n  height: -webkit-fit-content;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  margin: auto;\\n  -webkit-box-ordinal-group: 3;\\n          order: 2;\\n  margin-left: 0;\\n}\\n.saveasrow, .compatibleRow{\\n  width: 100%;\\n  display: -webkit-box;\\n  display: flex;\\n  flex-flow: wrap;\\n}\\n.compatibleRow > label > input {\\n  -webkit-box-ordinal-group: 2;\\n          order: 1;\\n  margin-left: 0;\\n  margin-right: 5px;\\n}\\n.detail > label {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  margin: auto;\\n  flex-wrap: nowrap;\\n}\\nbutton.detail > .opened, button.detail > .closed{\\n  margin: auto;\\n}\\ntable {\\n  width: 100%;\\n}\\ntd.title {\\n  font-weight: bold;\\n  padding-top: 10px;\\n  text-align: center;\\n}\\nh1 {\\n  text-align: center;\\n}\\nselect{\\n  /* background: inherit;\\n  border: none;\\n  color: inherit;\\n  font: inherit; */\\n  /*flex-basis: 0;*/\\n  flex-shrink: 1;\\n  -webkit-box-flex: 0.9;\\n          flex-grow: 0.9;\\n  max-width: -webkit-max-content;\\n  max-width: -moz-max-content;\\n  max-width: max-content;\\n  min-width: 0;\\n}\\nlabel {display: -webkit-box;display: flex; -webkit-box-flex:1; flex-grow:1;}\\nlabel > *:not(input), h6 > * {\\n  display: -webkit-box;\\n  display: flex;\\n  /* flex-grow: 1;*/\\n  margin: auto;\\n  flex-wrap: wrap;\\n}\\nh6{\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  margin: auto;\\n\\n}\\n.separator > * {\\n  text-align: center;\\n}\\n/*\\nbutton {\\n  background: #0084ff;\\n  border: none;\\n  border-radius: 5px;\\n  padding: 8px 14px;\\n  font-size: 15px;\\n  color: #fff;\\n}\\n\\nbutton:disabled{\\n  background: gray;\\n}*/\\ninput[type=\\\"number\\\"] {\\n  width: 40px;\\n  margin-right: 5px;\\n}\\n.zoomX, .zoomY, .gridX, .gridY {\\n  margin-left: 5px;\\n  margin-right: 15px;}\\nlabel>input[type=\\\"checkbox\\\"],\\nlabel>input[type=\\\"color\\\"] {\\n  margin-bottom: 3px;\\n}\\n#primary_color {\\n  border-radius: 100%;\\n  height: 60px;\\n  width: 60px;\\n  border: none;\\n  outline: none;\\n  -webkit-appearance: none;\\n}\\n[contenteditable=true]:empty:before {\\n  content: attr(placeholder);\\n  display: block;\\n  /* For Firefox */\\n  cursor: text;\\n  vertical-align: middle;\\n  color: darkgray;\\n  text-align: center;\\n  margin: auto;\\n}\\n.separatorShell {\\n  min-height: 33px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-flow: row;\\n  flex-wrap: nowrap;\\n  margin: auto;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  width: 100%;\\n}\\n.roww {\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 100%;\\n}\\n.separator {\\n  margin: auto;\\n  display: inline-block;\\n}\\n.stylelabel{\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  margin: auto;\\n  margin-right: 5px;\\n}\\nselect.stylename{\\n  display: -webkit-box;\\n  display: flex;\\n  margin: auto;\\n  margin-left: 0;\\n}\\n.HorizontalContainer{\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-flow: row;\\n  flex-wrap: wrap;\\n  width: 100%;\\n}\\n.onlyVerticalContainer{\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-flow: row;\\n  flex-wrap: wrap;\\n}\\n.onlyVerticalContainer > * {\\n  margin: auto 0;\\n}\\n.HorizontalChild{\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  margin: auto;\\n}\\n.opened{\\n  display: none;\\n}\\n.helpButton, .styledelete {\\n  display: -webkit-box;\\n  display: flex;\\n  width: 35px;\\n  height: 35px;\\n  margin: auto;\\n  margin-right: 0;\\n}\\n.styledelete {\\n  margin-right: 5px;\\n  margin-left: 5px;\\n}\\n.helpButton {\\n  background: rgb(0, 62, 127);\\n  border-color: rgb(0, 62, 127); }\\n.htmlstyle > .top {\\n  display: -webkit-box;\\n  display: flex;\\n}\\n.expressionRoot {\\n  flex-wrap: nowrap !important;\\n  max-width: 100%;\\n}\\ninput.fill{\\n  -webkit-box-flex: 1;\\n          flex-grow: 1;\\n  flex-basis: 0;\\n  margin-left: 7px;\\n}\\n.leftside{\\n  -webkit-box-flex: 3;\\n          flex-grow: 3;\\n  flex-basis: 0;\\n  min-width: 0;\\n  max-width: 150px;\\n}\\n.rightside{\\n  -webkit-box-flex: 7;\\n          flex-grow: 7;\\n  flex-basis: 0;\\n  min-width: 0;\\n}\\n.arrowContainer{\\n  display: -webkit-box;\\n  display: flex;\\n  margin-bottom: 10px;\\n}\\nbutton.arrow{\\n  display: -webkit-box;\\n  display: flex;\\n  line-height: unset;\\n  padding: 0 6px;\\n}\\n.tsclass{\\n  margin: auto;\\n  display: inline;\\n  text-align: center;\\n}\\n/* */\\n/*\\npre {\\n  background:#EEE;\\n  padding:5px;\\n  width: 290px;\\n}*/\\n.addHeader{\\n  display: -webkit-box;\\n  display: flex;\\n}\\n.addHeader > button {\\n  margin-left: 0;\\n  -webkit-box-ordinal-group: 3;\\n          order: 2;\\n}\\nselect.attributetypeadd{\\n  flex-basis: 0;\\n  -webkit-box-flex: 1;\\n          flex-grow: 1;\\n  min-width: 0;\\n  margin-right: 10px;\\n}\\n.previewselector{\\n  height: 23px;\\n  outline: none;\\n  border: 2px dashed #666666;\\n}\\n.showAsEdge{\\n  margin-right: 5px !important;\\n}\\nbutton.delete, button.saveas{\\n  font-size: 0.8rem;\\n}\\nbutton.deleteRule{\\n  -webkit-box-flex: 0;\\n          flex-grow: 0;\\n  flex-basis: auto;\\n  min-width: auto;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  padding: 5px;\\n}\\n.nowrap{\\n  flex-wrap: nowrap;\\n}\\n._root {\\n  margin-bottom: 5px;\\n}\\ndiv.detail.measurable > div.template {\\n  display: none;\\n}\\n.graphColor, .showGrid{\\n  margin-left: 0;\\n}\\nselect.operator{\\n  -moz-text-align-last: center;\\n       text-align-last: center;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n  width: 25px;\\n}\\nspan.operatortext{\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\nselect.operator:disabled{\\n  display: none;\\n  /*\\n  background: inherit;\\n  border: none;\\n  -moz-appearance: none;\\n  -webkit-appearance: none;\\n  margin: 0;*/\\n}\\nspan.nameprefix {\\n  margin-left: 7px;\\n  background: white;\\n  border: 2px inset rgb(238, 238, 238);\\n  height: 21px;\\n  border-right: none;\\n  color: black;\\n  line-height: 16px;\\n}\\ninput.name {\\n  margin-left: 0;\\n  border-left: none;\\n  padding-left: 0;\\n}\\nlabel:focus > input.name {\\n  outline: none;\\n  box-shadow: 0 2px 2px 2px rgb(77, 144, 254);\\n}\\ninput.name:focus {\\n  outline: none;\\n  box-shadow: 2px 2px 0px 0px rgb(77, 144, 254), 2px -2px 0px 0px rgb(77, 144, 254);\\n}\\n.htmlstyle {\\n  width: 100%;\\n}\\nlabel.allowEdit > span {\\n  margin-left:0;\\n}\\nlabel > * {\\n  margin-top: auto;\\n  margin-bottom: auto;\\n}\\nlabel > input[type=\\\"checkbox\\\"] ~ * {\\n  margin-left: 0;\\n}\\n.html[contenteditable] {\\n  /*IDE gives error but they all actually exist, at least on mozilla.*/\\n  overflow-wrap: anywhere;\\n  word-wrap: anywhere;\\n  white-space: break-spaces;\\n}\\n.autosizecontainer{\\n  display: inline-block;\\n}\\n.autosizecontainer > *{\\n  display: inline-block;\\n  margin-right: 5px;\\n}\\n.sizeContainer {\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: wrap; }\\n.sizeContainerHalf {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  flex-wrap: wrap;\\n  -webkit-box-flex: 1;\\n          flex-grow: 1;\\n}\\n.sizelabel {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: reverse;\\n          flex-flow: column-reverse;\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n}\\n@media screen and (max-width: 700px) {\\n  /* su viewport troppo piccoli cambio la visualizzazione da label sopra il testo (buono per fare mono-row) a label affiancata al testo (per fare 4 row e scorrere verticalmente)*/\\n  .sizelabel{\\n    display: inline-block;\\n  }\\n}\\n.sizelabel > *{\\n  display: inline;\\n  margin: auto; }\\n/* they fix outer css influence on measurable section. */\\ninput[type=\\\"checkbox\\\"].arrow {\\n  margin: 0; }\\n.meas_acc0 button { margin: 0; }\\n/***********              Measurable editor v2 start                 ********/\\n.meas_acc0 .measurableSettingRoot{\\n  width: 100%;\\n  display: block;\\n}\\n.meas_acc0 .boxesroot {\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: wrap;\\n  -webkit-box-flex: 1;\\n          flex-grow: 1;\\n  flex-basis: 0;\\n}\\n.meas_acc0 .movementboxroot, .meas_acc0 .resizeboxroot {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-flex: 1;\\n          flex-grow: 1;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-flow: column;\\n}\\n.meas_acc0 .column, .meas_acc0 .row{\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: nowrap;\\n}\\n.meas_acc0 .row {\\n  max-width: 100%;\\n  margin-right: unset;\\n  margin-left: unset; /* dumb _grid.scss fixer */\\n}\\n.meas_acc0 .break { flex-wrap: wrap; }\\n.meas_acc0 .autobreak { flex-wrap: initial; }\\n.meas_acc0 .fill { -webkit-box-flex: 1; flex-grow: 1; }\\n.meas_acc0 .boxtitle { display: block; text-align: center; margin-bottom: 12px; }\\n.meas_acc0 .side { display: -webkit-box; display: flex; }\\n.meas_acc0 .side.left, .meas_acc0 .side.right { width: 10px; }\\n.meas_acc0 .side.top, .meas_acc0 .side.bot { height: 10px; width: calc(100% - 20px); }\\n.meas_acc0 .corner { display: -webkit-box; display: flex; width: 10px; height: 10px; }\\n.meas_acc0 .middle { background-color: goldenrod; display: -webkit-box; display: flex; }\\n.meas_acc0 .middle .middle { width: 120px; height: 90px; }\\n.meas_acc0 .rectangledrawing.inner > .row > .side, .meas_acc0 .rectangledrawing.inner > .row > .corner {\\n  background-color: dimgray;\\n}\\n.meas_acc0 .boxroot {\\n  display: block;\\n  margin: auto;\\n  flex-wrap: wrap;\\n}\\n.meas_acc0 .ruletitle{\\n  display: block;\\n  text-align: center;\\n}\\n.meas_acc0 button.ruledelete {\\n  height: 100%;\\n  width: 30px;\\n  padding: 0;\\n  margin-right: 5px;\\n  border-radius: 25px 0 0 25px;\\n}\\n.meas_acc0 .compoundInputprefix {\\n  max-width: 100%;\\n  height: -webkit-fit-content;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  margin-bottom: 0;\\n  padding: 0;\\n  -webkit-box-flex: 0 !important;\\n          flex-grow: 0 !important;\\n  width: auto;\\n  flex-basis: auto !important;\\n  flex-shrink: 0 !important;\\n}\\n.meas_acc0 .compoundInputprefix > input.attrname {\\n  border-left: none;\\n  padding-left: 0;\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n.meas_acc0 .compoundInputprefix > * { border: none; }\\n.meas_acc0 .compoundInputprefix > *:first-child {\\n  margin-top: 1px;\\n  padding-right: 0;\\n  background-color: transparent;\\n}\\n.meas_acc0 .compoundInputprefix > input:focus { box-shadow: none; }\\n.meas_acc0 .compoundInputprefix:focus-within {\\n  border-color: #80bdff;\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\n}\\n.meas_acc0 .rulecontainer > .rightx, .meas_acc0 .rulecontainer > .leftx { margin-bottom: 0 !important; }\\n/* .meas_acc0 .rightx { min-width: 0; } */\\n.meas_acc0 .rightx span.operator {\\n  margin: auto;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n  margin-top: 8px;\\n}\\n.meas_acc0 .operatorcontainer {\\n  display: -webkit-box;\\n  display: flex;\\n  margin-bottom: 5px;\\n}\\n.meas_acc0 select.operator {\\n  width: 45px;\\n  margin: auto 5px;\\n  text-align: center;\\n  -moz-text-align-last: center;\\n       text-align-last: center;\\n}\\n.meas_acc0 .rightx .compoundInputprefix, .meas_acc0 .rightx input.rightside, .meas_acc0 input.leftside, .meas_acc0 .rightx > .target {\\n  margin-bottom: 5px;\\n  min-width: 120px;\\n  flex-basis: 0;\\n  -webkit-box-flex: 1;\\n          flex-grow: 1;\\n}\\n.meas_acc0 .rulecontainer { margin-bottom: 1rem; }\\n.meas_acc0 .rightx > .target { margin-bottom: 0; }\\n.meas_acc0 .rightx > .measurabledebug { margin-top: 5px; }\\n.meas_acc0 .attrname {\\n  max-width: 200px !important; /* todo: remove when is autosizing */\\n  min-width: 0;\\n}\\n.meas_acc0 .addrule {\\n  float: right;\\n  margin-top: -4px;\\n  padding: 4px 10px;\\n}\\n.meas_acc0 .ruletitle {\\n  padding-right: 4px;\\n  margin-bottom: 5px;\\n}\\n.meas_acc0 .ruletitle.collapsed { -webkit-appearance: initial; }\\n.meas_acc0 .ruletitle:hover { -webkit-appearance: button; }\\n.meas_acc0 .form-control > .form-control:not(:first-child){\\n  border-top-left-radius: unset;\\n  /* disable bootstrap rule*/\\n}\\n.meas_acc0 .measurableerrortext{\\n  margin-left: 5px;\\n  color: var(--danger);\\n}\\n.meas_acc0 .measurablewarningtext{\\n  margin-left: 5px;\\n  color: var(--warning);\\n}\\n.meas_acc0 .measurableoutputtext{\\n  margin-left: 5px;\\n  color: var(--secondary);\\n}\\n.meas_acc0 .rulecontainer{ margin-bottom: 5px; }\\n.meas_acc0 .measurabledebug { display: none; }\\n.meas_acc0 .rightx:focus-within .measurabledebug{ display: -webkit-box; display: flex; }\\n.meas_acc0 .countershell { float: right; }\\n.meas_acc0 .rectangledrawing.outer > * {\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n}\\n.meas_acc0 .rectangledrawing.outer > .row > *, .meas_acc0 .arrowh, .meas_acc0 .arrowv {\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n}\\n.meas_acc0 .rectangledrawing.outer > .top > .left {\\n  /*background-image: url(https://i.ibb.co/tqxXhk4/tl.png);*/\\n  background-image: url(https://i.ibb.co/Zgvpywz/tll.png);\\n}\\n.meas_acc0 .rectangledrawing.outer > .top > .side.top {\\n  background-image: url(https://i.ibb.co/M9fC7DP/t.png); }\\n.meas_acc0 .rectangledrawing.outer > .top > .right {\\n  /*background-image: url(https://i.ibb.co/Pzsmjxf/tr.png);*/\\n  background-image: url(https://i.ibb.co/SN2THLt/trl.png); }\\n.meas_acc0 .rectangledrawing.outer > .mid > .left {\\n  background-image: url(https://i.ibb.co/7jm9BBQ/l.png); }\\n.meas_acc0 .rectangledrawing.outer > .mid > .right {\\n  background-image: url(https://i.ibb.co/RYZnVN5/r.png); }\\n.meas_acc0 .rectangledrawing.outer > .bot > .left {\\n  /*background-image: url(https://i.ibb.co/qrYWdpH/bl.png);*/\\n  background-image: url(https://i.ibb.co/gDKFry5/bll.png); }\\n.meas_acc0 .rectangledrawing.outer > .bot > .side.bot {\\n  background-image: url(https://i.ibb.co/cXc0nmS/b.png); }\\n.meas_acc0 .rectangledrawing.outer > .bot > .right {\\n  /*background-image: url(https://i.ibb.co/K0pVVT7/br.png);*/\\n  background-image: url(https://i.ibb.co/QpwRSsT/brl.png); }\\n.meas_acc0 input.side.top {\\n  margin-bottom: 3px;\\n  margin-top: -3px; }\\n.meas_acc0 input.side.bot {\\n  margin-bottom: -3px;\\n  margin-top: 3px; }\\n.meas_acc0 input.side.left {\\n  margin-right: 3px;\\n  margin-left: -3px; }\\n.meas_acc0 input.side.right {\\n  margin-right: -3px;\\n  margin-left: 3px; }\\n.meas_acc0 .arrowh {\\n  background-image: url(https://i.ibb.co/Zd3jtbc/lr.png); }\\n.meas_acc0 .arrowv {\\n  background-image: url(https://i.ibb.co/jHTtPDx/tb.png); }\\n.meas_acc0 .rectangledrawing.outer > .row > .corner {\\n  height: 50px;\\n  min-width: 50px;\\n}\\n.meas_acc0 .rectangledrawing.outer > .top > * {\\n  height: 50px; }\\n.meas_acc0 .rectangledrawing.outer > .bot > * {\\n  height: 50px; }\\n.meas_acc0 .rectangledrawing.outer > .mid > .left {\\n  height: auto;\\n  width: 50px; }\\n.meas_acc0 .rectangledrawing.outer > .mid > .right {\\n  height: auto;\\n  width: 50px; }\\n.meas_acc0 .arrow { -webkit-appearance: initial; }\\n.meas_acc0 .arrowh, .meas_acc0 .arrowv{\\n  width: 75px;\\n  height: 75px; }\\n.meas_acc0 .arrow:focus{ outline: none; }\\n.meas_acc0 .arrow:checked{\\n  -webkit-filter: sepia(82%) saturate(3925%) hue-rotate(55deg) brightness(125%) contrast(120%);\\n          filter: sepia(82%) saturate(3925%) hue-rotate(55deg) brightness(125%) contrast(120%); }\\n.meas_acc0 .directions {\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin: auto; }\\n.meas_acc0 .directions > * { margin: auto; }\\n.meas_acc0 .draggable.boxroot{\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-flow: column;\\n  /*height: 237px;*/\\n}\\n.meas_acc0 .collapse:not(.show) { display: none; }\\n.meas_acc0 .selected { background-color: #37ff66 !important; }\\n/***********              Measurable editor v2 end                   ********/\\n.isinterface, .isabstract{\\n  margin-right: 5px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy9zdHlsZS1lZGl0b3Ivc3R5bGUtZWRpdG9yLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0VBQ0U7Ozs7O29DQUtrQztBQUNwQztBQUNBO0VBQ0UsYUFBYTtBQUNmO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLDZCQUE2QjtFQUM3QixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxzQkFBc0I7RUFDdEIsWUFBWTtBQUNkO0FBQ0E7RUFDRSxnQkFBZ0I7QUFDbEI7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsY0FBYztFQUNkLG9CQUFhO0VBQWIsYUFBYTtFQUNiLFlBQVk7RUFDWix1QkFBdUI7RUFDdkIsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSx1QkFBdUI7RUFDdkIsWUFBWTtBQUNkO0FBQ0E7RUFDRSxzQkFBc0I7RUFDdEIsZUFBZTtFQUNmLFlBQVk7QUFDZDtBQUNBO0VBQ0UsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGVBQWU7QUFDakI7QUFDQTtFQUNFLHdDQUF3QztFQUN4QyxtQkFBbUI7RUFDbkIsMEJBQTBCO0FBQzVCO0FBQ0E7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixvQkFBYTtFQUFiLGFBQWE7RUFDYixZQUFZO0VBQ1osNEJBQTRCO0VBQzVCLDZCQUE2QjtFQUM3QixVQUFVO0NBQ1g7QUFDRCw0Q0FBNEMsaURBQWlEO0VBQzNGLDRCQUFpQjtFQUFqQiw2QkFBaUI7VUFBakIsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZiwwQkFBMEI7RUFDMUIsNkJBQTZCO0FBQy9CO0FBQ0E7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QVk7RUFDWixXQUFXLEVBQUU7QUFFZixvQkFBb0IsMkJBQTJCLEVBQUU7QUFFakQ7RUFDRSxXQUFXO0VBQ1gsWUFBWSxFQUFFO0FBRWhCLHlCQUF5QixhQUFhLEVBQUU7QUFDeEM7RUFDRSw0RkFBb0Y7VUFBcEYsb0ZBQW9GLEVBQUU7QUFFeEY7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixlQUFlO0VBQ2YsWUFBWSxFQUFFO0FBRWhCLDZCQUE2QixZQUFZLEVBQUU7QUFDM0M7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYiw0QkFBaUI7RUFBakIsNkJBQWlCO1VBQWpCLGlCQUFpQjtFQUNqQixpQkFBaUI7QUFDbkI7QUFDQSxrQ0FBa0MsYUFBYSxFQUFFO0FBQ2pELHVCQUF1QixvQ0FBb0MsRUFBRTtBQUM3RCw2RUFBNkU7QUFDN0U7RUFDRSxpQkFBaUI7QUFDbkIiLCJmaWxlIjoic3JjL2d1aUVsZW1lbnRzL3N0eWxlLWVkaXRvci9zdHlsZS1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLnN0eWxlQ29udGFpbmVye1xuICAvKnBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBvdmVyZmxvdy14OiBhdXRvO1xuICBwYWRkaW5nOiAxN3B4O1xuICBwYWRkaW5nLXJpZ2h0OiBjYWxjKDE3cHggLSAxMHB4KTsqL1xufVxuLnRlbXBsYXRle1xuICBkaXNwbGF5OiBub25lO1xufVxuLlN0eWxlRWRpdG9yRGlzcGxheSAudGVtcGxhdGV7XG4gIGRpc3BsYXk6IHVuc2V0O1xufVxuLnByZXZpZXd7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBtaW4taGVpZ2h0OiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuLnByZXZpZXc6Ymxhbmt7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyYXk7XG4gIG9wYWNpdHk6IDAuNDtcbn1cbi5zZXBhcmF0b3JTaGVsbC50b3B7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG59XG5cbmRpdltjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdOmZvY3VzIHtcbiAgbWF4LWhlaWdodDogdW5zZXQ7XG59XG5kaXZbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXSwgZGl2W2NvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCJdIHtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGNvbG9yOiBibGFjaztcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gIG1pbi1oZWlnaHQ6IDEwMHB4O1xuICBtYXgtaGVpZ2h0OiAyMDBweDtcbiAgbWFyZ2luLXRvcDogNXB4O1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5kaXZbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBjdXJzb3I6IHRleHQ7XG59XG5kaXZbY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIl0ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1xuICBjdXJzb3I6IG5vLWRyb3A7XG4gIG9wYWNpdHk6IDAuNDtcbn1cbmxhYmVsLmFsbG93RWRpdCB7XG4gIGNvbG9yOiBnb2xkZW5yb2Q7XG59XG5idXR0b24ge1xuICBtYXJnaW46IDVweDtcbn1cbi5zdHlsZS5vd24sIC5zdHlsZS5pbnN0YW5jZXN7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogd3JhcDtcbn1cbi5kZXRhaWx7XG4gIGJvcmRlcjogM3B4IHNvbGlkIHZhcigtLWJsdWVib3JkZXJjb2xvcik7XG4gIGJhY2tncm91bmQ6IHZhcigtLSk7XG4gIGNvbG9yOiB2YXIoLS1hbHRGb250Q29sb3IpO1xufVxuYnV0dG9uLmRldGFpbCB7XG4gIG1hcmdpbjogYXV0bztcbiAgbWFyZ2luLXRvcDogMDtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgaGVpZ2h0OiBhdXRvO1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxN3B4O1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTdweDtcbiAgei1pbmRleDogMTtcbiB9XG5idXR0b24uZGV0YWlsOmZpcnN0LWNoaWxkOm5vdCg6b25seS1jaGlsZCl7IC8qIGZpcnN0IHZpc2libGUgY2hpbGQgbm90IHBvc3NpYmxlIGljIHB1cmUgY3NzICovXG4gIGZsZXgtZmxvdzogY29sdW1uO1xuICBtYXJnaW4tcmlnaHQ6IDA7XG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbn1cbmJ1dHRvbi5kZXRhaWw6bGFzdC1jaGlsZDpub3QoOm9ubHktY2hpbGQpe1xuICBtYXJnaW4tbGVmdDogLTNweDtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbn1cbmJ1dHRvbi5kZXRhaWw6Zm9jdXMge1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcbn1cbmRpdi5kZXRhaWx7XG4gIHBhZGRpbmc6IDVweDtcbiAgbWFyZ2luLXRvcDogLTNweDtcbiAgd2lkdGg6IGNhbGMoMTAwJSk7XG59XG4uc2F2ZWFzcm93e1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG59XG5idXR0b24uZGVsZXRle1xuICBtYXJnaW46IGF1dG87XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cbmJ1dHRvbi5zYXZlYXN7XG4gIG1hcmdpbjogYXV0bztcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuaW5wdXQuc2F2ZWFzIHtcbiAgbWFyZ2luOiBhdXRvO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIGZsZXgtYmFzaXM6IDEwMHB4O1xuICBmbGV4LWdyb3c6IDAuNjtcbiAgd2lkdGg6IDA7XG59XG4uY29tcGF0aWJsZVJvdyA+IGxhYmVsID4gc3BhbntcbiAgaGVpZ2h0OiBmaXQtY29udGVudDtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIG1hcmdpbjogYXV0bztcbiAgb3JkZXI6IDI7XG4gIG1hcmdpbi1sZWZ0OiAwO1xufVxuLnNhdmVhc3JvdywgLmNvbXBhdGlibGVSb3d7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IHdyYXA7XG59XG4uY29tcGF0aWJsZVJvdyA+IGxhYmVsID4gaW5wdXQge1xuICBvcmRlcjogMTtcbiAgbWFyZ2luLWxlZnQ6IDA7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuLmRldGFpbCA+IGxhYmVsIHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIG1hcmdpbjogYXV0bztcbiAgZmxleC13cmFwOiBub3dyYXA7XG59XG5idXR0b24uZGV0YWlsID4gLm9wZW5lZCwgYnV0dG9uLmRldGFpbCA+IC5jbG9zZWR7XG4gIG1hcmdpbjogYXV0bztcbn1cbnRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbnRkLnRpdGxlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmgxIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuc2VsZWN0e1xuICAvKiBiYWNrZ3JvdW5kOiBpbmhlcml0O1xuICBib3JkZXI6IG5vbmU7XG4gIGNvbG9yOiBpbmhlcml0O1xuICBmb250OiBpbmhlcml0OyAqL1xuICAvKmZsZXgtYmFzaXM6IDA7Ki9cbiAgZmxleC1zaHJpbms6IDE7XG4gIGZsZXgtZ3JvdzogMC45O1xuICBtYXgtd2lkdGg6IG1heC1jb250ZW50O1xuICBtaW4td2lkdGg6IDA7XG59XG5cbmxhYmVsIHtkaXNwbGF5OiBmbGV4OyBmbGV4LWdyb3c6MTt9XG5sYWJlbCA+ICo6bm90KGlucHV0KSwgaDYgPiAqIHtcbiAgZGlzcGxheTogZmxleDtcbiAgLyogZmxleC1ncm93OiAxOyovXG4gIG1hcmdpbjogYXV0bztcbiAgZmxleC13cmFwOiB3cmFwO1xufVxuXG5oNntcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIG1hcmdpbjogYXV0bztcblxufVxuLnNlcGFyYXRvciA+ICoge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4vKlxuYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogIzAwODRmZjtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDhweCAxNHB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG5idXR0b246ZGlzYWJsZWR7XG4gIGJhY2tncm91bmQ6IGdyYXk7XG59Ki9cbmlucHV0W3R5cGU9XCJudW1iZXJcIl0ge1xuICB3aWR0aDogNDBweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG4uem9vbVgsIC56b29tWSwgLmdyaWRYLCAuZ3JpZFkge1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDE1cHg7fVxuXG5cbmxhYmVsPmlucHV0W3R5cGU9XCJjaGVja2JveFwiXSxcbmxhYmVsPmlucHV0W3R5cGU9XCJjb2xvclwiXSB7XG4gIG1hcmdpbi1ib3R0b206IDNweDtcbn1cblxuI3ByaW1hcnlfY29sb3Ige1xuICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICBoZWlnaHQ6IDYwcHg7XG4gIHdpZHRoOiA2MHB4O1xuICBib3JkZXI6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbn1cblxuW2NvbnRlbnRlZGl0YWJsZT10cnVlXTplbXB0eTpiZWZvcmUge1xuICBjb250ZW50OiBhdHRyKHBsYWNlaG9sZGVyKTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIC8qIEZvciBGaXJlZm94ICovXG4gIGN1cnNvcjogdGV4dDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgY29sb3I6IGRhcmtncmF5O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogYXV0bztcbn1cblxuLnNlcGFyYXRvclNoZWxsIHtcbiAgbWluLWhlaWdodDogMzNweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiByb3c7XG4gIGZsZXgtd3JhcDogbm93cmFwO1xuICBtYXJnaW46IGF1dG87XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuLnJvd3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uc2VwYXJhdG9yIHtcbiAgbWFyZ2luOiBhdXRvO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG4uc3R5bGVsYWJlbHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIG1hcmdpbjogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5zZWxlY3Quc3R5bGVuYW1le1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW46IGF1dG87XG4gIG1hcmdpbi1sZWZ0OiAwO1xufVxuLkhvcml6b250YWxDb250YWluZXJ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogcm93O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIHdpZHRoOiAxMDAlO1xufVxuLm9ubHlWZXJ0aWNhbENvbnRhaW5lcntcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiByb3c7XG4gIGZsZXgtd3JhcDogd3JhcDtcbn1cbi5vbmx5VmVydGljYWxDb250YWluZXIgPiAqIHtcbiAgbWFyZ2luOiBhdXRvIDA7XG59XG4uSG9yaXpvbnRhbENoaWxke1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgbWFyZ2luOiBhdXRvO1xufVxuLm9wZW5lZHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLmhlbHBCdXR0b24sIC5zdHlsZWRlbGV0ZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHdpZHRoOiAzNXB4O1xuICBoZWlnaHQ6IDM1cHg7XG4gIG1hcmdpbjogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiAwO1xufVxuLnN0eWxlZGVsZXRlIHtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG4uaGVscEJ1dHRvbiB7XG4gIGJhY2tncm91bmQ6IHJnYigwLCA2MiwgMTI3KTtcbiAgYm9yZGVyLWNvbG9yOiByZ2IoMCwgNjIsIDEyNyk7IH1cblxuLmh0bWxzdHlsZSA+IC50b3Age1xuICBkaXNwbGF5OiBmbGV4O1xufVxuLmV4cHJlc3Npb25Sb290IHtcbiAgZmxleC13cmFwOiBub3dyYXAgIWltcG9ydGFudDtcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuaW5wdXQuZmlsbHtcbiAgZmxleC1ncm93OiAxO1xuICBmbGV4LWJhc2lzOiAwO1xuICBtYXJnaW4tbGVmdDogN3B4O1xufVxuLmxlZnRzaWRle1xuICBmbGV4LWdyb3c6IDM7XG4gIGZsZXgtYmFzaXM6IDA7XG4gIG1pbi13aWR0aDogMDtcbiAgbWF4LXdpZHRoOiAxNTBweDtcbn1cbi5yaWdodHNpZGV7XG4gIGZsZXgtZ3JvdzogNztcbiAgZmxleC1iYXNpczogMDtcbiAgbWluLXdpZHRoOiAwO1xufVxuLmFycm93Q29udGFpbmVye1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuYnV0dG9uLmFycm93e1xuICBkaXNwbGF5OiBmbGV4O1xuICBsaW5lLWhlaWdodDogdW5zZXQ7XG4gIHBhZGRpbmc6IDAgNnB4O1xufVxuLnRzY2xhc3N7XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogaW5saW5lO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4vKiAqL1xuXG4vKlxucHJlIHtcbiAgYmFja2dyb3VuZDojRUVFO1xuICBwYWRkaW5nOjVweDtcbiAgd2lkdGg6IDI5MHB4O1xufSovXG4uYWRkSGVhZGVye1xuICBkaXNwbGF5OiBmbGV4O1xufVxuLmFkZEhlYWRlciA+IGJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAwO1xuICBvcmRlcjogMjtcbn1cbnNlbGVjdC5hdHRyaWJ1dGV0eXBlYWRke1xuICBmbGV4LWJhc2lzOiAwO1xuICBmbGV4LWdyb3c6IDE7XG4gIG1pbi13aWR0aDogMDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuLnByZXZpZXdzZWxlY3RvcntcbiAgaGVpZ2h0OiAyM3B4O1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXI6IDJweCBkYXNoZWQgIzY2NjY2Njtcbn1cblxuLnNob3dBc0VkZ2V7XG4gIG1hcmdpbi1yaWdodDogNXB4ICFpbXBvcnRhbnQ7XG59XG5idXR0b24uZGVsZXRlLCBidXR0b24uc2F2ZWFze1xuICBmb250LXNpemU6IDAuOHJlbTtcbn1cbmJ1dHRvbi5kZWxldGVSdWxle1xuICBmbGV4LWdyb3c6IDA7XG4gIGZsZXgtYmFzaXM6IGF1dG87XG4gIG1pbi13aWR0aDogYXV0bztcbiAgbWFyZ2luLXRvcDogMDtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgcGFkZGluZzogNXB4O1xufVxuLm5vd3JhcHtcbiAgZmxleC13cmFwOiBub3dyYXA7XG59XG4uX3Jvb3Qge1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5kaXYuZGV0YWlsLm1lYXN1cmFibGUgPiBkaXYudGVtcGxhdGUge1xuICBkaXNwbGF5OiBub25lO1xufVxuLmdyYXBoQ29sb3IsIC5zaG93R3JpZHtcbiAgbWFyZ2luLWxlZnQ6IDA7XG59XG5zZWxlY3Qub3BlcmF0b3J7XG4gIHRleHQtYWxpZ24tbGFzdDogY2VudGVyO1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgd2lkdGg6IDI1cHg7XG59XG5zcGFuLm9wZXJhdG9ydGV4dHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5zZWxlY3Qub3BlcmF0b3I6ZGlzYWJsZWR7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIC8qXG4gIGJhY2tncm91bmQ6IGluaGVyaXQ7XG4gIGJvcmRlcjogbm9uZTtcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIG1hcmdpbjogMDsqL1xufVxuXG5zcGFuLm5hbWVwcmVmaXgge1xuICBtYXJnaW4tbGVmdDogN3B4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyOiAycHggaW5zZXQgcmdiKDIzOCwgMjM4LCAyMzgpO1xuICBoZWlnaHQ6IDIxcHg7XG4gIGJvcmRlci1yaWdodDogbm9uZTtcbiAgY29sb3I6IGJsYWNrO1xuICBsaW5lLWhlaWdodDogMTZweDtcbn1cbmlucHV0Lm5hbWUge1xuICBtYXJnaW4tbGVmdDogMDtcbiAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gIHBhZGRpbmctbGVmdDogMDtcbn1cblxubGFiZWw6Zm9jdXMgPiBpbnB1dC5uYW1lIHtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm94LXNoYWRvdzogMCAycHggMnB4IDJweCByZ2IoNzcsIDE0NCwgMjU0KTtcbn1cblxuaW5wdXQubmFtZTpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJveC1zaGFkb3c6IDJweCAycHggMHB4IDBweCByZ2IoNzcsIDE0NCwgMjU0KSwgMnB4IC0ycHggMHB4IDBweCByZ2IoNzcsIDE0NCwgMjU0KTtcbn1cbi5odG1sc3R5bGUge1xuICB3aWR0aDogMTAwJTtcbn1cbmxhYmVsLmFsbG93RWRpdCA+IHNwYW4ge1xuICBtYXJnaW4tbGVmdDowO1xufVxubGFiZWwgPiAqIHtcbiAgbWFyZ2luLXRvcDogYXV0bztcbiAgbWFyZ2luLWJvdHRvbTogYXV0bztcbn1cbmxhYmVsID4gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdIH4gKiB7XG4gIG1hcmdpbi1sZWZ0OiAwO1xufVxuLmh0bWxbY29udGVudGVkaXRhYmxlXSB7XG4gIC8qSURFIGdpdmVzIGVycm9yIGJ1dCB0aGV5IGFsbCBhY3R1YWxseSBleGlzdCwgYXQgbGVhc3Qgb24gbW96aWxsYS4qL1xuICBvdmVyZmxvdy13cmFwOiBhbnl3aGVyZTtcbiAgd29yZC13cmFwOiBhbnl3aGVyZTtcbiAgd2hpdGUtc3BhY2U6IGJyZWFrLXNwYWNlcztcbn1cblxuLmF1dG9zaXplY29udGFpbmVye1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG4uYXV0b3NpemVjb250YWluZXIgPiAqe1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuLnNpemVDb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7IH1cbi5zaXplQ29udGFpbmVySGFsZiB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGZsZXgtZ3JvdzogMTtcbn1cbi5zaXplbGFiZWwge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgZmxleC1mbG93OiBjb2x1bW4tcmV2ZXJzZTtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzAwcHgpIHtcbiAgLyogc3Ugdmlld3BvcnQgdHJvcHBvIHBpY2NvbGkgY2FtYmlvIGxhIHZpc3VhbGl6emF6aW9uZSBkYSBsYWJlbCBzb3ByYSBpbCB0ZXN0byAoYnVvbm8gcGVyIGZhcmUgbW9uby1yb3cpIGEgbGFiZWwgYWZmaWFuY2F0YSBhbCB0ZXN0byAocGVyIGZhcmUgNCByb3cgZSBzY29ycmVyZSB2ZXJ0aWNhbG1lbnRlKSovXG4gIC5zaXplbGFiZWx7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG59XG4uc2l6ZWxhYmVsID4gKntcbiAgZGlzcGxheTogaW5saW5lO1xuICBtYXJnaW46IGF1dG87IH1cblxuXG5cblxuXG5cblxuXG5cblxuICAvKiB0aGV5IGZpeCBvdXRlciBjc3MgaW5mbHVlbmNlIG9uIG1lYXN1cmFibGUgc2VjdGlvbi4gKi9cblxuaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLmFycm93IHtcbiAgbWFyZ2luOiAwOyB9XG5cbi5tZWFzX2FjYzAgYnV0dG9uIHsgbWFyZ2luOiAwOyB9XG5cblxuXG5cbi8qKioqKioqKioqKiAgICAgICAgICAgICAgTWVhc3VyYWJsZSBlZGl0b3IgdjIgc3RhcnQgICAgICAgICAgICAgICAgICoqKioqKioqL1xuLm1lYXNfYWNjMCAubWVhc3VyYWJsZVNldHRpbmdSb290e1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4ubWVhc19hY2MwIC5ib3hlc3Jvb3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGZsZXgtZ3JvdzogMTtcbiAgZmxleC1iYXNpczogMDtcbn1cbi5tZWFzX2FjYzAgLm1vdmVtZW50Ym94cm9vdCwgLm1lYXNfYWNjMCAucmVzaXplYm94cm9vdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZ3JvdzogMTtcbiAgZmxleC1mbG93OiBjb2x1bW47XG59XG5cbi5tZWFzX2FjYzAgLmNvbHVtbiwgLm1lYXNfYWNjMCAucm93e1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IG5vd3JhcDtcbn1cbi5tZWFzX2FjYzAgLnJvdyB7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWFyZ2luLXJpZ2h0OiB1bnNldDtcbiAgbWFyZ2luLWxlZnQ6IHVuc2V0OyAvKiBkdW1iIF9ncmlkLnNjc3MgZml4ZXIgKi9cbn1cbi5tZWFzX2FjYzAgLmJyZWFrIHsgZmxleC13cmFwOiB3cmFwOyB9XG4ubWVhc19hY2MwIC5hdXRvYnJlYWsgeyBmbGV4LXdyYXA6IGluaXRpYWw7IH1cbi5tZWFzX2FjYzAgLmZpbGwgeyBmbGV4LWdyb3c6IDE7IH1cbi5tZWFzX2FjYzAgLmJveHRpdGxlIHsgZGlzcGxheTogYmxvY2s7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTJweDsgfVxuLm1lYXNfYWNjMCAuc2lkZSB7IGRpc3BsYXk6IGZsZXg7IH1cbi5tZWFzX2FjYzAgLnNpZGUubGVmdCwgLm1lYXNfYWNjMCAuc2lkZS5yaWdodCB7IHdpZHRoOiAxMHB4OyB9XG4ubWVhc19hY2MwIC5zaWRlLnRvcCwgLm1lYXNfYWNjMCAuc2lkZS5ib3QgeyBoZWlnaHQ6IDEwcHg7IHdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTsgfVxuLm1lYXNfYWNjMCAuY29ybmVyIHsgZGlzcGxheTogZmxleDsgd2lkdGg6IDEwcHg7IGhlaWdodDogMTBweDsgfVxuLm1lYXNfYWNjMCAubWlkZGxlIHsgYmFja2dyb3VuZC1jb2xvcjogZ29sZGVucm9kOyBkaXNwbGF5OiBmbGV4OyB9XG4ubWVhc19hY2MwIC5taWRkbGUgLm1pZGRsZSB7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA5MHB4OyB9XG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLmlubmVyID4gLnJvdyA+IC5zaWRlLCAubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLmlubmVyID4gLnJvdyA+IC5jb3JuZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBkaW1ncmF5O1xufVxuLm1lYXNfYWNjMCAuYm94cm9vdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IGF1dG87XG4gIGZsZXgtd3JhcDogd3JhcDtcbn1cbi5tZWFzX2FjYzAgLnJ1bGV0aXRsZXtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5tZWFzX2FjYzAgYnV0dG9uLnJ1bGVkZWxldGUge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAzMHB4O1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogMjVweCAwIDAgMjVweDtcbn1cbi5tZWFzX2FjYzAgLmNvbXBvdW5kSW5wdXRwcmVmaXgge1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogZml0LWNvbnRlbnQ7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGZsZXgtZ3JvdzogMCAhaW1wb3J0YW50O1xuICB3aWR0aDogYXV0bztcbiAgZmxleC1iYXNpczogYXV0byAhaW1wb3J0YW50O1xuICBmbGV4LXNocmluazogMCAhaW1wb3J0YW50O1xufVxuLm1lYXNfYWNjMCAuY29tcG91bmRJbnB1dHByZWZpeCA+IGlucHV0LmF0dHJuYW1lIHtcbiAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gIHBhZGRpbmctbGVmdDogMDtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbn1cbi5tZWFzX2FjYzAgLmNvbXBvdW5kSW5wdXRwcmVmaXggPiAqIHsgYm9yZGVyOiBub25lOyB9XG4ubWVhc19hY2MwIC5jb21wb3VuZElucHV0cHJlZml4ID4gKjpmaXJzdC1jaGlsZCB7XG4gIG1hcmdpbi10b3A6IDFweDtcbiAgcGFkZGluZy1yaWdodDogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG4ubWVhc19hY2MwIC5jb21wb3VuZElucHV0cHJlZml4ID4gaW5wdXQ6Zm9jdXMgeyBib3gtc2hhZG93OiBub25lOyB9XG4ubWVhc19hY2MwIC5jb21wb3VuZElucHV0cHJlZml4OmZvY3VzLXdpdGhpbiB7XG4gIGJvcmRlci1jb2xvcjogIzgwYmRmZjtcbiAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoMCwgMTIzLCAyNTUsIDAuMjUpO1xufVxuXG4ubWVhc19hY2MwIC5ydWxlY29udGFpbmVyID4gLnJpZ2h0eCwgLm1lYXNfYWNjMCAucnVsZWNvbnRhaW5lciA+IC5sZWZ0eCB7IG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDsgfVxuLyogLm1lYXNfYWNjMCAucmlnaHR4IHsgbWluLXdpZHRoOiAwOyB9ICovXG4ubWVhc19hY2MwIC5yaWdodHggc3Bhbi5vcGVyYXRvciB7XG4gIG1hcmdpbjogYXV0bztcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cbi5tZWFzX2FjYzAgLm9wZXJhdG9yY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuLm1lYXNfYWNjMCBzZWxlY3Qub3BlcmF0b3Ige1xuICB3aWR0aDogNDVweDtcbiAgbWFyZ2luOiBhdXRvIDVweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB0ZXh0LWFsaWduLWxhc3Q6IGNlbnRlcjtcbn1cbi5tZWFzX2FjYzAgLnJpZ2h0eCAuY29tcG91bmRJbnB1dHByZWZpeCwgLm1lYXNfYWNjMCAucmlnaHR4IGlucHV0LnJpZ2h0c2lkZSwgLm1lYXNfYWNjMCBpbnB1dC5sZWZ0c2lkZSwgLm1lYXNfYWNjMCAucmlnaHR4ID4gLnRhcmdldCB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgbWluLXdpZHRoOiAxMjBweDtcbiAgZmxleC1iYXNpczogMDtcbiAgZmxleC1ncm93OiAxO1xufVxuLm1lYXNfYWNjMCAucnVsZWNvbnRhaW5lciB7IG1hcmdpbi1ib3R0b206IDFyZW07IH1cbi5tZWFzX2FjYzAgLnJpZ2h0eCA+IC50YXJnZXQgeyBtYXJnaW4tYm90dG9tOiAwOyB9XG4ubWVhc19hY2MwIC5yaWdodHggPiAubWVhc3VyYWJsZWRlYnVnIHsgbWFyZ2luLXRvcDogNXB4OyB9XG4ubWVhc19hY2MwIC5hdHRybmFtZSB7XG4gIG1heC13aWR0aDogMjAwcHggIWltcG9ydGFudDsgLyogdG9kbzogcmVtb3ZlIHdoZW4gaXMgYXV0b3NpemluZyAqL1xuICBtaW4td2lkdGg6IDA7XG59XG4ubWVhc19hY2MwIC5hZGRydWxlIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBtYXJnaW4tdG9wOiAtNHB4O1xuICBwYWRkaW5nOiA0cHggMTBweDtcbn1cbi5tZWFzX2FjYzAgLnJ1bGV0aXRsZSB7XG4gIHBhZGRpbmctcmlnaHQ6IDRweDtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuLm1lYXNfYWNjMCAucnVsZXRpdGxlLmNvbGxhcHNlZCB7IC13ZWJraXQtYXBwZWFyYW5jZTogaW5pdGlhbDsgfVxuLm1lYXNfYWNjMCAucnVsZXRpdGxlOmhvdmVyIHsgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247IH1cbi5tZWFzX2FjYzAgLmZvcm0tY29udHJvbCA+IC5mb3JtLWNvbnRyb2w6bm90KDpmaXJzdC1jaGlsZCl7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IHVuc2V0O1xuICAvKiBkaXNhYmxlIGJvb3RzdHJhcCBydWxlKi9cbn1cbi5tZWFzX2FjYzAgLm1lYXN1cmFibGVlcnJvcnRleHR7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIGNvbG9yOiB2YXIoLS1kYW5nZXIpO1xufVxuLm1lYXNfYWNjMCAubWVhc3VyYWJsZXdhcm5pbmd0ZXh0e1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBjb2xvcjogdmFyKC0td2FybmluZyk7XG59XG4ubWVhc19hY2MwIC5tZWFzdXJhYmxlb3V0cHV0dGV4dHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XG59XG4ubWVhc19hY2MwIC5ydWxlY29udGFpbmVyeyBtYXJnaW4tYm90dG9tOiA1cHg7IH1cbi5tZWFzX2FjYzAgLm1lYXN1cmFibGVkZWJ1ZyB7IGRpc3BsYXk6IG5vbmU7IH1cbi5tZWFzX2FjYzAgLnJpZ2h0eDpmb2N1cy13aXRoaW4gLm1lYXN1cmFibGVkZWJ1Z3sgZGlzcGxheTogZmxleDsgfVxuLm1lYXNfYWNjMCAuY291bnRlcnNoZWxsIHsgZmxvYXQ6IHJpZ2h0OyB9XG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gKiB7XG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcbn1cbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAucm93ID4gKiwgLm1lYXNfYWNjMCAuYXJyb3doLCAubWVhc19hY2MwIC5hcnJvd3Yge1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7XG59XG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLnRvcCA+IC5sZWZ0IHtcbiAgLypiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9pLmliYi5jby90cXhYaGs0L3RsLnBuZyk7Ki9cbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vWmd2cHl3ei90bGwucG5nKTtcbn1cbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAudG9wID4gLnNpZGUudG9wIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vTTlmQzdEUC90LnBuZyk7IH1cbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAudG9wID4gLnJpZ2h0IHtcbiAgLypiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9pLmliYi5jby9QenNtanhmL3RyLnBuZyk7Ki9cbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vU04yVEhMdC90cmwucG5nKTsgfVxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5taWQgPiAubGVmdCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvLzdqbTlCQlEvbC5wbmcpOyB9XG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLm1pZCA+IC5yaWdodCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL1JZWm5WTjUvci5wbmcpOyB9XG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLmJvdCA+IC5sZWZ0IHtcbiAgLypiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9pLmliYi5jby9xcllXZHBIL2JsLnBuZyk7Ki9cbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHBzOi8vaS5pYmIuY28vZ0RLRnJ5NS9ibGwucG5nKTsgfVxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5ib3QgPiAuc2lkZS5ib3Qge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9pLmliYi5jby9jWGMwbm1TL2IucG5nKTsgfVxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5ib3QgPiAucmlnaHQge1xuICAvKmJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL0swcFZWVDcvYnIucG5nKTsqL1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9pLmliYi5jby9RcHdSU3NUL2JybC5wbmcpOyB9XG4ubWVhc19hY2MwIGlucHV0LnNpZGUudG9wIHtcbiAgbWFyZ2luLWJvdHRvbTogM3B4O1xuICBtYXJnaW4tdG9wOiAtM3B4OyB9XG4ubWVhc19hY2MwIGlucHV0LnNpZGUuYm90IHtcbiAgbWFyZ2luLWJvdHRvbTogLTNweDtcbiAgbWFyZ2luLXRvcDogM3B4OyB9XG4ubWVhc19hY2MwIGlucHV0LnNpZGUubGVmdCB7XG4gIG1hcmdpbi1yaWdodDogM3B4O1xuICBtYXJnaW4tbGVmdDogLTNweDsgfVxuLm1lYXNfYWNjMCBpbnB1dC5zaWRlLnJpZ2h0IHtcbiAgbWFyZ2luLXJpZ2h0OiAtM3B4O1xuICBtYXJnaW4tbGVmdDogM3B4OyB9XG4ubWVhc19hY2MwIC5hcnJvd2gge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9pLmliYi5jby9aZDNqdGJjL2xyLnBuZyk7IH1cbi5tZWFzX2FjYzAgLmFycm93diB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2kuaWJiLmNvL2pIVHRQRHgvdGIucG5nKTsgfVxuXG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLnJvdyA+IC5jb3JuZXIge1xuICBoZWlnaHQ6IDUwcHg7XG4gIG1pbi13aWR0aDogNTBweDtcbn1cbi5tZWFzX2FjYzAgLnJlY3RhbmdsZWRyYXdpbmcub3V0ZXIgPiAudG9wID4gKiB7XG4gIGhlaWdodDogNTBweDsgfVxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5ib3QgPiAqIHtcbiAgaGVpZ2h0OiA1MHB4OyB9XG4ubWVhc19hY2MwIC5yZWN0YW5nbGVkcmF3aW5nLm91dGVyID4gLm1pZCA+IC5sZWZ0IHtcbiAgaGVpZ2h0OiBhdXRvO1xuICB3aWR0aDogNTBweDsgfVxuLm1lYXNfYWNjMCAucmVjdGFuZ2xlZHJhd2luZy5vdXRlciA+IC5taWQgPiAucmlnaHQge1xuICBoZWlnaHQ6IGF1dG87XG4gIHdpZHRoOiA1MHB4OyB9XG5cbi5tZWFzX2FjYzAgLmFycm93IHsgLXdlYmtpdC1hcHBlYXJhbmNlOiBpbml0aWFsOyB9XG5cbi5tZWFzX2FjYzAgLmFycm93aCwgLm1lYXNfYWNjMCAuYXJyb3d2e1xuICB3aWR0aDogNzVweDtcbiAgaGVpZ2h0OiA3NXB4OyB9XG5cbi5tZWFzX2FjYzAgLmFycm93OmZvY3VzeyBvdXRsaW5lOiBub25lOyB9XG4ubWVhc19hY2MwIC5hcnJvdzpjaGVja2Vke1xuICBmaWx0ZXI6IHNlcGlhKDgyJSkgc2F0dXJhdGUoMzkyNSUpIGh1ZS1yb3RhdGUoNTVkZWcpIGJyaWdodG5lc3MoMTI1JSkgY29udHJhc3QoMTIwJSk7IH1cblxuLm1lYXNfYWNjMCAuZGlyZWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgbWFyZ2luOiBhdXRvOyB9XG5cbi5tZWFzX2FjYzAgLmRpcmVjdGlvbnMgPiAqIHsgbWFyZ2luOiBhdXRvOyB9XG4ubWVhc19hY2MwIC5kcmFnZ2FibGUuYm94cm9vdHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiBjb2x1bW47XG4gIC8qaGVpZ2h0OiAyMzdweDsqL1xufVxuLm1lYXNfYWNjMCAuY29sbGFwc2U6bm90KC5zaG93KSB7IGRpc3BsYXk6IG5vbmU7IH1cbi5tZWFzX2FjYzAgLnNlbGVjdGVkIHsgYmFja2dyb3VuZC1jb2xvcjogIzM3ZmY2NiAhaW1wb3J0YW50OyB9XG4vKioqKioqKioqKiogICAgICAgICAgICAgIE1lYXN1cmFibGUgZWRpdG9yIHYyIGVuZCAgICAgICAgICAgICAgICAgICAqKioqKioqKi9cbi5pc2ludGVyZmFjZSwgLmlzYWJzdHJhY3R7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuIl19 */\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {\r\n  AccessModifier, DamContextMenuComponent, Dictionary,\r\n  Draggableoptions,\r\n  DraggableOptionsPH,\r\n  EdgeModes,\r\n  GraphSize,\r\n  IClass,\r\n  IClassifier,\r\n  IEdge, IGraph,\r\n  IModel, InputPopup,\r\n  IPackage,\r\n  IReference,\r\n  IVertex, M2Class,\r\n  Measurable, MeasurableEvalContext,\r\n  MeasurableRuleLists,\r\n  MeasurableRuleParts,\r\n  measurableRules,\r\n  MeasurableTemplateGenerator,\r\n  ModelPiece,\r\n  PropertyBarr,\r\n  ReservedClasses,\r\n  Resizableoptions,\r\n  ResizableoptionsPH,\r\n  RotatableoptionsPH,\r\n  Status,\r\n  StyleComplexEntry, TSON_JSTypes,\r\n  U,\r\n  ViewHtmlSettings,\r\n  ViewPoint,\r\n  ViewRule,\r\n} from '../../common/Joiner';\r\nimport {PropertyBarTabs} from '../propertyBar/propertyBar';\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nimport KeyDownEvent = JQuery.KeyDownEvent;\r\nimport ClickEvent = JQuery.ClickEvent;\r\nimport MouseDownEvent = JQuery.MouseDownEvent;\r\nimport MouseUpEvent = JQuery.MouseUpEvent;\r\nimport {AutocompleteMatch} from '../../common/util';\r\nimport {Style} from '@angular/cli/lib/config/schema';\r\nimport Swal from 'sweetalert2';\r\nimport ContextMenuEvent = JQuery.ContextMenuEvent;\r\nimport {Layouting} from '../mGraph/Layouting';\r\n\r\n@Component({\r\n  selector: 'app-style-editor',\r\n  templateUrl: './style-editor.component.html',\r\n  styleUrls: ['./style-editor.component.css']\r\n})\r\nexport class StyleEditorComponent implements OnInit {\r\n  @Input() isM2: boolean;\r\n  model: IModel;\r\n  graph: IGraph;\r\n  se: StyleEditor;\r\n\r\n  getModel(): IModel {\r\n    return this.model = (this.isM2 ? Status.status.mm : Status.status.m);\r\n  }\r\n  getGraph(): IGraph {\r\n    return this.graph = this.graph || this.getModel().graph;\r\n  }\r\n  get(): StyleEditor {\r\n    return this.se = this.se || this.getModel().graph.propertyBar.styleEditor;\r\n  }\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  changeGridUse($event: Event): void{\r\n    console.log('change grid use:', $event);\r\n    this.getGraph().useGrid = $event.currentTarget['checked'];\r\n  }\r\n}\r\nclass editorcontext {templateLevel: Element; graphLevel: Element; applyNodeChangesToInput: () => void;}\r\ntype ownStyleContext = {\r\n  editLabel: HTMLLabelElement;\r\n  editAllowed: HTMLButtonElement;\r\n  // selectstyle: HTMLSelectElement,\r\n  previewselect: HTMLSelectElement,\r\n  preview: HTMLElement,\r\n  input: HTMLDivElement | HTMLTextAreaElement,\r\n  detailButton: HTMLButtonElement,\r\n  detailPanel: HTMLElement,\r\n  isM1: HTMLInputElement,\r\n  isM2: HTMLInputElement,\r\n  isClass: HTMLInputElement,\r\n  isReference: HTMLInputElement,\r\n  isAttribute: HTMLInputElement,\r\n  isOperation: HTMLInputElement,\r\n  isParameter: HTMLInputElement,\r\n  stylename: HTMLInputElement,\r\n  forkButton: HTMLButtonElement,\r\n  delete: HTMLButtonElement,\r\n  saveasName: HTMLInputElement,\r\n  styledelete: HTMLButtonElement,\r\n  measurableCheckbox: HTMLInputElement,\r\n  interfaceCheckbox: HTMLInputElement,\r\n  abstractCheckbox: HTMLInputElement,\r\n};\r\n\r\nexport class StyleEditor {\r\n  private propertyBar: PropertyBarr = null;\r\n  private $root: JQuery<HTMLElement> = null;\r\n  private $templates: JQuery<HTMLElement> = null;\r\n  private $display: JQuery<HTMLElement> = null;\r\n  private root: HTMLElement = null;\r\n  private templates: HTMLElement = null;\r\n  private display: HTMLElement = null;\r\n  private clickedLevel: Element = null;\r\n  sizeInputx: HTMLInputElement;\r\n  sizeInputy: HTMLInputElement;\r\n  sizeInputw: HTMLInputElement;\r\n  sizeInputh: HTMLInputElement;\r\n  private ownstylecontext: ownStyleContext;\r\n\r\n  onHide(): void {\r\n    console.log('styleeditor.onHide()');\r\n    this.updateClickedGUIHighlight();\r\n  }\r\n  onShow(): void {\r\n    this.propertyBar.onHide();\r\n    this.updateClickedGUIHighlight();\r\n  }\r\n\r\n  constructor(propertyBar: PropertyBarr, $root: JQuery<HTMLElement>) {\r\n    this.propertyBar = propertyBar;\r\n    this.$root = $root.find('.styleContainer');\r\n    this.$display = this.$root.find('.StyleEditorDisplay');\r\n    this.$templates = this.$root.find('.styleTemplates');\r\n    this.root = this.$root[0];\r\n    this.display = this.$display[0];\r\n    this.templates = this.$templates[0]; }\r\n\r\n  onPaste(e: any): void { // e: ClipboardEvent\r\n    e.preventDefault();\r\n    const div: HTMLDivElement | HTMLTextAreaElement = e.currentTarget as HTMLDivElement | HTMLTextAreaElement;\r\n    let text: string = (e as unknown as any).originalEvent.clipboardData.getData('text/plain');\r\n    text = U.replaceAll(text, '\\n', ' ');\r\n    div.innerText = U.replaceAll(text, '\\r', ' ');\r\n  }\r\n\r\n  isVisible(): boolean { return PropertyBarr.isTabVisible(this.propertyBar.model, PropertyBarTabs.style); }\r\n\r\n  show(m: ModelPiece, clickedLevel: Element) {\r\n    m = m || this.propertyBar.selectedModelPiece;\r\n    if (!m) m = Status.status.getActiveModel();\r\n    // console.log('styleShow(', m, ')');\r\n    this.clickedLevel = null;\r\n    if (m instanceof IModel) { this.showM(m); this.updateClickedGUIHighlight(); return; }\r\n    if (m instanceof IPackage) { this.showM(m.parent); this.updateClickedGUIHighlight(); return; }\r\n    // if (m instanceof IPackage) { this.showP(m); return; }\r\n    this.clickedLevel = clickedLevel = clickedLevel || m.getHtmlOnGraph();\r\n    this.showMP(m, null, false, null);\r\n    this.addEventListeners();\r\n    this.updateClickedGUIHighlight();\r\n    return;/*\r\n    if (m instanceof IClass) { this.showC(m); }\r\n    if (m instanceof IAttribute) { this.showA(m); }\r\n    if (m instanceof IReference) { this.showR(m); }\r\n    if (m instanceof EOperation) { this.showO(m); }\r\n    if (m instanceof EParameter) { this.showParam(m); }*/\r\n  }\r\n\r\n  addEventListeners(): void {\r\n    // this.$root.find('[data-modelpieceid]').off('contextmenu')\r\n    // .on('contextmenu', (e: ContextMenuEvent): boolean => { return DamContextMenuComponent.contextMenu.onContextMenu(e); });\r\n  }\r\n  updateClickedGUIHighlight() {\r\n    $(this.propertyBar.model.graph.container).find('.styleEditorSelected').removeClass('styleEditorSelected');\r\n    if (this.isVisible() && this.clickedLevel) { this.clickedLevel.classList.add('styleEditorSelected'); }\r\n  }\r\n\r\n  private getCopyOfTemplate(m: ModelPiece, s: string, appendTo: HTMLElement, clear: boolean): HTMLElement {\r\n    let $tmp: JQuery<HTMLElement> = this.$templates.find('.template' + s);\r\n    const html: HTMLElement = U.cloneHtml<HTMLElement>($tmp[0]);\r\n    const $html = $(html);\r\n    html.classList.remove('template');\r\n    html.dataset.modelpieceid = '' + m.id;\r\n    html.style.display = 'block';\r\n    if (appendTo) {\r\n      if (clear) U.clear(appendTo);\r\n      appendTo.appendChild(html); }\r\n    let model: IModel = m.getModelRoot();\r\n    $html.find('.' + (model.isM1() ? 'm1' : 'm2') + 'hide').hide();\r\n    // eccezione: se rimane esistente ma invisibile il pulsante affianco mantiene i bordi spigolosi e non si allinea al centro.\r\n    // cancellare gli elementi è problematico perchè alcuni gli setto eventi, valori e ci interagisco anche se non servirebbe, solo per non mettere mille IF\r\n    // if (model.isM2()) { $html.find('.detailButtonContainer button.detail.inherited').remove(); }\r\n    if (!(m instanceof IClass)) $(html).find('.iclass.show').hide();\r\n    return html; }\r\n\r\n  showM(m: IModel) {\r\n    console.log('styleShowM(', m, ')');\r\n    const html: HTMLElement = this.getCopyOfTemplate(m, '.model', this.display, true);\r\n    const $html = $(html);\r\n    const gridX: HTMLInputElement = $html.find('.gridX')[0] as HTMLInputElement;\r\n    const gridY: HTMLInputElement = $html.find('.gridY')[0] as HTMLInputElement;\r\n    const zoomX: HTMLInputElement = $html.find('.zoomX')[0] as HTMLInputElement;\r\n    const zoomY: HTMLInputElement = $html.find('.zoomY')[0] as HTMLInputElement;\r\n    const showGrid: HTMLInputElement = $html.find('.showGrid')[0] as HTMLInputElement;\r\n    const useGrid: HTMLInputElement = $html.find('.useGrid')[0] as HTMLInputElement;\r\n    const gridColor1: HTMLInputElement = $html.find('.gridColor1')[0] as HTMLInputElement;\r\n    const gridColor2: HTMLInputElement = $html.find('.gridColor2')[0] as HTMLInputElement;\r\n    gridX.value = m.graph.grid ? '' + m.graph.grid.x : '';\r\n    gridY.value = m.graph.grid ? '' + m.graph.grid.y : '';\r\n    zoomX.value = m.graph.zoom.x + '';\r\n    zoomY.value = m.graph.zoom.y + '';\r\n    showGrid.checked = m.graph.gridDisplay;\r\n    useGrid.checked = m.graph.useGrid;\r\n    gridColor1.value = m.graph.gridColor1;\r\n    gridColor2.value = m.graph.gridColor2;\r\n    $([gridColor1, gridColor2]).on('change', (e: ChangeEvent) => {\r\n      m.graph.gridColor1 = gridColor1.value || '#808080';\r\n      m.graph.gridColor2 = gridColor2.value || '#808080';\r\n      m.graph.refreshGridGUI();\r\n    } );\r\n    // event listeners:\r\n    const changeGrid = (e: ChangeEvent, coord: 'x' | 'y') => {\r\n      const input: HTMLInputElement = e.currentTarget;\r\n      if(U.isNumerizable(input.value)) m.graph.grid[coord] = +input.value; // will be displayed by gridDisplay.trigger\r\n      showGrid.checked = true;\r\n      $(showGrid).trigger('change');\r\n      m.graph.fitVertexToGrid(false);\r\n    };\r\n    $(gridX).off('change.set').on('change.set', (e: ChangeEvent) => changeGrid(e, 'x'));\r\n    $(gridY).off('change.set').on('change.set', (e: ChangeEvent) => changeGrid(e, 'y'));\r\n    $(zoomX).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      const input: HTMLInputElement = e.currentTarget;\r\n      m.graph.setZoom(+input.value, null);\r\n    });\r\n    $(zoomY).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      const input: HTMLInputElement = e.currentTarget;\r\n      m.graph.setZoom(null, +input.value);\r\n    });\r\n    $(showGrid).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      const input: HTMLInputElement = e.currentTarget;\r\n      m.graph.setGrid(null, null, input.checked);\r\n    });\r\n    $(useGrid).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      const input: HTMLInputElement = e.currentTarget;\r\n      console.log('useGrid changed', m.graph.useGrid, '-->', input.checked);\r\n      console.log('useGrid changed', m.graph.useGrid, '-->', input.checked);\r\n      e.preventDefault(); // debug to see if angular change status\r\n      m.graph.setUseGrid(input.checked);\r\n    });\r\n    console.log('newk, layouuthtml setup pre');\r\n    this.layoutHtmlSetup(m);\r\n  }\r\n\r\n  showP(m: IPackage) { U.pe(true, 'styles of Package(', m, '): unexpected.'); }\r\n\r\n  setStyleEditor($styleown: JQuery<HTMLElement>, model: IModel, mp: ModelPiece, style: StyleComplexEntry, context: editorcontext, indexedPath: number[] = null, insideOwnSection: boolean = false): number[] {\r\n    /// getting the template to fill.\r\n    const debug: boolean = false;\r\n    let i: number;\r\n    let styleowntemplate: HTMLElement = $styleown[0];\r\n    const isInherited: boolean = styleowntemplate.classList.contains('inherited');\r\n    const isInheritable: boolean = styleowntemplate.classList.contains('inheritable');\r\n    const isOwn: boolean = styleowntemplate.classList.contains('own');\r\n    U.pe((isInheritable ? 1 : 0 || isInherited ? 1 : 0 || isOwn ? 1 : 0) !== 1, 'failed to get html styleEditor template');\r\n    let tmp: any = this.getCopyOfTemplate(mp, '.htmlstyle', null, false);\r\n    styleowntemplate.appendChild(tmp);\r\n    styleowntemplate.classList.remove('template');\r\n    // styleowntemplate.parentElement.insertBefore(tmp, styleowntemplate);\r\n    // styleowntemplate.parentElement.removeChild(styleowntemplate);\r\n    styleowntemplate = tmp;\r\n    U.pe(!styleowntemplate.parentElement, 'null parent: ',  styleowntemplate, $styleown);\r\n    $styleown = $(styleowntemplate);\r\n    U.pif(debug, 'styleComplexEntry:', style, 'mp:', mp, styleowntemplate, $styleown);\r\n    const obj: ownStyleContext = {\r\n      editLabel: null,\r\n      editAllowed: null,\r\n      // selectstyle: null,\r\n      previewselect: null,\r\n      preview: null,\r\n      input: null,\r\n      detailButton: null,\r\n      detailPanel: null,\r\n      isM1: null,\r\n      isM2: null,\r\n      isClass: null,\r\n      isReference: null,\r\n      isAttribute: null,\r\n      isOperation: null,\r\n      isParameter: null,\r\n      stylename: null,\r\n      forkButton: null,\r\n      delete: null,\r\n      saveasName: null,\r\n      styledelete: null,\r\n      measurableCheckbox: null,\r\n      interfaceCheckbox: null,\r\n      abstractCheckbox: null\r\n    };\r\n    if (insideOwnSection) this.ownstylecontext = obj;\r\n    //// setting up labelAllowEdit (checking if the (own, inherited or inheritable) style exist or a modelpiece local copy is needed.)\r\n    obj.editAllowed = $styleown.find('button.allowEdit')[0] as HTMLButtonElement;\r\n    obj.editLabel = $styleown.find('label.allowEdit')[0] as HTMLLabelElement;\r\n    // obj.selectstyle = $styleown.find('select.stylename')[0] as HTMLSelectElement;\r\n    obj.detailButton = $styleown.find('button.detail')[0] as HTMLButtonElement;\r\n    obj.detailPanel = $styleown.find('div.detail')[0] as HTMLElement;\r\n    obj.input = $styleown.find('.html[contenteditable=\"true\"]')[0] as HTMLTextAreaElement | HTMLDivElement;\r\n    obj.preview = $styleown.find('.preview')[0] as HTMLElement;\r\n    obj.previewselect = $styleown.find('select.previewselector')[0] as HTMLSelectElement;\r\n    obj.styledelete = $styleown.find('button.styledelete')[0] as HTMLButtonElement;\r\n    const $detail = $styleown.find('div.detail');\r\n    obj.isM1 = $detail.find('.model')[0] as HTMLInputElement;\r\n    obj.isM2 = $detail.find('.metamodel')[0] as HTMLInputElement;\r\n    obj.isClass = $detail.find('.class')[0] as HTMLInputElement;\r\n    obj.isAttribute = $detail.find('.attribute')[0] as HTMLInputElement;\r\n    obj.isReference = $detail.find('.reference')[0] as HTMLInputElement;\r\n    obj.isOperation = $detail.find('.operation')[0] as HTMLInputElement;\r\n    obj.isParameter = $detail.find('.parameter')[0] as HTMLInputElement;\r\n    obj.saveasName = $detail.find('input.saveas')[0] as HTMLInputElement;\r\n    obj.delete = $detail.find('button.delete')[0] as HTMLButtonElement;\r\n    obj.forkButton = $detail.find('button.saveas')[0] as HTMLButtonElement;\r\n\r\n    // let inheritableStyle: StyleComplexEntry = isInheritable ? mp.getInheritableStyle() : null;\r\n    // let inheritedStyle: StyleComplexEntry = isInherited ? mp.getInheritedStyle() : null;\r\n    const lastvp: ViewPoint = model.getLastView();\r\n    U.pif(debug, 'isOwn && !style.isownhtml || isInherited && !inheritedStyle.html || isInheritable && !inheritableStyle.html)', style);\r\n    U.pif(debug, !style ? '' : isOwn + ' && ' + style.isownhtml + ' || ' + isInherited + ' && ' + style.html + ' || ' + isInheritable + ' && ' + style.html);\r\n    if (style && !(isOwn && !style.isownhtml || isInherited && !style.html || isInheritable && !style.html)) {\r\n      $(obj.editLabel).hide();\r\n    } else {\r\n      obj.input.setAttribute('disabled', 'true');\r\n      U.remove(obj.styledelete);\r\n      obj.input.contentEditable = 'false';\r\n      if (!lastvp) {\r\n        obj.editLabel.innerText = 'Is required to have at least one non-default viewpoint applied to customize styles.';\r\n        obj.editAllowed.style.display = 'none';\r\n      } else\r\n        $(obj.editAllowed).on('click', (e: ClickEvent) => {\r\n          const mptarget: ModelPiece = isInherited ? mp.metaParent : mp;\r\n          let v: ViewRule = lastvp.viewsDictionary[mptarget.id];\r\n          if (isOwn) {\r\n            if (!v) v = new ViewRule(lastvp);\r\n            U.pe(!!v.htmlo, 'htmlo should be undefined at this point.');\r\n            v.htmlo = new ViewHtmlSettings();\r\n            v.htmlo.setHtmlStr( (style ? style.html : mptarget.getStyle().html).outerHTML ); }\r\n          if (isInheritable) {\r\n            if (!v) v = new ViewRule(lastvp);\r\n            U.pe(!!v.htmli, 'htmli should be undefined at this point.');\r\n            v.htmli = new ViewHtmlSettings();\r\n            const instanceCurrentStyle: Element = ModelPiece.GetStyle(Status.status.m, mp.getInstanceClassName());\r\n            v.htmli.setHtmlStr( instanceCurrentStyle.outerHTML ); }\r\n          if (isInherited) {\r\n            if (!v) v = new ViewRule(lastvp);\r\n            U.pe(!!v.htmli, 'htmli should be undefined at this point.');\r\n            v.htmli = new ViewHtmlSettings();\r\n            v.htmli.setHtmlStr( (style ? style.html : mp.getStyle().html).outerHTML );\r\n          }\r\n          v.apply(mptarget);\r\n          this.showMP(mp);\r\n          // todo: se stylecomplexEntry è null mostra un altro button.editAllowed per inserire lo stile ereditabile che generi htmli.\r\n        });\r\n\r\n      if (!style) {\r\n        if (isInheritable) { obj.editLabel.innerHTML = 'This element does not have a inheritable style.'; }\r\n        if (isInherited) { obj.editLabel.innerHTML = 'The metaParent of this element does not have a inheritable style appliable to this element.'; }\r\n        obj.editLabel.appendChild(obj.editAllowed);\r\n        U.clear(styleowntemplate);\r\n        styleowntemplate.appendChild(obj.editLabel);\r\n        return null; }\r\n    }\r\n    /// start!\r\n    obj.input.setAttribute('placeholder', U.replaceVarsString(mp, obj.input.getAttribute('placeholder')));\r\n    obj.input.innerText = context.templateLevel.outerHTML;\r\n\r\n    $styleown.find('.htmllevel').html((isInherited ? 'Instances Html' : 'Own html')\r\n      + ' (' + (indexedPath && indexedPath.length ? 'Level&nbsp;' + indexedPath.length : 'Root&nbsp;level') + ')');\r\n    let graphRoot: Element = mp.getHtmlOnGraph();\r\n    context.graphLevel = graphRoot && insideOwnSection && U.followIndexesPath(graphRoot, indexedPath, 'childNodes');\r\n    // just not displayed U.pe(!graphRoot, 'failed to get graphroot', graphRoot, indexedPath, mp);\r\n    // U.pe(insideOwnSection && !context.graphLevel, 'failed to get graphlv', graphRoot, indexedPath, mp);\r\n    context.applyNodeChangesToInput = (): void => {\r\n      // console.log(templateLevel.outerHTML);\r\n      obj.input.innerText = context.templateLevel.outerHTML;\r\n      onStyleChange();\r\n    };\r\n    const onStyleChange = (): void => {\r\n      console.log('onStyleChange', U.getCaller(), U.getStackTrace());\r\n      const inputHtml: Element = U.toHtml(obj.input.innerText);\r\n      const disabledAttr: string = obj.input.getAttribute('disabled');\r\n      if (disabledAttr === 'true' || disabledAttr === '') return;\r\n      // console.log('PRE: ', inputHtml, 'outer:', inputHtml.outerHTML, 'innertext:', obj.input.innerText);\r\n      U.pif(debug, '*** setting inheritable PRE. style.htmlobj:', style.htmlobj, ', style:', style, ', context:', context,\r\n        'templatelvl.parent:', context.templateLevel.parentElement, ', inputHtml:', inputHtml);\r\n      if (context.templateLevel.parentElement) {\r\n        context.templateLevel.parentElement.insertBefore(inputHtml, context.templateLevel);\r\n        context.templateLevel.parentElement.removeChild(context.templateLevel);\r\n        context.templateLevel = inputHtml;\r\n      } else {\r\n        U.pe(!style.view || style.isGlobalhtml || style.isCustomGlobalhtml, (style.isGlobalhtml ? 'native default html cannot be modified.' : 'overriden default html cannot be modified here. Change it from the element marked with \"asDefault\".') + ' default', style, 'todo: automatically make new ClassVieww');\r\n        // ??old message?: se tutto va bene qui deve dare errore, crea una nuova ClassVieww e applicalo al modelpiece ed edita quello.\r\n        style.htmlobj.setHtml(context.templateLevel = inputHtml);\r\n        U.pif(debug,'*** setting inheritable POST. style.htmlobj', style.htmlobj, 'style:', style);\r\n      }\r\n      if (isOwn) { mp.refreshGUI(); }\r\n      if (isInheritable) { mp.refreshInstancesGUI(); }\r\n      if (isInherited) { mp.metaParent.refreshInstancesGUI(); }\r\n      if (!isInheritable && indexedPath) this.clickedLevel = U.followIndexesPath(mp.getHtmlOnGraph(), indexedPath, 'childNodes');\r\n      graphRoot = mp.getHtmlOnGraph();\r\n      if (insideOwnSection) {\r\n        context.graphLevel = graphRoot && U.followIndexesPath(graphRoot, indexedPath, 'childNodes');\r\n        this.updateClickedGUIHighlight();\r\n      }\r\n      // obj.input.innerText = inputHtml.outerHTML;\r\n      // DANGER: se lo fai con l'evento onchange() ti sposta il cursore all'inizio e finisci per scrivere rawtext prima dell'html invalidandolo.\r\n      // tenendolo dovresti scrivere i caratteri uno alla volta riposizionando il cursore nel punto giusto ogni volta.\r\n      // console.log('POST: ', inputHtml, 'outer:', inputHtml.outerHTML, 'innertext:', obj.input.innerText);\r\n      // updatePreview();\r\n    };\r\n    $(obj.input).off('paste.set').on('paste.set', (e: any/*ClipboardEvent*/) => { this.onPaste(e); onStyleChange(); })\r\n    // .off('change.set').on('change.set', onStyleChange)\r\n    // .off('input.set').on('input.set', onStyleChange)\r\n      .off('blur.set').on('blur.set', onStyleChange)\r\n    .off('keydown.set').on('keydown.set', (e: KeyDownEvent) => { if (e.key === 'Esc') { this.propertyBar.refreshGUI(); } });\r\n\r\n\r\n    // setup measurable options.\r\n    const measurableRoot: HTMLElement = MeasurableTemplateGenerator.generateMeasurableTemplate();\r\n    tmp = $styleown.find('.measurablePlaceholder')[0];\r\n    U.swap(measurableRoot, tmp);\r\n    // .log('swap End:', measurableRoot.childNodes.length, tmp.childNodes.length);\r\n    //U.pe(true,'swapend');\r\n    const $measurableRoot = $(measurableRoot);\r\n    const $measurableBody = $measurableRoot.find('.measurableSettingRoot');\r\n    // obj.input is same const ownhtmlinput: HTMLDivElement | HTMLTextAreaElement = $measurableRoot.find('.html[contenteditable=\"true\"]')[0] as HTMLDivElement | HTMLTextAreaElement;\r\n    const $measurableCheckbox: JQuery<HTMLInputElement> = $measurableRoot.find('input.ismeasurable') as JQuery<HTMLInputElement>;\r\n    const measurableCheckbox = obj.measurableCheckbox = $measurableCheckbox[0];\r\n    measurableCheckbox.disabled = obj.input.getAttribute('disabled') === 'true';\r\n    measurableCheckbox.checked = (context.templateLevel.classList.contains('measurable') || insideOwnSection && context.graphLevel && context.graphLevel.classList.contains('measurable'));\r\n    const $measurableTitle = $measurableRoot.find('.meas_acc0 > .maintitle');\r\n    $measurableTitle.on('click', (e: ClickEvent) => {\r\n      const $innerroot = $measurableBody;\r\n      const innerroot = $innerroot[0];\r\n      if (innerroot.classList.contains('show')) {\r\n        // todo: elimina slideup e usa la transizione css su collapsing, come?\r\n        $measurableTitle.addClass('collapsed');\r\n        $innerroot.slideUp(400, () => { innerroot.classList.remove('show', 'collapsing', 'collapse'); });\r\n        return; }\r\n      $measurableTitle.removeClass('collapsed');\r\n      $innerroot.slideDown(400, () => { innerroot.classList.add('collapse', 'show'); });\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      e.stopImmediatePropagation();\r\n    });\r\n    $(obj.styledelete).on('click', () => { style.view.delete(); mp.refreshGUI(); this.show(mp, mp.getHtmlOnGraph()); });\r\n    let stopPropagation = (e: ClickEvent | MouseDownEvent | MouseUpEvent) => { e.stopPropagation(); };\r\n    if (!$measurableCheckbox[0].checked) $measurableTitle.hide();\r\n    let templateParent = context.templateLevel && context.templateLevel.parentElement;\r\n    $measurableCheckbox.on('click', stopPropagation).on('mousedown', stopPropagation).on('mouseup', stopPropagation)\r\n      .off('change.enabledisablemeasurable').on('change.enabledisablemeasurable', (e: ChangeEvent) => {\r\n      context.templateLevel.classList.remove('measurable');\r\n      if (measurableCheckbox.checked) {\r\n        context.templateLevel.classList.add('measurable');\r\n        if (context.templateLevel instanceof HTMLElement) context.templateLevel.style.position = 'absolute';\r\n        $measurableTitle.slideDown();\r\n        if (!$measurableBody[0].classList.contains('show')) { $measurableTitle.trigger('click'); }\r\n        // console.log('is now measurable:', context.templateLevel, 'parent:', context.templateLevel, 'parentStyle', templateParent.style.position);\r\n        if (templateParent) {\r\n          if (templateParent.style.position !== 'relative'){\r\n            U.ps(true, 'The parent node of a measurable element must have style.position=\"relative\" due to jqueryUI limitations. The parent style has been automatically corrected, was'\r\n              + (templateParent.style.position === '' ? ' unset.' : ' \\'' + templateParent.style.position + '\\'.')\r\n            );\r\n            templateParent.style.position = 'relative';\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        if (context.templateLevel instanceof HTMLElement) context.templateLevel.style.position = ''; // restore default\r\n        console.log(context.templateLevel, context);\r\n        if (templateParent) templateParent.style.position = '';\r\n        if ($measurableBody[0].classList.contains('show')) { $measurableTitle.trigger('click'); }\r\n        $measurableTitle.slideUp(); }\r\n      if (U.isTriggered(e)) return;\r\n      context.applyNodeChangesToInput();\r\n    }).trigger('change');\r\n    this.makeMeasurableOptions(measurableRoot, obj.input, style, context, indexedPath);\r\n    // const measurableSelect: HTMLSelectElement = $measurableRoot.find('select.attributetypeadd')[0] as HTMLSelectElement;\r\n    /*$measurableRoot.find('button.addmeasurable').on('click', () => {\r\n      this.addmeasurableAttributeButton(measurableSelect, $measurableRoot, mp, style, templateLevel as Element, ownhtmlinput, indexedPath);\r\n    });* /\r\n    for (i = 0; i < templateLevel.attributes.length; i++) {\r\n      const a: Attr = templateLevel.attributes[i];\r\n      if (a.name[0] === '_' || a.name.indexOf('r_') == 0 || a.name.indexOf('r_') == 0) {\r\n        const val: Attr = this.clickedLevel.attributes.getNamedItem(a.name.substr(1));\r\n        const style = null;\r\n        this.addmeasurableAttributeButton(measurableSelect, $measurableRoot, mp, style, templateLevel as Element, ownhtmlinput, indexedPath, a, val)\r\n      }\r\n    }*/\r\n    return indexedPath; }\r\n\r\n  showMP(m: ModelPiece, clickedLevel: Element = null, asMeasurable: boolean = false, asEdge: IEdge = null) {\r\n    // console.log('styleShow(', m, ', ' + U.getTSClassName(m) + ')');\r\n    let i: number;\r\n    this.clickedLevel = clickedLevel = clickedLevel || this.clickedLevel;\r\n    // set htmls\r\n    const style: StyleComplexEntry = m.getStyle();\r\n    const styleinheritable: StyleComplexEntry = m.getInheritableStyle();\r\n    const styleinherited: StyleComplexEntry = m.getInheritedStyle();\r\n    const clickedRoot: Element = ModelPiece.getLogicalRootOfHtml(clickedLevel);\r\n    const templateRoot: Element = style.html;\r\n    // let templateLevel: Element = templateRoot;\r\n    let indexedPath: number[] = U.getIndexesPath(clickedLevel, 'parentNode', 'childNodes', clickedRoot);\r\n    // console.log('clickedRoot', clickedRoot, 'clickedLevel', clickedLevel, 'path:', indexedPath);\r\n    U.pe(U.followIndexesPath(clickedRoot, indexedPath, 'childNodes') !== clickedLevel, 'mismatch.', indexedPath);\r\n    const realindexfollowed: {indexFollowed: string[] | number[], debugArr: {index: string | number, elem: any}[]} = {indexFollowed: [], debugArr:[]};\r\n    let context: editorcontext = new editorcontext();\r\n    context.templateLevel = U.followIndexesPath(templateRoot, indexedPath, 'childNodes', realindexfollowed);\r\n    // console.log('clickedRoot:',clickedRoot, 'clikedLevel:', clickedLevel, 'indexedPath:', indexedPath, 'followed:', realindexfollowed,\r\n    // 'templateRoot:', templateRoot, 'templateLevel:', templateLevel);\r\n    if (realindexfollowed.indexFollowed.length !== indexedPath.length) {\r\n      indexedPath = realindexfollowed.indexFollowed as number[];\r\n      this.clickedLevel = clickedLevel = U.followIndexesPath(clickedRoot, indexedPath,  'childNodes'); }\r\n    // html set END.\r\n    const model: IModel = m.getModelRoot();\r\n    if (asEdge && (m instanceof IClass || m instanceof IReference) && m.shouldBeDisplayedAsEdge()) { return this.showE(m, asEdge); }\r\n    const html: HTMLElement = this.getCopyOfTemplate(m, '.modelpiece', this.display, true);\r\n    const $html = $(html);\r\n    const $asDefault = $html.find('.asDefault') as JQuery<HTMLInputElement>;\r\n    const asDefault = $asDefault[0];\r\n    asDefault.checked = style.isownhtml && style.view.isDefault;\r\n    asDefault.disabled = !style.isownhtml;\r\n    $asDefault.on('change', (e: ChangeEvent) => { style.view.setDefault(asDefault.checked); });\r\n    const showAsEdge: HTMLInputElement = $html.find('.showAsEdge')[0] as HTMLInputElement;\r\n    const showAsEdgeText: HTMLElement = $html.find('.showAsEdgeText')[0] as HTMLElement;\r\n    const $styleown = $html.find('.style.own');\r\n    const $styleInherited = $html.find('.style.inherited');\r\n    const $styleInheritable = $html.find('.style.inheritable');\r\n    const htmlPath: number[] = this.setStyleEditor($styleown, model, m, style, context, indexedPath, true);\r\n    // U.pe(!style.html, $styleown, m, clickedLevel, model, style, instanceshtml);\r\n    // const clickedonStyle: Element = U.followIndexesPath(style.html, htmlPath) as Element;\r\n    $html.find('.tsclass').html('' + m.printableName()); // + (htmlDepth === 0 ? ' (root level)' : ' (level&nbsp;' + htmlDepth + ')') );\r\n    // console.log('setStyleEditor inherited, ', styleinherited);\r\n    let inheritedcontext: editorcontext = new editorcontext();\r\n    if (styleinherited) {\r\n      const inheritedTemplateRoot: Element = styleinherited.html;\r\n      inheritedcontext.templateLevel = U.followIndexesPath(inheritedTemplateRoot, indexedPath, 'childNodes', realindexfollowed);\r\n      // se ho cliccato su un non-radice non-ereditato, non posso prendere un frammento dell'ereditato, sarebbe un frammento diverso.\r\n      if (inheritedcontext.templateLevel !== context.templateLevel) { inheritedcontext.templateLevel = inheritedTemplateRoot; }\r\n    }\r\n    if (!model.isM2()) { this.setStyleEditor($styleInherited, model, m, styleinherited, inheritedcontext); }\r\n    else { $styleInherited[0].innerHTML = '<h5 class=\"text-danger\">Cannot get inheritance from M3 elements.</h5>'}\r\n    // console.log('setStyleEditor inheritable, ', styleinheritable);\r\n    let inheritablecontext: editorcontext = new editorcontext();\r\n    inheritablecontext.templateLevel = styleinheritable ? styleinheritable.html : null;\r\n    if (!model.isM1()) { this.setStyleEditor($styleInheritable, model, m, styleinheritable, inheritablecontext); }\r\n    else { $styleInheritable[0].innerHTML = '<h5 class=\"text-danger\">M1 elements cannot give inheritance.</h5>'}\r\n    U.detailButtonSetup($html);\r\n    /// start autosize\r\n    const v: IVertex = m instanceof IClassifier ? m.getVertex() : null;\r\n    this.sizeInputx = $html.find('input.sizex')[0] as HTMLInputElement;\r\n    this.sizeInputy = $html.find('input.sizey')[0] as HTMLInputElement;\r\n    this.sizeInputw = $html.find('input.sizew')[0] as HTMLInputElement;\r\n    this.sizeInputh = $html.find('input.sizeh')[0] as HTMLInputElement;\r\n    const $autosizew = $html.find('input.autowidth') as JQuery<HTMLInputElement>;\r\n    const $autosizeh = $html.find('input.autoheight') as JQuery<HTMLInputElement>;\r\n    const $autolayout = $html.find('input.autolayout') as JQuery<HTMLInputElement>;\r\n    const autosizew = $autosizew[0];\r\n    const autosizeh = $autosizeh[0];\r\n    const autolayout = $autolayout[0];\r\n    if (v && this.sizeInputx) {\r\n      autosizeh.disabled = autosizew.disabled = this.ownstylecontext.measurableCheckbox.disabled;\r\n      const isAutosize = v.isAutosize();\r\n      this.sizeInputw.disabled = autosizew.checked = isAutosize.x;\r\n      this.sizeInputh.disabled = autosizeh.checked = isAutosize.y;\r\n      const autosizeLevelTemplate: HTMLElement = templateRoot.firstChild as any;\r\n      const setAutosize = (statusx: boolean, statusy: boolean): void => {\r\n        const html: HTMLElement = autosizeLevelTemplate; // this.getHtmlFirstChild();\r\n        if (statusx !== null) {\r\n          if (statusx) {\r\n            html.dataset.autosizex = 'true';\r\n            html.style.width = 'auto';\r\n          } else {\r\n            html.dataset.autosizex = 'false';\r\n            html.style.width = '100%';\r\n          }\r\n        }\r\n        if (statusy !== null) {\r\n          if (statusy) {\r\n            html.dataset.autosizey = 'true';\r\n            html.style.height = 'auto';\r\n          } else {\r\n            html.dataset.autosizey = 'false';\r\n            html.style.height = '100%';\r\n          }\r\n        }\r\n        context.applyNodeChangesToInput();\r\n        v.refreshGUI();\r\n        v.refreshEdgesGUI();\r\n      };\r\n      $autosizew.on('change', () => { setAutosize(autosizew.checked, null); this.sizeInputw.disabled = autosizew.checked; });\r\n      $autosizeh.on('change', () => { setAutosize(null, autosizeh.checked); this.sizeInputh.disabled = autosizeh.checked; });\r\n      $autolayout.on('change', () => { v.setAutolayout(autolayout.checked); });\r\n      const vSize: GraphSize = v.getSize();\r\n      this.sizeInputx.value = '' + (vSize.x);\r\n      this.sizeInputy.value = '' + (vSize.y);\r\n      this.sizeInputw.value = '' + (vSize.w);\r\n      this.sizeInputh.value = '' + (vSize.h);\r\n      $(this.sizeInputx).on('change', () => { v.setSize(new GraphSize(+this.sizeInputx.value, null, null, null)); });\r\n      $(this.sizeInputy).on('change', () => { v.setSize(new GraphSize(null, +this.sizeInputy.value, null, null)); });\r\n      $(this.sizeInputw).on('change', () => { v.setSize(new GraphSize(null, null, +this.sizeInputw.value,  null)); });\r\n      $(this.sizeInputh).on('change', () => { v.setSize(new GraphSize(null, null, null, +this.sizeInputh.value)); });\r\n    } else { $html.find('.sizeContainer').remove(); }\r\n    autolayout.checked = v.autoLayout;\r\n    //// end autosize\r\n    // <meta>\r\n    //     <dependency><attributes><type>double</ </ </\r\n    //     <preview><img src=imgurl</img> or html diretto.</\r\n    // </meta>\r\n\r\n    // pulsanti per settare preview: \"takesnapshotOf / set as example... + select vertex with that style\"\r\n\r\n    const $arrowupp: JQuery<HTMLButtonElement> = ($html.find('button.arrow.upp') as JQuery<HTMLButtonElement>).on('click', (e: ClickEvent) => {\r\n      this.propertyBar.show(null, clickedRoot, null, false); });\r\n    const $arrowup: JQuery<HTMLButtonElement> = ($html.find('button.arrow.up') as JQuery<HTMLButtonElement>).on('click', (e: ClickEvent) => {\r\n      this.propertyBar.show(null, clickedLevel.parentElement, null, false); });\r\n    $arrowup[0].disabled = $arrowupp[0].disabled = htmlPath.length === 0 && m instanceof IClass;\r\n    // ($html.find('button.arrow.down') as JQuery<HTMLButtonElement>)[0].disabled = true;\r\n\r\n    showAsEdge.checked = false;\r\n    if (m instanceof IClass) {\r\n      showAsEdge.disabled = m.references.length < 2;\r\n      showAsEdgeText.innerHTML = 'Show as an edge' + (showAsEdge.disabled ? ' (require&nbsp;>=&nbsp;2&nbsp;references)' : '');\r\n      $(showAsEdge).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n        m.shouldBeDisplayedAsEdge(true);\r\n        this.showE(m, asEdge);\r\n      });\r\n    }\r\n\r\n  }\r\n  public showE(m: IClass | IReference, edge: IEdge) {\r\n    console.log('styleShowE(', m, ')');\r\n    const html: HTMLElement = this.getCopyOfTemplate(m as any, '.edge', this.display, true);\r\n    const $html = $(html);\r\n    const edgeStyle: HTMLSelectElement = $html.find('.edgeStyle')[0] as HTMLSelectElement;\r\n    const eColorCommon: HTMLInputElement = $html.find('.edgeColor.common')[0] as HTMLInputElement;\r\n    const eColorHighlight: HTMLInputElement = $html.find('.edgeColor.highlight')[0] as HTMLInputElement;\r\n    const eColorSelected: HTMLInputElement = $html.find('.edgeColor.selected')[0] as HTMLInputElement;\r\n    const eWidthCommon: HTMLInputElement = $html.find('.edgeWidth.common')[0] as HTMLInputElement;\r\n    const eWidthHighlight: HTMLInputElement = $html.find('.edgeWidth.highlight')[0] as HTMLInputElement;\r\n    const eWidthSelected: HTMLInputElement = $html.find('.edgeWidth.selected')[0] as HTMLInputElement;\r\n    const epRadiusC: HTMLInputElement = $html.find('.edgePoint.radius')[0] as HTMLInputElement;\r\n    const epStrokeWC: HTMLInputElement = $html.find('.edgePoint.strokeW')[0] as HTMLInputElement;\r\n    const epStrokeC: HTMLInputElement = $html.find('.edgePoint.stroke')[0] as HTMLInputElement;\r\n    const epFillC: HTMLInputElement = $html.find('.edgePoint.fill')[0] as HTMLInputElement;\r\n    const epRadiusH: HTMLInputElement = $html.find('.edgePointPreview.radius')[0] as HTMLInputElement;\r\n    const epStrokeWH: HTMLInputElement = $html.find('.edgePointPreview.strokeW')[0] as HTMLInputElement;\r\n    const epStrokeH: HTMLInputElement = $html.find('.edgePointPreview.stroke')[0] as HTMLInputElement;\r\n    const epFillH: HTMLInputElement = $html.find('.edgePointPreview.fill')[0] as HTMLInputElement;\r\n    const epRadiusS: HTMLInputElement = $html.find('.edgePointSelected.radius')[0] as HTMLInputElement;\r\n    const epStrokeWS: HTMLInputElement = $html.find('.edgePointSelected.strokeW')[0] as HTMLInputElement;\r\n    const epStrokeS: HTMLInputElement = $html.find('.edgePointSelected.stroke')[0] as HTMLInputElement;\r\n    const epFillS: HTMLInputElement = $html.find('.edgePointSelected.fill')[0] as HTMLInputElement;\r\n    U.pe(!edgeStyle, 'edgeStyle not found. root:', $html, 'selector: ' + '.edgeStyle');\r\n\r\n    let styleName = '';\r\n    switch (m.edgeStyleCommon.style) {\r\n      default:\r\n        U.pe(true, 'unrecognized EdgeStyle:', m.edgeStyleCommon.style);\r\n        break;\r\n      case EdgeModes.angular23Auto:\r\n        styleName = 'angular23Auto';\r\n        break;\r\n      case EdgeModes.angular2:\r\n        styleName = 'angular2';\r\n        break;\r\n      case EdgeModes.angular3:\r\n        styleName = 'angular3';\r\n        break;\r\n      case EdgeModes.straight:\r\n        styleName = 'straight';\r\n        break;\r\n    }\r\n    U.selectHtml(edgeStyle, styleName, false);\r\n    eWidthCommon.value = '' + m.edgeStyleCommon.width;\r\n    eWidthHighlight.value = '' + m.edgeStyleHighlight.width;\r\n    eWidthSelected.value = '' + m.edgeStyleSelected.width;\r\n    eColorCommon.value = m.edgeStyleCommon.color;\r\n    eColorHighlight.value = m.edgeStyleHighlight.color;\r\n    eColorSelected.value = m.edgeStyleSelected.color;\r\n\r\n    console.log('logic:', m, 'styleCColor:', m.edgeStyleCommon.color, 'output value:', eColorCommon.value);\r\n    epRadiusC.value = '' + m.edgeStyleCommon.edgePointStyle.radius;\r\n    epStrokeWC.value = '' + m.edgeStyleCommon.edgePointStyle.strokeWidth;\r\n    epStrokeC.value = m.edgeStyleCommon.edgePointStyle.strokeColor;\r\n    epFillC.value = m.edgeStyleCommon.edgePointStyle.fillColor;\r\n\r\n    epRadiusH.value = '' + m.edgeStyleHighlight.edgePointStyle.radius;\r\n    epStrokeWH.value = '' + m.edgeStyleHighlight.edgePointStyle.strokeWidth;\r\n    epStrokeH.value = m.edgeStyleHighlight.edgePointStyle.strokeColor;\r\n    epFillH.value = m.edgeStyleHighlight.edgePointStyle.fillColor;\r\n\r\n    epRadiusS.value = '' + m.edgeStyleSelected.edgePointStyle.radius;\r\n    epStrokeWS.value = '' + m.edgeStyleSelected.edgePointStyle.strokeWidth;\r\n    epStrokeS.value = m.edgeStyleSelected.edgePointStyle.strokeColor;\r\n    epFillS.value = m.edgeStyleSelected.edgePointStyle.fillColor;\r\n\r\n    $(edgeStyle).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      let mode: EdgeModes;\r\n      switch (edgeStyle.value) {\r\n        default:\r\n          U.pe(true, 'unrecognized edgeMode(', edgeStyle.value, ') among: ', EdgeModes);\r\n          break;\r\n        case EdgeModes.straight:\r\n        case 'straight':\r\n          mode = EdgeModes.straight;\r\n          break;\r\n        case EdgeModes.angular23Auto:\r\n        case 'angular23Auto':\r\n          mode = EdgeModes.angular23Auto;\r\n          break;\r\n        case EdgeModes.angular2:\r\n        case 'angular2':\r\n          mode = EdgeModes.angular2;\r\n          break;\r\n        case EdgeModes.angular3:\r\n        case 'angular3':\r\n          mode = EdgeModes.angular3;\r\n          break;\r\n      }\r\n      m.edgeStyleCommon.style = mode;\r\n      m.edgeStyleHighlight.style = mode;\r\n      m.edgeStyleSelected.style = mode;\r\n      edge.refreshGui();\r\n    });\r\n    $(eColorCommon).off('change.set').on('change.set',\r\n      (e: ChangeEvent) => {\r\n        m.edgeStyleCommon.color = eColorCommon.value;\r\n        edge.refreshGui();\r\n      });\r\n    $(eWidthCommon).off('change.set').on('change.set',\r\n      (e: ChangeEvent) => {\r\n        m.edgeStyleCommon.width = isNaN(+eWidthCommon.value) ? 0 : +eWidthCommon.value;\r\n        edge.refreshGui();\r\n      });\r\n    $(eColorHighlight).off('change.set').on('change.set',\r\n      (e: ChangeEvent) => {\r\n        m.edgeStyleHighlight.color = eColorHighlight.value;\r\n        edge.refreshGui();\r\n      });\r\n    $(eWidthHighlight).off('change.set').on('change.set',\r\n      (e: ChangeEvent) => {\r\n        m.edgeStyleHighlight.width = isNaN(+eWidthHighlight.value) ? 0 : +eWidthHighlight.value;\r\n        edge.refreshGui();\r\n      });\r\n    $(eColorSelected).off('change.set').on('change.set',\r\n      (e: ChangeEvent) => {\r\n        m.edgeStyleSelected.color = eColorSelected.value;\r\n        edge.refreshGui();\r\n      });\r\n    $(eWidthSelected).off('change.set').on('change.set',\r\n      (e: ChangeEvent) => {\r\n        m.edgeStyleSelected.width = isNaN(+eWidthSelected.value) ? 0 : +eWidthSelected.value;\r\n        edge.refreshGui();\r\n      });\r\n\r\n    $(epRadiusC).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleCommon.edgePointStyle.radius = isNaN(+epRadiusC.value) ? 0 : +epRadiusC.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epStrokeWC).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleCommon.edgePointStyle.strokeWidth = isNaN(+epStrokeWC.value) ? 0 : +epStrokeWC.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epStrokeC).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleCommon.edgePointStyle.strokeColor = epStrokeC.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epFillC).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleCommon.edgePointStyle.fillColor = epFillC.value;\r\n      edge.refreshGui();\r\n    });\r\n\r\n    $(epRadiusH).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleHighlight.edgePointStyle.radius = isNaN(+epRadiusH.value) ? 0 : +epRadiusH.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epStrokeWH).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleHighlight.edgePointStyle.strokeWidth = isNaN(+epStrokeWH.value) ? 0 : +epStrokeWH.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epStrokeH).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleHighlight.edgePointStyle.strokeColor = epStrokeH.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epFillH).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleHighlight.edgePointStyle.fillColor = epFillH.value;\r\n      edge.refreshGui();\r\n    });\r\n\r\n    $(epRadiusS).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleSelected.edgePointStyle.radius = isNaN(+epRadiusS.value) ? 0 : +epRadiusS.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epStrokeWS).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleSelected.edgePointStyle.strokeWidth = isNaN(+epStrokeWS.value) ? 0 : +epStrokeWS.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epStrokeS).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleSelected.edgePointStyle.strokeColor = epStrokeS.value;\r\n      edge.refreshGui();\r\n    });\r\n    $(epFillS).off('change.set').on('change.set', (e: ChangeEvent) => {\r\n      m.edgeStyleSelected.edgePointStyle.fillColor = epFillS.value;\r\n      edge.refreshGui();\r\n    });\r\n  }\r\n  private makeMeasurableOptions(measurableShell: Element, inputuseless: HTMLDivElement|HTMLTextAreaElement,\r\n                                style: StyleComplexEntry, context: editorcontext, indexedPath: number[]): void{\r\n    const $measurableShell = $(measurableShell);\r\n    const $meas_acc = $measurableShell.find('.meas_acc');\r\n    let i: number;\r\n    const searchForm: HTMLInputElement = $meas_acc.find('input.rulesearch').on('input', (e: Event) => {\r\n      let searchstr: string = searchForm.value.trim().toLowerCase();\r\n      if(searchstr === '') {\r\n        $meas_acc.find('.panel[prefixlc]').show();\r\n        return; }\r\n      $meas_acc.find('.panel[prefixlc]').hide();\r\n      $meas_acc.find('.panel[prefixlc*=\\'' + searchstr + '\\']').show();\r\n    })[0] as HTMLInputElement;\r\n    const resizearrows: {tl, tla, t, ta, tr, tra, ml, mla, mr, mra, bl, bla, b, ba, br, bra} = {} as any;\r\n    const dragarrows: {x, y} = {} as any;\r\n    const $arrowroot = $measurableShell.find('.rectangledrawing.outer');\r\n    const $innerroot = $arrowroot.find('.rectangledrawing');\r\n    resizearrows.tl = $innerroot.find('.top.left');\r\n    resizearrows.t = $innerroot.find('.side.top');\r\n    resizearrows.tr = $innerroot.find('.top.right');\r\n    resizearrows.ml = $innerroot.find('.side.left');\r\n    resizearrows.mr = $innerroot.find('.side.right');\r\n    resizearrows.bl = $innerroot.find('.bot.left');\r\n    resizearrows.b = $innerroot.find('.side.bot');\r\n    resizearrows.br = $innerroot.find('.bot.right');\r\n    resizearrows.tla = $arrowroot.find('.top.left.arrow');\r\n    resizearrows.ta = $arrowroot.find('.side.top.arrow');\r\n    resizearrows.tra = $arrowroot.find('.top.right.arrow');\r\n    resizearrows.mla = $arrowroot.find('.side.left.arrow');\r\n    resizearrows.mra = $arrowroot.find('.side.right.arrow');\r\n    resizearrows.bla = $arrowroot.find('.bot.left.arrow');\r\n    resizearrows.ba = $arrowroot.find('.side.bot.arrow');\r\n    resizearrows.bra = $arrowroot.find('.bot.right.arrow');\r\n    dragarrows.x = $measurableShell.find('.arrowh');\r\n    dragarrows.y = $measurableShell.find('.arrowv');\r\n\r\n    const updateArrowGUI = (arrow: HTMLInputElement, direction: string = null) => {\r\n      direction = direction || arrow.getAttribute('direction');\r\n      const innerbox: HTMLElement = $innerroot.find('*[direction = \"' + direction + '\"]')[0] as HTMLElement;\r\n      if (!innerbox) return;\r\n      innerbox.classList.remove('selected');\r\n      if (arrow.checked) innerbox.classList.add('selected');\r\n    };\r\n    const arrowchange = (e: ChangeEvent) => {\r\n      let tmp: any;\r\n      const arrow: HTMLInputElement = e.currentTarget;\r\n      const direction = arrow.getAttribute('direction');\r\n      const checked = arrow.checked;\r\n      const isrotatable = arrow.classList.contains('rot');\r\n      const isdraggable = arrow.classList.contains('drag');\r\n      const isresizable = !isdraggable && !isrotatable;\r\n      updateArrowGUI(arrow, direction);\r\n      if (isdraggable) { tmp = context.templateLevel.getAttribute(measurableRules._jquiDra + Draggableoptions.axis); }\r\n      if (isresizable) { tmp = context.templateLevel.getAttribute(measurableRules._jquiRes + Resizableoptions.handles); }\r\n      let currentHandles: string[] = U.replaceAll(tmp || '', ' ', '').split(',');\r\n      U.arrayRemoveAll(currentHandles, direction);\r\n      if (checked) { U.ArrayAdd(currentHandles, direction); }\r\n      U.arrayRemoveAll(currentHandles, '');\r\n      U.pe (Resizableoptions.handles !== 'handles', Resizableoptions.handles);\r\n      if (isdraggable) {\r\n        if (currentHandles.length) { context.templateLevel.setAttribute(measurableRules._jquiDra + Draggableoptions.axis, currentHandles.join(', ')); }\r\n        else { context.templateLevel.removeAttribute(measurableRules._jquiDra + Draggableoptions.axis); } }\r\n      if (isresizable){\r\n        if (currentHandles.length){ context.templateLevel.setAttribute(measurableRules._jquiRes + Resizableoptions.handles, currentHandles.join(', ')); }\r\n        else { context.templateLevel.removeAttribute(measurableRules._jquiRes + Resizableoptions.handles);} }\r\n      console.log('resizable:', isresizable, 'draggable:', isdraggable, currentHandles, 'tmp:', tmp, context);\r\n      context.applyNodeChangesToInput(); };\r\n    const rulelist: MeasurableRuleLists = Measurable.getRuleList(context.templateLevel, null, true);\r\n    /*\r\n    for (let key in measurableRules) {\r\n      key = measurableRules[key];\r\n      const counterselector: string = '[data-target=\".meas_acc > .panel > .' + key + '\"] .rulecounter';\r\n      const counter: HTMLElement = $measurableShell.find(counterselector)[0] as any;\r\n       U.pe(!counter, 'counter not found for rule: ' + key);\r\n      counter.innerText = rulelist[key].length;\r\n    }*/\r\n    // console.log('rules:', rulelist.all.length, rulelist, context.templateLevel);\r\n    // $measurableShell.find('.rulecontainer:not(.template)').remove();\r\n    for (i = 0; i < rulelist.all.length; i++) {\r\n      const rule: MeasurableRuleParts = rulelist.all[i];\r\n      U.pe(!rule.prefix, 'astdh', rule, rulelist, context.templateLevel);\r\n      if (rule.prefix === measurableRules._jquiDra && rule.name === Draggableoptions.axis) continue;\r\n      if (rule.prefix === measurableRules._jquiRes && rule.name === Resizableoptions.handles) continue;\r\n      if (false && rule.prefix === measurableRules._jquiDra && rule.name === Draggableoptions.axis) {\r\n        const value = rulelist._jquiDra[i].right;\r\n        const handles: string[] = (value.indexOf('all') !== -1 ? 'x,y' : U.replaceAll(value, ' ', '')).split(',');\r\n        let map: {x,y} = {} as any;\r\n        for (i = 0; i < handles.length; i++) {\r\n          switch(handles[i]) {\r\n            default: break;\r\n            case 'x': map.x = true; break;\r\n            case 'y': map.y = true; break; }\r\n        }\r\n        dragarrows.x.checked = map.x;\r\n        dragarrows.y.checked = map.y;\r\n        continue; }\r\n      if (false && rule.prefix === measurableRules._jquiRes && rule.name === Resizableoptions.handles) {\r\n        const handles: string[] = (rule.right.indexOf('all') !== -1 ? 'n,e,s,w,ne,se,sw,nw' : U.replaceAll(rule.right, ' ', '')).split(',');\r\n        let map: {tl, t, tr, l, r, bl, b, br} = {} as any;\r\n        for (i = 0; i < handles.length; i++) {\r\n          switch(handles[i]) {\r\n            default: break;\r\n            case 'n': map.t = true; break;\r\n            case 'ne': map.tr = true; break;\r\n            case 'nw': map.tl = true; break;\r\n            case 'e': map.r = true; break;\r\n            case 'w': map.l = true; break;\r\n            case 's': map.b = true; break;\r\n            case 'se': map.br = true; break;\r\n            case 'sw': map.bl = true; break; }\r\n        }\r\n        resizearrows.tl.checked = map.tl;\r\n        resizearrows.t.checked = map.t;\r\n        resizearrows.tr.checked = map.tr;\r\n        resizearrows.ml.checked = map.l;\r\n        resizearrows.mr.checked = map.r;\r\n        resizearrows.bl.checked = map.bl;\r\n        resizearrows.b.checked = map.b;\r\n        resizearrows.br.checked = map.br;\r\n        continue; }\r\n      const fakeevt: any = {};\r\n      fakeevt.currentTarget = $measurableShell.find('.ruletitle[data-target=\".meas_acc > .panel > .' + rule.prefix + '\"] > button.addrule')[0];\r\n      this.addRule(fakeevt, context, rule);\r\n    }\r\n\r\n    // per leggere la direzione da una freccia htmlcheckbox: getAttribute('direction');\r\n\r\n\r\n    let tmp: any;\r\n    let j: number;\r\n    tmp = context.templateLevel.getAttribute(measurableRules._jquiDra + Draggableoptions.axis);\r\n    const dragHandles: string[] = U.replaceAll(tmp || '', ' ', '').split(',');\r\n    tmp = context.templateLevel.getAttribute(measurableRules._jquiRes + Resizableoptions.handles);\r\n    const resHandles: string[] = U.replaceAll(tmp || '', ' ', '').split(',');\r\n    const handlesarr: string[][] = [dragHandles, resHandles];\r\n    for (j = 0; j < handlesarr.length; j++) {\r\n      const handles: string[] = handlesarr[j];\r\n      U.arrayRemoveAll(handles, '');\r\n      for (i = 0; i < handles.length; i++) {\r\n        const arrow: HTMLInputElement = $measurableShell.find('.arrow[direction=' + handles[i] + ']')[0] as any;\r\n        arrow.checked = true;\r\n        updateArrowGUI(arrow); }\r\n    }\r\n\r\n    $measurableShell.find('.arrow').on('change', arrowchange);\r\n    $measurableShell.find('button.addrule').off('click.addrule').on('click.addrule',\r\n      (e: ClickEvent) => { e.stopPropagation(); this.addRule(e, context); });\r\n  }\r\n\r\n  getruleShellRoot(node: Element): HTMLDivElement {\r\n    while (node.parentElement && !node.classList.contains('panel')) node = node.parentElement;\r\n    return node as HTMLDivElement; }\r\n\r\n  addRule(e: ClickEvent, context: editorcontext, ruleparts: MeasurableRuleParts = null): void {\r\n    let i: number;\r\n    const title = (e.currentTarget as HTMLElement).parentElement;\r\n    const $title = $(title);\r\n//    console.log(title, e);\r\n    const ruletype: string = U.trimStart(title.dataset.target.substr(title.dataset.target.lastIndexOf('>') + 1), ['.', ' ']);\r\n    const prefix: string = ruletype;\r\n    const counter: HTMLElement = $title.find('.rulecounter')[0];\r\n    counter.innerHTML = '' + (+counter.innerHTML + 1);\r\n    title.setAttribute('counter', counter.innerText);\r\n    // U.pe(counter.innerHTML === '2', '2');\r\n    // const targetsectionselector: string = title.dataset.target;\r\n    // const $targetsection: JQuery<HTMLElement> = $measurableShell.find(targetsectionselector) as  JQuery<HTMLElement>;\r\n    const appendparent = title.parentElement;\r\n    const newtemplate = U.cloneHtml($(appendparent).find('.template')[0], true);\r\n    newtemplate.classList.remove('template');\r\n    appendparent.insertBefore(newtemplate, title);\r\n    appendparent.insertBefore(title, newtemplate); // non esiste insertAfter, quindi ri-prependo il titolo.\r\n\r\n    const $newtemplate = $(newtemplate);\r\n    const nameinput: HTMLInputElement = $newtemplate.find('input.attrname')[0] as HTMLInputElement;\r\n    const left: HTMLInputElement = $newtemplate.find('input.leftside')[0] as HTMLInputElement;\r\n    const operator: HTMLSelectElement = $newtemplate.find('.operatorcontainer > select.operator')[0] as HTMLSelectElement;\r\n    const right: HTMLInputElement = $newtemplate.find('input.rightside')[0] as HTMLInputElement;\r\n    const target: HTMLInputElement = $newtemplate.find('input.target')[0] as HTMLInputElement;\r\n    const $testbutton: JQuery<HTMLButtonElement> = $newtemplate.find('button.executedebug') as any;\r\n\r\n\r\n    const dynamicjquiplaceholder = (valueinput: HTMLInputElement, phinput: HTMLInputElement, phdictionary: object) => {\r\n      $(valueinput).on('change', () => {\r\n        let valid: boolean = U.validateDatalist(valueinput);\r\n        if (!phdictionary) return;\r\n        console.log(' key:', valueinput.value, 'map:', phdictionary);\r\n        phinput.placeholder = valid ? phdictionary[valueinput.value] : 'invalid jQueryUi parameter';\r\n      });};\r\n\r\n    if (left && left.list || nameinput.list) switch (nameinput.dataset['target'] || left && left.dataset['target']) {\r\n      default: U.pe(true, 'unexpected datalist generator:', target, nameinput, left); break;\r\n      case measurableRules._jquiRes: dynamicjquiplaceholder(nameinput, right, ResizableoptionsPH); break;\r\n      case measurableRules._jquiDra: dynamicjquiplaceholder(nameinput, right, DraggableOptionsPH); break;\r\n      case measurableRules._jquiRot: dynamicjquiplaceholder(nameinput, right, RotatableoptionsPH); break;\r\n      case measurableRules.constraint: dynamicjquiplaceholder(left, right, MeasurableTemplateGenerator.constraintPlaceholderMap); break;\r\n    }\r\n\r\n    if (ruleparts) { // if existing rule\r\n      nameinput.value = ruleparts.name;\r\n      if (left) left.value = ruleparts.left;\r\n      console.log('md5', operator, ruleparts);\r\n      if (operator) U.selectHtml(operator, ruleparts.operator);\r\n      right.value = ruleparts.right;\r\n      target.value = ruleparts.target;\r\n    }\r\n    else {\r\n      if (prefix === measurableRules.onRefresh) {\r\n        context.templateLevel.classList.add(ReservedClasses.onRefresh)\r\n        context.applyNodeChangesToInput(); }\r\n    }\r\n    const rulespanelshell = this.getruleShellRoot(nameinput);\r\n    const $rulespanelshell = $(rulespanelshell);\r\n\r\n    if (e.type === \"click\") { // if not triggered.\r\n      $rulespanelshell.find('.collapse').addClass('show'); }\r\n    U.pe(rulespanelshell === nameinput, 'a');\r\n    let oldrulename = nameinput.value;\r\n    let leftdataset: Element = left ? $('datalist#' + left.getAttribute('list'))[0] as any : null;\r\n    let lefthashmap = null;\r\n    const mp: ModelPiece = this.propertyBar.selectedModelPiece;\r\n\r\n\r\n    const generateRuleValue = (): string => {\r\n      let ret: string =  (left ? left.value : '');\r\n      console.log('generaterule operator:', operator, operator && operator.value)\r\n      if (!operator || !(operator instanceof HTMLSelectElement)) return ret + Measurable.separator + right.value;\r\n      switch (operator.value) {\r\n        default: U.pe(true, 'unexpected measurable rule operator:' + operator.value, operator); break; // describing separators (arrows, do, then...) are ignored.\r\n        case '<=': case '<': case '>': case '>=': case '!=': case '==': case '=': case '===': case '!==': ret += Measurable.separator + operator.value; break; }\r\n      return ret + Measurable.separator + right.value; };\r\n    const generateOldRuleName = (): string => { return ruletype + oldrulename; };\r\n    const generateRuleName = (): string => { return ruletype + nameinput.value; };\r\n    const updateRule = () => {\r\n      if (left && (left.getAttribute('invalid') === '1' || right.getAttribute('invalid') === '1')) return;\r\n      const name: string = generateRuleName();\r\n      const value: string = generateRuleValue();\r\n      console.log('setattribute: name:', name, ' generated by:', ruletype + ' + ' + nameinput.value);\r\n      context.templateLevel.setAttribute(name, value);\r\n      context.applyNodeChangesToInput();\r\n    };\r\n    const isRuleNameTaken = (name: string): boolean => {\r\n      const $allrules = $rulespanelshell.find('input.attrname');\r\n      console.log('other names:', rulespanelshell, $allrules);\r\n      for (i = 0; i < $allrules.length; i++){\r\n        const ruleinput = $allrules[i] as HTMLInputElement;\r\n        if (ruleinput === nameinput) continue;\r\n        if (ruleinput.value === name) return true;\r\n      }\r\n      return false;\r\n    };\r\n    nameinput.pattern = '[^ \"\\']*';\r\n    const setRuleTarget = (str: string): void => {\r\n      context.templateLevel.setAttribute('relativeSelectorOf' + generateRuleName(), str);\r\n      U.pif(true, 'changetarget of: |' + ruletype + oldrulename + '|  |' + generateRuleName() + '|');\r\n      context.applyNodeChangesToInput();\r\n    };\r\n    const targetChanged = (): void => { setRuleTarget(target.value); };\r\n    const setRuleName = (name: string): void => {\r\n      if (!U.followsPattern(nameinput, name)) return;\r\n      console.log('setRuleName pt0 ', nameinput, 'istaken?', isRuleNameTaken(name));\r\n      if (oldrulename === name) return; // errore qui? durante l'add buttopn insert event questo è sempre true, e quando addo una rule sono tutte named \"1\". non penso più sia questo\r\n      console.log('setRuleName pt2 ', nameinput, 'istaken?', isRuleNameTaken(name));\r\n      const oldtarget = context.templateLevel.getAttribute('relativeSelectorOf' + ruletype + oldrulename);\r\n      while (isRuleNameTaken(name)) { name = U.increaseEndingNumber(name); }\r\n      context.templateLevel.removeAttribute(ruletype + oldrulename);\r\n      if (oldtarget) {\r\n        // non printa? ma funziona U.pif(true, 'rename) delete: |' + ruletype + oldrulename + '|; insert: |' + ruletype + name + '|');\r\n        context.templateLevel.removeAttribute('relativeSelectorOf' + ruletype + oldrulename);\r\n        context.templateLevel.setAttribute('relativeSelectorOf' + ruletype + name, oldtarget);\r\n      }\r\n      console.log('setRuleName pt3 ', nameinput, 'istaken?', isRuleNameTaken(name));\r\n      oldrulename = nameinput.value = name;\r\n      updateRule(); };\r\n    const leftChanged = () => {\r\n      updateRule();\r\n    };\r\n\r\n    const operatorChanged = () => {\r\n      updateRule();\r\n    };\r\n    const rightChanged = () => {\r\n      updateRule();\r\n    };\r\n    const nameChanged = () => { setRuleName(nameinput.value = nameinput.value.toLowerCase()); };\r\n\r\n    let input: InputPopup;\r\n    let tmp = this.getRuleEditor();\r\n    const editorshell: HTMLElement = tmp.editor;\r\n    const editorinput: HTMLElement = tmp.input;\r\n    const helplink: HTMLElement = U.toHtml('<span>Need help? read the <a href = \"https://github.com/DamianoNaraku/jjodel/wiki/Positional-element-editor\">documentation</a>.</span>');\r\n    const leftClicked = () => {\r\n      editorinput.innerText = String.fromCharCode(160) + left.value;\r\n      input = new InputPopup();\r\n      input.setText('Left side editor', null, helplink);\r\n      input.setNestedInputNode(editorshell, editorinput);\r\n      input.addOkButton(null, [(e: ClickEvent, value: string) => {\r\n        left.value = U.replaceAll(value, String.fromCharCode(160), ' ').trim();\r\n        leftChanged(); }]);\r\n      input.show();\r\n      U.setSelection(editorinput, editorinput.innerText.length);\r\n      $(editorinput).trigger('mouseup'); }\r\n    const rightClicked = () => {\r\n      editorinput.innerText = String.fromCharCode(160) + right.value;\r\n      input = new InputPopup();\r\n      input.setText('Right side editor', null, helplink);\r\n      input.setNestedInputNode(editorshell, editorinput);\r\n      input.addOkButton(null, [(e: ClickEvent, value: string) => {\r\n        right.value = U.replaceAll(value, String.fromCharCode(160), ' ').trim();\r\n        rightChanged(); }]);\r\n      input.show();\r\n      U.setSelection(editorinput, editorinput.innerText.length);\r\n      // mouseup triggera il ricalcolo dei suggerimenti. sia perchè potrebbero essercene già di pronti, sia per pulire i suggerimenti della precedente apertura (l'editor è unico)\r\n      $(editorinput).trigger('mouseup'); }\r\n    const targetClicked = () => {\r\n      editorinput.innerText = String.fromCharCode(160) + target.value;\r\n      input = new InputPopup();\r\n      input.setText('Target selector editor', null, helplink);\r\n      input.setNestedInputNode(editorshell, editorinput);\r\n      input.addOkButton(null, [(e: ClickEvent, value: string) => {\r\n        target.value = U.replaceAll(value, String.fromCharCode(160), ' ').trim();\r\n        targetChanged(); }]);\r\n      input.show();\r\n      U.setSelection(editorinput, editorinput.innerText.length);\r\n      $(editorinput).trigger('mouseup'); }\r\n\r\n    $(nameinput).off('change.name').on('change.name', nameChanged);\r\n    $(operator).off('change.operator').on('change.operator', operatorChanged);\r\n    if (left && (left.list || left instanceof HTMLSelectElement)) {\r\n      $(left).off('change.leftside').on('change.leftside', leftChanged); }\r\n    else { $(left).off('click.leftside').on('click.leftside', leftClicked); }\r\n\r\n    if (right && (right.list || right instanceof HTMLSelectElement)) {\r\n      $(right).off('change.rightside').on('change.rightside', rightChanged); }\r\n    else { $(right).off('click.rightside').on('click.rightside', rightClicked); }\r\n\r\n    if (target && (target.list || target instanceof HTMLSelectElement)) {\r\n      $(target).off('change.target').on('change.target', targetChanged); }\r\n    else { $(target).off('click.target').on('click.target', targetClicked); }\r\n\r\n\r\n    /*\r\n    $(nameinput).off('change.name').on('change.name', nameChanged);\r\n    $(left).off('change.leftside').on('change.leftside', leftChanged);\r\n    $(operator).off('change.operator').on('change.operator', operatorChanged);\r\n    $(right).off('change.rightside').on('change.rightside', rightChanged);\r\n    $(target).off('change.target').on('change.target', targetChanged);*/\r\n    $newtemplate.find('button.ruledelete').off('click.delete').on('click.delete', () => {\r\n      newtemplate.parentNode.removeChild(newtemplate);\r\n      counter.innerHTML = '' + (+counter.innerHTML - 1);\r\n      title.setAttribute('counter', counter.innerText);\r\n      context.templateLevel.removeAttribute(generateOldRuleName());\r\n      context.templateLevel.removeAttribute(generateRuleName()); //todo: potrebbe fare casini se qualcuno swappa nomi e cancella una regola?\r\n      if (prefix === measurableRules.onRefresh) { context.templateLevel.classList.remove(ReservedClasses.onRefresh); }\r\n      context.applyNodeChangesToInput();\r\n    });\r\n    if (!ruleparts) setRuleName(nameinput.getAttribute('defaultvalue'));\r\n\r\n\r\n    const isEventTriggerRule: boolean = Measurable.eventTriggers.indexOf(prefix as measurableRules) !== -1;\r\n    let debugleft = $newtemplate.find('.debugleft')[0];\r\n    let debugoperator = $newtemplate.find('.debugoperator')[0];\r\n    let debugright = $newtemplate.find('.debugright')[0];\r\n    let debugtarget = $newtemplate.find('.debugtarget')[0];\r\n    let debugtriggers = $newtemplate.find('.debugtriggers')[0];\r\n    if (!left) { U.remove(debugleft.parentElement); debugleft = null; }\r\n    if (!right) { U.remove(debugright.parentElement); debugright = null; }\r\n    if (!operator) { U.remove(debugoperator.parentElement); debugoperator = null; }\r\n    if (!target) { U.remove(debugtarget.parentElement); debugtarget = null; }\r\n    if (!isEventTriggerRule) { U.remove(debugtriggers.parentElement); debugtriggers = null; }\r\n    let execute = () => {\r\n      if (!context.graphLevel) { U.ps(true, 'Rules cannot be executed on elements not displayed on the graph.'); return; }\r\n      const attr: Attr = context.graphLevel.attributes.getNamedItem(generateRuleName().toLowerCase());\r\n      let parts: MeasurableRuleParts = new MeasurableRuleParts(attr, null, false);\r\n      U.pe(!parts.prefix, 'unexpected rule: ' + parts, this, attr, generateRuleName());\r\n      let output: MeasurableRuleParts = new MeasurableRuleParts(null, null, true);\r\n      try { output = parts.process(false); }\r\n      catch (exception) {\r\n        output = new MeasurableRuleParts(null, null, true);\r\n        console.error('testing the execution caused exception:', exception);\r\n        output.right = 'Exception:' + exception;\r\n      }\r\n      console.log('execution output:', output);\r\n      if (debugleft) debugleft.innerText = output.left;\r\n      if (debugoperator) debugoperator.innerText = output.operator;\r\n      if (debugright) debugright.innerText = output.right;\r\n      if (debugtarget) debugtarget.innerText = output.target;\r\n      if (debugtriggers) {\r\n        let str = 'Triggered ' + output.triggeredResults.length + ' rules.';\r\n        debugtriggers.innerText = 'Triggered ' + output.triggeredResults.length + ' rules.';\r\n        if (!output.triggeredResults.length) str += '\\n if this is not intended, remind that layoutable rules always start with the \"_\" prefix, eg: \"_export1\"'\r\n        debugtriggers.innerText = str;i\r\n      }\r\n    }\r\n    $testbutton.on('mousedown', execute);\r\n  }\r\n\r\n  isLoaded(): boolean{\r\n    //todo: carica styleEditor solo quando diventa visibile.\r\n    return true;\r\n  }\r\n\r\n  static ruleeditor: HTMLElement = null;\r\n  static ruleeditorinput: HTMLElement = null;\r\n  private getRuleEditor(): {editor: HTMLElement, input: HTMLElement} {\r\n    if (StyleEditor.ruleeditor) return {editor: StyleEditor.ruleeditor, input: StyleEditor.ruleeditorinput};\r\n    const callforeachkeyrecursive = (obj: object, f: (prePath: string, key: string) => void, pathuntilnow: string = '', visited_avoidloop: object[] = []) => {\r\n      let key0: string;\r\n      let key: string;\r\n      let val: any;\r\n      // U.pif((pathuntilnow + '.' + key).indexOf('model') > 0, 'pre!! autocompletem model,  path:', pathuntilnow, 'obj:', obj);\r\n      for (key0 in obj) {\r\n        key = key0;\r\n        val = obj[key];\r\n        const isArray: boolean = Array.isArray(val);\r\n        const isObject: boolean = typeof val === TSON_JSTypes.object;\r\n        if (isObject || isArray) {\r\n          if (obj === val) continue;\r\n          // nope, sta cosa dei duplicati così non va bene perchè ho degli alias e soprattutto su model fai la roba grezza if obj === val\r\n          // if (visited_avoidloop.includes(val)) continue; else visited_avoidloop.push(val);\r\n        }\r\n\r\n        if (typeof val === TSON_JSTypes.function) { key += U.getFunctionSignatureFromComments(val).signature + ';'; }\r\n        // else key += '/*' + U.getTSClassName(val) + '*/.';\r\n        else if (isArray) { key += '/*array*/'; }\r\n        else if (isObject) { key += '.'; } // no type comment per object, altrimenti il commento invalida la ricerca di next suggestions.\r\n        else key += '; /*' + typeof val + '*/';\r\n        U.pe(key === 'vertex', 'key:', key, 'obj[key]:', obj[key], 'val:', val, 'cond:', (val instanceof Object && !(val instanceof Function)));\r\n        f(pathuntilnow + '.', key);\r\n        // console.log(pathuntilnow, val);\r\n        if (val instanceof Element) continue;\r\n        //NB: do not use instanceof Object, might somehow fail on custom classes (ModelProtected)\r\n        if (typeof val === TSON_JSTypes.object) callforeachkeyrecursive(val, f, pathuntilnow + '.' + key0, visited_avoidloop);\r\n      }\r\n    }\r\n    let i: number;\r\n    // let preChars = ' ';\r\n    let spaceUsed = ' '; // String.fromCharCode(160);\r\n    let preChars = '};' + spaceUsed + '*/+-';\r\n    let autocompletekeys: AutocompleteMatch[] = [];\r\n\r\n    let addmanyv2 = (preChars: string, prePath: string, key: string) => {\r\n      // preChars = spazio, moltiplicazione, addizione...\r\n      if (prePath.charAt(0) === '.') prePath = prePath.substr(1);\r\n      for (i = 0; i < preChars.length; i++) { autocompletekeys.push( new AutocompleteMatch(preChars[i] + prePath, key) ); }\r\n    }\r\n    let contextobj: MeasurableEvalContext = MeasurableEvalContext.fillFake();\r\n    window['autocompletekeys'] = autocompletekeys;\r\n    window['autocompletesourceobj'] = contextobj;\r\n    window['autocompletemodel'] = contextobj.model;\r\n    let obj = {'this': contextobj};\r\n    callforeachkeyrecursive(obj, (prePath: string, key: string) => { addmanyv2(preChars, prePath, key); }, '', []);\r\n    let inputcontainer: HTMLElement = document.createElement('div');\r\n    let input: HTMLElement = document.createElement('div');\r\n    let suggestionlist: HTMLUListElement = document.createElement('ul');\r\n    inputcontainer.append(input);\r\n    inputcontainer.append(suggestionlist);\r\n    inputcontainer.setAttribute('style', \"width: calc(75vw - 152px); height: auto;\");\r\n    input.setAttribute('style', \"border: 1px solid #ced4da; border-radius: .25rem; padding: 1rem;\");\r\n    input.setAttribute('contenteditable', 'true');\r\n    U.autocompleteInputSetup(inputcontainer, autocompletekeys);\r\n    StyleEditor.ruleeditor = inputcontainer;\r\n    StyleEditor.ruleeditorinput = input;\r\n    return this.getRuleEditor(); }\r\n\r\n  private layoutHtmlSetup(model: IModel){\r\n    const $layout = this.$root.find('.layoutingRoot');\r\n    const $inputs: JQuery<HTMLInputElement | HTMLSelectElement> = $layout.find('.lopt').add(this.$root.find('.lopt.stabilizeSteps')) as any;\r\n    const renew = () => { this.computeLayoutUIFs(model, this.$root); this.fillLayoutHtmlValues(model, $inputs); };\r\n    // timeout necessario, altrimenti onchange fà prima renew() ri-settando il valore logico dentro l'html, e poi esegue\r\n    // l'uif con il vecchio valore logico, il nuovo valore cambiato dall'utente viene perso.\r\n    $('.dynamic_uif').on('change', (e: ChangeEvent) => { setTimeout(renew, 1); } );\r\n\r\n    const $edgePointSelect: JQuery<HTMLSelectElement> = $('.edgePointTreatment');\r\n    const layouting: Layouting = model.graph.layouting;\r\n    const myOptions = layouting.myOptions;\r\n    $edgePointSelect[0].value = myOptions.edgePointMode;\r\n    $edgePointSelect.on('change', (e: ChangeEvent) => {\r\n      switch ($edgePointSelect[0].value) {\r\n        default: U.pe(true, 'unexpected value of layouting.myoptions.edgePointMode:', $edgePointSelect[0].value); break;\r\n        case 'vertex':\r\n        case 'ignore':\r\n        case 'relative': myOptions.edgePointMode = $edgePointSelect[0].value; break;\r\n      }\r\n    });\r\n    renew();\r\n\r\n    const onRun = () => {\r\n      renew();\r\n    };\r\n    const onStop = () => {\r\n      renew();\r\n    };\r\n    layouting.setStyleEditorBackEvents(onRun, onStop);\r\n    $inputs.on('change', (e: ChangeEvent) => {\r\n      this.setLayoutHtmlValue(layouting, e.currentTarget);\r\n    });\r\n\r\n    const $start = this.$root.find('.layout.start').on('click', (e: ClickEvent) => {\r\n      layouting.start();\r\n    } );\r\n    const $stabilize = this.$root.find('.layout.stabilize').on('click', (e: ClickEvent) => {\r\n      layouting.stabilize();\r\n    } );\r\n    const $stop = this.$root.find('.layout.stop').on('click', (e: ClickEvent) => {\r\n      layouting.isRunning = false;\r\n      layouting.stop();\r\n    } );\r\n  }\r\n\r\n  private setLayoutHtmlValue(layout: Layouting, currentTarget: HTMLInputElement | HTMLSelectElement): void{\r\n    console.log('key2 optionval:', currentTarget.value, currentTarget);\r\n    this.setLayoutValue(layout, currentTarget.value, currentTarget.dataset.key); }\r\n\r\n  private setLayoutValue(layouting: Layouting, value0: string, key: string): void {\r\n    layouting.stop();\r\n    const value: any = U.deserialize(value0);\r\n    if (key.indexOf('custom.') === 0) {\r\n      switch (key) {\r\n        default: U.pe(true, \"unexpected custom uif key on setlayout value:\", key); break;\r\n        case 'custom.stabilizeSteps':\r\n          layouting.stabilizationSteps = value;\r\n          break;\r\n        case 'custom.scale_factor':\r\n          Layouting.scaleFactor = value;\r\n          break;\r\n      }\r\n    }\r\n    else {\r\n      key = key.replace(/\\.bh\\./, '.' + layouting.optionsDefault.physics.solver + '.');\r\n      layouting.setOption(key, value);\r\n    }\r\n    layouting.start();\r\n  }\r\n\r\n  private computeLayoutUIFs(model: IModel, $layout: JQuery<Element>): void{\r\n    const dictionary: Dictionary<string, boolean> = {};\r\n    const graph: IGraph = model.graph;\r\n    const layouting: Layouting = graph.layouting\r\n    const options = layouting.optionsDefault;\r\n    dictionary['atl'] = dictionary['bar'] = dictionary['rep'] = dictionary['hr'] = false;\r\n    switch (options.physics.solver) {\r\n      default: U.pe(true, 'unexpected switch value solver:', options.physics.solver);\r\n      case 'barnesHut':\r\n        dictionary['bar'] = true;\r\n        break;\r\n      case 'repulsion':\r\n        dictionary['rep'] = true;\r\n        break;\r\n      case 'hierarchicalRepulsion':\r\n        dictionary['hr'] = true;\r\n        break;\r\n      case 'forceAtlas2Based':\r\n        dictionary['atl'] = true;\r\n        break;\r\n    }\r\n    dictionary['stabilization'] = options.physics.stabilization.enabled;\r\n    dictionary['physics'] = options.physics.enabled;\r\n    dictionary['running'] = layouting.isRunning;\r\n    U.computeConditionalHides($layout, dictionary, false, true,\r\n      (e: Element) => $(e).slideDown(), (e: Element) => $(e).slideUp() );\r\n  }\r\n\r\n  private fillLayoutHtmlValues(model: IModel, $inputs: JQuery<HTMLSelectElement | HTMLInputElement>): void{\r\n    let i: number;\r\n    let val: string;\r\n    const layouting: Layouting = model.graph.layouting;\r\n    for (i = 0; i < $inputs.length; i++){\r\n      const input: HTMLSelectElement | HTMLInputElement = $inputs[i];\r\n      let key: string = input.dataset.key;\r\n      if (key.indexOf('custom.') === 0) {\r\n        switch (key) {\r\n          default: U.pe(true, \"unexpected custom uif key:\", key); break;\r\n          case 'custom.stabilizeSteps': val = '' + layouting.stabilizationSteps; break;\r\n\r\n          case 'custom.scale_factor': val = '' + Layouting.scaleFactor; break;\r\n        }\r\n      }\r\n      else {\r\n        // normal keys\r\n        key = key.replace(/\\.bh\\./, '.' + model.graph.layouting.optionsDefault.physics.solver + '.');\r\n        val = '' + model.graph.layouting.getOption(key);\r\n      }\r\n      if (input instanceof HTMLSelectElement) U.selectHtml(input, val, false);\r\n      else input.value = val;\r\n      // console.log('newkeyy:', key, input, input.value);\r\n    }\r\n  }\r\n}\r\n\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvZ3VpRWxlbWVudHMvdG9wLWJhci9tMnRjcmVhdG9yL20ydGNyZWF0b3IuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-m2tcreator',\n  templateUrl: './m2tcreator.component.html',\n  styleUrls: ['./m2tcreator.component.css']\n})\nexport class M2tcreatorComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  static willUseThis() {}\n\n}\n","export default \"\\r\\n#topbarShell{\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-basis: 100vw;\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  /*border-bottom: var(--mainBorder);*/\\r\\n  width: 100vw;\\r\\n  height: var(--topbarH);\\r\\n  max-height: var(--topbarH);\\r\\n}\\r\\n#topbar {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n}\\r\\n#topbar > * {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  /*margin: auto 0 auto 10px; /*T?RB?L*/\\r\\n}\\r\\n/*\\r\\n#topbar > button{\\r\\n  height: calc(var(--topbarH) - 10px);\\r\\n  flex-basis: 100px;\\r\\n  min-width: 100px;\\r\\n  max-width: 100px;\\r\\n}*/\\r\\n#topbar button.dropdownTitle:focus{\\r\\n  outline: none;\\r\\n}\\r\\n::ng-deep .popupContent .closeButton{\\r\\n  /* float: right; */\\r\\n  position: absolute;\\r\\n  right: 10px;\\r\\n  top: 10px;\\r\\n  height: 40px;\\r\\n  width: 40px;\\r\\n  border: 2px solid var(--mainFontColor);\\r\\n  background-color: var( --altBackgroundColor);\\r\\n  color: var(--mainFontColor);\\r\\n  font-size: 12px;\\r\\n}\\r\\n::ng-deep .popupContent .closeButton:hover{\\r\\n  right: 5px;\\r\\n  top: 5px;\\r\\n  height: 50px;\\r\\n  width: 50px;\\r\\n  background-color: red;\\r\\n  color: var(--LightmainFontColor);\\r\\n  font-weight: bolder;\\r\\n  font-size: 15px;\\r\\n}\\r\\n::ng-deep .screenWideShadow{\\r\\n  position: absolute;\\r\\n  display: none;\\r\\n  top: 0;\\r\\n  z-index: 2;\\r\\n  background-color: rgba(0,0,0,0.5);\\r\\n  border: none;\\r\\n  height: 100vh;\\r\\n  width: 100vw;\\r\\n}\\r\\n::ng-deep .popupContent{\\r\\n  top: 50%;\\r\\n  left: 50%;\\r\\n  -webkit-transform: translate(-50%, -50%);\\r\\n          transform: translate(-50%, -50%);\\r\\n  position: absolute;\\r\\n  display: block;\\r\\n  width: auto;\\r\\n  height: auto;\\r\\n  padding: 30px 60px;\\r\\n  border: 4px solid var(--mainBorderColor);\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  max-height: 90vh;\\r\\n  overflow: auto;\\r\\n}\\r\\n::ng-deep .typeTable {\\r\\n  margin: auto;\\r\\n}\\r\\n::ng-deep .typeRow {\\r\\n  height: 20px;\\r\\n  margin-bottom: 5px;\\r\\n}\\r\\n.typemaprow{\\r\\n  width: 450px;\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n::ng-deep .typeRow>*{\\r\\n  margin-top: auto;\\r\\n  margin-bottom: auto;}\\r\\n::ng-deep .alias{\\r\\n  padding-left: 10px;\\r\\n  padding-right: 10px;\\r\\n}\\r\\n::ng-deep .typeRow > *{\\r\\n}\\r\\n::ng-deep .typeName{\\r\\n  color: darkorange;\\r\\n}\\r\\n/************************************************     dropdown style     **********************************************/\\r\\n.dropdownTitle {\\r\\n  background-color: inherit; /*var(--mainBackgroundColor);*/\\r\\n  color: unset;\\r\\n  font-size: 16px;\\r\\n  border: none;\\r\\n  padding: 12px 16px;\\r\\n  cursor: inherit;\\r\\n}\\r\\n.dropdownContainer {\\r\\n  position: relative;\\r\\n  display: inline-block;\\r\\n  /*height: 80%;*/\\r\\n  width: auto;\\r\\n  cursor: pointer;\\r\\n}\\r\\n.dropdownContainer.right {\\r\\n  min-width: 100%;\\r\\n}\\r\\nul.dropdownContent {\\r\\n  display: none;\\r\\n  position: absolute;\\r\\n  background-color: var(--mainBackgroundColor);\\r\\n  min-width: 160px;\\r\\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\\r\\n  z-index: 1;\\r\\n  border: 3px solid var(--secondaryBorderColor);\\r\\n  padding: 0;\\r\\n  margin: 0;\\r\\n  top: 100%;\\r\\n}\\r\\nul.dropdownContent.right{\\r\\n  margin:0;\\r\\n  top: 0;\\r\\n  left: 100%;\\r\\n}\\r\\nli.dropdownContent {\\r\\n  padding: 0;\\r\\n  text-decoration: none;\\r\\n  display: block;\\r\\n}\\r\\nul.dropdownContent:not(:empty){\\r\\n  border-bottom-left-radius: 33px;\\r\\n}\\r\\n.dropdownTitle.right, .dropdownpadding{\\r\\n  font-size: inherit;\\r\\n  padding: 12px 16px;\\r\\n}\\r\\n.dropdownTitle.right:hover, .dropdownContainer.right:hover, .dropdownpadding:hover{\\r\\n  border-bottom-left-radius: 23px;\\r\\n}\\r\\n.dropdownTitle.right.todo, .dropdownpadding.todo{ border-bottom-left-radius: 0; }\\r\\n/*.dropdownTitle.right.todo:last-child, .dropdownpadding.todo:last-child{ border-bottom-left-radius: 33px; }*/\\r\\nli.dropdownContent:hover {\\r\\n  background-color: var(--secondaryBorderColor);\\r\\n  /*padding-left: 12px;*/\\r\\n  border-left: 8px solid #ff0000a0;\\r\\n  border-bottom-left-radius: 30px;\\r\\n  /*margin-left: -12px; bottom-round border, trouble con stili sovrapposti che lo ri-squadrano.\\r\\n   border-top-left-radius: 24px;*/\\r\\n}\\r\\n#topbar>.dropdownContainer:hover>.dropdownTitle{\\r\\n  border-top-left-radius: 30px;\\r\\n  border-top-right-radius: 30px;}\\r\\n#topbar>.dropdownContainer:hover>.dropdownTitle {\\r\\n  background-color: var(--secondaryBorderColor);\\r\\n}\\r\\n.buttonGridContainer {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  /* width: calc(40px * 5 - 1);*/\\r\\n  width: min(25vw, calc(40px * 5 + 10px * 5 - 1px)); /* button size + buttonshell margin, 4 per riga con massimo spazio avanzato prima del 5°*/\\r\\n}\\r\\n.buttonGridMinMargin {\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n  -webkit-box-flex: 0;\\r\\n          flex-grow: 0;\\r\\n  flex-shrink: 0;\\r\\n  margin: auto;\\r\\n  padding: 5px; }\\r\\n.buttonGrid {\\r\\n  width: 45px;\\r\\n  height: 45px;\\r\\n}\\r\\nul.dropdownContent{\\r\\n  min-height: 100%;\\r\\n}\\r\\n.dropdownContainer:hover>ul.dropdownContent {\\r\\n  display: block;\\r\\n}\\r\\n.dropdownContainer:hover > ul.dropdownContent:empty{\\r\\n  display:-webkit-box;\\r\\n  display:flex;\\r\\n}\\r\\nul.dropdownContent:empty:before{\\r\\n  content: '... Empty ...';\\r\\n  margin: auto;\\r\\n  display: -webkit-box;\\r\\n  display: flex;\\r\\n}\\r\\nul.dropdownContent:empty:hover{\\r\\n  background-color: darkred !important;\\r\\n  cursor: not-allowed !important;\\r\\n}\\r\\n/**********     changelog     **********/\\r\\n.changelogRoot{\\r\\n  position: fixed;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ndWlFbGVtZW50cy90b3AtYmFyL3RvcC1iYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsNENBQTRDO0VBQzVDLG9DQUFvQztFQUNwQyxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLDBCQUEwQjtBQUM1QjtBQUNBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0FBQ2Y7QUFDQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHFDQUFxQztBQUN2QztBQUFDOzs7Ozs7RUFNQztBQUNGO0VBQ0UsYUFBYTtBQUNmO0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxTQUFTO0VBQ1QsWUFBWTtFQUNaLFdBQVc7RUFDWCxzQ0FBc0M7RUFDdEMsNENBQTRDO0VBQzVDLDJCQUEyQjtFQUMzQixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxVQUFVO0VBQ1YsUUFBUTtFQUNSLFlBQVk7RUFDWixXQUFXO0VBQ1gscUJBQXFCO0VBQ3JCLGdDQUFnQztFQUNoQyxtQkFBbUI7RUFDbkIsZUFBZTtBQUNqQjtBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixNQUFNO0VBQ04sVUFBVTtFQUNWLGlDQUFpQztFQUNqQyxZQUFZO0VBQ1osYUFBYTtFQUNiLFlBQVk7QUFDZDtBQUNBO0VBQ0UsUUFBUTtFQUNSLFNBQVM7RUFDVCx3Q0FBZ0M7VUFBaEMsZ0NBQWdDO0VBQ2hDLGtCQUFrQjtFQUNsQixjQUFjO0VBQ2QsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsd0NBQXdDO0VBQ3hDLDRDQUE0QztFQUM1QyxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjtBQUNBO0VBQ0UsWUFBWTtBQUNkO0FBQ0E7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0FBQ3BCO0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsbUJBQW1CLENBQUM7QUFDdEI7RUFDRSxrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsaUJBQWlCO0FBQ25CO0FBSUEsdUhBQXVIO0FBRXZIO0VBQ0UseUJBQXlCLEVBQUUsOEJBQThCO0VBQ3pELFlBQVk7RUFDWixlQUFlO0VBQ2YsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIscUJBQXFCO0VBQ3JCLGVBQWU7RUFDZixXQUFXO0VBQ1gsZUFBZTtBQUNqQjtBQUNBO0VBQ0UsZUFBZTtBQUNqQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQiw0Q0FBNEM7RUFDNUMsZ0JBQWdCO0VBQ2hCLDRDQUE0QztFQUM1QyxVQUFVO0VBQ1YsNkNBQTZDO0VBQzdDLFVBQVU7RUFDVixTQUFTO0VBQ1QsU0FBUztBQUNYO0FBQ0E7RUFDRSxRQUFRO0VBQ1IsTUFBTTtFQUNOLFVBQVU7QUFDWjtBQUVBO0VBQ0UsVUFBVTtFQUNWLHFCQUFxQjtFQUNyQixjQUFjO0FBQ2hCO0FBRUE7RUFDRSwrQkFBK0I7QUFDakM7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixrQkFBa0I7QUFDcEI7QUFFQTtFQUNFLCtCQUErQjtBQUNqQztBQUNBLGtEQUFrRCw0QkFBNEIsRUFBRTtBQUNoRiw2R0FBNkc7QUFDN0c7RUFDRSw2Q0FBNkM7RUFDN0Msc0JBQXNCO0VBQ3RCLGdDQUFnQztFQUNoQywrQkFBK0I7RUFDL0I7aUNBQytCO0FBQ2pDO0FBQ0E7RUFDRSw0QkFBNEI7RUFDNUIsNkJBQTZCLENBQUM7QUFDaEM7RUFDRSw2Q0FBNkM7QUFDL0M7QUFFQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLGVBQWU7RUFDZiw4QkFBOEI7RUFDOUIsaURBQWlELEVBQUUseUZBQXlGO0FBQzlJO0FBRUE7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixtQkFBWTtVQUFaLFlBQVk7RUFDWixjQUFjO0VBQ2QsWUFBWTtFQUNaLFlBQVksRUFBRTtBQUVoQjtFQUNFLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7QUFHQTtFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsY0FBYztBQUNoQjtBQUNBO0VBQ0UsbUJBQVk7RUFBWixZQUFZO0FBQ2Q7QUFDQTtFQUNFLHdCQUF3QjtFQUN4QixZQUFZO0VBQ1osb0JBQWE7RUFBYixhQUFhO0FBQ2Y7QUFDQTtFQUNFLG9DQUFvQztFQUNwQyw4QkFBOEI7QUFDaEM7QUFJQSx3Q0FBd0M7QUFDeEM7RUFDRSxlQUFlO0FBQ2pCIiwiZmlsZSI6InNyYy9ndWlFbGVtZW50cy90b3AtYmFyL3RvcC1iYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4jdG9wYmFyU2hlbGx7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWJhc2lzOiAxMDB2dztcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQmFja2dyb3VuZENvbG9yKTtcclxuICAvKmJvcmRlci1ib3R0b206IHZhcigtLW1haW5Cb3JkZXIpOyovXHJcbiAgd2lkdGg6IDEwMHZ3O1xyXG4gIGhlaWdodDogdmFyKC0tdG9wYmFySCk7XHJcbiAgbWF4LWhlaWdodDogdmFyKC0tdG9wYmFySCk7XHJcbn1cclxuI3RvcGJhciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxufVxyXG4jdG9wYmFyID4gKiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICAvKm1hcmdpbjogYXV0byAwIGF1dG8gMTBweDsgLypUP1JCP0wqL1xyXG59LypcclxuI3RvcGJhciA+IGJ1dHRvbntcclxuICBoZWlnaHQ6IGNhbGModmFyKC0tdG9wYmFySCkgLSAxMHB4KTtcclxuICBmbGV4LWJhc2lzOiAxMDBweDtcclxuICBtaW4td2lkdGg6IDEwMHB4O1xyXG4gIG1heC13aWR0aDogMTAwcHg7XHJcbn0qL1xyXG4jdG9wYmFyIGJ1dHRvbi5kcm9wZG93blRpdGxlOmZvY3Vze1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAucG9wdXBDb250ZW50IC5jbG9zZUJ1dHRvbntcclxuICAvKiBmbG9hdDogcmlnaHQ7ICovXHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHJpZ2h0OiAxMHB4O1xyXG4gIHRvcDogMTBweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgd2lkdGg6IDQwcHg7XHJcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tbWFpbkZvbnRDb2xvcik7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKCAtLWFsdEJhY2tncm91bmRDb2xvcik7XHJcbiAgY29sb3I6IHZhcigtLW1haW5Gb250Q29sb3IpO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxufVxyXG46Om5nLWRlZXAgLnBvcHVwQ29udGVudCAuY2xvc2VCdXR0b246aG92ZXJ7XHJcbiAgcmlnaHQ6IDVweDtcclxuICB0b3A6IDVweDtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG4gIGNvbG9yOiB2YXIoLS1MaWdodG1haW5Gb250Q29sb3IpO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkZXI7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLnNjcmVlbldpZGVTaGFkb3d7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgdG9wOiAwO1xyXG4gIHotaW5kZXg6IDI7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG4gIHdpZHRoOiAxMDB2dztcclxufVxyXG46Om5nLWRlZXAgLnBvcHVwQ29udGVudHtcclxuICB0b3A6IDUwJTtcclxuICBsZWZ0OiA1MCU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHdpZHRoOiBhdXRvO1xyXG4gIGhlaWdodDogYXV0bztcclxuICBwYWRkaW5nOiAzMHB4IDYwcHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgdmFyKC0tbWFpbkJvcmRlckNvbG9yKTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluQmFja2dyb3VuZENvbG9yKTtcclxuICBtYXgtaGVpZ2h0OiA5MHZoO1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcbjo6bmctZGVlcCAudHlwZVRhYmxlIHtcclxuICBtYXJnaW46IGF1dG87XHJcbn1cclxuOjpuZy1kZWVwIC50eXBlUm93IHtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG59XHJcblxyXG4udHlwZW1hcHJvd3tcclxuICB3aWR0aDogNDUwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG46Om5nLWRlZXAgLnR5cGVSb3c+KntcclxuICBtYXJnaW4tdG9wOiBhdXRvO1xyXG4gIG1hcmdpbi1ib3R0b206IGF1dG87fVxyXG46Om5nLWRlZXAgLmFsaWFze1xyXG4gIHBhZGRpbmctbGVmdDogMTBweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG59XHJcbjo6bmctZGVlcCAudHlwZVJvdyA+ICp7XHJcbn1cclxuOjpuZy1kZWVwIC50eXBlTmFtZXtcclxuICBjb2xvcjogZGFya29yYW5nZTtcclxufVxyXG5cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICAgICBkcm9wZG93biBzdHlsZSAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi5kcm9wZG93blRpdGxlIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0OyAvKnZhcigtLW1haW5CYWNrZ3JvdW5kQ29sb3IpOyovXHJcbiAgY29sb3I6IHVuc2V0O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgcGFkZGluZzogMTJweCAxNnB4O1xyXG4gIGN1cnNvcjogaW5oZXJpdDtcclxufVxyXG4uZHJvcGRvd25Db250YWluZXIge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgLypoZWlnaHQ6IDgwJTsqL1xyXG4gIHdpZHRoOiBhdXRvO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4uZHJvcGRvd25Db250YWluZXIucmlnaHQge1xyXG4gIG1pbi13aWR0aDogMTAwJTtcclxufVxyXG51bC5kcm9wZG93bkNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW5CYWNrZ3JvdW5kQ29sb3IpO1xyXG4gIG1pbi13aWR0aDogMTYwcHg7XHJcbiAgYm94LXNoYWRvdzogMHB4IDhweCAxNnB4IDBweCByZ2JhKDAsMCwwLDAuMik7XHJcbiAgei1pbmRleDogMTtcclxuICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnlCb3JkZXJDb2xvcik7XHJcbiAgcGFkZGluZzogMDtcclxuICBtYXJnaW46IDA7XHJcbiAgdG9wOiAxMDAlO1xyXG59XHJcbnVsLmRyb3Bkb3duQ29udGVudC5yaWdodHtcclxuICBtYXJnaW46MDtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMTAwJTtcclxufVxyXG5cclxubGkuZHJvcGRvd25Db250ZW50IHtcclxuICBwYWRkaW5nOiAwO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxudWwuZHJvcGRvd25Db250ZW50Om5vdCg6ZW1wdHkpe1xyXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDMzcHg7XHJcbn1cclxuLmRyb3Bkb3duVGl0bGUucmlnaHQsIC5kcm9wZG93bnBhZGRpbmd7XHJcbiAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gIHBhZGRpbmc6IDEycHggMTZweDtcclxufVxyXG5cclxuLmRyb3Bkb3duVGl0bGUucmlnaHQ6aG92ZXIsIC5kcm9wZG93bkNvbnRhaW5lci5yaWdodDpob3ZlciwgLmRyb3Bkb3ducGFkZGluZzpob3ZlcntcclxuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAyM3B4O1xyXG59XHJcbi5kcm9wZG93blRpdGxlLnJpZ2h0LnRvZG8sIC5kcm9wZG93bnBhZGRpbmcudG9kb3sgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDsgfVxyXG4vKi5kcm9wZG93blRpdGxlLnJpZ2h0LnRvZG86bGFzdC1jaGlsZCwgLmRyb3Bkb3ducGFkZGluZy50b2RvOmxhc3QtY2hpbGR7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDMzcHg7IH0qL1xyXG5saS5kcm9wZG93bkNvbnRlbnQ6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNlY29uZGFyeUJvcmRlckNvbG9yKTtcclxuICAvKnBhZGRpbmctbGVmdDogMTJweDsqL1xyXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgI2ZmMDAwMGEwO1xyXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDMwcHg7XHJcbiAgLyptYXJnaW4tbGVmdDogLTEycHg7IGJvdHRvbS1yb3VuZCBib3JkZXIsIHRyb3VibGUgY29uIHN0aWxpIHNvdnJhcHBvc3RpIGNoZSBsbyByaS1zcXVhZHJhbm8uXHJcbiAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDI0cHg7Ki9cclxufVxyXG4jdG9wYmFyPi5kcm9wZG93bkNvbnRhaW5lcjpob3Zlcj4uZHJvcGRvd25UaXRsZXtcclxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAzMHB4O1xyXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAzMHB4O31cclxuI3RvcGJhcj4uZHJvcGRvd25Db250YWluZXI6aG92ZXI+LmRyb3Bkb3duVGl0bGUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNlY29uZGFyeUJvcmRlckNvbG9yKTtcclxufVxyXG5cclxuLmJ1dHRvbkdyaWRDb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG4gIC8qIHdpZHRoOiBjYWxjKDQwcHggKiA1IC0gMSk7Ki9cclxuICB3aWR0aDogbWluKDI1dncsIGNhbGMoNDBweCAqIDUgKyAxMHB4ICogNSAtIDFweCkpOyAvKiBidXR0b24gc2l6ZSArIGJ1dHRvbnNoZWxsIG1hcmdpbiwgNCBwZXIgcmlnYSBjb24gbWFzc2ltbyBzcGF6aW8gYXZhbnphdG8gcHJpbWEgZGVsIDXCsCovXHJcbn1cclxuXHJcbi5idXR0b25HcmlkTWluTWFyZ2luIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZ3JvdzogMDtcclxuICBmbGV4LXNocmluazogMDtcclxuICBtYXJnaW46IGF1dG87XHJcbiAgcGFkZGluZzogNXB4OyB9XHJcblxyXG4uYnV0dG9uR3JpZCB7XHJcbiAgd2lkdGg6IDQ1cHg7XHJcbiAgaGVpZ2h0OiA0NXB4O1xyXG59XHJcblxyXG5cclxudWwuZHJvcGRvd25Db250ZW50e1xyXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XHJcbn1cclxuLmRyb3Bkb3duQ29udGFpbmVyOmhvdmVyPnVsLmRyb3Bkb3duQ29udGVudCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuLmRyb3Bkb3duQ29udGFpbmVyOmhvdmVyID4gdWwuZHJvcGRvd25Db250ZW50OmVtcHR5e1xyXG4gIGRpc3BsYXk6ZmxleDtcclxufVxyXG51bC5kcm9wZG93bkNvbnRlbnQ6ZW1wdHk6YmVmb3Jle1xyXG4gIGNvbnRlbnQ6ICcuLi4gRW1wdHkgLi4uJztcclxuICBtYXJnaW46IGF1dG87XHJcbiAgZGlzcGxheTogZmxleDtcclxufVxyXG51bC5kcm9wZG93bkNvbnRlbnQ6ZW1wdHk6aG92ZXJ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZGFya3JlZCAhaW1wb3J0YW50O1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQgIWltcG9ydGFudDtcclxufVxyXG5cclxuXHJcblxyXG4vKioqKioqKioqKiAgICAgY2hhbmdlbG9nICAgICAqKioqKioqKioqL1xyXG4uY2hhbmdlbG9nUm9vdHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbn1cclxuIl19 */\"","import {Component, OnInit} from '@angular/core';\r\nimport {\r\n  ChangelogRoot,\r\n  EType,\r\n  IModel,\r\n  InputPopup,\r\n  Json,\r\n  LocalStorage,\r\n  M2Attribute,\r\n  M2Class,\r\n  M2Reference,\r\n  MClass,\r\n  MetaModel,\r\n  Model,\r\n  prjson2xml,\r\n  prxml2json,\r\n  ShortAttribETypes,\r\n  Status,\r\n  U,\r\n  WebsiteTheme\r\n} from '../../common/Joiner';\r\nimport {M2tcreatorComponent} from './m2tcreator/m2tcreator.component';\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\nimport ClickEvent = JQuery.ClickEvent;\r\n\r\n// @ts-ignore\r\n@Component({\r\n  selector: 'app-top-bar',\r\n  templateUrl: './top-bar.component.html',\r\n  styleUrls: ['./top-bar.component.css']\r\n})\r\nexport class TopBarComponent implements OnInit {\r\n\r\n  topbar: TopBar;\r\n  status: Status;\r\n  Object: Object = Object;\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    setTimeout(\r\n      () => {\r\n        this.status = Status.status;\r\n        this.topbar = TopBar.topbar;\r\n      }, 0);\r\n  }\r\n\r\n  createM2T_Rule(forModel: 'm1' | 'm2'): void {\r\n    M2tcreatorComponent.willUseThis();\r\n  }\r\n\r\n  displayResult(m2tname: string, m2tresult: string): void {\r\n    const input = new InputPopup();\r\n    input.setText(\"M2T \\\"\" + m2tname + \"\\\" result\", '', '');\r\n    const innerInput: HTMLTextAreaElement = document.createElement('textarea');\r\n    innerInput.value = m2tresult;\r\n    innerInput.style.width = '100%';\r\n    innerInput.style.minHeight = '75vh';\r\n    input.setNestedInputNode(null, innerInput, false);\r\n    input.show();\r\n  }\r\n\r\n  m2t_mysql_m2(): string {\r\n    const classes: M2Class[] = Status.status.mm.getAllClasses();\r\n    let tables: string[] = [];\r\n    let foreignKeys: string[] = [];\r\n    const getType = (attr: M2Attribute) => {\r\n      switch (attr.type.primitiveType.short){\r\n        // default: console.error('m2t mysql unsupported attr type:', attr.type.primitiveType.short, attr);\r\n        case ShortAttribETypes.EBoolean:\r\n        case ShortAttribETypes.EByte: return 'TINYINT(1)';\r\n        case ShortAttribETypes.EChar: return 'CHAR(1)';\r\n        case ShortAttribETypes.EDate:\r\n        default:\r\n        case ShortAttribETypes.EString: return 'VARCHAR' + (attr.getUpperbound() >= 0 ? '(' + attr.getUpperbound() + ')' : '');\r\n        case ShortAttribETypes.EShort:\r\n        case ShortAttribETypes.EInt:\r\n        case ShortAttribETypes.ELong:\r\n        case ShortAttribETypes.EFloat: return 'INT';\r\n      }\r\n    }\r\n    for (const classe of classes) {\r\n      let tableStr: string = 'CREATE TABLE ' + classe.name + ' {\\n';\r\n      let foreignkey: string = '';\r\n      // let pkFeatures: M2Feature[] = [];\r\n      const attributes: M2Attribute[] = [...classe.getAllAttributes()];\r\n      const references: M2Reference[] = [...classe.getAllReferences()];\r\n      const indent: string = '    ';\r\n      let hasIDField: boolean = false;\r\n      for (const attr of attributes) {\r\n        if (attr.name.toLowerCase() === 'id' && attr.type.primitiveType.short === ShortAttribETypes.EInt) {\r\n          hasIDField = true;\r\n        }\r\n        // if (attr.name.toLowerCase() === 'id') { pkFeatures = [attr]; }\r\n        // if (pkAttributes.length !== 1 && pkFeatures[0].name.toLowerCase() !== 'id') { pkFeatures.push(attr); }\r\n        tableStr += indent + attr.name + ' ' + getType(attr) + ',\\n';\r\n      }\r\n      for (const ref of references) {\r\n        if (ref.name.toLowerCase() === 'id') { hasIDField = true; }\r\n        // if (ref.name.toLowerCase() === 'id') { pkFeatures = [ref]; }\r\n        // if (pkAttributes.length !== 1 && pkFeatures[0].name.toLowerCase() !== 'id') { pkFeatures.push(ref); }\r\n        tableStr += indent + ref.name + ' INT,\\n';\r\n        foreignKeys.push('ALTER TABLE ' + classe.name + '\\n' +\r\n          indent + 'ADD FOREIGN KEY (' + ref.name + ') REFERENCES ' + ref.getTarget().name + '(id);');\r\n      }\r\n      if (!hasIDField) {\r\n        return \"ERROR on class: \" + classe.name +\r\n          \".\\nFor this beta version of mysql m2t all tables must have an \\\"id\\\" integer field.\"\r\n      }\r\n      // todo: PrimaryKey dovrebbe essere una annotation presente su [1,N] features.\r\n      tableStr += indent + 'PRIMARY KEY (id)\\n}';\r\n      tables.push(tableStr);\r\n    }\r\n    return tables.join('\\n\\n') + '\\n\\n## Constraints\\n\\n' +  foreignKeys.join('\\n\\n');\r\n  }\r\n  m2t_mysql_m1(): string {\r\n    return 'm2t mysql m1 to do';\r\n  }\r\n\r\n  m2t_byText_m2(): string{\r\n    return U.copyVisibleText(Status.status.mm.graph.container);\r\n  }\r\n  m2t_byText_m1(): string{\r\n    return U.copyVisibleText(Status.status.m.graph.container);\r\n  }\r\n}\r\n\r\nexport class TopBar {\r\n  static topbar: TopBar = null;\r\n  $shell: JQuery<HTMLElement> = null;\r\n  $topbar: JQuery<HTMLElement> = null;\r\n  html: HTMLElement = null;\r\n  topbar: HTMLElement = null;\r\n  static $checkboxesTheme: JQuery<HTMLInputElement>;\r\n  private $typemapSelect: JQuery<HTMLSelectElement>;\r\n  private typemapSelect: HTMLSelectElement;\r\n  typemapArr: string[] = [];\r\n\r\n  static staticInit(): void {\r\n    TopBar.topbar = new TopBar();\r\n  }\r\n\r\n  constructor() {\r\n    U.pe(!!TopBar.topbar, 'top bar instantiated twice, but it is a singleton.');\r\n    TopBar.topbar = this;\r\n    this.$shell = $('#topbarShell');\r\n    this.html = this.$shell[0];\r\n    this.$topbar = this.$shell.find('#topbar');\r\n    this.topbar = this.$topbar[0];\r\n    this.$typemapSelect = this.$topbar.find('.typemapselector') as JQuery<HTMLSelectElement>;\r\n    this.typemapSelect = this.$typemapSelect[0];\r\n    this.typemapSelect.value = Status.status.currentTypeAlias;\r\n    this.updateTypeMapList();\r\n    TopBar.topbar.updateRecents();\r\n    this.addEventListeners(); }\r\n\r\n  updateTypeMapList(): void {\r\n    TopBar.topbar.typemapArr = Object.keys(Status.status.typeAliasDictionary).filter((s: string) => s.indexOf('predefined.') === -1);\r\n  }\r\n\r\n  changeTypeMap(newTypeMap: string = null): void {\r\n    const oldTypemap: string = Status.status.currentTypeAlias;\r\n    if (!newTypeMap) { newTypeMap = this.typemapSelect.value; }\r\n    else { this.typemapSelect.value = newTypeMap; }\r\n    console.log('changetm:', oldTypemap, 'new:', newTypeMap);\r\n    if (oldTypemap === newTypeMap) return;\r\n    U.pe(!Status.status.typeAliasDictionary[newTypeMap], 'Invalid typemap name:', newTypeMap,\r\n      'allowed:', Status.status.typeAliasDictionary);\r\n    Status.status.currentTypeAlias = newTypeMap;\r\n    this.showTypeMap();\r\n    Status.status.mm.refreshGUI();\r\n    Status.status.m.refreshGUI();\r\n  }\r\n\r\n  createTypeMap(event: Event){\r\n    let newkey: string;\r\n    const userkey: string = Status.status.user.getID();\r\n    if (Status.status.typeAliasDictionary[userkey + '.custom']) {\r\n      newkey = U.increaseEndingNumber( userkey+'.custom 1', false, false,\r\n          s => !!Status.status.typeAliasDictionary[s]);\r\n    } else { newkey = userkey + '.custom'; }\r\n    Status.status.typeAliasDictionary[newkey] = new Map<ShortAttribETypes, string>();\r\n    this.updateTypeMapList();\r\n    setTimeout(() => {\r\n      console.log('tmkey:', newkey, 'select.val:', this.typemapSelect.value, 'mapselect', this.typemapSelect);\r\n      this.changeTypeMap(newkey);\r\n    }, 0);\r\n  }\r\n\r\n  showTypeMap(): void {\r\n    const $shell = this.$shell.find('#TypeMapper');\r\n    const $html = $shell.find('.TypeList');\r\n    const html = $html[0];\r\n    U.clear(html);\r\n    const table: HTMLTableElement = U.toHtml<HTMLTableElement>('<table class=\"typeTable\"><tbody></tbody></table>');\r\n    const tbody = table.firstChild as HTMLElement;\r\n    for (const m3TypeName in ShortAttribETypes) {\r\n      if ( !ShortAttribETypes[m3TypeName] ) { continue; }\r\n      const type: EType = EType.get(ShortAttribETypes[m3TypeName] as ShortAttribETypes);\r\n      const row: HTMLTableRowElement = U.toHtmlRow('' +\r\n        '<tr class=\"typeRow\">' +\r\n        '<td class=\"typeName\" data-m3name=\"' + type.short + '\">' + type.short + '</td>' +\r\n        '<td class=\"alias\">is aliased to</td>' +\r\n        '<td>' +\r\n        '<input class=\"AliasName form-control\" placeholder=\"Not aliased\" value=\"' + type.getName() + '\"' +\r\n        ' aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\">' +\r\n        '</td>' +\r\n        '</tr>');\r\n      tbody.appendChild(row);\r\n      console.log('row:', row, ', tbody:', tbody);\r\n    }\r\n    html.appendChild(table);\r\n    $html.find('input.AliasName').off('change').on('change', (e: ChangeEvent) => { TopBar.topbar.aliasChange(e); } );\r\n    $shell.show();\r\n    U.closeButtonSetup($shell); }\r\n\r\n  aliasChange(e: ChangeEvent): void {\r\n    const input: HTMLInputElement = e.target as HTMLInputElement;\r\n    let row: HTMLElement = input;\r\n    while (!row.classList.contains('typeRow')) { row = row.parentNode as HTMLElement; }\r\n    const typestr: string = $(row).find('.typeName')[0].dataset.m3name;\r\n    const typemap = Status.status.typeAliasDictionary[Status.status.currentTypeAlias];\r\n    const newAlias = input.value.trim();\r\n    if (typemap[typestr] === newAlias) return;\r\n    typemap[typestr] = newAlias;\r\n    Status.status.mm.refreshGUI();\r\n    Status.status.m.refreshGUI();\r\n    // const type: EType = EType.get(typestr as ShortAttribETypes);\r\n    // type.changeAlias(input.value);\r\n  }\r\n\r\n  static load_empty(e: JQuery.ClickEvent, prefix: string) {\r\n    const empty: string = prefix === 'm' ? Model.emptyModel : MetaModel.emptyModel;\r\n    TopBar.load(empty, prefix); }\r\n\r\n  static load_XMI_File(e: JQuery.ClickEvent, prefix: string) {\r\n    // filename:   rootClass.name + '.' + MetaModel.name;   es: path\\league.bowling\r\n    // open file dialog\r\n    // read file\r\n    // transform in json\r\n    const extension = Status.status.getActiveModel().isM1() ? '.' + Status.status.mm.fullname() : '.ecore';\r\n    let xmistring = '';\r\n    U.fileRead((e: ChangeEvent, files: FileList, fileContents: string[]) => {\r\n      U.pe(!fileContents || !files || fileContents.length !== files.length, 'Failed to get file contents:', files, fileContents);\r\n      U.pe(fileContents.length > 1, 'should not be possible to input multiple files.');\r\n      if (fileContents.length == 0) return;\r\n      xmistring = fileContents[0];\r\n      console.log('xmistr input: ', xmistring);\r\n      const xmlDoc = new DOMParser().parseFromString(xmistring,\"text/xml\");\r\n      console.log('xml:', xmlDoc);\r\n      let  jsonstr = prxml2json.xml2json(xmlDoc, '    ');\r\n      console.log('jsonstr input: ', jsonstr);\r\n      // U.pe(true, 'xml -> json', prxml2json, 'json -> xml', prjson2xml);\r\n      TopBar.load(jsonstr, prefix);\r\n    }, [extension], true);\r\n\r\n\r\n  }\r\n\r\n  static load(json: string, prefix: string) {\r\n    const m: IModel = prefix === 'm' ? Status.status.m : Status.status.mm;\r\n    const num: 1 | 2 = prefix === 'm' ? 1 : 2;\r\n    window['' + 'discardSave']();\r\n    if (m.name) m.save(false);\r\n    if (m.isM2()) {\r\n      Status.status.m.save(false);\r\n      LocalStorage.deleteLastOpened(1); }\r\n    LocalStorage.setLastOpened(num, json, null, null);\r\n    U.refreshPage(); }\r\n\r\n  static load_JSON_Text(e: JQuery.ClickEvent, prefix: string, callback:(val: string) => void = null): void {\r\n    const popup: InputPopup = new InputPopup();\r\n    popup.setText('paste JSON/string data', '', '');\r\n    popup.setInputNode('textarea');\r\n    popup.setInput('', 'paste data here.');\r\n    const finish = (e: ClickEvent, value: string) => {\r\n      popup.destroy();\r\n      if (callback) callback(value);\r\n      else TopBar.load(value, prefix); };\r\n    // $(popup).find('.closeButton');\r\n    popup.addOkButton('Load', [finish]);\r\n    popup.show(); }\r\n\r\n  static download_JSON_String(e: ClickEvent, modelstr: string): void {\r\n    const model: IModel = Status.status[modelstr];\r\n    U.pe(!model, 'invalid modelStr in export-save_str: |' + modelstr + '|, status:', status);\r\n    const savetxt: string = model.generateModelString();\r\n    U.pe(!savetxt || savetxt === '', 'empty str');\r\n    U.clipboardCopy(savetxt);\r\n    const popup: InputPopup = new InputPopup();\r\n    popup.setText((model.isM() ? 'Model' : 'Metamodel') + ' eCore/JSON', '', 'Already copied to clipboard.');\r\n    popup.setInputNode('textarea');\r\n    popup.setInput('' + savetxt);\r\n    popup.show(); }\r\n\r\n  static download_JSON_File(e: ClickEvent, modelstr: string): void {\r\n    const model: IModel = Status.status[modelstr];\r\n    U.pe(!model, 'invalid modelStr in export-save_json_file: |' + modelstr + '|, status:', status);\r\n    const savetxt: string = model.generateModelString();\r\n    U.download((model.name || (model.isM1() ? 'M1' : 'M2') + '_unnamed') + '.json', savetxt); }\r\n\r\n  static download_XMI_File(e: ClickEvent, modelstr: string): void {\r\n    const model: IModel = Status.status[modelstr];\r\n    U.pe(!model, 'invalid modelStr in export-save_xmi_file: |' + modelstr + '|, status:', status);\r\n    let savetxt: string = model.generateModelString();\r\n    const json: Json = JSON.parse(savetxt);\r\n    /*const parser = new FastXmi.j2xParser(new FastXmiOptions());\r\n    const xml: string = parser.parse(json, new FastXmiOptions());\r\n    savetxt = '' + xml; */\r\n    // savetxt = json2xml(savetxt, { header: true } as JS2XML); // , Options.JS2XML);\r\n    // console.log('xmljson: ', parser.parse(json));\r\n    savetxt = '' + prjson2xml.json2xml(json, ' ');\r\n    savetxt = TopBar.formatXml(savetxt).trim();\r\n    let name: string;\r\n    let extension: string;\r\n    if (model.isM()) {\r\n      const classRoot: MClass = (model as Model).classRoot;\r\n      name = (model.name || (classRoot ? classRoot.metaParent.name : 'M1_unnamed'));\r\n      extension = '.' + (Status.status.mm.childrens[0].name).toLowerCase();\r\n    } else {\r\n      name = (model.name || model.getDefaultPackage().name || 'M2_unnamed');\r\n      extension = '.ecore'; }\r\n    U.download(name + extension, savetxt); }\r\n\r\n  static formatXml(xml: string): string {\r\n    const reg = /(>)\\s*(<)(\\/*)/g; // updated Mar 30, 2015\r\n    const wsexp = / *(.*) +\\n/g;\r\n    const contexp = /(<.+>)(.+\\n)/g;\r\n    xml = xml.replace(reg, '$1\\n$2$3').replace(wsexp, '$1\\n').replace(contexp, '$1\\n$2');\r\n    const pad: string = '' || '\\t';\r\n    let formatted = '';\r\n    const lines = xml.split('\\n');\r\n    let indent = 0;\r\n    let lastType = 'other';\r\n    // 4 types of tags - single, closing, opening, other (text, doctype, comment) - 4*4 = 16 transitions\r\n    const transitions = {\r\n      'single->single': 0,\r\n      'single->closing': -1,\r\n      'single->opening': 0,\r\n      'single->other': 0,\r\n      'closing->single': 0,\r\n      'closing->closing': -1,\r\n      'closing->opening': 0,\r\n      'closing->other': 0,\r\n      'opening->single': 1,\r\n      'opening->closing': 0,\r\n      'opening->opening': 1,\r\n      'opening->other': 1,\r\n      'other->single': 0,\r\n      'other->closing': -1,\r\n      'other->opening': 0,\r\n      'other->other': 0\r\n    };\r\n    let i = 0;\r\n    for (i = 0; i < lines.length; i++) {\r\n      const ln = lines[i];\r\n\r\n      // Luca Viggiani 2017-07-03: handle optional <?xml ... ?> declaration\r\n      if (ln.match(/\\s*<\\?xml/)) {\r\n        formatted += ln + '\\n';\r\n        continue;\r\n      }\r\n      // ---\r\n\r\n      const single = Boolean(ln.match(/<.+\\/>/)); // is this line a single tag? ex. <br />\r\n      const closing = Boolean(ln.match(/<\\/.+>/)); // is this a closing tag? ex. </a>\r\n      const opening = Boolean(ln.match(/<[^!].*>/)); // is this even a tag (that's not <!something>)\r\n      const type = single ? 'single' : closing ? 'closing' : opening ? 'opening' : 'other';\r\n      const fromTo = lastType + '->' + type;\r\n      lastType = type;\r\n      let padding = '';\r\n\r\n      indent += transitions[fromTo];\r\n      let j: number;\r\n      for (j = 0; j < indent; j++) {\r\n        padding += pad;\r\n      }\r\n      if (fromTo === 'opening->closing') {\r\n        formatted = formatted.substr(0, formatted.length - 1) + ln + '\\n'; // substr removes line break (\\n) from prev loop\r\n      } else {\r\n        formatted += padding + ln + '\\n';\r\n      }\r\n    }\r\n\r\n    return formatted; }\r\n\r\n  updateRecents(): void {\r\n    let tmp: string;\r\n    tmp = localStorage.getItem('MM_SaveList');\r\n    if (!tmp || tmp === '' || tmp === 'null' || tmp === 'undefined') { tmp = JSON.stringify([]); }\r\n    const mmSaveList: string[] = JSON.parse(tmp);\r\n    tmp = localStorage.getItem('M_SaveList');\r\n    if (!tmp || tmp === '' || tmp === 'null' || tmp === 'undefined') { tmp = JSON.stringify([]); }\r\n    const mSaveList: string[] = JSON.parse(tmp);\r\n    const $metamodelHtml: JQuery<HTMLElement> = this.$shell.find('.metamodel');\r\n    const $modelHtml: JQuery<HTMLElement> = this.$shell.find('.model');\r\n    const recentContainerMM: HTMLElement = $metamodelHtml.find('.recentSaveContainer')[0];\r\n    const recentContainerM: HTMLElement = $modelHtml.find('.recentSaveContainer')[0];\r\n    console.log(recentContainerM, recentContainerMM);\r\n    const exampleChilds: HTMLElement[] = [recentContainerMM.childNodes[0], recentContainerM.childNodes[0]] as HTMLElement[];\r\n    U.clear(recentContainerMM);\r\n    U.clear(recentContainerM);\r\n    let i = -1;\r\n    let j = -1;\r\n    let child: HTMLElement;\r\n    const prefixarr = ['MM_', 'M_'];\r\n    const containerArr: HTMLElement[] = [recentContainerMM, recentContainerM];\r\n    const saveList: string[][] = [mmSaveList, mSaveList];\r\n\r\n    // U.pw(true, recentContainerM, recentContainerMM, exampleChilds, saveList);\r\n    while (++j < prefixarr.length) {\r\n      i = -1;\r\n      while (++i < saveList[j].length) {\r\n        child = U.cloneHtml(exampleChilds[j]);\r\n        $(child).find('.recentsave')[0].innerText = saveList[j][i];\r\n        // child.dataset.value = prefixarr[j] + mSaveList[i];\r\n        containerArr[j].appendChild(child);\r\n      }\r\n    }\r\n    $metamodelHtml.find('.recentsave').off('click.load').on('click.load', (e: Event) => {\r\n      this.loadRecent((e.currentTarget as HTMLElement).innerText, true); });\r\n    $modelHtml.find('.recentsave').off('click.load').on('click.load', (e: Event) => {\r\n      this.loadRecent((e.currentTarget as HTMLElement).innerText, false); });\r\n  }\r\n\r\n  loadRecent(name: string, isMetaModel: boolean): void {\r\n    const prefix: string = isMetaModel ? 'MM' : 'M';\r\n    const tmp: string = localStorage.getItem(prefix + '_' + name);\r\n    U.pe(!tmp || tmp === '' || tmp === 'null' || tmp === 'undefined', 'uncorrect savename: |' + prefix + '_' + name + '|');\r\n    localStorage.setItem('LastOpened' + prefix, tmp);\r\n    U.refreshPage(); }\r\n\r\n  addEventListeners() {\r\n    const $t = this.$topbar;\r\n    const $m2 = $t.find('.root.metamodel');\r\n    const $m1 = $t.find('.root.model');\r\n    TopBar.$checkboxesTheme = $t.find('input.themename') as JQuery<HTMLInputElement>;\r\n    $t.find('.TypeMapping').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.topbar.showTypeMap(); });\r\n    $t.find('.changelogbutton').off('click.btn').on('click.btn', (e: ClickEvent) => { ChangelogRoot.show(); });\r\n    TopBar.$checkboxesTheme.off('change.btn').on('change.btn', (e: ChangeEvent) => {\r\n      const checkboxTriggered: HTMLInputElement = e.currentTarget;\r\n      WebsiteTheme.setTheme(checkboxTriggered);\r\n    });\r\n    $m2.find('.save').off('click.btn').on('click.btn', (e: ClickEvent) => { Status.status.mm.save(false, true); } );\r\n    $m1.find('.save').off('click.btn').on('click.btn', (e: ClickEvent) => { Status.status.m.save(false, true); } );\r\n\r\n    // download\r\n    $m2.find('.model .download_JSON_String').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.download_JSON_String(e, 'mm'); } );\r\n    $m2.find('.model .download_JSON').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.download_JSON_File(e, 'mm'); } );\r\n    $m2.find('.model .download_XMI').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.download_XMI_File(e, 'mm'); } );\r\n    $m1.find('.model .download_JSON_String').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.download_JSON_String(e, 'm'); } );\r\n    $m1.find('.model .download_JSON').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.download_JSON_File(e, 'm'); } );\r\n    $m1.find('.model .download_XMI').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.download_XMI_File(e, 'm'); } );\r\n    //// load\r\n    $m2.find('.model .loadEmpty').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_empty(e, 'mm'); } );\r\n    $m2.find('.model .loadFile').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_XMI_File(e, 'mm'); } );\r\n    $m2.find('.model .loadTxt').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_JSON_Text(e, 'mm'); } );\r\n    $m1.find('.model .loadEmpty').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_empty(e, 'm'); } );\r\n    $m1.find('.model .loadFile').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_XMI_File(e, 'm'); } );\r\n    $m1.find('.model .loadTxt').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_JSON_Text(e, 'm'); } );\r\n\r\n\r\n    window['t'] = {\r\n      $: this.$topbar,\r\n      $t: $t,\r\n      $m1: $m1,\r\n      $m2: $m2,\r\n    }\r\n    $m1.find('.vertex .loadTxt').off('click.btn').on('click.btn', (e: ClickEvent) => {  } );\r\n    $m1.find('.viewpoints .loadTxt').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_JSON_Text(e, 'm', (val: string) => { TopBar.loadVP(val, 'm'); }); } );\r\n    $m2.find('.viewpoints .loadTxt').off('click.btn').on('click.btn', (e: ClickEvent) => { TopBar.load_JSON_Text(e, 'm', (val: string) => { TopBar.loadVP(val, 'mm'); }); } );\r\n\r\n\r\n  }\r\n\r\n\r\n  private static loadVP(val: string, prefix: 'm' | 'mm'): void{\r\n    window['discardSave'](); // stop autosave;\r\n    const model: IModel = prefix === 'm' ? Status.status.m : Status.status.mm;\r\n    Status.status.m.save(false);\r\n    LocalStorage.setLastOpened( prefix === 'm' ? 1 : 2, null, val, null);\r\n    U.refreshPage();\r\n  }\r\n\r\n}\r\n","import {\r\n  Dictionary,\r\n  ECoreEnum,\r\n  ELiteral, EOperation,\r\n  EType,\r\n  IAttribute,\r\n  IClassifier,\r\n  IPackage, IReference,\r\n  Json, MClass,\r\n  ModelPiece,\r\n  ShortAttribETypes,\r\n  Type,\r\n  U\r\n} from '../common/Joiner';\r\n\r\nexport class EEnum extends IClassifier {\r\n  childrens: ELiteral[];\r\n  serializable: boolean;\r\n\r\n  constructor(parent: IPackage, json: Json) {\r\n    super(parent, null);\r\n    if (this.parent) { U.ArrayAdd(this.parent.enums, this); }\r\n    this.parse(json);\r\n  }\r\n\r\n  getChildrenLiteral(index: number): ELiteral { return this.childrens[index]; }\r\n  getChildrenLiteralSelector(index: number): string { return this.getChildrenLiteral(index).getSelector(); }\r\n\r\n  fullname(): string { return this.parent.name + '.' + this.name; }\r\n\r\n  addLiteral(literal: string = null): ELiteral {\r\n    const attr: ELiteral = new ELiteral(this, null);\r\n    if (literal) attr.literal = literal;\r\n    if (attr.ordinal === Number.NEGATIVE_INFINITY) this.autofixEnumValues();\r\n    this.refreshGUI();\r\n    return attr; }\r\n\r\n  parse(json: Json, destructive?: boolean): void {\r\n    /*\r\n  <eClassifiers xsi:type=\"ecore:EEnum\" name=\"EnumNamecustom\" instanceTypeName=\"instanceTypeName\"\r\n      serializable=\"false\">\r\n    <eLiterals name=\"child2name\" value=\"3\" literal=\"child2literal\"/>\r\n    <eLiterals name=\"NameStr\" literal=\"LiteralStr\"/>\r\n  </eClassifiers>*/\r\n    // literal, name sono entrambi unici, ma è possibile che literal1.name === literal2.literal; .name è obbligatorio, .literal può essere null/empty\r\n    this.childrens = [];\r\n    this.instanceTypeName = '';\r\n    let i: number;\r\n    this.setName(Json.read<string>(json, ECoreEnum.namee, 'Enum_1'), false);\r\n\r\n    for (let key in json) {\r\n      const value: Json = json[key];\r\n      switch (key){\r\n        default: U.pe(true, 'Enum.parse() unexpected key:', key, 'in json:', json); break;\r\n        case ECoreEnum.xsitype: case ECoreEnum.namee: break;\r\n        case ECoreEnum.eLiterals: break;\r\n        case ECoreEnum.serializable: this.serializable = value === 'true'; break;\r\n        case ECoreEnum.instanceTypeName: this.instanceTypeName = value + ''; break;\r\n      }\r\n    }\r\n\r\n    const literals: Json[] = Json.getChildrens(json);\r\n    for (i = 0; i < literals.length; i++) { new ELiteral(this, literals[i]); }\r\n    if (!this.childrens.length) new ELiteral(this, null);\r\n    this.autofixEnumValues();\r\n  }\r\n\r\n  duplicate(nameAppend?: string, newParent?: ModelPiece): ModelPiece {\r\n    return undefined;\r\n  }\r\n\r\n  fieldChanged(e: JQuery.ChangeEvent): void {\r\n    const html: HTMLElement = e.currentTarget;\r\n    if (html.classList.contains('AddFieldSelect')) return;\r\n    switch (html.tagName.toLowerCase()) {\r\n    case 'select':\r\n    default: U.pe(true, 'unexpected tag:', html.tagName, ' of:', html, 'in event:', e); break;\r\n    case 'textarea':\r\n    case 'input':\r\n      const input = html as HTMLInputElement;\r\n      input.value = this.setName((input as HTMLInputElement).value); break;\r\n    }\r\n  }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, MClass> = null): Json {\r\n    const arr: Json[] = [];\r\n    const model: Json = {};\r\n    model[ECoreEnum.xsitype] = 'ecore:EEnum';\r\n    model[ECoreEnum.namee] = this.name;\r\n    model[ECoreEnum.serializable] = this.serializable ? \"true\" : \"false\";\r\n    if (this.instanceTypeName) model[ECoreEnum.instanceTypeName] = this.instanceTypeName;\r\n    model[ECoreEnum.eLiterals] = arr;\r\n    let i;\r\n    for (i = 0; i < this.childrens.length; i++) { arr.push(this.childrens[i].generateModel(loopDetectionObj)); }\r\n    return model; }\r\n\r\n  /*must remain private*/ private autofixEnumValues(): void {\r\n    // valori duplicati sono ammessi se esplicitamente inseriti, ma se il campo è vuoto io cerco di generarli\r\n    let i: number;\r\n    let valuesfound: Dictionary<number, boolean> = {};\r\n    let firsthole: number = 0;\r\n    for (i = 0; i < this.childrens.length; i++) {\r\n      const lit: ELiteral = this.childrens[i];\r\n      if (lit.ordinal !== Number.NEGATIVE_INFINITY) {\r\n        valuesfound[lit.ordinal] = true;\r\n        if (lit.ordinal === firsthole) { while (valuesfound[++firsthole]) { ; } } // update first hole.\r\n        continue; }\r\n      lit.ordinal = firsthole;\r\n      if (!lit.name) lit.name = this.name + '_' + lit.ordinal;\r\n    }\r\n  }\r\n\r\n  isChildNameTaken(s: string): boolean{\r\n    let i;\r\n    for (i = 0; i < this.childrens.length; i++) { if (s === this.childrens[i].literal) { return true; } }\r\n    return false; }\r\n\r\n  // indirectly called by setLiteral() -> setName(); using this['isChildLiteralTaken']();\r\n  private isChildLiteralTaken(s: string): boolean { return this.isChildNameTaken(s); }\r\n\r\n\r\n  delete(refreshgui: boolean = true): void {\r\n    const oldparent = this.parent;\r\n    super.delete(false);\r\n    if (oldparent) U.arrayRemoveAll(oldparent.enums, this);\r\n    // todo: che fare con gli attributes che hanno questo enum come tipo? per ora cambio in stringa.\r\n    let i: number = 0;\r\n    for (i = 0; i < Type.all.length; i++) {\r\n      if (Type.all[i].enumType !== this) continue;\r\n      Type.all[i].changeType(null, EType.get(ShortAttribETypes.EString), null, null); }\r\n    Type.updateTypeSelectors(null, false, true, false);\r\n  }\r\n\r\n  getDefaultValueStr(): string { return this.childrens[0].name; }\r\n\r\n  getAllowedValuesStr(): string[] {\r\n    const arr: string[] = [];\r\n    let i: number;\r\n    for (i = 0; i < this.childrens.length; i++) { arr.push(this.childrens[i].name); }\r\n    return arr; }\r\n\r\n  getAllowedValuesInt(): number[] {\r\n    const arr: number[] = [];\r\n    let i: number;\r\n    for (i = 0; i < this.childrens.length; i++) { arr.push(this.childrens[i].ordinal); }\r\n    return arr; }\r\n\r\n}\r\n\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IReference,\r\n  Status,\r\n  DetectZoom,\r\n  Model,\r\n  ECoreAttribute,\r\n  ECoreClass,\r\n  ECorePackage,\r\n  ECoreReference,\r\n  ECoreRoot,\r\n  Point,\r\n  GraphPoint,\r\n  IModel,\r\n  Size,\r\n  MAttribute,\r\n  MReference,\r\n  MClass,\r\n  M2Class,\r\n  EdgeStyle,\r\n  M2Reference,\r\n  M2Attribute,\r\n  M3Package,\r\n  M3Reference,\r\n  M3Attribute,\r\n  M3Feature,\r\n  EdgeModes,\r\n  EdgePointStyle, EOperation, EParameter, Typedd, Type, EEnum, GraphSize, ViewRule, ExtEdge, IClass,\r\n} from '../common/Joiner';\r\n\r\n\r\nexport abstract class IClassifier extends ModelPiece{\r\n  parent: IPackage;\r\n  childrens: Typedd[];\r\n  vertex: IVertex = null;\r\n  instanceTypeName: string;\r\n  // WITHOUT edges\r\n  private sidebarHtml: HTMLElement;\r\n\r\n  static defaultSidebarHtml(): HTMLElement {\r\n    return U.toHtml<HTMLElement>('<div class=\"sidebarNode class\"><p class=\"sidebarNodeName\">$##name$</p></div>'); }\r\n\r\n\r\n\r\n\r\n  generateVertex(): IVertex {\r\n    if (this.vertex) return;\r\n    const lastView: ViewRule = this.getLastViewWith('vertexSize');\r\n    const size: GraphSize =  lastView ? lastView.vertexSize : null;\r\n    const v: IVertex = this.vertex = new IVertex(this, size);\r\n    return v; }\r\n\r\n  getSidebarHtml(): HTMLElement {\r\n    if (this.sidebarHtml) { return this.sidebarHtml; }\r\n    return IClassifier.defaultSidebarHtml(); }\r\n\r\n  setName(value: string, refreshGUI: boolean = false): string {\r\n    super.setName(value, refreshGUI);\r\n    if (refreshGUI) this.refreshInstancesGUI();\r\n    // for (i = 0; model && i < model.instances.length; i++) { model.instances[i].sidebar.fullnameChanged(oldName, this.name); }\r\n    Type.updateTypeSelectors(null, false, true, true);\r\n    return this.name; }\r\n\r\n\r\n  getVertex(canMakeIt: boolean = true): IVertex {\r\n    const displayAsEdge: boolean = this.shouldBeDisplayedAsEdge();\r\n    // U.pw(displayAsEdge, 'getvertex called on a class that should not have a vertex.', this);\r\n    if (canMakeIt && !displayAsEdge && this.vertex === null && Status.status.loadedLogic) { this.generateVertex(); }\r\n    return this.vertex; }\r\n\r\n  getEcoreTypeName(): string {\r\n    if (this instanceof EEnum || M2Class) return Type.classTypePrefix + this.name;\r\n    return Type.classTypePrefix + this.parent.name;\r\n  }\r\n\r\n  delete(refreshgui: boolean = true): void {\r\n    if (!this.shouldBeDisplayedAsEdge()){ this.getVertex().remove(); }\r\n    super.delete(false);\r\n  }\r\n}\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  M2Class,\r\n  IReference,\r\n  Status,\r\n  DetectZoom,\r\n  Model,\r\n  ECoreAttribute,\r\n  ECoreClass,\r\n  ECorePackage,\r\n  ECoreReference,\r\n  ECoreRoot,\r\n  Point,\r\n  GraphPoint,\r\n  IModel,\r\n  Size,\r\n  EdgeStyle, MFeature, M2Attribute, M3Class, IClass,\r\n  Dictionary, GraphSize, MPackage, MReference, MAttribute, M2Reference, M2Feature, EOperation, Typedd, EAnnotation,\r\n} from '../common/Joiner';\r\n\r\nexport class MClass extends IClass {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  metaParent: M2Class;\r\n  // instances: ModelNone[];\r\n  parent: MPackage;\r\n  childrens: MFeature[];\r\n  attributes: MAttribute[];\r\n  references: MReference[];\r\n  referencesIN: MReference[];\r\n  // external pointers to this class.\r\n  // id: number;\r\n  // instances: ModelPiece[];\r\n  // metaParent: M2Class;\r\n  // parent: MPackage;\r\n  // childrens: ModelPiece[];\r\n  /*attributes: MAttribute[];\r\n  references: MReference[];\r\n  referencesIN: MReference[];\r\n*/\r\n\r\n  constructor(pkg: MPackage, json: Json, metaVersion: M2Class) {\r\n    super(pkg, metaVersion);\r\n    if (!pkg && !json && !metaVersion) { return; } // empty constructor for .duplicate();\r\n    U.pe(!metaVersion, 'null metaparent?');\r\n    this.parse(json, true);\r\n  }\r\n\r\n  public doUnsetExtends(superclass: M2Class): void {\r\n    if (!superclass) return;\r\n    let i: number;\r\n    let j: number;\r\n    let inheritablefeatures: Dictionary<number, M2Feature> = {};\r\n    // prendo la lista di tutte le m2-feature che dovrei istanziare, direttamente o per eredità.\r\n    for (i = -1; i < this.metaParent.extends.length; i++) {\r\n      let m2class = i === -1? this.metaParent : this.metaParent.extends[i];\r\n      if (m2class == superclass) continue;\r\n      for (j = 0; j < m2class.childrens.length; j++) {\r\n        let m2feature = m2class.childrens[j];\r\n        inheritablefeatures[m2feature.id] = m2feature;\r\n      }\r\n    }\r\n    // cancello le m2-feature presenti ma fuori dalla lista di quelle che dovrebbero esserci.\r\n    let childrens: MFeature[] = U.shallowArrayCopy(this.childrens);\r\n    for (i = 0; i < childrens.length; i++) {\r\n      const feature: MFeature = childrens[i];\r\n      if (inheritablefeatures[feature.metaParent.id]) continue;\r\n      // if (superclass.childrens.indexOf(feature.metaParent) < 0) continue; OLD System was wrong:\r\n      // se un attributo lo estendo da due classi diverse, il delete di un extend non deve cancellarlo.\r\n      // es: B1 extends A; B2 extends A; C extends B1, B2; C eredita 2 volte le cose di A, una le cose di B1 e una le cose di B2,\r\n      // se tolgo l'extend a B1 devo tenere quelle di A.\r\n      feature.delete(); }\r\n    this.refreshGUI_Alone(); }\r\n\r\n  //todo: fai getByName con prefisso della classe inherited per console. tipo:  ClassC.ClassB1:samenamefeature vs ClassC.ClassB2:samenamefeature\r\n  public changeMetaParent(newMetaParent: M2Class, allowFeatureRemoval: boolean = false, refreshGui: boolean = false): void {\r\n    if (!newMetaParent) return;\r\n    if (this.metaParent) U.arrayRemoveAll(this.metaParent.instances, this);\r\n    this.metaParent = newMetaParent;\r\n    this.metaParent.instances.push(this);\r\n    const attributes: M2Attribute[] = [...newMetaParent.getAllAttributes()]; // need shallow copy\r\n    const references: M2Reference[] = [...newMetaParent.getAllReferences()];\r\n    let i: number;\r\n    // exclude the ones already instantiated (intersection)\r\n    for (i = 0; i < this.attributes.length; i++) { U.arrayRemoveAll(attributes, this.attributes[i].metaParent); }\r\n    for (i = 0; i < this.references.length; i++) { U.arrayRemoveAll(references, this.references[i].metaParent); }\r\n\r\n    if (allowFeatureRemoval) { // remove the exceeding ones\r\n      let thisAttrs: MAttribute[] = [... this.attributes];\r\n      let thisRefs: MReference[] = [... this.references];\r\n      for (i = 0; i < thisAttrs.length; i++) {\r\n        const elem: MAttribute = thisAttrs[i];\r\n        if (attributes.indexOf(elem.metaParent) >= 0) { refreshGui = true; console.log(\"7x removing attr\", elem.metaParent); elem.delete(false); }\r\n      }\r\n      for (i = 0; i < thisRefs.length; i++) {\r\n        const elem: MReference = thisRefs[i];\r\n        if (references.indexOf(elem.metaParent) >= 0) { refreshGui = true; console.log(\"7x removing ref\", elem.metaParent); elem.delete(false); }\r\n      }\r\n    }\r\n    // create the missing ones.\r\n    for (i = 0; i < attributes.length; i++) { new MAttribute(this, null, attributes[i]); }\r\n    for (i = 0; i < references.length; i++) { new MReference(this, null, references[i]); }\r\n\r\n    if (refreshGui) this.refreshGUI_Alone();\r\n  }\r\n\r\n  // getAllChildrens(): MFeature[] { return (this.childrens); }\r\n  getAllChildrens(includeOperations: boolean = true,\r\n                    includeAnnotations: boolean = true, includeAttributes: boolean = true, includeReferences: boolean = true,\r\n                    includeShadowed: boolean | null = false/*null = both shadow and unshadow, true = onlyshadowed*/): ModelPiece[] {\r\n    const arr: ModelPiece[] = [];\r\n    let j: number;\r\n    const extChildrens: ModelPiece[] = [...this.childrens, ...this.metaParent.annotations, ...this.metaParent.operations];\r\n    for (j = 0; j < extChildrens.length; j++) {\r\n      const child: ModelPiece = extChildrens[j];\r\n      console.log(child.metaParent, this.metaParent, child, this);\r\n      if (includeAttributes && child instanceof IAttribute) { arr.push(child); continue; }\r\n      if (includeReferences && child instanceof IReference) { arr.push(child); continue; }\r\n      if (includeOperations && child instanceof EOperation) { arr.push(child); continue; }\r\n      if (includeAnnotations && child instanceof EAnnotation) { arr.push(child); continue; }\r\n    }\r\n    return arr; }\r\n\r\n  getAllAttributes(): Set<MAttribute> { return new Set(this.attributes); }\r\n  getAllReferences(): Set<MReference> { return new Set(this.references); }\r\n  /*getDisplayedChildrens(): Set<EOperation | MFeature> {\r\n    const arr: Set<EOperation|MFeature> = new Set<EOperation|MFeature>(this.getAllChildrens());\r\n    U.SetMerge(true, arr, this.getAllOperations());\r\n    return arr; }\r\n  getDisplayedOperations(): Set<EOperation> { return this.getAllOperations(); }\r\n  getDisplayedAttributes(): Set<MAttribute> { return this.getAllAttributes(); }\r\n  getDisplayedReferences(): Set<MReference> { return this.getAllReferences(); }*/\r\n  /*getBasicChildrens(): Set<MFeature> {\r\n    const ret: Set<MFeature> = new Set();\r\n    let i: number;\r\n    for (i = 0; i < this.childrens.length; i++) { if (this.childrens[i].metaParent.parent === this.metaParent) ret.add(this.childrens[i]); }\r\n    return ret; }*/\r\n  getBasicAttributes(): Set<MAttribute> {\r\n    const ret: Set<MAttribute> = new Set();\r\n    let i: number;\r\n    for (i = 0; i < this.attributes.length; i++) { if (this.attributes[i].metaParent.parent === this.metaParent) ret.add(this.attributes[i]); }\r\n    return ret; }\r\n  getBasicReferences(): Set<MReference> {\r\n    const ret: Set<MReference> = new Set();\r\n    let i: number;\r\n    for (i = 0; i < this.references.length; i++) { if (this.references[i].metaParent.parent === this.metaParent) ret.add(this.references[i]); }\r\n    return ret; }\r\n  getBasicOperations(): Set<EOperation> { return this.metaParent.getBasicOperations(); }\r\n  getBasicAnnotations(): EAnnotation[] { return this.metaParent.getBasicAnnotations(); }\r\n\r\n  endingName(valueMaxLength: number = 10): string {\r\n    if (this.attributes.length > 0) { return this.attributes[0].endingName(valueMaxLength); }\r\n    if (this.references.length > 0) { return this.references[0].endingName(valueMaxLength); }\r\n    return ''; }\r\n\r\n  getModelRoot(): Model { return super.getModelRoot() as Model; }\r\n\r\n  isRoot(): boolean { return this === Status.status.m.classRoot; }\r\n  setRoot(value: boolean): void {\r\n    U.pe(!value, 'should only be used to set root. to delete a root choose another one and call setRoot on it.');\r\n    this.getModelRoot().classRoot = this;\r\n  }\r\n\r\n\r\n  conformability(meta: M2Class, outObj?: any): number {\r\n    throw new Error('M.conformability%() todo');\r\n  }\r\n\r\n  duplicate(nameAppend: string = null, newParent: IPackage | ModelPiece = null): MClass {\r\n    const c = new MClass(null, null, null);\r\n    c.copy(this);\r\n    c.refreshGUI_Alone();\r\n    return c; }\r\n\r\n  // linkToMetaParent(meta: M2Class): void { return super.linkToMetaParent(meta); }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null, root: boolean = false): Json {\r\n    /*\r\n       { \"-name\": \"tizio\", \"attrib2\": value2, ...}\r\n    OR:\r\n       {\r\n        \"-xmlns:xmi\": \"http://www.omg.org/XMI\",\r\n        \"-xmlns:org.eclipse.example.bowling\": \"https://org/eclipse/example/bowling\",\r\n        \"-xmi:version\": \"2.0\",\r\n        \"Players\": [\r\n          { \"-name\": \"tizio\" },\r\n          { \"-name\": \"asd\" }\r\n        ]\r\n      }\r\n    */\r\n\r\n    U.pe(!U.isObject(loopDetectionObj), \"loopdetection not object param:\", loopDetectionObj, loopDetectionObj || {});\r\n    const inlineMarker: string = Status.status.XMLinlineMarker;\r\n    const json: Json = {};\r\n    if (root) {\r\n      json[inlineMarker + 'xmlns:xmi'] =  'http://www.omg.org/XMI';\r\n      json[inlineMarker + 'xmlns:' + this.getModelRoot().namespace()] = this.getModelRoot().uri();\r\n      json[inlineMarker + 'xmi:version'] =  '2.0'; }\r\n    let outi: number;\r\n    let i: number;\r\n    const arr: MFeature[][] = [this.attributes, this.references];\r\n    for (outi = 0; outi < arr.length; outi++) {\r\n      for (i = 0; i < arr[outi].length; i++) {\r\n        const child: MFeature = arr[outi][i];\r\n        if (child.isShadowed(this)) continue;\r\n        const value: Json | string = (child).generateModel(loopDetectionObj);\r\n        // some error here, il value = ELIteral viene assegnato alla key .nome\r\n        if (value === '' || value === null || value === undefined || U.isEmptyObject(value)) { continue; }\r\n        const key: string = (U.isPrimitive(value) ? inlineMarker : '') + child.metaParent.name;\r\n        U.pe(json[key], 'overriding value inside MClass.generateModel()',\r\n          ', key:', key, ', newVal:', value, ', json:', json, ', MClass:', this, ', feature:', child);\r\n        /*let wind = window as any;\r\n        if (!wind.json) wind.json = {};\r\n        if (!wind.json[key]) wind.json[key] = [];\r\n        wind.json[key].push({value: value, m1id: child.id, m2id: child.metaParent.id, index: i + '/' + arr[outi].length, m2name: child.metaParent.name, setter: child});*/\r\n        json[key] = value; }\r\n    }\r\n    return json; }\r\n\r\n  parse(json: Json, destructive: boolean = true): void {\r\n  if (destructive) {\r\n    this.attributes = [];\r\n    this.references = [];\r\n    this.childrens = [];\r\n    this.referencesIN = []; }\r\n    this.changeMetaParent(this.metaParent, true, false); // fill childrens, attributes, references con istanze delle m2feature ereditate.\r\n\r\n    /*{                                                           <--- classRoot\r\n        \"-xmlns:xmi\": \"http://www.omg.org/XMI\",\r\n        \"-xmlns:org.eclipse.example.bowling\": \"https://org/eclipse/example/bowling\",\r\n        \"-xmi:version\": \"2.0\",\r\n        \"Players\": [\r\n          { \"-name\": \"tizio\" },          <-- class[0]\r\n          { \"-name\": \"asd\" }             <-- class[1]\r\n        ]\r\n      }*/\r\n    const inlineMarker: string = Status.status.XMLinlineMarker;\r\n    for (let key in json) {\r\n      if (!json.hasOwnProperty(key)) { continue; }\r\n      const value: Json = json[key];\r\n      switch (key) {\r\n        case inlineMarker + 'xmlns:xmi':\r\n        // case inlineMarker + 'xmlns:' + this.getModelRoot().namespace():\r\n        case inlineMarker + 'xmi:version': this.setRoot(true); break;\r\n        default:\r\n          // todo: usa il ns del modello per caricare il metamodello con quel namespace se quello attuale non è conforme?\r\n          if (key.indexOf(inlineMarker) === 0) { key = key.substr(inlineMarker.length); }\r\n          if (key.indexOf('xmlns:') === 0) {\r\n            key = key.substr('xmlns:'.length);\r\n            this.getModelRoot().namespace(key);\r\n            U.pw(false, 'setns?', key, this, this.metaParent); continue; }\r\n          const metaAttr: M2Attribute = this.metaParent.getAttribute(key);\r\n          const metaRef: M2Reference = this.metaParent.getReference(key);\r\n          if (metaAttr) {\r\n            const cindex: number = this.getChildrenIndex_ByMetaParent(metaAttr);\r\n            const aindex: number = this.getAttributeIndex_ByMetaParent(metaAttr);\r\n            /*const newA: MAttribute = new MAttribute(this, value, metaAttr);\r\n            this.childrens[cindex] = this.attributes[aindex] = newA;*/\r\n            this.attributes[aindex].parse(value, true);\r\n          } else if (metaRef) {\r\n            const cindex: number = this.getChildrenIndex_ByMetaParent(metaRef);\r\n            const rindex: number = this.getReferenceIndex_ByMetaParent(metaRef);\r\n            // const newR: MReference = new MReference(this, value, metaRef);\r\n            // this.childrens[cindex] = this.references[rindex] = newR;\r\n            let j: number;\r\n            let edges: IEdge[] = this.references[rindex].getEdges();\r\n            for (j = 0; j < edges.length; j++) {}\r\n            this.references[rindex].parse(value, true);\r\n\r\n          } else {\r\n            U.pe(true, 'm1 model attribute-or-reference type not found. class:', this, ', json:', json,\r\n              'key/name:', key, ', Iclass:', this.metaParent); }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  modify_Old(json: Json, destructive: boolean = true): void {\r\n    /*{                                                                                           <-- :classroot\r\n        \"-xmlns:xmi\": \"http://www.omg.org/XMI\",\r\n        \"-xmlns:org.eclipse.example.bowling\": \"https://org/eclipse/example/bowling\",\r\n        \"-xmi:version\": \"2.0\",\r\n        \"Players\": [\r\n          { \"-name\": \"tizio\" },          <-- class[0]\r\n          { \"-name\": \"asd\" }             <-- class[1]\r\n        ]\r\n      }*/\r\n    if (destructive) { this.childrens = []; this.references = []; this.attributes = []; this.referencesIN = []; }\r\n    const inlineMarker: string = Status.status.XMLinlineMarker;\r\n    for (let key in json) {\r\n      if (!json.hasOwnProperty(key)) { continue; }\r\n      const value: Json = json[key];\r\n      switch (key) {\r\n        case inlineMarker + 'xmlns:xmi':\r\n        // case inlineMarker + 'xmlns:' + this.getModelRoot().namespace():\r\n        case inlineMarker + 'xmi:version': this.setRoot(true); break;\r\n        default:\r\n          // todo: usa il ns del modello per caricare il metamodello con quel namespace se quello attuale non è conforme?\r\n          if (key.indexOf(inlineMarker) === 0) { key = key.substr(inlineMarker.length); }\r\n          if (key.indexOf('xmlns:') === 0) {\r\n            key = key.substr('xmlns:'.length);\r\n            this.getModelRoot().namespace(key);\r\n            U.pw(false, 'setns?', key, this, this.metaParent); continue; }\r\n          const metaAttr: M2Attribute = this.metaParent.getAttribute(key);\r\n          const metaRef: M2Reference = this.metaParent.getReference(key);\r\n          let newA: MAttribute;\r\n          let newR: MReference;\r\n          if (metaAttr) {\r\n            newA = new MAttribute(this, value, metaAttr);\r\n            U.ArrayAdd(this.childrens, newA);\r\n            U.ArrayAdd(this.attributes, newA);\r\n          } else if (metaRef) {\r\n            newR = new MReference(this, value, metaRef);\r\n            U.ArrayAdd(this.childrens, newR);\r\n            U.ArrayAdd(this.references, newR);\r\n          } else {\r\n            U.pe(true, 'model attribute-or-reference type not found. class:', this, ', json:', json,\r\n              'key/name:', key, ', Iclass:', this.metaParent); }\r\n          break;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  getChildrenIndex_ByMetaParent(meta: ModelPiece): number { return MClass.getArrayIndex_ByMetaParentID(meta.id, this.childrens); }\r\n  getAttributeIndex_ByMetaParent(meta: IAttribute): number { return MClass.getArrayIndex_ByMetaParentID(meta.id, this.attributes); }\r\n  getReferenceIndex_ByMetaParent(meta: IReference): number { return MClass.getArrayIndex_ByMetaParentID(meta.id, this.references); }\r\n\r\n  static getArrayIndex_ByMetaParentID(id: number, array: ModelPiece[]): number {\r\n    let i = -1;\r\n    while (++i < array.length) { if (id === array[i].metaParent.id) { return i; } }\r\n    return -1; }\r\n\r\n    delete(refreshgui: boolean = true): void{\r\n      super.delete(false);\r\n      // NB: gli m1-link a questo oggetto sono già stati rimossi da setType in m2 o da delete vertex in IClass\r\n    }\r\n\r\n  convertTo(classe: M2Class): void{\r\n    this.changeMetaParent(classe, true, true);\r\n  }\r\n  /*\r\n  canConvertTo(classe: M2Class): boolean{\r\n    if (!classe) return true;\r\n    if (classe.getInterface() || classe.getAbstract()) return false;\r\n    return this.metaParent.isExtending(classe) || classe.isExtending(this.metaParent);\r\n  }*/\r\n}\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IReference,\r\n  Status,\r\n  DetectZoom,\r\n  Model,\r\n  ECoreAttribute,\r\n  ECoreClass,\r\n  ECorePackage,\r\n  ECoreReference,\r\n  ECoreRoot,\r\n  Point,\r\n  GraphPoint,\r\n  IModel,\r\n  Size,\r\n  MAttribute,\r\n  MReference,\r\n  MClass,\r\n  M2Class,\r\n  EdgeStyle,\r\n  M2Reference,\r\n  M2Attribute,\r\n  M3Package,\r\n  M3Reference,\r\n  M3Attribute,\r\n  M3Feature,\r\n  EdgeModes,\r\n  EdgePointStyle, EOperation, EParameter, Typedd, Type, Dictionary, EEnum,\r\n  IClassifier, ECoreEnum, EcoreLiteral, EType, ShortAttribETypes, IClass\r\n} from '../../common/Joiner';\r\n\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\n\r\nexport class ELiteral extends Typedd {\r\n  parent: EEnum;\r\n  literal: string;\r\n  ordinal: number;\r\n\r\n  constructor(parent: EEnum, json: Json) {\r\n    super(parent, null);\r\n    this.parse(json);\r\n  }\r\n  duplicate(nameAppend?: string, newParent?: ModelPiece): ModelPiece {\r\n    return undefined; //todo\r\n  }\r\n\r\n  isInherited(forClass: EEnum): boolean { if (this.parent !== forClass) return true; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, MClass> = null): Json {\r\n    const model: Json = {};\r\n    model[EcoreLiteral.value] = this.ordinal;\r\n    model[EcoreLiteral.literal] = this.literal;\r\n    model[EcoreLiteral.namee] = this.name;\r\n    return model; }\r\n\r\n  getClass(): EEnum { return this.parent; }\r\n\r\n  setLiteral(value: string, refreshGUI: boolean = false, warnDuplicateFix: boolean = true): string {\r\n    if (value === '' || !value) { this.literal = ''; return; }\r\n    return this.setName0(value, refreshGUI, warnDuplicateFix, 'literal', true); }\r\n\r\n  parse(json: Json, destructive: boolean = true): void {\r\n    this.ordinal = Json.read<number>(json, EcoreLiteral.value, Number.NEGATIVE_INFINITY);\r\n    this.setLiteral(Json.read<string>(json, EcoreLiteral.literal, ''), false);\r\n    let name: string = Json.read<string>(json, EcoreLiteral.namee, this.ordinal === Number.NEGATIVE_INFINITY ? null : this.parent.name + '_' + this.ordinal);\r\n    if (name) this.setName(name, false); else this.name = null;\r\n  }\r\n\r\n\r\n  delete(refreshgui: boolean = true): void {\r\n    super.delete(false);\r\n    // todo: che fare con gli attributes che hanno questo literal come valore?\r\n    let i: number;\r\n    for (i = 0; i < Type.all.length; i++) {\r\n      if (Type.all[i].enumType !== this.parent) continue;\r\n      if (Type.all[i].owner instanceof MAttribute) (Type.all[i].owner as MAttribute).valuesAutofix();}\r\n    if (refreshgui) this.refreshGUI();\r\n  }\r\n\r\n  fieldChanged(e: ChangeEvent) {\r\n    const html: HTMLElement = e.currentTarget;\r\n    switch (html.tagName.toLowerCase()) {\r\n    default: U.pe(true, 'unexpected tag:', html.tagName, ' of:', html, 'in event:', e); break;\r\n    case 'textarea':\r\n    case 'input':\r\n      const input: HTMLInputElement = html as HTMLInputElement;\r\n      if (input.classList.contains('name')) { this.setName(input.value); } else\r\n      if (input.classList.contains('literal')) { this.setLiteral(input.value); } else\r\n      if (input.classList.contains('value')) { this.ordinal = isNaN(+input.value) ? this.ordinal : +input.value; }\r\n      else U.pe(true, 'ELiteral input fields must contain one of the following classes: name, literal, value');\r\n      break;\r\n    case 'select': U.pe(true, 'Unexpected non-disabled select field in a Vertex.ELiteral.'); break;\r\n    }\r\n    super.fieldChanged(e, true);\r\n  }\r\n\r\n  generateModelM1(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): string { return this.name; }\r\n}\r\n","import {\r\n  AttribETypes,\r\n  IAttribute,\r\n  M2Class,\r\n  IFeature,\r\n  IReference,\r\n  Json,\r\n  MClass,\r\n  ModelPiece,\r\n  ShortAttribETypes, M2Attribute,\r\n  U, M3Attribute, IVertex, IField, MetaModel, Model, Status, Info, Type, EEnum, ELiteral, Dictionary,\r\n} from '../../../../common/Joiner';\r\nimport {del}   from 'selenium-webdriver/http';\r\nimport {EType} from '../../Type';\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\n\r\n\r\nexport class MAttribute extends IAttribute {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  parent: MClass;\r\n  metaParent: M2Attribute;\r\n  // instances: ModelNone[];\r\n  values: any[];\r\n  valuesStr: string;\r\n\r\n  static typeChange(arr: any[], newType: EType): void {\r\n    let i = -1;\r\n    while (++i < arr.length) {\r\n      if (Array.isArray(arr[i])) { MAttribute.typeChange(arr[i], newType); continue; }\r\n      let newVal: any;\r\n      switch (newType.short) {\r\n        default: U.pe(true, 'unexpected type: ' + newType.short); break;\r\n        case ShortAttribETypes.EDate: newVal = null; break;\r\n        case ShortAttribETypes.EFloat: case ShortAttribETypes.EDouble:\r\n          newVal = parseFloat('' + arr[i]);\r\n          if (newVal === null || newVal === undefined) { newVal = newType.defaultValue; }\r\n          break;\r\n        case ShortAttribETypes.EBoolean: newVal = !!arr[i]; break;\r\n        case ShortAttribETypes.EChar:\r\n          newVal = (arr[i] + '')[0];\r\n          if (newVal === undefined || newVal === null) { newVal = newType.defaultValue; }\r\n          break;\r\n        case ShortAttribETypes.EString: newVal = (arr[i] === null || arr[i] === undefined ? null : '' + arr[i]); break;\r\n        case ShortAttribETypes.EInt: case ShortAttribETypes.EByte: case ShortAttribETypes.EShort: case ShortAttribETypes.ELong:\r\n          let tentativo: number = parseInt('' + arr[i], 10);\r\n          tentativo = !isNaN(+tentativo) ? (+tentativo) : newType.defaultValue;\r\n          tentativo = Math.min(newType.maxValue, Math.max(newType.minValue, tentativo));\r\n          newVal = tentativo;\r\n          break;\r\n      }\r\n      U.pe(newVal === null || newVal === undefined, 'failed to fix value:', arr, newType);\r\n      arr[i] = newVal;\r\n    }\r\n  }\r\n\r\n  constructor(parent: MClass, json: Json, meta: M2Attribute) {\r\n    super(parent, meta);\r\n    this.parse(json, true); }\r\n\r\n    test(){\r\n      // var topp={x:'$##@WallTopX.values.0$',y:0};var bot={x:'$##@WallBotX.values.0$',y:'$##@WallHeight.values.0$'};if(bot.y<=topp.y){return}e.B9=90+DEGREE(Math.atan((topp.x-bot.x)/(topp.y-bot.y)));\r\n\r\n    }\r\n\r\n  getModelRoot(): Model { return super.getModelRoot() as Model; }\r\n\r\n  parse(json: Json, destructive: boolean): void {\r\n    // if (!json) { json = }\r\n    this.setValues(json as any[]);/*\r\n    if (!this.validate()) {\r\n      this.setValues(null);\r\n      U.pw(true, 'marked attribute (' + this.metaParent.name + ') with type ', this.getType(), 'values:', this.values, 'this:', this);\r\n      this.mark(true, 'errorValue');\r\n    } else { this.mark(false, 'errorValue'); }*/\r\n    // this.refreshGUI();\r\n/*\r\n    this.views = [];\r\n    let i: number;\r\n    for(i = 0; i < this.parent.views.length; i++) {\r\n      const pv: ClassView = this.parent.views[i];\r\n      const v = new AttributeView(pv);\r\n      this.views.push(v);\r\n      pv.attributeViews.push(v); }*/\r\n  }\r\n\r\n  endingName(valueMaxLength: number = 10): string {\r\n    if (this.values && this.values.length > 0) { return (this.values[0] + '').substr(0, valueMaxLength); }\r\n    return ''; }\r\n\r\n  getType(): Type { return (this.metaParent ? this.metaParent.getType() : null); }\r\n\r\n  getInfo(toLower: boolean = false): any {\r\n    const info: any = super.getInfo();\r\n    Info.set(info, 'values', this.values);\r\n    return info; }\r\n/*\r\n  conformability(meta: IAttribute, debug: boolean = true): number {\r\n    let conformability = 0;\r\n    // todo: questo check è totalmente sbagliato, this.getType non può riuscire senza un metaParent assegnato\r\n    conformability += 0.5 * StringSimilarity.compareTwoStrings(this.getType().short, meta.getType().primitiveType.short);\r\n    conformability += 0.5 * StringSimilarity.compareTwoStrings(this.name, meta.name);\r\n    U.pif(debug, 'ATTRIBUTE.comform(', this.name, {0: this}, ', ', meta.name, {0: meta}, ') = ', conformability);\r\n    return conformability; }*/\r\n\r\n  duplicate(nameAppend: string = null, newParent: MClass = null): MAttribute {\r\n    const ret: MAttribute = new MAttribute(newParent, null, this.metaParent);\r\n    ret.copy(this, nameAppend, newParent);\r\n    return ret; }\r\n\r\n  copy(other: MAttribute, nameAppend: string = '_Copy', newParent: MClass = null): void {\r\n    super.copy(other, nameAppend, newParent);\r\n    this.setValueStr(other.getValueStr()); }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    if (this.values.length === 0) { return null; }\r\n    let values: Json[] = this.values;\r\n    if (this.values[0] instanceof ELiteral) {\r\n      values = [];\r\n      let i: number;\r\n      for (i = 0; i < this.values.length; i++) {\r\n        const v = this.values[i];\r\n        if (v instanceof ELiteral) { values.push(v.generateModelM1(loopDetectionObj)); }\r\n      }\r\n    }\r\n    if (values.length === 1) { return values[0]; }\r\n    return values; }\r\n\r\n  validate(): boolean {\r\n    let i: number;\r\n    const primitive: EType = this.getType().primitiveType;\r\n    const enumtype: EEnum = this.getType().enumType;\r\n    if (enumtype) {\r\n      const admittedValues: string[] = enumtype.getAllowedValuesStr();\r\n      for (i = 0; i < this.values.length; i++) {\r\n        if (!U.arrayContains(admittedValues, this.values[i])) { return false; }\r\n      }\r\n      return true; }\r\n    U.pe(!primitive, 'found type in Mattribute that is neither primitive nor enumerative', this);\r\n    // console.log('U.isIntegerArray(values:', this.values, ', minvalue:', primitive.minValue, ' maxval:', primitive.maxValue);\r\n    switch (primitive.long) {\r\n    default: U.pe(true, 'unexpected mattrib type:', this.getType()); return false;\r\n      // case AttribETypes.void: ...\r\n      case AttribETypes.EDate: U.pe(true, 'eDAte: todo'); break;\r\n      case AttribETypes.EBoolean: return true;\r\n      case AttribETypes.EChar: return U.isString(this.values) || U.isCharArray(this.values);\r\n      case AttribETypes.EString: return U.isStringArray(this.values);\r\n      case AttribETypes.EFloat:\r\n      case AttribETypes.EDouble:\r\n        for (i = 0; i < this.values.length; i++) { this.values[i] = +this.values[i]; }\r\n        return U.isNumberArray(this.values, primitive.minValue, primitive.maxValue);\r\n      case AttribETypes.EByte:\r\n      case AttribETypes.EShort:\r\n      case AttribETypes.EInt:\r\n      case AttribETypes.ELong:\r\n        for (i = 0; i < this.values.length; i++) { this.values[i] = +this.values[i]; }\r\n        return U.isIntegerArray(this.values, primitive.minValue, primitive.maxValue);\r\n    }\r\n  }\r\n\r\n  fieldChanged(e: ChangeEvent) {\r\n    const html: HTMLElement = e.currentTarget;\r\n    switch (html.tagName.toLowerCase()) {\r\n      default: U.pe(true, 'unexpected tag:', html.tagName, ' of:', html, 'in event:', e); break;\r\n      case 'textarea':\r\n      case 'input':\r\n        this.setValueStr((html as HTMLInputElement).value);\r\n        (html as HTMLInputElement).value = this.getValueStr();\r\n        break;\r\n      case 'select': U.pe(true, 'Unexpected non-disabled select field in a Vertex.MAttribute.'); break;\r\n    }\r\n    super.fieldChanged(e, true);\r\n  }\r\n\r\n  setValueStr(valStr: string) {\r\n    if (this.metaParent.upperbound === 1) {\r\n      // this.setValues(JSON.parse( '\"' + U.replaceAll(valStr, '\"', '\\\\\"') + '\"'));\r\n      this.setValues([ valStr ]);\r\n      return; }\r\n    try { this.setValues(JSON.parse(valStr)); } catch (e) {\r\n      U.pw(true, 'This attribute have upperbound > 1 and the input is not a valid JSON string: ' + valStr);\r\n      return; } finally {}\r\n  }\r\n  // setValues: applicabile alle M1-Feature, se index < 1  index = upperbound - index, se index = null values deve essere array.\r\n  setValues(values: any[] | any = null, index: number = null, autofix: boolean = true, debug: boolean = false): void {\r\n    if (index < 0) index = (this.getUpperbound() - index) % this.getUpperbound();\r\n    if (index !== null && index !== undefined) { this.values[index] = values; }\r\n    const values0 = values;\r\n    if (U.isEmptyObject(values, true, true)\r\n     || (Array.isArray(values) && (values.length === 0 || (values.length === 1 && U.isEmptyObject(values[0])))))\r\n       { values = this.getType().defaultValue(); } // redundancy, i'm double fixing it. should check if autofix fixes nulls.\r\n    if (!Array.isArray(values)) { values = [values]; }\r\n    // U.pe(values0 === null && values.length === 1 && values[0] === [0], 'wtf?', values0, values, this);\r\n    if (debug) console.trace();\r\n    U.pif(debug, this.metaParent.fullname() +  '.setvalue: |', values0, '| --> ', values, 'defaultv:', this.getType().defaultValue(), 'type:', this.getType());\r\n    this.values = values;\r\n    if (this.getUpperbound() >= 0) { this.values.length = this.getUpperbound(); }\r\n    U.pe('' + values === '' + undefined || '' + values === '' + null, 'undef:', values, this);\r\n    U.pif(debug, 'end value:', values);\r\n    if (autofix) { this.valuesAutofix(debug); }\r\n    U.pif(debug, 'end value post autofix:', this.values);\r\n  }\r\n\r\n  valuesAutofix(debug: boolean = false): void {\r\n    const type: Type = this.getType();\r\n    const conversionType = type.enumType || type.primitiveType;\r\n    let i: number;\r\n    if (type.enumType) {\r\n      // conversionType = null; // EType.get(ShortAttribETypes.EString);\r\n      const defaultValue: string = type.enumType.getDefaultValueStr();\r\n      if (!defaultValue) {\r\n        this.values = [];\r\n        if (this.getUpperbound() >= 0) { this.values.length = this.getUpperbound(); }\r\n        return; }\r\n      const admittedValues: string[] = type.enumType.getAllowedValuesStr();\r\n      let j: number;\r\n      for (j = 0; j < this.values.length; j++) {\r\n        this.values[j]+= '';\r\n        if (U.arrayContains(admittedValues,  this.values[j])) { continue; }\r\n        this.values[j] = admittedValues[0];\r\n      }\r\n    }\r\n    if (type.primitiveType) { MAttribute.typeChange(this.values, type.primitiveType); }\r\n  }\r\n  getValueStr(debug: boolean = false): string {\r\n    let ret: any[] | any;\r\n    ret =  this.values;\r\n    U.pif(debug, 'getvaluestr: stage1', ret);\r\n    if (ret === undefined) ret = null;\r\n    let retStr = null;\r\n    if (ret !== null) {\r\n      if (!(Array.isArray(ret))) { ret = [ret]; }\r\n      U.pif(debug, 'stage 1.1:', ret, retStr);\r\n      if (this.metaParent.upperbound === 1) { ret = ret.length ? ret[0] : null; }\r\n      U.pif(debug, 'stage 1.2:', ret, retStr);\r\n      retStr = Array.isArray(ret) ? JSON.stringify(ret) : (ret === null || ret === undefined ? null : '' + ret); }\r\n    U.pif(debug, 'stage2', ret, retStr);\r\n    if (retStr === null) {\r\n      this.setValues(null);\r\n      U.pe(!this.values.length || this.values[0] === null, 'failed to set default val.', this.getType().defaultValue(), this.values );\r\n      retStr = (this.values.length ? '' + this.values[0] : null); }\r\n\r\n    U.pif(debug, 'this.values:', this.values, ', val[0]:', this.values[0], 'retStr:', retStr);\r\n    this.valuesStr = retStr;\r\n    return retStr; }\r\n\r\n  replaceVarsSetup(debug: boolean = false): void {\r\n    super.replaceVarsSetup();\r\n    const old = this.valuesStr;\r\n    U.pif(debug, this.values);\r\n    const val: string = this.getValueStr();\r\n    U.pif(debug, 'val:', val, ', this.values:', this.values, ', this:', this);\r\n    this.valuesStr = val ? U.replaceAll(val, '\\n', '', debug) : '';\r\n    if (this.valuesStr && this.valuesStr[0] === '[') {this.valuesStr = this.valuesStr.substr(1, this.valuesStr.length - 2); }\r\n    U.pif(debug, 'valuesSTR: |' + old + '| --> |' + this.valuesStr + '|'); }\r\n\r\n}\r\n\r\n","import {\r\n  Dictionary,\r\n  IClass,\r\n  IFeature,\r\n  Json,\r\n  M2Attribute, M3Class, M3Feature, M3Reference, ModelPiece, PropertyBarr,\r\n  ShortAttribETypes,\r\n  Status, Type,\r\n  U\r\n} from '../../../../common/Joiner';\r\n\r\nexport abstract class IAttribute extends IFeature {\r\n  metaParent: IAttribute;\r\n  instances: IAttribute[];\r\n\r\n  constructor(parent: IClass, metaParent: IAttribute) {\r\n    super(parent, metaParent);\r\n    if (parent) U.ArrayAdd(parent.attributes, this);\r\n  }\r\n\r\n  /*static GetDefaultStyle(modelRoot: IModel, type: EType = null): HTMLElement | SVGElement {\r\n    return ModelPiece.GetDefaultStyle(modelRoot, 'Attribute', type); }\r\n\r\n  static SetDefaultStyle(type: ShortAttribETypes, modelRoot: IModel, newTemplate: HTMLElement): void {\r\n    const selector = '.' + (modelRoot.isM() ? 'M' : 'MM') + 'DefaultStyles>.Attribute.Template.' + type;\r\n    let $oldTemplate: JQuery<HTMLElement> = $(selector + '.Customized');\r\n    if ($oldTemplate.length === 0) { $oldTemplate = $(selector); }\r\n    U.pe($oldTemplate.length !== 1, 'template not found? (' + $oldTemplate.length + '); selector: \"' + selector + '\"');\r\n    const old = $oldTemplate[0];\r\n    newTemplate.classList.add('template');\r\n    newTemplate.classList.add('Customized');\r\n    old.parentNode.appendChild(newTemplate);\r\n    if (old.classList.contains('Customized')) { old.parentNode.removeChild(old); }\r\n    return; }\r\n\r\n  setDefaultStyle(value: string): void {\r\n    U.pw(true, 'Attribute.setDefaultStyle(): todo.');\r\n  }\r\n*/\r\n\r\n/*\r\n  getStyle(): HTMLElement | SVGElement {\r\n    const htmlRaw: HTMLElement | SVGElement = super.getStyle();\r\n    const $html = $(htmlRaw);\r\n    const $selector = $html.find('select.TypeSelector') as JQuery<HTMLSelectElement>;\r\n    let i: number;\r\n    for (i = 0; i < $selector.length; i++) { PropertyBarr.makePrimitiveTypeSelector($selector[0], this.getType()); }\r\n    // EType.updateTypeSelector($selector[0] as HTMLSelectElement, this.getType());\r\n    return htmlRaw; }*/\r\n\r\n  copy(other: IAttribute, nameAppend: string = '_Copy', newParent: IClass = null): void {\r\n    super.copy(other, nameAppend, newParent);\r\n    if (newParent) { U.ArrayAdd(newParent.attributes, this); }\r\n    this.refreshGUI(); }\r\n\r\n}\r\n\r\nexport class M3Attribute extends IAttribute {\r\n  parent: M3Class;\r\n  metaParent: M3Attribute;\r\n  instances: M2Attribute[]; // | M3Attribute[]\r\n\r\n  constructor(parent: M3Class, meta: IAttribute) {\r\n    super(parent, meta);\r\n    this.parse(null, true); }\r\n\r\n  duplicate(nameAppend: string = '_', newParent: M3Class = null): M3Attribute { U.pe(true, 'Invalid operation: m3Attr.duplicate()'); return this; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    U.pe(true, 'm3Attr.generateModel()');\r\n    return {}; }\r\n\r\n  // getType(): Type { U.pe(true, 'm3Attr.getType()'); return null; }\r\n\r\n  parse(json: Json, destructive: boolean = true): void {\r\n    this.name = 'Attribute'; }\r\n\r\n\r\n  conformability(metaparent: M3Attribute, outObj?: any, debug?: boolean): number {  return 1; }\r\n\r\n}\r\n","import {\r\n  IAttribute,\r\n  M3Attribute,\r\n  M2Class,\r\n  MAttribute,\r\n  ECoreAttribute,\r\n  Json,\r\n  ShortAttribETypes,\r\n  U,\r\n  MetaModel,\r\n  AttribETypes, Status, Dictionary, ModelPiece,\r\n} from '../../../../common/Joiner';\r\n\r\nexport class M2Attribute extends IAttribute {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  parent: M2Class;\r\n  metaParent: M3Attribute;\r\n  instances: MAttribute[];\r\n\r\n  constructor(classe: M2Class, json: Json) {\r\n    super(classe, Status.status.mmm.getAttribute());\r\n    if (!classe && !json) { return; } // empty constructor for .duplicate();\r\n    this.parse(json, true); }\r\n\r\n  getModelRoot(): MetaModel { return super.getModelRoot() as MetaModel; }\r\n\r\n  parse(json: Json, destructive: boolean) {\r\n    this.setName(Json.read<string>(json, ECoreAttribute.namee, 'Attribute_1'));\r\n    this.type.changeType(Json.read<string>(json, ECoreAttribute.eType, AttribETypes.EString));\r\n    /*\r\n    this.views = [];\r\n    let i: number;\r\n    for(i = 0; i < this.parent.views.length; i++) {\r\n      const pv: ClassView = this.parent.views[i];\r\n      const v = new AttributeView(pv);\r\n      this.views.push(v);\r\n      pv.attributeViews.push(v); }*/\r\n  }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, ModelPiece> = null): Json {\r\n    const model = new Json(null);\r\n    Json.write(model, ECoreAttribute.xsitype, 'ecore:EAttribute');\r\n    Json.write(model, ECoreAttribute.eType, this.type.toEcoreString());\r\n    Json.write(model, ECoreAttribute.namee, this.name);\r\n    return model; }\r\n\r\n  duplicate(nameAppend: string = '_Copy', newParent: M2Class = null): M2Attribute {\r\n    const a: M2Attribute = new M2Attribute(null, null);\r\n    a.copy(this, nameAppend, newParent);\r\n    return a; }\r\n\r\n\r\n  replaceVarsSetup(): void { super.replaceVarsSetup(); }\r\n\r\n  conformability(metaparent: M3Attribute, outObj?: any, debug?: boolean): number { return 1; }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import {\r\n  AttribETypes,\r\n  GraphPoint,\r\n  GraphSize,\r\n  IAttribute,\r\n  M2Class,\r\n  IEdge,\r\n  IFeature,\r\n  IField,\r\n  IModel,\r\n  IVertex,\r\n  Json,\r\n  Model,\r\n  ModelPiece,\r\n  PropertyBarr,\r\n  Size,\r\n  Status,\r\n  U,\r\n  ECoreAttribute,\r\n  ECoreReference,\r\n  ShortAttribETypes,\r\n  MClass,\r\n  MReference,\r\n  IReference,\r\n  M3Reference,\r\n  EdgeStyle,\r\n  EdgeModes,\r\n  EdgePointStyle, MetaModel, Info, IClass, Type, EEnum, Dictionary,\r\n} from '../../../../common/Joiner';\r\n\r\nexport class M2Reference extends IReference {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  parent: M2Class;\r\n  metaParent: M3Reference;\r\n  instances: MReference[];\r\n\r\n  upperbound: number;\r\n  lowerbound: number;\r\n  containment: boolean = false && false;\r\n\r\n  constructor(classe: M2Class, json: Json) {\r\n    super(classe, Status.status.mmm.getReference());\r\n    if (!classe && !json) { return; } // empty constructor for .duplicate();\r\n    this.parse(json, true); }\r\n\r\n  getModelRoot(): MetaModel { return super.getModelRoot() as MetaModel; }\r\n\r\n  parse(json: Json, destructive: boolean): void {\r\n    /// own attributes.\r\n    this.setName(Json.read<string>(json, ECoreReference.namee, 'Ref_1'));\r\n    this.type.changeType(Json.read<string>(json, ECoreReference.eType, this.parent.getEcoreTypeName() ));\r\n    //const eType = Json.read<string>(json, ECoreReference.eType, '#//' + this.parent.name );\r\n    // this.type = AttribETypes.reference;\r\n    // this.parsePrintableTypeName(eType);\r\n    // this.linkClass();\r\n    this.containment = Json.read<boolean>(json, ECoreReference.containment, false);\r\n    this.setLowerbound(+Json.read<number>(json, ECoreReference.lowerbound, 0));\r\n    this.setUpperbound(+Json.read<number>(json, ECoreReference.upperbound, 1));\r\n    let i: number;/*\r\n    this.views = [];\r\n    for(i = 0; i < this.parent.views.length; i++) {\r\n      const pv: ClassView = this.parent.views[i];\r\n      const v = new ReferenceView(pv);\r\n      this.views.push(v);\r\n      pv.referenceViews.push(v); }*/\r\n  }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    const model = new Json(null);\r\n    model[ECoreReference.xsitype] = 'ecore:EReference';\r\n    model[ECoreReference.eType] = this.type.toEcoreString();\r\n    model[ECoreReference.namee] = this.name;\r\n    if (this.lowerbound != null && !isNaN(+this.lowerbound)) { model[ECoreReference.lowerbound] = +this.lowerbound; }\r\n    if (this.upperbound != null && !isNaN(+this.lowerbound)) { model[ECoreReference.upperbound] = +this.upperbound; }\r\n    if (this.containment != null) { model[ECoreReference.containment] = this.containment; }\r\n    return model; }\r\n\r\n  generateEdges(): IEdge[] {\r\n    if (!this.edges) this.edges = [null]; // size must be 1\r\n    const e: IEdge = new IEdge(this, 0, this.parent.getVertex(), this.type.classType.getVertex(), null);\r\n    return [e]; }\r\n\r\n  useless(): void {}\r\n/*\r\n  fieldChanged(e: JQuery.ChangeEvent) {\r\n    const html: HTMLElement = e.currentTarget;\r\n    switch (html.tagName.toLowerCase()) {\r\n      default: U.pe(true, 'unexpected tag:', html.tagName, ' of:', html, 'in event:', e); break;\r\n      case 'textarea':\r\n      case 'input': this.setName((html as HTMLInputElement).value); break;\r\n      case 'select':\r\n        const select: HTMLSelectElement = html as HTMLSelectElement;\r\n        const m: M2Class = ModelPiece.getByID(+select.value) as any;\r\n        this.linkClass(m); break;\r\n    }\r\n  }*/\r\n\r\n  setContainment(b: boolean): void { this.containment = b; }\r\n\r\n  setUpperbound(n: number): void {\r\n    super.setUpperbound(n);\r\n    let i = -1;\r\n    while (++i < this.instances.length) {\r\n      const mref: MReference = this.instances[i];\r\n      if (n !== -1) { mref.mtarget.length = mref.edges.length = n; }\r\n      mref.delete(true, n, Number.POSITIVE_INFINITY); } }\r\n\r\n  delete(refreshgui: boolean = true, linkStart: number = null, linkEnd: number = null): void {\r\n    let oldParent = this.parent;\r\n    // total deletion\r\n    if (linkStart === null && linkEnd === null) {\r\n      if (this.type.classType) U.arrayRemoveAll(this.type.classType.referencesIN, this);}\r\n    super.delete(false, linkStart, linkEnd);\r\n    if (refreshgui) { oldParent.refreshGUI(); oldParent.refreshInstancesGUI(); }\r\n  }\r\n/*\r\n  getStyle(debug: boolean = true): HTMLElement | SVGElement {\r\n    const raw: HTMLElement | SVGElement = super.getStyle(debug);\r\n    const $raw = $(raw);\r\n    const $selector = $raw.find('select.ClassSelector');\r\n    M2Class.updateMMClassSelector($selector[0] as HTMLSelectElement, this.classType);\r\n    return raw; }*/\r\n\r\n  duplicate(nameAppend: string = '_Copy', newParent: M2Class = null): M2Reference {\r\n    const r: M2Reference = new M2Reference(null, null);\r\n    return r.copy(this, nameAppend, newParent); }\r\n\r\n  copy(r: M2Reference, nameAppend: string = '_Copy', newParent: M2Class = null): M2Reference {\r\n    super.copy(r, nameAppend, newParent);\r\n    this.setLowerbound(r.lowerbound);\r\n    this.setUpperbound(r.upperbound);\r\n    this.containment = r.containment;\r\n    this.type.changeType(r.type.toEcoreString());\r\n    this.refreshGUI();\r\n    return this; }\r\n\r\n\r\n  // linkClass(classe: M2Class = null): void { return this.type.changeType(null, null, classe); }\r\n\r\n  // conformability(meta: M3Reference, debug: boolean = true): number { U.pw(true, 'it\\'s ok but should not be called'); return 1; }\r\n\r\n  getInfo(toLower: boolean = true): any {\r\n    const info: any = super.getInfo();\r\n    // set('typeOriginal', this.type);\r\n    // info['' + 'tsClass'] = (this.getModelRoot().getPrefix()) + 'Reference';\r\n    Info.rename(info, 'type', 'target');\r\n    Info.rename(info, 'typeDetail', 'targetDetail');\r\n    Info.set(info, 'containment', this.containment);\r\n    const targetinfo: Info = this.type.classType ? this.type.classType.getInfo(toLower) : {};\r\n    Info.set(info, 'target', targetinfo);\r\n    Info.merge(info, targetinfo);\r\n    return info; }\r\n\r\n\r\n   canBeLinkedTo(hoveringTarget: M2Class): boolean {\r\n    // todo: se è un override devo assicurarmi che non invalidi l'override\r\n    return (hoveringTarget instanceof M2Class); }\r\n\r\n  getTarget(): M2Class { return this.type.classType; }\r\n}\r\n","import {\r\n  AttribETypes,\r\n  GraphPoint,\r\n  GraphSize,\r\n  IAttribute,\r\n  M2Class,\r\n  IEdge,\r\n  IFeature,\r\n  IField,\r\n  IModel,\r\n  IVertex,\r\n  Json,\r\n  Model,\r\n  ModelPiece,\r\n  PropertyBarr,\r\n  Size,\r\n  Status,\r\n  MClass,\r\n  MAttribute,\r\n  U,\r\n  ECoreAttribute,\r\n  ECoreReference,\r\n  ShortAttribETypes,\r\n  IReference,\r\n  Dictionary,\r\n  MPackage,\r\n  M3Reference,\r\n  M2Reference,\r\n  IClass,\r\n  Info, Type, EEnum,\r\n} from '../../../../common/Joiner';\r\n\r\nexport class MReference extends IReference {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  // private static loopDetection: Dictionary<number /*MClass id*/, MClass> = {};\r\n\r\n  parent: MClass;\r\n  metaParent: M2Reference;\r\n  // instances: ModelNone[];\r\n  mtarget: MClass[];\r\n  /*childrens: ModelPiece[];\r\n  instances: ModelPiece[];\r\n  metaParent: IReference;\r\n  // parent: MClass;\r\n  */\r\n  // mtarget: MClass[];\r\n  // targetStr: string;\r\n  // constructor() {}\r\n\r\n  constructor(classe: MClass, json: Json, metaParent: M2Reference) {\r\n    super(classe, metaParent);\r\n    if (!classe && !json && !metaParent) { return; } // empty constructor for .duplicate();\r\n    this.parse(json, true); }\r\n/*\r\n  getStyle(): HTMLElement | SVGElement {\r\n    const htmlRaw: HTMLElement | SVGElement = super.getStyle();\r\n    const $html = $(htmlRaw);\r\n    const $selector = $html.find('select.ClassSelector');\r\n    M2Class.updateMMClassSelector($selector[0] as HTMLSelectElement, this.getm2Target());\r\n    return htmlRaw; }*/\r\n\r\n  getm2Target(): M2Class { return this.metaParent.getTarget(); }\r\n  getTarget(index: number = 0): MClass { return this.mtarget[index]; }\r\n\r\n  getfirstEmptyTarget(): number {\r\n    let i:number;\r\n    for (i = 0; i < this.mtarget.length; i++){ if (!this.mtarget[i]) return i; }\r\n    return this.metaParent.upperbound === -1 ? this.mtarget.length : -1; }\r\n\r\n  getfirstFilledTarget(): number {\r\n    let i: number;\r\n    for (i = 0; i < this.mtarget.length; i++){ if (this.mtarget[i]) return i; }\r\n    return -1; }\r\n\r\n  endingName(valueMaxLength: number = 10): string {\r\n    const index = this.getfirstEmptyTarget();\r\n    if (index !== -1) {\r\n      const t: MClass = this.mtarget[index];\r\n      if (t instanceof MClass && t.attributes.length > 0) {\r\n        const a: MAttribute = t.attributes[0];\r\n        return a.endingName(valueMaxLength); } }\r\n    return ''; }\r\n/*\r\n  conformability(meta: M2Reference, debug: boolean = true): number {\r\n    let comformability = 0;\r\n    comformability += 0.1 * StringSimilarity.compareTwoStrings(this.getm2Target().name, meta.classType.name);\r\n    // todo: devi calcolare la 90% conformability in base al tipo dedotto della classe del m1-target.\r\n    // comformability += 0.2 * StringSimilarity.compareTwoStrings(this.name, meta.name);\r\n    // comformability += 0.2 * (this.metaParent.containment === meta.containment ? 1 : 0);\r\n    U.pif(debug, 'REFERENCE.comform(', this.name, {0: this}, ', ', meta.name, {0: meta}, ') = ', comformability);\r\n    return comformability; }*/\r\n\r\n\r\n\r\n  duplicate(nameAppend: string = '_Copy', newParent: MClass = null): MReference {\r\n    const r: MReference = new MReference(null, null, null);\r\n    return r.copy(this, nameAppend, newParent); }\r\n\r\n  getInfo(toLower?: boolean): any {\r\n    const info: Json = {};\r\n    Info.set(info, 'target', this.mtarget);\r\n    Info.unset(info, 'upperbound');\r\n    Info.unset(info, 'lowerbound');\r\n    let i: number;\r\n    for (i = 0; i < this.mtarget.length; i++) {\r\n      const t: MClass = this.mtarget[i];\r\n      if (!t) continue;\r\n      // todo problem: le mClassi non hanno un nome\r\n      Info.set(info, '' + i, t); }\r\n    return info; }\r\n\r\n  delete(refreshgui: boolean = true, linkStart: number = null, linkEnd: number = null): void {\r\n    let oldParent = this.parent;\r\n    let i: number;\r\n    super.delete(false, linkStart, linkEnd);\r\n    // remove edges\r\n    linkEnd = Math.min(this.mtarget.length, linkEnd);\r\n    linkStart = Math.max(0, linkStart);\r\n    for (i = linkStart; i < linkEnd; i++) { this.setTarget(i, null); }\r\n    if (refreshgui) { oldParent.refreshGUI(); }\r\n  }\r\n\r\n  getType(): Type { return (this.metaParent ? this.metaParent.getType() : null); }\r\n\r\n  canBeLinkedTo(hoveringTarget: MClass): boolean {\r\n    const c1: M2Class = this.getType().classType;\r\n    const c2: M2Class = hoveringTarget.metaParent;\r\n    return c1.isExtending(c2, true); }\r\n\r\n  // link(targetStr?: string, debug?: boolean): void { throw new Error('mreference.linkByStr() should never be called'); }\r\n\r\n\r\n  // LinkToMetaParent(ref: MReference): void { super.LinkToMetaParent(ref); }\r\n  generateModel(loopDetectionObj0: Dictionary<number /*MClass id*/, ModelPiece> = null): Json {\r\n    const loopDetectionObj = loopDetectionObj0 || {};\r\n    console.log(\"loopdetect isobject?\", U.isObject(loopDetectionObj), \" param:\", loopDetectionObj0, loopDetectionObj0 || {});\r\n    U.pe(!U.isObject(loopDetectionObj), \"loopdetection not object param:\", loopDetectionObj0, loopDetectionObj0 || {});\r\n    return this.generateModelLoop(loopDetectionObj); }\r\n\r\n  generateModelLoop(loopDetectionObj: Dictionary<number /*MClass id*/, MClass>): Json {\r\n    const ret: Json[] = [];\r\n    let i: number;\r\n    for (i = 0; i < this.mtarget.length; i++) {\r\n      if (!this.mtarget[i]) continue;\r\n      const mclass: MClass = this.mtarget[i];\r\n      if (loopDetectionObj[mclass.id]) {\r\n        // todo: in caso di loop cosa ci devo mettere nel modello?\r\n        ret.push('LoopingReference');\r\n        U.pw(true, 'looping reference in model');\r\n      } else {\r\n        loopDetectionObj[mclass.id] = mclass;\r\n        ret.push(mclass.generateModel(loopDetectionObj, false));\r\n      }\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  generateEdges(): IEdge[] {\r\n    // const arr: IEdge[] = [];\r\n    let i: number;\r\n    // while (this.edges && this.edges.length > 0) { this.edges[0].remove(); U.arrayRemoveAll(this.edges, this.edges[0]); }\r\n    for (i = 0; i < this.mtarget.length; i++) {\r\n      if (this.edges[i] || !this.mtarget[i]) continue;\r\n      this.edges[i] = (new IEdge(this, i, this.parent.getVertex(), this.mtarget[i].getVertex(), null)); }\r\n    return this.edges; }\r\n\r\n  parse(json0: Json, destructive: boolean = true): void {\r\n    /*\r\n        \"ReferenceName\": [\r\n          { \"-name\": \"tizio\" },  <-- reference.target[0]\r\n          { \"-name\": \"asd\" }     <-- reference.target[1]\r\n        ]*/\r\n    U.pe(!destructive, 'non-destructive parse of MReference to do.');\r\n    if (!json0) { json0 = []; }\r\n    const json: Json[] = Array.isArray(json0) ? json0 : [json0];\r\n    const targetMM: M2Class = this.getm2Target();\r\n    let i: number;\r\n    if (!this.mtarget) { this.mtarget = []; }\r\n    if (!this.edges) { this.edges = []; }\r\n    const upperbound: number = this.getUpperbound();\r\n    if (upperbound >= 0) {\r\n      this.mtarget.length = upperbound;\r\n      this.edges.length = upperbound; }\r\n    if (destructive) { this.clearTargets(); }\r\n\r\n    const pkg: MPackage = this.getClass().parent as MPackage;\r\n    for (i = 0; i < json.length; i++) {\r\n      // console.log('mref.parse: ', json0, json, 'i:', json[i]);\r\n      if ($.isEmptyObject(json[i])) { continue; }\r\n      const t: MClass = new MClass(pkg, json[i], targetMM);\r\n      this.mtarget[i] = t;\r\n    }\r\n    U.pe(this.metaParent.upperbound !== -1 && this.mtarget.length !== +this.metaParent.upperbound, 'wrong mtarget length', this.mtarget, this.mtarget.length, this.metaParent.upperbound);\r\n  }\r\n\r\n  validate(): boolean { return true; }\r\n\r\n  copy(r: MReference, nameAppend: string = '_Copy', newParent: MClass = null): MReference {\r\n    this.clearTargets();\r\n    super.copy(r, nameAppend, newParent);\r\n    this.mtarget = U.ArrayCopy(r.mtarget, false);\r\n    this.generateEdges();\r\n    this.refreshGUI();\r\n    return r; }\r\n\r\n  linkClass(classe: MClass, index: number, refreshGUI: boolean = true, debug: boolean = false): void { this.setTarget(index, classe); }\r\n\r\n  setValues(values: any[] | any = null, index: number = null, autofix: boolean = true, debug: boolean = false): void {\r\n    if (index < 0) index = (this.getUpperbound() - index) % this.getUpperbound();\r\n    if (index === null || index === undefined) {\r\n      values.length = this.getUpperbound();\r\n      let i: number;\r\n      for (i = 0; i < values.length; i++) {\r\n        if (values[i] instanceof MClass) this.setTarget(i, values[i]);\r\n      }\r\n      return;\r\n    }\r\n    if (Array.isArray(values)) { if (values.length === 1) values = values[0]; else return; }\r\n    if (values instanceof MClass) this.setTarget(index, values);\r\n  }\r\n\r\n  setTarget(index: number, val: MClass): void {\r\n    let edge: IEdge = this.edges[index];\r\n    if (val === null) {\r\n      if (!this.edges[index]) return;\r\n      U.arrayRemoveAll(this.mtarget[index].referencesIN, this);\r\n      U.arrayRemoveAll(this.mtarget[index].vertex.edgesEnd, edge);\r\n      this.edges[index].remove();\r\n      this.mtarget[index] = null;\r\n      if (this.metaParent.upperbound === -1 && index === this.mtarget.length - 1) {\r\n        delete this.edges[index];\r\n        delete this.mtarget[index];}\r\n      return; }\r\n    if (this.metaParent.unique && this.mtarget.indexOf(val) >= 0) {\r\n      // basta evitare elementi identici o anche istanze diverse con stessi valori? o con altri concetti di \"uguglianza\" ?\r\n      U.pif(true, 'This reference type is labeled as \"unique\" and is already linked to that element.'); return; }\r\n    // if (this.mtarget[index]) { this.setTarget(index, null); }\r\n    this.mtarget[index] = val;\r\n    U.ArrayAdd(this.mtarget[index].referencesIN, this);\r\n    this.generateEdges();\r\n    edge = this.edges[index];\r\n    U.ArrayAdd(this.mtarget[index].vertex.edgesEnd, edge); }\r\n\r\n  clearTargets(): void {\r\n    let i: number;\r\n    for (i = 0; i < this.mtarget.length; i++) { this.setTarget(i, null); }\r\n    let upperbound: number = this.getUpperbound();\r\n    if (upperbound >= 0) {\r\n      this.mtarget.length = upperbound;\r\n      this.edges.length = upperbound;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Dictionary,\r\n  EdgeModes,\r\n  EdgePointStyle,\r\n  EdgeStyle,\r\n  IClass, IClassifier,\r\n  IEdge,\r\n  IFeature,\r\n  Json,\r\n  M2Class,\r\n  M2Reference,\r\n  M3Class, MAttribute, MetaMetaModel, MetaModel, ModelPiece,\r\n  MReference,\r\n  U, WebsiteTheme\r\n} from '../../../../common/Joiner';\r\nimport {EdgeHeadStyle} from '../../../../guiElements/mGraph/Edge/edgeStyle';\r\n\r\nexport abstract class IReference extends IFeature {\r\n  // static all: any[] = [];\r\n  // type: AttribETypes = null;\r\n  metaParent: IReference;\r\n  instances: IReference[];\r\n\r\n  edges: IEdge[] = [];\r\n  edgeStyleCommon: EdgeStyle;\r\n  edgeStyleHighlight: EdgeStyle;\r\n  edgeStyleSelected: EdgeStyle;\r\n  constructor(parent: IClass, meta: IReference) {\r\n    super(parent, meta);\r\n    if (parent) parent.references.push(this);\r\n    this.edgeStyleCommon = new EdgeStyle(EdgeModes.straight, 2, '#7f7f7f',\r\n      new EdgePointStyle(5, 2, '#ffffff', '#000000'),\r\n      new EdgeHeadStyle(20, 20, '#7f7f7f', '#7f7f7f'));\r\n    this.edgeStyleHighlight = new EdgeStyle(EdgeModes.straight, 2, '#ffffff',\r\n      new EdgePointStyle(5, 2, '#ffffff', '#0077ff'),\r\n      new EdgeHeadStyle(20, 20, '#ffffff', '#ffffff'));\r\n    this.edgeStyleSelected = new EdgeStyle(EdgeModes.straight, 4, '#ffffff', // #ffbb22\r\n      new EdgePointStyle(5, 2, '#ffffff', '#ff0000'),\r\n      new EdgeHeadStyle(25, 25, '#ffffff', '#ffffff'));\r\n\r\n\r\n    let complementaHex = (hexstr: string): string => { return '#' + U.toHex(16777215 - (U.hexToNum(hexstr)), 6); }\r\n    let i: number;\r\n\r\n    switch (WebsiteTheme.get()) {\r\n      default: U.pe(true, 'unexpected website theme: |' + WebsiteTheme.get() + '|' + WebsiteTheme.Light + '|'); break;\r\n      case WebsiteTheme.Dark: break;\r\n      case WebsiteTheme.Light:\r\n        let edgeStyles: EdgeStyle[] = [this.edgeStyleCommon, this.edgeStyleHighlight, this.edgeStyleSelected];\r\n        for (i = 0; i < edgeStyles.length; i++) {\r\n          let style: EdgeStyle = edgeStyles[i];\r\n          style.color = complementaHex(style.color);\r\n          style.edgePointStyle.fillColor = complementaHex(style.edgePointStyle.fillColor);\r\n          style.edgePointStyle.strokeColor = complementaHex(style.edgePointStyle.strokeColor);\r\n          style.edgeHeadStyle.fill = complementaHex(style.edgeHeadStyle.fill);\r\n          style.edgeHeadStyle.stroke = complementaHex(style.edgeHeadStyle.stroke); }\r\n        break;\r\n    }\r\n  }\r\n\r\n  abstract generateEdges(): IEdge[];\r\n\r\n  abstract duplicate(nameAppend?: string, newParent?: IClass): IReference;\r\n\r\n  delete(refreshgui: boolean = true, linkStart: number = null, linkEnd: number = null): void {\r\n    let oldParent = this.parent;\r\n    if (linkStart === null && linkEnd === null) {\r\n      super.delete(false);\r\n      linkStart = 0;\r\n      linkEnd = this.edges.length; }\r\n    const edges: IEdge[] = U.ArrayCopy(this.getEdges(), false);\r\n    let i: number;\r\n    linkEnd = Math.min(edges.length, linkEnd);\r\n    linkStart = Math.max(0, linkStart);\r\n    for (i = linkStart; i < linkEnd; i++) { if(edges[i]) edges[i].remove(); }\r\n    if (refreshgui) oldParent.refreshGUI();\r\n  }\r\n\r\n  // abstract linkClass(classe?: IClass): void;\r\n  getEdges(): IEdge[] { return this.edges; }\r\n\r\n  refreshGUI_Alone(debug: boolean = true): void {\r\n    super.refreshGUI_Alone(debug);\r\n    let i = -1;\r\n    const edges: IEdge[] = this.getEdges();\r\n    while (++i < edges.length) { if (edges[i]) { edges[i].refreshGui(); } }\r\n  }\r\n\r\n  copy(r: IReference, nameAppend: string = '_Copy', newParent: IClass = null): IReference {\r\n    while (this.edges.length) { if (this.edges[0]) this.edges[0].remove(); }\r\n    super.copy(r, nameAppend, newParent);\r\n    this.clearTargets();\r\n    super.copy(r, nameAppend, newParent);\r\n    this.generateEdges();\r\n    this.edgeStyleCommon = r.edgeStyleCommon.clone();\r\n    this.edgeStyleHighlight = r.edgeStyleHighlight.clone();\r\n    this.edgeStyleSelected = r.edgeStyleSelected.clone();\r\n    // this.typeClassFullnameStr = r.typeClassFullnameStr;\r\n    if (newParent) { U.ArrayAdd(newParent.references, this); }\r\n    this.refreshGUI();\r\n    return this; }\r\n\r\n  // abstract link(targetStr?: string, debug?: boolean): void;\r\n  // abstract conformability(meta: IReference, debug?: boolean): number;\r\n  abstract canBeLinkedTo(hoveringTarget: IClass): boolean;\r\n\r\n\r\n/*\r\n  getStartPoint(nextPt: GraphPoint = null, fixOnSides: boolean = true): GraphPoint {\r\n    let html: HTMLElement | SVGElement = this.getField().getHtml();\r\n    // todo: introduzione field con campo html.\r\n    if ( this.html && this.html.style.display !== 'none') {\r\n      html = this.getStartPointHtml();\r\n    } else { html = this.parent.getStartPointHtml(); }\r\n    const vertexSize: GraphSize = this.graph().toGraphCoordS(U.sizeof(this.parent.html.firstChild as HTMLElement | SVGElement ));\r\n    let htmlSize: Size = U.sizeof(html);\r\n    let size: GraphSize = this.getModelRoot().graph.toGraphCoordS(htmlSize);\r\n    if ( size.w === 0 || size.h === 0) {\r\n      html = this.parent.getEndPointHtml();\r\n      htmlSize = U.sizeof(html);\r\n      size = this.getModelRoot().graph.toGraphCoordS(htmlSize); }\r\n\r\n    let ep: GraphPoint = new GraphPoint(size.x + size.w / 2, size.y + size.h / 2);\r\n    // console.log('sizeH:', htmlSize, 'sizeg:', size, ' center: ', ep);\r\n    // this.getModelRoot().graph.markS(htmlSize, false, 'green');\r\n    // this.getModelRoot().graph.markS(htmlSize, false, 'green');\r\n    // ora è corretto, ma va fissato sul bordo vertex più vicino\r\n    let fixOnHorizontalSides = false;\r\n    const oldEpDebug = new GraphPoint(ep.x, ep.y);\r\n    let vicinanzaL;\r\n    let vicinanzaR;\r\n    let vicinanzaT;\r\n    let vicinanzaB;\r\n    if (!nextPt) {\r\n      vicinanzaL = Math.abs(ep.x - (vertexSize.x));\r\n      vicinanzaR = Math.abs(ep.x - (vertexSize.x + vertexSize.w));\r\n      vicinanzaT = Math.abs(ep.y - (vertexSize.y)) + (fixOnHorizontalSides ? Number.POSITIVE_INFINITY : 0);\r\n      vicinanzaB = Math.abs(ep.y - (vertexSize.y + vertexSize.h)) + (fixOnHorizontalSides ? Number.POSITIVE_INFINITY : 0);\r\n      const nearest = Math.min(vicinanzaL, vicinanzaT, vicinanzaR, vicinanzaB);\r\n      // console.log('vicinanze (LRTB)', vicinanzaL, vicinanzaR, vicinanzaT, vicinanzaB, 'vSize: ', vertexSize);\r\n      if ( nearest === vicinanzaT || (false && nextPt.x >= vertexSize.x && nextPt.x <= vertexSize.x + vertexSize.w && nextPt.y < ep.y)) {\r\n        ep.y = vertexSize.y; } else\r\n      if ( nearest === vicinanzaB || (false && nextPt.x >= vertexSize.x && nextPt.x <= vertexSize.x + vertexSize.w && nextPt.y > ep.y)) {\r\n        ep.y = vertexSize.y + vertexSize.h; } else\r\n      if ( nearest === vicinanzaR || (false && nextPt.x >= ep.x)) { ep.x = vertexSize.x + vertexSize.w; } else\r\n      if ( nearest === vicinanzaL) { ep.x = vertexSize.x; }\r\n      console.log('html:', html);\r\n    } else {\r\n      const grid = this.getModelRoot().graph.grid;\r\n      ep = GraphSize.closestIntersection(vertexSize, nextPt, ep, grid); }\r\n    // console.log('StartPoint fissato sul bordo:', oldEpDebug, '-->', ep);\r\n    // return this.parent.vertex.owner.fitToGrid(ep);\r\n    // if (fixOnSides && nextPt) { if (nextPt.x > ep.x) { ep.x += size.w / 2; } else { ep.x -= size.w / 2; }  }\r\n    return ep; // meglio se svincolato dalla grid: il vertica può essere di width ~ height non conforme alla grid e il punto risultare fuori\r\n  }\r\n*/\r\n  setDefaultStyle(value: string): void {\r\n    U.pw(true, 'IReference.setDefaultStyle(): todo.');\r\n  }\r\n\r\n  isContainment(): boolean {\r\n    if (this instanceof M2Reference) { return this.containment; }\r\n    if (this instanceof MReference) { return this.metaParent.containment; }\r\n    U.pe(true, 'unrecognized class.'); }\r\n  /*getM2Target(): M2Class {\r\n    if (this instanceof M2Reference) { return this.classType; }\r\n    if (this instanceof MReference) { return this.metaParent.classType; }\r\n    U.pe(true, 'unrecognized class.'); }*/\r\n  getUpperbound(): number {\r\n    if (this instanceof M2Reference) { return this.upperbound; }\r\n    if (this instanceof MReference) { return this.metaParent.upperbound; }\r\n    U.pe(true, 'unrecognized class.'); }\r\n  getLowerbound(): number {\r\n    if (this instanceof M2Reference) { return this.lowerbound; }\r\n    if (this instanceof MReference) { return this.metaParent.lowerbound; }\r\n    U.pe(true, 'unrecognized class.'); }\r\n\r\n\r\n  public clearTargets(): void {\r\n    // azioni solo su m1, non spostato direttamente su m1 per comodità d'uso nella IReference.clone();\r\n  }\r\n\r\n  abstract getTarget(index?: number): IClass;\r\n  getTargetSelector(index?: number): string { return this.getTarget(index).getSelector(); }\r\n}\r\n\r\nexport class M3Reference extends IReference {\r\n  parent: M3Class;\r\n  metaParent: M3Reference;\r\n  instances: M2Reference[];\r\n\r\n  constructor(parent: M3Class, meta: M3Reference = null) {\r\n    super(parent, meta);\r\n    this.parse(null); }\r\n\r\n  // clearTargets(): void { }\r\n\r\n  canBeLinkedTo(hoveringTarget: M3Class): boolean { U.pe(true, 'Invalid operation: m3Reference.canBeLinkedTo()'); return true; }\r\n\r\n  //conformability(meta: IReference, debug?: boolean): number { U.pe(true, 'Invalid operation: m3Reference.comformability()'); return 0; }\r\n\r\n  duplicate(nameAppend?: string, newParent?: IClass): M3Reference {  U.pe(true, 'Invalid operation: m3Reference.duplicate()'); return this; }\r\n\r\n  generateEdges(): IEdge[] { U.pe(true, 'Invalid operation: m3Reference.generateEdges()'); return []; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json { U.pe(true, 'Invalid operation: m3Reference.generateModel()'); return {}; }\r\n\r\n  parse(json: Json, destructive?: boolean): void { this.name = 'Reference'; }\r\n\r\n  linkClass(classe: IClass = null): void { U.pe(true, 'Invalid operation: M3Reference.linkClass();'); }\r\n\r\n  getTarget(index?: number): M3Class { return this.parent; }\r\n  // metaParent: M3Reference;\r\n  // instances: M3Reference[] | M2Reference[];\r\n}\r\n","import {\r\n  Json,\r\n  U,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  M2Class,\r\n  IAttribute,\r\n  AttribETypes,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph, Typedd,\r\n  IModel, IClass, M3Class,\r\n  Status, MClass, IVertex, M3Reference, M3Attribute, M2Reference, MReference, MAttribute, M2Attribute\r\n} from '../../../common/Joiner';\r\n\r\nexport abstract class IFeature extends Typedd {\r\n  metaParent: IFeature;\r\n  instances: IFeature[];\r\n  parent: IClass;\r\n  // isShadowed: boolean = false;\r\n\r\n  // linkToMetaParent<T extends IFeature>(feature: T) { this.metaParent = feature; }\r\n  getClass(): IClass { return this.parent; }\r\n\r\n  // must be overriden for m1-elements\r\n  setValues(values: any[] | any = null, index: number = null, autofix: boolean = true, debug: boolean = false): void {}\r\n/*\r\n  setShadowed(mapElement: boolean): void {\r\n    U.pe(!this.getModelRoot().isM2(), 'setShadowed() must be called from M2.', this);\r\n    this.isShadowed = mapElement; }*/\r\n\r\n  isInherited(forClass: IClass): boolean {\r\n    let thismr: IModel = this.getModelRoot();\r\n    let targetmr: IModel = forClass.getModelRoot();\r\n    U.pe(thismr !== targetmr, 'dev error isInherited(): cannot compare object from different models:', this, forClass);\r\n    U.pe(thismr.isM3(), 'dev error isInherited(): cannot compare object from m3:', this, forClass);\r\n    if (thismr.isM2()) return this.parent !== forClass; // for m2\r\n    let m2classContaining: IClass = this.metaParent.parent;\r\n    let m2classOfParent: IClass = forClass.metaParent;\r\n    if (m2classContaining !== m2classOfParent) return true; // for m1\r\n    return false; }\r\n\r\n  isShadowed(forClass: IClass): boolean {\r\n    const myroot: IModel = this.getModelRoot();\r\n    const targetRoot: IModel = forClass.getModelRoot();\r\n    U.pe(myroot !== targetRoot, 'error: called isShadowed with subject and parameters on different models:', this, forClass);\r\n    if (myroot.isM1()) return this.metaParent.isShadowed(forClass.metaParent);\r\n    let childs = forClass.getAllChildrens(false, false, true, true, false);\r\n    let myIndex = childs.indexOf(this);\r\n    for (let i = 0; i < myIndex; i++) {\r\n      if (childs[i].name === this.name) {\r\n\r\n        console.log (forClass.id + '_' + this.id + ' true 0isShadowed?', this.parent.name + '.' + this.name, myIndex, childs.map((e)=> e.parent.name + '.' + e.name));\r\n        return true;\r\n      }\r\n    }\r\n    console.log (forClass.id + '_' + this.id + ' false 0isShadowed?', this.parent.name + '.' + this.name, myIndex, childs.map((e)=> e.parent.name + '.' + e.name));\r\n\r\n    return false;\r\n  }\r\n\r\n\r\n\r\n/*  isShadowedOld(forClass: IClass): boolean {\r\n    if (forClass !== this.parent && !this.isInherited(forClass)) return false;\r\n    if (this.getModelRoot().isM1()) return this.metaParent.isShadowed(forClass.metaParent);\r\n    if (forClass.getModelRoot().isM1()) forClass = forClass.metaParent;\r\n    let superclasses: IClass[] = forClass.getAllSuperClasses();\r\n    let i: number;\r\n    for (i = 0; i < superclasses.length; i++) {\r\n      let sc: IClass = superclasses[i];\r\n      let tmp = sc.isChildNameTaken(this.name);\r\n      if (tmp) return true; }\r\n    return false; }\r\n*/\r\n}\r\n\r\nexport type M3Feature = M3Reference | M3Attribute;\r\nexport type M2Feature = M2Reference | M2Attribute;\r\nexport type MFeature = MReference | MAttribute;\r\n/*\r\nexport abstract class M3Feature extends IFeature {\r\n  parent: M3Class;\r\n  metaParent: M3Feature;\r\n  instances: M3Feature[] | M2Feature[];\r\n}\r\nexport abstract class M2Feature extends IFeature {\r\n  parent: M2Class;\r\n  metaParent: M3Feature;\r\n  instances: MFeature[];\r\n}\r\nexport abstract class MFeature extends IFeature {\r\n  parent: MClass;\r\n  metaParent: M2Feature;\r\n  instances: ModelNone;\r\n}*/\r\n","import {\r\n  AttribETypes,\r\n  ECoreOperation,\r\n  EParameter,\r\n  IClass,\r\n  Typedd,\r\n  Info,\r\n  Json,\r\n  M2Class, M3Class,\r\n  ModelPiece,\r\n  ShortAttribETypes, Type,\r\n  U, ELiteral, GraphSize, IVertex, IEdge, IReference, Status, Dictionary, MClass\r\n} from '../../../common/Joiner';\r\nimport {ViewRule} from '../../../GuiStyles/viewpoint';\r\nimport {Mark} from '../../../guiElements/mGraph/Vertex/Mark';\r\n// export abstract class EOperation extends Typedd {}\r\n/*\r\nexport class OperationVisibility {\r\n  static public = 'public';\r\n  static private = 'private';\r\n  static protected = 'protected';\r\n  static internal = 'internal';\r\n  static protectedinternal = 'protected internal';\r\n  static protectedprivate = 'protected private'; }*/\r\n\r\nexport enum AccessModifier {\r\n  public = 'public',\r\n  private = 'private',\r\n  protected = 'protected',\r\n  internal = 'internal',\r\n  package = 'package',\r\n  protectedinternal = 'protected internal',\r\n  protectedprivate = 'protected private', }\r\n\r\nexport class EOperation extends Typedd {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  // instances: Typedd[] = undefined;\r\n  // metaParent: Typedd = undefined;\r\n  parent: M2Class | M3Class;\r\n  childrens: EParameter[];\r\n  exceptionsStr: string = ''; // classlist to be later processed and linked.\r\n  visibility: AccessModifier = AccessModifier.private;\r\n  detailIsOpened: boolean = false && false;\r\n  type: Type;\r\n  // exceptions: IClass[];\r\n  // todo: ha davvero senso processarli e creare anche IClass.Object etc? mi conviene tenerli a stringa.\r\n\r\n  constructor(parent: M2Class | M3Class, json: Json) {\r\n    super(parent, null);\r\n    if (parent instanceof M2Class) parent.operations.push(this);\r\n    this.parse(json); }\r\n\r\n  isInherited(forClass: IClass): boolean { if (this.parent !== forClass) return true; }\r\n\r\n  canOverride(other: EOperation): boolean {\r\n    console.log('CanOverride(', this, ', ', other, ') ? ',\r\n      this.name === other.name,\r\n      this.parent !== other.parent,\r\n      this.getSignature() == other.getSignature(),\r\n      this.getReturnType().canOverride(other.getReturnType()));\r\n\r\n    // NB: se A.a(Object): Object e B.a(String):String lo tratta come polimorfismo. se A.a(String): Object e B.a(String):String lo tratta come override valido.\r\n    return this.name === other.name && this.parent !== other.parent && this.getSignature() == other.getSignature() && this.getReturnType().canOverride(other.getReturnType()); }\r\n  canPolymorph(other: EOperation): boolean {\r\n    console.log('canPolymorph(', this, ', ', other, ') ? ',\r\n      this.name === other.name,\r\n      this.getSignature() != other.getSignature());\r\n    // todo: hide shadowed features\r\n    return this.name === other.name && this.getSignature() != other.getSignature(); }\r\n\r\n  isCompatible(other: EOperation, allowMark: boolean = false): boolean {\r\n    let ret = this === other || (this.name !== other.name) || this.canOverride(other) || this.canPolymorph(other);\r\n    if (allowMark) {\r\n      if (!ret) this.markIncompatibility(other); else this.unmarkIncompatibility(other);\r\n    }\r\n    return ret; }\r\n\r\n  getReturnType(): Type { return this.getType(); }\r\n\r\n  getChildrenParameter(index: number): EParameter { return this.childrens[index]; }\r\n  getChildrenParameterSelector(index: number): string { return this.getChildrenParameter(index).getSelector(); }\r\n\r\n  getVisibilityChar(): string {\r\n    switch (this.visibility) {\r\n      case AccessModifier.public: return '+';\r\n      case AccessModifier.private: return '-';\r\n      case AccessModifier.protected: return '#';\r\n      case AccessModifier.internal:\r\n      case AccessModifier.package: return '~';\r\n      case AccessModifier.protectedinternal: return '#~';\r\n      case AccessModifier.protectedprivate: return '#-';\r\n      default: return '?'; } }\r\n\r\n  getClass(): IClass { return this.parent; }\r\n  conformability(metaparent: ModelPiece, outObj?: any, debug?: boolean): number { U.pe(true, 'operation.conformability()'); return 0; }\r\n\r\n  duplicate(nameAppend: string = '_Copy', newParent: M2Class = null): EOperation {\r\n    const c: EOperation = new EOperation(this.parent, null);\r\n    c.copy(this); return c; }\r\n\r\n  copy(c: EOperation, nameAppend: string = '_Copy', newParent: M2Class = null): void {\r\n    super.copy(c, nameAppend, newParent);\r\n    this.exceptionsStr = c.exceptionsStr;\r\n    //// set childrens\r\n    // this.arguments = []; for (i = 0; i < this.childrens.length; i++) { U.ArrayAdd(this.arguments, this.childrens[i]); }\r\n    this.refreshGUI(); }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, MClass> = null): Json {\r\n    const parameters: Json[] = [];\r\n    const json: Json = {};\r\n    json[ECoreOperation.eParameters] = parameters;\r\n    /*\r\n\t\t\t\t\t\t\"_name\": \"EExceptionNameCustom\",\r\n\t\t\t\t\t\t\"_ordered\": \"false\",\r\n\t\t\t\t\t\t\"_unique\": \"false\",\r\n\t\t\t\t\t\t\"_lowerBound\": \"5\",\r\n\t\t\t\t\t\t\"_upperBound\": \"7\",\r\n\t\t\t\t\t\t\"_eType\": \"#//Casa\",\r\n\t\t\t\t\t\t\"_eExceptions\": \"#//Casa #//League ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt\",\r\n\t\t\t\t\t\t\"eParameters\": [ ]*/\r\n    Json.write(json, ECoreOperation.namee, this.name);\r\n    Json.write(json, ECoreOperation.eType, this.getType().toEcoreString() );\r\n    Json.write(json, ECoreOperation.lowerBound, '' + this.lowerbound);\r\n    Json.write(json, ECoreOperation.upperBound, '' + this.upperbound);\r\n    Json.write(json, ECoreOperation.eexceptions, this.exceptionsStr);\r\n    Json.write(json, ECoreOperation.ordered, '' + this.ordered);\r\n    Json.write(json, ECoreOperation.unique, '' + this.unique);\r\n    let i: number;\r\n    for (i = 0; i < this.childrens.length; i++) { parameters.push(this.childrens[i].generateModel(loopDetectionObj)); }\r\n    return json; }\r\n\r\n  getInfo(toLower: boolean = false): any {\r\n    const info: any = super.getInfo(toLower);\r\n    Info.unset(info, 'instances');\r\n    Info.rename(info, 'type', 'returnType');\r\n    Info.rename(info, 'typeDetail', 'returnTypeDetail');\r\n    return info; }\r\n\r\n  parse(json: Json, destructive?: boolean): void {\r\n    this.setName( (this.parent instanceof M3Class) ? 'Operation' : Json.read<string>(json, ECoreOperation.namee, 'Func_1'));\r\n    this.setType(Json.read<string>(json, ECoreOperation.eType, AttribETypes.void));\r\n    this.setLowerbound(+Json.read<number>(json, ECoreOperation.lowerBound, 'NAN_Trigger'));\r\n    this.setUpperbound(+Json.read<number>(json, ECoreOperation.upperBound, 'NAN_Trigger'));\r\n    this.exceptionsStr = Json.read<string>(json, ECoreOperation.eexceptions, '');\r\n    this.ordered = 'true' === '' + Json.read<boolean>(json, ECoreOperation.ordered, 'false');\r\n    this.unique = 'true ' === '' + Json.read<boolean>(json, ECoreOperation.unique, 'false');\r\n    this.visibility = AccessModifier.package;\r\n    const parameters: Json[] = Json.getChildrens(json, false);\r\n    let i: number;\r\n    for (i = 0; i < parameters.length; i++) {\r\n      const param: EParameter = new EParameter(this, parameters[i]);\r\n      // U.ArrayAdd(this.arguments, param);\r\n      U.ArrayAdd(this.childrens, param); }/*\r\n    this.views = [];\r\n    for(i = 0; i < this.parent.views.length; i++) {\r\n      const pv: ClassView = this.parent.views[i];\r\n      const v = new OperationView(pv);\r\n      this.views.push(v);\r\n      pv.operationViews.push(v); }*/\r\n\r\n    /*  https://codebeautify.org/xmltojson\r\n\t\t\t\t\"Operations\": [ {\r\n\t\t\t\t\t\t\"_name\": \"EExceptionNameCustom\",\r\n\t\t\t\t\t\t\"_ordered\": \"false\",\r\n\t\t\t\t\t\t\"_unique\": \"false\",\r\n\t\t\t\t\t\t\"_lowerBound\": \"5\",\r\n\t\t\t\t\t\t\"_upperBound\": \"7\",\r\n\t\t\t\t\t\t\"_eType\": \"#//Casa\",\r\n\t\t\t\t\t\t\"_eExceptions\": \"#//Casa #//League ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt\" },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"eParameters\": [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"_eType\": \"#//Casa\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"eAnnotations\": {\r\n\t\t\t\t\t\t\t\t\t\"_source\": \"annotationtext\",\r\n\t\t\t\t\t\t\t\t\t\"_references\": \"#//Umano/anni #//Umano/Attribute_1\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\"_name\": \"dbl\",\r\n\t\t\t\t\t\t\t\t\"_ordered\": \"false\",\r\n\t\t\t\t\t\t\t\t\"_unique\": \"false\",\r\n\t\t\t\t\t\t\t\t\"_lowerBound\": \"1\",\r\n\t\t\t\t\t\t\t\t\"_upperBound\": \"2\",\r\n\t\t\t\t\t\t\t\t\"_eType\": \"ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDouble\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\"_name\": \"operationDam\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],*/\r\n  }\r\n\r\n  public getSignature(maxarguments: number = Number.POSITIVE_INFINITY): string {\r\n    let parameterStr = '';\r\n    maxarguments = Math.min(maxarguments, this.childrens.length);\r\n    let i: number;\r\n    const debug: boolean = true;\r\n    const separator = ', ';\r\n    for (i = 0; i < maxarguments; i++) {\r\n      if (i !== 0) { parameterStr += separator; }\r\n      U.pif(debug, 'parameter[' + i + '] = ', this.childrens[i]);\r\n      U.pif(debug, 'parameterStr: |' + parameterStr + '| --> |' + parameterStr + this.childrens[i].getType().toShortString() + '|');\r\n      parameterStr += this.childrens[i].getType().toShortString(); }\r\n    return parameterStr; }\r\n\r\n  setSignatureHtml(html: HTMLElement, separator: string, maxargumentchars: number = null, maxarguments: number = null): void {\r\n    const debug: boolean = false && true;\r\n    maxargumentchars = isNaN(+maxargumentchars) ? 10 : +maxargumentchars;\r\n    maxarguments = isNaN(+maxarguments) ? 2 : +maxarguments;\r\n    const fixName = (s: string): string => {\r\n      U.pif(debug, 'fixname: |' + s + '| --> |' + s.substring(0, maxargumentchars - 1) + '…|');\r\n      if (s.length > maxargumentchars) { return s.substring(0, maxargumentchars - 1) + '…'; }\r\n      return s; };\r\n    let i: number;\r\n    let parameterStr = this.getSignature(maxarguments);\r\n    U.pif(debug, 'finalSignature: ', this.getVisibilityChar(), fixName(this.name), parameterStr,\r\n      fixName(this.type.toShortString()), this);\r\n    // todo: innerText is not standard, switch to textContent\r\n    html.innerHTML = '&nbsp'; // == ' '\r\n    html.textContent += this.getVisibilityChar() + '' + fixName(this.name) + '(' + parameterStr + ') → ' // → ⇒\r\n      + this.type.toShortString();\r\n    html.dataset.visibility = this.visibility;\r\n    html.dataset.exceptions = this.exceptionsStr; }\r\n\r\n  setType(ecoreTypeString: string, throwError: boolean = true, refreshGui: boolean = true): boolean{\r\n    let ret = super.setType(ecoreTypeString, throwError, refreshGui);\r\n    if (!ret) return false;\r\n    if (this.parent instanceof M2Class) this.parent.calculateInheritanceViolations(true);\r\n    return true; }\r\n\r\n  // getReturnType(): EParameter { return this.getFakeReturnTypeParameter(); }\r\n/*\r\n  getFakeReturnTypeParameter(): EParameter {\r\n    const fake: EParameter = new EParameter(null, null);\r\n    U.arrayRemoveAll(this.childrens, fake);\r\n    fake.parent = this; // can travel fake -> original, can't original -> fake.\r\n    fake.id = this.id;\r\n    fake.ordered = this.ordered;\r\n    fake.unique = this.unique;\r\n    fake.setLowerbound(this.getLowerbound());\r\n    fake.setUpperbound(this.getUpperbound());\r\n    fake.setType(this.getType().toEcoreString());\r\n    fake.name = '';\r\n    return fake; }*/\r\n\r\n  addParameter(): EParameter {\r\n    const p: EParameter = new EParameter(this, null);\r\n    U.ArrayAdd(this.childrens, p);\r\n    return p; }\r\n\r\n  markIncompatibility(other: EOperation){\r\n    U.pw(true, 'Marked operations are incompatible toghether.');\r\n    this.mark(true, other, 'incompatibility:' + this.id + '_' + other.id, null); }\r\n\r\n  unmarkIncompatibility(other: EOperation): void{\r\n    console.log('mark: unmark:', this.id + '_' + other.id, this);\r\n    this.mark(false, other, 'incompatibility:' + this.id + '_' + other.id, null); }\r\n\r\n  unmarkAllIncompatibility(): void{\r\n    return;\r\n    // super.unmarkAll((key: string) => { return key.indexOf('incompatibility') === 0; });\r\n  }\r\n\r\n\r\n\r\n  delete(refreshgui: boolean = true): void{\r\n    super.delete(false);\r\n  }\r\n\r\n  markedCompatibility: {key: string, target: EOperation}[] = [];\r\n}\r\n","import {\r\n  AttribETypes,\r\n  IAttribute,\r\n  M2Class,\r\n  IFeature,\r\n  IReference,\r\n  Json,\r\n  MClass,\r\n  ModelPiece,\r\n  ShortAttribETypes,\r\n  M2Attribute,\r\n  ECoreParameter,\r\n  U,\r\n  M3Attribute,\r\n  IVertex,\r\n  IField,\r\n  MetaModel,\r\n  Model,\r\n  Status,\r\n  EOperation,\r\n  ECoreOperation,\r\n  Typedd,\r\n  IClass,\r\n  Info,\r\n  M3Class, Dictionary,\r\n} from '../../../common/Joiner';\r\n// export abstract class EParameter extends Typedd {}\r\nexport class EParameter extends Typedd {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  parent: EOperation;\r\n\r\n  constructor(parent: EOperation, json: Json) {\r\n    super(parent, null);\r\n    if (!parent) { return; } // fake constructor will allow to travel fake -> original. can't original -> fake.\r\n    this.parse(json); }\r\n\r\n  isInherited(forClass: IClass): boolean { return false; }\r\n\r\n  setType(ecoreTypeString: string, throwError: boolean = true, refreshGui: boolean = true): boolean{\r\n    let ret = super.setType(ecoreTypeString, throwError, refreshGui);\r\n    if (!ret) return false;\r\n    if (this.parent.parent instanceof M2Class) this.parent.parent.calculateInheritanceViolations(true);\r\n    return true; }\r\n\r\n  fullname(): string { return super.fullname() + ':' + this.name; }\r\n  getField(): IField { return this.parent ? this.parent.getField() : null; }\r\n  getClass(): IClass { return this.parent ? this.parent.parent : null; }\r\n\r\n  conformability(metaparent: ModelPiece, outObj?: any, debug?: boolean): number { U.pe(true, 'eop.conformability'); return 0; }\r\n\r\n  duplicate(nameAppend: string = '_Copy', newParent: EOperation = null): EParameter {\r\n    const c: EParameter = new EParameter(null, null);\r\n    c.copy(this, nameAppend, newParent); return c; }\r\n\r\n  copy(c: EParameter, nameAppend: string = '_Copy', newParent: EOperation = null): void {\r\n    super.copy(c, nameAppend, newParent);\r\n    //// set childrens\r\n    // let i; for (i = 0; i < this.childrens.length; i++) { U.ArrayAdd(this.parent.arguments, this.childrens[i]); }\r\n    this.refreshGUI(); }\r\n\r\n  getInfo(toLower: boolean = false): any {\r\n    const info: any = super.getInfo(toLower);\r\n    Info.unset(info, 'instances');\r\n    return info; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MClass id*/, ModelPiece> = null): Json {\r\n    const json: Json = {};\r\n    Json.write(json, ECoreOperation.lowerBound, '' + this.lowerbound);\r\n    Json.write(json, ECoreOperation.upperBound, '' + this.upperbound);\r\n    Json.write(json, ECoreOperation.ordered, '' + this.ordered);\r\n    Json.write(json, ECoreOperation.unique, '' + this.unique);\r\n    Json.write(json, ECoreOperation.eType, '' + this.getType().toEcoreString());\r\n    return json; }\r\n\r\n  parse(json: Json, destructive?: boolean): void {\r\n    /* {\"eAnnotations\": {\r\n\t\t\t\t\t\"_source\": \"annotationtext\",\r\n\t\t\t\t\t\"_references\": \"#//Umano/anni #//Umano/Attribute_1\" },\r\n\t\t\t\t\"_name\": \"dbl\",\r\n\t\t\t\t\"_ordered\": \"false\",\r\n\t\t\t\t\"_unique\": \"false\",\r\n\t\t\t\t\"_lowerBound\": \"1\",\r\n\t\t\t\t\"_upperBound\": \"2\",\r\n\t\t\t\t\"_eType\": \"ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDouble\" }*/\r\n    U.pe(!this.parent || !this.parent.parent, 'json:', json, 'this: ', this, 'this.parent:', this.parent, 'this.p.p:', this.parent ? this.parent.parent : undefined);\r\n    this.setName(this.parent.parent instanceof M3Class ? 'Parameter' : Json.read<string>(json, ECoreParameter.namee, 'Param_1'));\r\n    this.setLowerbound(+Json.read<number>(json, ECoreOperation.lowerBound, 'NAN_Trigger'));\r\n    this.setUpperbound(+Json.read<number>(json, ECoreOperation.upperBound, 'NAN_Trigger'));\r\n    this.ordered = 'true' === '' + Json.read<boolean>(json, ECoreOperation.ordered, 'false');\r\n    this.unique = 'true ' === '' + Json.read<boolean>(json, ECoreOperation.unique, 'false');\r\n    this.setType(Json.read<string>(json, ECoreParameter.eType, AttribETypes.EString));\r\n    let i: number;/*\r\n    this.views = [];\r\n    for(i = 0; i < this.parent.views.length; i++) {\r\n      const pv: OperationView = this.parent.views[i];\r\n      const v = new ParameterView(pv);\r\n      this.views.push(v);\r\n      pv.parameterView.push(v); }*/\r\n\r\n  }\r\n\r\n}\r\n","import {\r\n  AttribETypes,\r\n  Dictionary,\r\n  EEnum,\r\n  EOperation,\r\n  EParameter,\r\n  M2Attribute,\r\n  M2Class,\r\n  M2Package,\r\n  M2Reference,\r\n  MAttribute,\r\n  ModelPiece,\r\n  ShortAttribETypes,\r\n  Status, TopBar,\r\n  Typedd,\r\n  U\r\n} from '../../common/Joiner';\r\nimport ChangeEvent = JQuery.ChangeEvent;\r\n\r\nexport class Type {\r\n  public static all: Type[] = [];\r\n  private static idMax: number = 0;\r\n  private static allByID: Dictionary<number, Type> = {};\r\n  static classTypePrefix: string = '#//';\r\n  private typestr: string;\r\n  public primitiveType: EType = null;\r\n  public classType: M2Class = null;\r\n  public enumType: EEnum = null;\r\n  public owner: ModelPiece = null; // todo: cambia to Typedd\r\n  private id: number;\r\n  public printablename: string;\r\n// change owner type. check invalid comparisons like type === othertype to see if sametype\r\n  static getAllTypedMP(): Typedd[] {\r\n    return Type.all.map( (t: Type) => t.owner as Typedd);\r\n    return Object.keys(Type.allByID).map((key: string) => { return ModelPiece.getByID(+key); } ) as Typedd[]; }\r\n\r\n  static getAllWithClassType(searchType: M2Class): Typedd[]{\r\n    if (!searchType) return [];\r\n    // const typestr = searchType.getEcoreTypeName();\r\n    // return Type.getAllTypedMP().filter((t:Typedd)=> (t.type && t.type.classType && t.type.classType.getEcoreTypeName() === typestr));\r\n    return Type.getAllTypedMP().filter(\r\n      (typed: Typedd) => { return typed.type && typed.type.classType && typed.type.classType.id === searchType.id; }\r\n      ); }\r\n\r\n  static updateTypeSelectors($searchRoot: JQuery<HTMLElement>, primitives: boolean = true, enums: boolean = true, classes: boolean = true): void{\r\n    if (!$searchRoot) { $searchRoot = $(document.body); }\r\n    let key = U.getStartSeparatorKey();\r\n    const query = (primitives ? U.startSeparator(key) + 'select[data-primitive=\"true\"]' : '') +\r\n      (enums ? U.startSeparator(key) + 'select[data-enum=\"true\"]' : '') +\r\n      (classes ? U.startSeparator(key) + 'select[data-class=\"true\"]' : '');\r\n    key = U.getStartSeparatorKey();\r\n    const notquery = (primitives ? U.startSeparator(key) + '.template select[data-primitive=\"true\"]' : '') +\r\n      (enums ? U.startSeparator(key) + '.template select[data-enum=\"true\"]' : '') +\r\n      (classes ? U.startSeparator(key) + '.template select[data-class=\"true\"]' : '');\r\n//    console.log(query);\r\n    const $selects: JQuery<HTMLSelectElement> = $searchRoot.find(query).not(notquery) as any;\r\n    for (let i = 0; i < $selects.length; i++) { Type.updateTypeSelector($selects[i]); }\r\n    if (classes && Status.status.m &&  Status.status.m.sidebar) { Status.status.m.sidebar.updateAll(); }\r\n  }\r\n  static updateTypeSelector(selectHtml: HTMLSelectElement): void{\r\n    const addPrimitive = selectHtml.dataset.primitive === \"true\";\r\n    const addEnum = selectHtml.dataset.enum === \"true\";\r\n    const addClass = selectHtml.dataset.class === \"true\";\r\n    const addVoid = selectHtml.dataset.void === \"true\";\r\n    const type: Type = Type.get(+selectHtml.dataset.typeid);\r\n    Type.makeTypeSelector(selectHtml, type, addPrimitive, addEnum, addClass, addVoid); }\r\n\r\n  private static selectors: {all: HTMLSelectElement[], primitives: HTMLSelectElement[], classes: HTMLSelectElement[], enums: HTMLSelectElement[]}\r\n    = {all: [], primitives: [], classes: [], enums: []};\r\n\r\n  private static makeTypeSelector(selectHtml: HTMLSelectElement, selectedType: Type, addPrimitive: boolean, addEnum: boolean, addClass: boolean, addVoid: boolean): void {\r\n    U.pe(!selectHtml, 'select is null');\r\n    U.clear(selectHtml);\r\n    const mp: ModelPiece = ModelPiece.getLogic(selectHtml) as Typedd;\r\n    if (mp && mp instanceof Typedd) {\r\n      selectedType = mp.getType();\r\n      $(selectHtml).off('change.type').on('change.type', (e: ChangeEvent) => { mp.fieldChanged(e); });\r\n    } else return; //U.pw(true, 'type selector inserted on non-typed element:', selectHtml, mp);\r\n    selectHtml.dataset.typeid = '' + selectedType.id;\r\n    selectHtml.dataset.primitive = '' + (addPrimitive ? \"true\" : \"false\");\r\n    selectHtml.dataset.enum = '' + (addEnum ? \"true\" : \"false\") ;\r\n    selectHtml.dataset.class = '' + (addClass ? \"true\" : \"false\");\r\n    selectHtml.dataset.void = '' + (addVoid ? \"true\" : \"false\");\r\n\r\n    const grpReturn: HTMLOptGroupElement = document.createElement('optgroup');\r\n    const grpPrimitive: HTMLOptGroupElement = document.createElement('optgroup');\r\n    const grpEnum: HTMLOptGroupElement = document.createElement('optgroup');\r\n    const grpClass: HTMLOptGroupElement = document.createElement('optgroup');\r\n    grpReturn.label = 'Return Types';\r\n    grpPrimitive.label = 'Primitive Types';\r\n    grpEnum.label = 'Enumerative Types';\r\n    grpClass.label = 'ClassReference Types';\r\n    let optionFound = false;\r\n    let key: string;\r\n    let i: number;\r\n    const foundit = (opt: HTMLOptionElement) => { optionFound = true; opt.setAttribute('selected', ''); opt.selected = true; };\r\n    // primitive:\r\n    if (addPrimitive) {\r\n      for (key in EType.shorts) {\r\n        if (!EType.shorts[key]) { continue; }\r\n        const etype: EType = EType.shorts[key];\r\n        if (etype.short === ShortAttribETypes.void && !addVoid) { continue; }\r\n        const opt: HTMLOptionElement = document.createElement('option');\r\n        grpPrimitive.appendChild(opt);\r\n        opt.value = etype.long;\r\n        opt.innerHTML = etype.getName();\r\n        if (selectedType && etype === selectedType.primitiveType) { foundit(opt); }} }\r\n    // primitive end\r\n    // Enum Start:\r\n    if (addEnum) {\r\n      const enumarr: EEnum[] = Status.status.mm.getAllEnums();\r\n      for (i = 0; i < enumarr.length; i++) {\r\n        const e: EEnum = enumarr[i];\r\n        const opt: HTMLOptionElement = document.createElement('option');\r\n        grpEnum.appendChild(opt);\r\n        opt.value = e.getEcoreTypeName();\r\n        opt.innerHTML = e.name;\r\n        if (e === selectedType.enumType) { foundit(opt); } }\r\n    }\r\n\r\n    // Enum End:\r\n    // class Start:\r\n    if (addClass) {\r\n      const classarr: M2Class[] = Status.status.mm.getAllClasses();\r\n      for (i = 0; i < classarr.length; i++) {\r\n        const e: M2Class = classarr[i];\r\n        const opt: HTMLOptionElement = document.createElement('option');\r\n        grpClass.appendChild(opt);\r\n        opt.value = e.getEcoreTypeName();\r\n        opt.innerHTML = e.name;\r\n        if (e === selectedType.classType) { foundit(opt); } }\r\n    }\r\n\r\n    // class End:\r\n\r\n    U.ArrayAdd(Type.selectors.all, selectHtml);\r\n    if (addPrimitive) { U.ArrayAdd(Type.selectors.primitives, selectHtml); }\r\n    if (addEnum) { U.ArrayAdd(Type.selectors.enums, selectHtml); }\r\n    if (addClass) { U.ArrayAdd(Type.selectors.classes, selectHtml); }\r\n    if (grpReturn.children.length) selectHtml.appendChild(grpReturn);\r\n    if (grpPrimitive.children.length) selectHtml.appendChild(grpPrimitive);\r\n    if (grpEnum.children.length) selectHtml.appendChild(grpEnum);\r\n    if (grpClass.children.length) selectHtml.appendChild(grpClass);\r\n    U.pe(selectedType && !optionFound, 'selected type option not found; select:', selectHtml,\r\n      ' EType.shorts:', EType, EType.shorts, ', searchedVal:', selectedType);\r\n  }\r\n\r\n\r\n  public static linkAll(): void {\r\n\r\n    for (let i: number = 0; i < Type.all.length; i++) { Type.all[i].applyTypeStr(); }\r\n\r\n  }\r\n\r\n  private static get(id: number): Type { return Type.allByID[id]; }\r\n  constructor(owner: ModelPiece, typestr: string = null) {\r\n    this.owner = owner;\r\n    this.typestr = typestr;\r\n    this.id = Type.idMax++;\r\n    Type.allByID[this.id] = this;\r\n    Type.all.push(this); }\r\n\r\n  changeType(typestr: string = null, primitiveType: EType = null, classType: M2Class = null, enumType: EEnum = null): void {\r\n    U.pe((typestr ? 1 : 0) + (primitiveType ? 1 : 0) + (classType ? 1 : 0) !== 1,\r\n      'changeType(): exactly one argument is required. str:', typestr, 'primitive:', primitiveType, 'classType:', classType);\r\n    if (!(typestr || primitiveType || classType || enumType)) return;\r\n    if (typestr) { this.typestr = typestr; }\r\n    if (primitiveType) { this.typestr = primitiveType.long; }\r\n    if (classType) { this.typestr = classType.getEcoreTypeName(); }\r\n    if (enumType) { this.typestr = enumType.getEcoreTypeName(); }\r\n    this.applyTypeStr(); }\r\n\r\n  defaultValue(): any {\r\n    if (this.primitiveType) return this.primitiveType.defaultValue;\r\n    if (this.enumType) return this.enumType.childrens[0].name;\r\n    return null; }\r\n\r\n  private applyTypeStr(): void {\r\n    if (!this.typestr || !Status.status.mm) return;\r\n    this.applyTypeStr0();\r\n    if (this.primitiveType) this.printablename = this.primitiveType.getName();\r\n    if (this.enumType) this.printablename = this.enumType.name;\r\n    if (this.classType) this.printablename = this.classType.name ? this.classType.name : this.classType.metaParent.name;\r\n    if (this.typestr === '???void') this.printablename = 'void';\r\n    U.pe(!this.printablename, this);\r\n  }\r\n  private applyTypeStr0(): void {\r\n    const debug = false;\r\n    let i: number;\r\n    let oldClass = this.classType;\r\n    let oldEnum = this.enumType;\r\n    let oldPrimitive = this.primitiveType;\r\n    this.enumType = this.classType = this.primitiveType = null;\r\n    let typestr: string = this.typestr;\r\n    // this.typestr = null;\r\n    if(debug) { U.cclear(); }\r\n    U.pif(debug, 'changeType()', this, this.typestr);\r\n    this.primitiveType = EType.getFromLongString(typestr, false);\r\n    if (!this.primitiveType) {\r\n      U.pe(typestr.indexOf(Type.classTypePrefix) !== 0, 'allyTypeStr(): found typestr neither primitive nor classifier.', this.typestr, this);\r\n      const s: string = typestr.substr(Type.classTypePrefix.length);\r\n      const packages: M2Package[] = Status.status.mm.childrens;\r\n      for (i = 0; i < packages.length; i++) {\r\n        const pkg: M2Package = packages[i];\r\n        const c: M2Class = pkg.getClass(s);\r\n        if (c) { this.classType = c; break; }\r\n        const e: EEnum = pkg.getEnum(s);\r\n        if (e) { this.enumType = e; break; } }\r\n    }\r\n    U.pe(!this.primitiveType && !this.enumType && !this.classType, 'failed to find target: |' + typestr + '|', Status.status.mm);\r\n\r\n    if (this.owner instanceof M2Reference) {\r\n      if (oldClass === this.classType) return;\r\n      if (oldClass) { U.arrayRemoveAll(oldClass.referencesIN, this.owner); }\r\n      this.classType.referencesIN.push(this.owner);\r\n      if (this.owner.edges && this.owner.edges.length) { this.owner.edges[0].setTarget(this.classType.vertex); this.owner.edges[0].refreshGui(); }\r\n      U.pif(debug, 'ref target changed; type:' + this + 'inside:', this.owner);\r\n      this.owner.refreshGUI();\r\n      U.pif(debug, 'exit2: m2reference');\r\n      return; }\r\n\r\n    U.pif(debug, 'typechanged:', this.owner, this);\r\n    if (this.owner instanceof M2Attribute) {\r\n      for (i = 0; i < this.owner.instances.length; i++) { this.owner.instances[i].valuesAutofix(); }\r\n      this.owner.refreshGUI();\r\n      U.pif(debug, 'exit3: attrib.');\r\n      return; }\r\n    if (this.owner instanceof EOperation) {\r\n      this.owner.refreshGUI();\r\n      return; }\r\n    if (this.owner instanceof EParameter) {\r\n      this.owner.refreshGUI();\r\n      return; }\r\n    U.pe(true, 'unexpected owner instance in changeType():', this);\r\n\r\n  }\r\n\r\n  toEcoreString(): string {\r\n    if (this.classType) return Type.classTypePrefix + this.classType.name;\r\n    if (this.enumType) return Type.classTypePrefix + this.enumType.name;\r\n    if (this.primitiveType) return this.primitiveType.long;\r\n    return null; }\r\n  toShortString(): string {\r\n    if (this.classType) return '' + this.classType.name;\r\n    if (this.enumType) return '' + this.enumType.name;\r\n    if (this.primitiveType) return '' + this.primitiveType.getName();\r\n    return null; }\r\n\r\n  canOverride(other: Type): boolean {\r\n    // i primitivi identici sono compatibili\r\n    if (this === other) return true;\r\n    // i primitivi diversi sono sempre incompatibili\r\n    if (!this.classType) return false;\r\n    // per le classi\r\n    if (other.classType === other.classType) return true;\r\n    return this.classType.isExtending(other.classType); }\r\n}\r\n\r\n  export class EType {\r\n  static shorts: Dictionary<ShortAttribETypes, EType> = {};\r\n  // static TypeMap: Map<string, Map<string, string>>; // Map<TypemapName, Map<ECoreShortTypeName, TypeAlias>\r\n  // static currentTypeMapKey: string = null;\r\n  // name: string = null;\r\n  long: AttribETypes = null;\r\n  short: ShortAttribETypes = null;\r\n  defaultValue: any = null;\r\n  minValue: number;\r\n  maxValue: number;\r\n\r\n  static LoadTypeMaps(): void {\r\n    EType.LoadPredefinedTypeMaps();\r\n    EType.LoadCustomTypeMaps();\r\n  }\r\n\r\n  static LoadPredefinedTypeMaps(): void {\r\n    Status.status.typeAliasDictionary['predefined.ecore'] = {};\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.void] = ShortAttribETypes.void;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EChar] = ShortAttribETypes.EChar;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EString] = ShortAttribETypes.EString;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EDate] = ShortAttribETypes.EDate;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EFloat] = ShortAttribETypes.EFloat;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EDouble] = ShortAttribETypes.EDouble;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EBoolean] = ShortAttribETypes.EBoolean;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EByte] = ShortAttribETypes.EByte;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EShort] = ShortAttribETypes.EShort;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.EInt] = ShortAttribETypes.EInt;\r\n    Status.status.typeAliasDictionary['predefined.ecore'][ShortAttribETypes.ELong] = ShortAttribETypes.ELong;\r\n    Status.status.typeAliasDictionary['predefined.java'] = {};\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.void] = 'void';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EChar] = 'char';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EString] = 'string';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EDate] = 'date';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EFloat] = 'float';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EDouble] = 'double';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EBoolean] = 'bool';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EByte] = 'byte';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EShort] = 'short';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.EInt] = 'int';\r\n    Status.status.typeAliasDictionary['predefined.java'][ShortAttribETypes.ELong] = 'long';\r\n    Status.status.typeAliasDictionary['predefined.c89'] = {};\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.void] = 'void';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EChar] = 'char';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EString] = 'char*';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EDate] = 'time_t';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EFloat] = 'float';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EDouble] = 'double';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EBoolean] = 'BOOL';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EByte] = 'unsigned char';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EShort] = 'short';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.EInt] = 'int';\r\n    Status.status.typeAliasDictionary['predefined.c89'][ShortAttribETypes.ELong] = 'long';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'] = new Map<ShortAttribETypes, string>();\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.void] = 'void';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EChar] = 'CHAR';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EString] = 'VARCHAR';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EDate] = 'DATETIME'; // OR TIMESTAMP (quasi uguali, con diversi limini min-max)\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EFloat] = 'FLOAT';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EDouble] = 'DOUBLE';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EBoolean] = 'TINYINT';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EByte] = 'CHAR(1)';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EShort] = 'SMALLINT';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.EInt] = 'INT';\r\n    Status.status.typeAliasDictionary['predefined.MySQL'][ShortAttribETypes.ELong] = 'SMALLINT';\r\n    Status.status.typeAliasDictionary[Status.status.user.getID() + '.custom']\r\n      = U.cloneObj(Status.status.typeAliasDictionary['predefined.java']);\r\n    Status.status.currentTypeAlias = 'predefined.java';\r\n  }\r\n  static LoadCustomTypeMaps(): void {}\r\n\r\n  getName(typeMapKey: string = null) {\r\n    const typemap: Map<ShortAttribETypes, string>\r\n      = Status.status.typeAliasDictionary[typeMapKey || Status.status.currentTypeAlias];\r\n    return typemap && typemap[this.short] || this.short;\r\n  }/*\r\n    changeAlias(value: string) {\r\n      this.name = value;\r\n      Status.status.typeAliasDictionary[this.short] = this.getName();\r\n      Status.status.aliasTypeDictionary[this.name] = this.short;\r\n      Status.status.mm.refreshGUI();\r\n      Status.status.m.refreshGUI();\r\n      Status.status.mm.graph.propertyBar.refreshGUI();\r\n      Status.status.m.graph.propertyBar.refreshGUI();\r\n    }*/\r\n\r\n\r\n    constructor(long: AttribETypes, short: ShortAttribETypes, defaultVal: any, minValue: number = null, maxValue: number = null) {\r\n    U.pe(EType.shorts[short], 'etype created twice:', EType.shorts[short]);\r\n    EType.shorts[short] = this;\r\n    this.long = long;\r\n    this.short = short;\r\n    this.defaultValue = defaultVal;\r\n    this.minValue = minValue;\r\n    this.maxValue = maxValue;\r\n    // const alias = Status.status.typeAliasDictionary[short];\r\n    // this.name = alias ? alias : short;\r\n    }\r\n  static staticInit(): Dictionary<ShortAttribETypes, EType> {\r\n    EType.shorts = {};\r\n    let noWarning: EType;\r\n    noWarning = new EType(AttribETypes.void, ShortAttribETypes.void, undefined);\r\n    noWarning = new EType(AttribETypes.EDate, ShortAttribETypes.EDate, ' ');\r\n    noWarning = new EType(AttribETypes.EChar, ShortAttribETypes.EChar, ' ');\r\n    noWarning = new EType(AttribETypes.EString, ShortAttribETypes.EString, '');\r\n    noWarning = new EType(AttribETypes.EBoolean, ShortAttribETypes.EBoolean, true);\r\n    noWarning = new EType(AttribETypes.EByte, ShortAttribETypes.EByte, 0, -128, 127);\r\n    noWarning = new EType(AttribETypes.EShort, ShortAttribETypes.EShort, 0, -32768, 32767);\r\n    noWarning = new EType(AttribETypes.EInt, ShortAttribETypes.EInt, 0, -2147483648, 2147483647);\r\n    noWarning = new EType(AttribETypes.ELong, ShortAttribETypes.ELong, 0, -9223372036854775808, 9223372036854775808);\r\n    noWarning = new EType(AttribETypes.EFloat, ShortAttribETypes.EFloat, 0, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY);\r\n    noWarning = new EType(AttribETypes.EDouble, ShortAttribETypes.EDouble, 0,  Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY);\r\n    return EType.shorts; }\r\n\r\n  static getFromLongString(ecorelongstring: string, throww: boolean = true): EType {\r\n    switch (ecorelongstring) {\r\n    default: U.pe(throww, 'Etype.Get() unrecognized type: ', ecorelongstring, '; string: ', AttribETypes.EString); break;\r\n    case AttribETypes.void: return EType.get(ShortAttribETypes.void);\r\n    case AttribETypes.EChar: return EType.get(ShortAttribETypes.EChar);\r\n    case AttribETypes.EString: return EType.get(ShortAttribETypes.EString);\r\n    case AttribETypes.EBoolean: return EType.get(ShortAttribETypes.EBoolean);\r\n    case AttribETypes.EByte: return EType.get(ShortAttribETypes.EByte);\r\n    case AttribETypes.EShort: return EType.get(ShortAttribETypes.EShort);\r\n    case AttribETypes.EInt: return EType.get(ShortAttribETypes.EInt);\r\n    case AttribETypes.ELong: return EType.get(ShortAttribETypes.ELong);\r\n    case AttribETypes.EFloat: return EType.get(ShortAttribETypes.EFloat);\r\n    case AttribETypes.EDouble: return EType.get(ShortAttribETypes.EDouble);\r\n    case AttribETypes.EDate: return EType.get(ShortAttribETypes.EDate); }\r\n    return null; }\r\n\r\n  static get(a: ShortAttribETypes): EType { return EType.shorts[a]; }\r\n  static getAlias(a: ShortAttribETypes): string {\r\n    const str = Status.status.typeAliasDictionary[a];\r\n    return !str ? '' + a : Status.status.typeAliasDictionary[a]; }\r\n\r\n}\r\n","import {\r\n  EOperation,\r\n  IClass,\r\n  IField,\r\n  IGraph, Info, IPackage,\r\n  IVertex, Json,\r\n  M2Attribute,\r\n  M2Class,\r\n  M2Reference,\r\n  M3Attribute,\r\n  M3Reference,\r\n  MAttribute, MClass,\r\n  ModelPiece,\r\n  MReference,\r\n  ShortAttribETypes,\r\n  Status, Type, IClassifier,\r\n  U, EEnum, EParameter, IModel\r\n} from '../../common/Joiner';\r\n\r\nexport type M1ClassChild = MAttribute | MReference;\r\nexport type M2ClassChild = M2Attribute | M2Reference | EOperation;\r\nexport type M3ClassChild = M3Attribute | M3Reference;\r\nexport abstract class Typedd extends ModelPiece {\r\n  parent: ModelPiece; // parent: IClassifier | EOperation; todo: aggiusta.\r\n  metaParent: Typedd;\r\n  instances: Typedd[];\r\n  // upperbound and lowerbound are defining how much values can be given to a single typed element. (nullable, single value, array)\r\n  upperbound: number = 1 || 1; // to avoid stupid compiler warning on primitive types\r\n  lowerbound: number = 0 || 0;\r\n  // currently unused\r\n  field: IField;\r\n  // tells if the values are ordered. useless if upperbound is <= 1\r\n  ordered: boolean = false && false;\r\n  // tells if the values are a set. useless if upperbound is <= 1\r\n  unique: boolean = false && false;\r\n  // type of the element, the admitted values are restricted by the type.\r\n  type: Type;\r\n  constructor(parent: ModelPiece, metaVersion: ModelPiece){\r\n    super(parent, metaVersion);\r\n    this.type = this.getModelRoot().isM2() || this.getModelRoot().isM3() ? new Type(this) : null; }\r\n\r\n  abstract isInherited(forClass: IClassifier): boolean;\r\n  // typeClassFullnameStr: string = null;\r\n/*\r\n  parsePrintableTypeName(eTypeLongStr: string): void {\r\n    this.classType = null;\r\n    this.typeClassFullnameStr = null;\r\n    const pkg: IPackage = this.getPackage();\r\n    const searchStr: string = '#//' || '';\r\n    const pos = eTypeLongStr.lastIndexOf(searchStr);\r\n    if (pos === 0 && pkg) {\r\n      this.typeClassFullnameStr = pkg.name + '.' + eTypeLongStr.substring(pos + searchStr.length);\r\n      return; }\r\n    this.updateTypeAndValue(EType.getFromLongString(eTypeLongStr), false);\r\n    U.pe(!this.getType(), 'found json ecore type that is not a classname or a primitive type.', eTypeLongStr);\r\n    return; }*/\r\n\r\n  fieldChanged(e: JQuery.ChangeEvent, ignoreSwitch: boolean = false): void {\r\n    const html: HTMLElement = e.currentTarget;\r\n    const graph: IGraph = this.getModelRoot().graph;\r\n    const fromGraph: boolean = U.isParentOf(graph.container, html);\r\n    const fromSidebar: boolean = U.isParentOf(graph.propertyBar.container, html);\r\n    if (!ignoreSwitch) switch (html.tagName.toLowerCase()) {\r\n      default: U.pe(true, 'unexpected tag:', html.tagName, ' of:', html, 'in event:', e); break;\r\n      case 'textarea':\r\n      case 'input': this.setName((html as HTMLInputElement).value); break;\r\n      case 'select':\r\n        this.setType((html as HTMLSelectElement).value, true, false); break; }\r\n    if (!fromGraph) { this.refreshGUI(); }\r\n    if (!fromSidebar) { graph.propertyBar.refreshGUI(); }\r\n  }\r\n\r\n  setType(ecoreTypeString: string, throwError: boolean = true, refreshGui: boolean = true): boolean {\r\n    const root: IModel = this.getModelRoot();\r\n    //  U.pe(!root.isM2(), 'only m2 model piece features, operations and parameters can change type', this);\r\n    const type: Type = this.getType();\r\n    U.pe(type !== this.type, 'attempting to change parent type!', this, type);\r\n    type.changeType(ecoreTypeString);\r\n    if (refreshGui) this.refreshGUI();\r\n    return true; }\r\n\r\n  // updateTypeAndValue(primitiveType: EType = null, refreshGui: boolean = true): void {}\r\n/*\r\n  setClassType(classType: M2Class = null, refreshGui: boolean = true): void {\r\n    if (!classType || this.classType === classType) { return; }\r\n    this.classType = classType;\r\n    if (!refreshGui) { return; }\r\n    this.refreshGUI();\r\n    this.refreshInstancesGUI(); }*/\r\n\r\n  getType(): Type { return this.type || this.metaParent.type; }\r\n\r\n  getInfo(toLower: boolean = false): any {\r\n    const info: any = super.getInfo(toLower);\r\n    if (!(this instanceof EOperation)) { Info.unset(info, 'childrens'); }\r\n    Info.set(info, 'lowerBound', this.lowerbound);\r\n    Info.set(info, 'upperBound', this.upperbound);\r\n    const type: Type = this.getType();\r\n    Info.set(info, 'type', type.toEcoreString());\r\n    Info.set(info, 'typeDetail', type);\r\n    return info; }\r\n\r\n  // copy(other: IAttribute, nameAppend: string = '_Copy', newParent: IClass = null): void {\r\n  copy(c: Typedd, nameAppend: string = '_Copy', newParent: ModelPiece = null): void {\r\n    super.copy(c, nameAppend, newParent);\r\n    this.setLowerbound(c.lowerbound);\r\n    this.setUpperbound(c.upperbound);\r\n    this.unique = c.unique;\r\n    this.ordered = c.ordered;\r\n    this.setType(c.getType().toEcoreString(), null, false);\r\n    this.refreshGUI(); }\r\n\r\n  abstract getClass(): IClassifier;\r\n  getPackage(): IPackage { return this.parent ? this.getClass().parent : null; }\r\n  graph(): IGraph { return this.getVertex().owner; }\r\n  getVertex(canMakeIt: boolean = true): IVertex { return this.parent ? this.getClass().getVertex(canMakeIt) : null; }\r\n\r\n  /*linkToMetaParent<T extends Typedd>(classChild: T) {\r\n    U.pe(true, 'linkToMetaPrent: todo();');\r\n    this.metaParent = classChild;\r\n    if (!this.metaParent) { return; }\r\n    U.ArrayAdd(this.metaParent.instances, this); }*/\r\n\r\n  fullname(): string { return this.getClass().fullname() + '.' + this.name; }\r\n  generateField(): IField { return this.field = new IField(this); }\r\n  getField(): IField { return this.field ? this.field : this.generateField(); }\r\n\r\n  // refreshGUI_Alone(debug: boolean = true): void { this.getField().refreshGUI(true); }\r\n\r\n  delete(refreshgui: boolean = true): void {\r\n    let oldparent = this.parent;\r\n    super.delete(false);\r\n    if (oldparent) {\r\n      if (oldparent instanceof IClass) {\r\n        U.arrayRemoveAll(oldparent.attributes, this as any);\r\n        U.arrayRemoveAll(oldparent.references, this as any);\r\n        U.arrayRemoveAll(oldparent.operations, this as any); }\r\n      else if (oldparent instanceof EEnum) {\r\n        // U.arrayRemoveAll(oldparent.childrens, this as any); done in modelpiece.delete()\r\n      }\r\n      else if (oldparent instanceof EOperation) { }\r\n      else { U.pe(true, 'unrecognized parent class of typed modelpiece:' + U.getTSClassName(oldparent) + ':', this); }\r\n    }\r\n    if (refreshgui) { oldparent.refreshGUI(); oldparent.refreshInstancesGUI(); }\r\n    while (oldparent && !(oldparent instanceof IClassifier)) { oldparent = oldparent.parent; }\r\n    let classe: IClass = oldparent instanceof IClass ? oldparent : null;\r\n    if (classe) {\r\n      if (this instanceof EParameter || this instanceof EOperation) classe.checkViolations(true);\r\n      else classe.checkViolations(true);\r\n    }\r\n  }\r\n\r\n  // getClassType(): M2Class { return this.type.classType; }\r\n  getUpperbound(): number { return this.upperbound; }\r\n  getLowerbound(): number { return this.lowerbound; }\r\n  setUpperbound(val: number): void { this.upperbound = isNaN(+val) ? -1 : +val; }\r\n  setLowerbound(val: number): void { this.lowerbound = isNaN(+val) || +val < 0 ? 0 : +val; }\r\n\r\n}\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IReference,\r\n  Status,\r\n  DetectZoom,\r\n  Model,\r\n  ECoreAttribute,\r\n  ECoreClass,\r\n  ECorePackage,\r\n  ECoreReference,\r\n  ECoreRoot,\r\n  Point,\r\n  GraphPoint,\r\n  IModel,\r\n  Size,\r\n  MAttribute,\r\n  MReference,\r\n  MClass,\r\n  M2Class,\r\n  EdgeStyle,\r\n  M2Reference,\r\n  M2Attribute,\r\n  M3Package,\r\n  M3Reference,\r\n  M3Attribute,\r\n  M3Feature,\r\n  EdgeModes,\r\n  EdgePointStyle, EOperation, EParameter, Typedd, Type, EEnum, WebsiteTheme, M2Feature, ExtEdge, GraphSize, EAnnotation, Dictionary,\r\n} from '../common/Joiner';\r\nimport {IClassifier} from './IClassifier';\r\nimport {EdgeHeadStyle} from '../guiElements/mGraph/Edge/edgeStyle';\r\nimport {LocalStorageM1} from '../Database/LocalStorage';\r\nexport abstract class ClassInheritance{\r\n  attributes: IAttribute[];\r\n  references: IReference[];\r\n  operations: EOperation[];\r\n  childrens: Typedd[];\r\n}\r\nexport abstract class IClass extends IClassifier {\r\n  attributes: IAttribute[];\r\n  references: IReference[];\r\n  operations: EOperation[];\r\n  inherited: ClassInheritance[];\r\n  metaParent: IClass;\r\n  instances: IClass[];\r\n  referencesIN: IReference[] = []; // external pointers to this class.\r\n  shouldBeDisplayedAsEdgeVar: boolean = false && false;\r\n\r\n  extends: M2Class[] = [];\r\n  gotExtendedBy: M2Class[] = [];\r\n\r\n  edges: IEdge[] = [];\r\n  edgeStyleCommon: EdgeStyle;\r\n  edgeStyleHighlight: EdgeStyle;\r\n  edgeStyleSelected: EdgeStyle;\r\n\r\n  getReferences(personal: boolean = true, inherited: boolean = true) {\r\n    let refs: IReference[] = this.references;\r\n  }\r\n\r\n  protected constructor(parent: IPackage, meta: IClass) {\r\n    super(parent, meta);\r\n    if (this.parent) { U.ArrayAdd(this.parent.classes, this); }\r\n    // let selectedcolor: string = 'var(--'; todo, ma crea problemi con l'input type color\r\n    let html: HTMLButtonElement;\r\n    let complementaHex = (hexstr: string): string => { return '#' + U.toHex(16777215 - (U.hexToNum(hexstr)), 6); }\r\n    let i: number;\r\n\r\n    this.edgeStyleCommon = new EdgeStyle(EdgeModes.straight, 2, '#7f7f7f',\r\n      new EdgePointStyle(5, 2, '#ffffff', '#000000'),\r\n      new EdgeHeadStyle(20, 20, '#7f7f7f', '#7f7f7f'));\r\n    this.edgeStyleHighlight = new EdgeStyle(EdgeModes.straight, 2, '#ffffff',\r\n      new EdgePointStyle(5, 2, '#ffffff', '#0077ff'),\r\n      new EdgeHeadStyle(20, 20, '#ffffff', '#ffffff'));\r\n    this.edgeStyleSelected = new EdgeStyle(EdgeModes.straight, 4, '#ffffff',\r\n      new EdgePointStyle(5, 2, '#ffffff', '#ff0000'),\r\n      new EdgeHeadStyle(25, 25, '#ffffff', '#ffffff'));\r\n\r\n    switch (WebsiteTheme.get()) {\r\n      default: U.pe(true, 'unexpected website theme: |' + WebsiteTheme.get() + '|' + WebsiteTheme.Light + '|'); break;\r\n      case WebsiteTheme.Dark: break;\r\n      case WebsiteTheme.Light:\r\n        let edgeStyles: EdgeStyle[] = [this.edgeStyleCommon, this.edgeStyleHighlight, this.edgeStyleSelected];\r\n        for (i = 0; i < edgeStyles.length; i++) {\r\n          let style: EdgeStyle = edgeStyles[i];\r\n          style.color = complementaHex(style.color);\r\n          style.edgePointStyle.fillColor = complementaHex(style.edgePointStyle.fillColor);\r\n          style.edgePointStyle.strokeColor = complementaHex(style.edgePointStyle.strokeColor);\r\n          style.edgeHeadStyle.fill = complementaHex(style.edgeHeadStyle.fill);\r\n          style.edgeHeadStyle.stroke = complementaHex(style.edgeHeadStyle.stroke); }\r\n        break;\r\n    }\r\n  }\r\n\r\n  getChildrenAttribute(index: number): IAttribute { return [...this.getAllAttributes()][index]; }\r\n  getChildrenReference(index: number): IReference { return [...this.getAllReferences()][index]; }\r\n  getChildrenOperation(index: number): EOperation { return [...this.getAllOperations()][index]; }\r\n  getChildrenAttributeSelector(index: number): string { return this.getChildrenAttribute(index).getSelector(); }\r\n  getChildrenReferenceSelector(index: number): string { return this.getChildrenReference(index).getSelector(); }\r\n  getChildrenOperationSelector(index: number): string { return this.getChildrenOperation(index).getSelector(); }\r\n\r\n  fullname(): string { return this.parent.name + '.' + this.name; }\r\n\r\n  generateEdge(): IEdge[] { U.pe(true, 'IClass.generateEdge() todo.'); return null; }\r\n\r\n  canBeLinkedTo(target: IClass): boolean {\r\n    if (!this.shouldBeDisplayedAsEdge()) { return false; }\r\n    return false; }\r\n\r\n  getEdges(): IEdge[] { return this.edges; }\r\n\r\n  delete(refreshgui: boolean = true): void {\r\n    const oldparent = this.parent;\r\n    super.delete(false);\r\n    if (oldparent) U.arrayRemoveAll(oldparent.classes, this);\r\n\r\n\r\n    /*\r\n    che fare con le reference a quella classe? così cancello i campi.\r\n    const pointers: IReference[] = U.shallowArrayCopy(this.getReferencePointingHere());\r\n    let i;\r\n    for (i = 0; i < pointers.length; i++) { pointers[i].delete(); }\r\n    */\r\n    if (refreshgui) this.refreshGUI();\r\n  }\r\n\r\n  refreshGUI_Alone(debug?: boolean): void {\r\n    if (!Status.status.loadedLogic) { return; }\r\n    if (this.shouldBeDisplayedAsEdge()) {\r\n      if (this.vertex) { this.vertex.remove(); this.vertex = null; }\r\n      const edges: IEdge[] = this.getEdges();\r\n      let i: number;\r\n      for (i = 0; i < edges.length; i++) { edges[i].refreshGui(debug); }\r\n      return; }\r\n  super.refreshGUI_Alone(); }\r\n\r\n  getReferencePointingHere(): IReference[] { return this.referencesIN; }\r\n\r\n  getAttribute(name: string, caseSensitive: boolean = false): IAttribute {\r\n    let i: number;\r\n    if (!caseSensitive) { name = name.toLowerCase(); }\r\n    let attributes: IAttribute[] = [...this.getAllAttributes()];\r\n    for (i = 0; i < attributes.length; i++) {\r\n      const s: string = attributes[i].name;\r\n      if ((caseSensitive ? s : s.toLowerCase()) === name) { return attributes[i]; } }\r\n    return null; }\r\n\r\n  getReference(name: string, caseSensitive: boolean = false): IReference {\r\n    let i: number;\r\n    if (!caseSensitive) { name = name.toLowerCase(); }\r\n    let references: IReference[] = [...this.getAllReferences()];\r\n    for (i = 0; i < references.length; i++) {\r\n      const s1: string = references[i].name;\r\n      console.log('find IReference[' + s1 + '] =?= ' + name + ' ? ' + (caseSensitive ? s1 : s1 && s1.toLowerCase()) === name);\r\n      if ((caseSensitive ? s1 : s1 && s1.toLowerCase()) === name) { return references[i]; } }\r\n    return null; }\r\n\r\n  getOperations(name: string, caseSensitive: boolean = true): EOperation[] {\r\n    let i: number;\r\n    if (!caseSensitive) { name = name.toLowerCase(); }\r\n    let ret: EOperation[] = [];\r\n    let operations: EOperation[] = [...this.getAllOperations()];\r\n    for (i = 0; i < operations.length; i++) {\r\n      const s1: string = operations[i].name;\r\n      console.log('find EOperation[' + s1 + '] =?= ' + name + ' ? ' + (caseSensitive ? s1 : s1 && s1.toLowerCase()) === name);\r\n      if ((caseSensitive ? s1 : s1 && s1.toLowerCase()) === name) { ret.push(operations[i]); } }\r\n    return ret; }\r\n\r\n  mark(markb: boolean, paired: ModelPiece, key: string, color: string = null, radiusX: number = 10, radiusY: number = 10,\r\n       width: number = 5, backColor: string = 'transparent', extraOffset: GraphSize = null): void {\r\n    const vertex: IVertex = this.getVertex();\r\n    // const edge: IEdge[] = (this as any as IReference | IClass).getEdges();\r\n    if (vertex && vertex.isDrawn()) { vertex.mark(markb, key, color, radiusX, radiusY, width, backColor, extraOffset); }\r\n    let edges: IEdge[] = null;\r\n    if (this instanceof IClass && this.shouldBeDisplayedAsEdge()) { edges = (this as IClass).getEdges(); }\r\n    if (this instanceof IReference) { edges = (this as IReference).getEdges(); }\r\n    let i: number;\r\n    for (i = 0; edges && i < edges.length; i++) { edges[i].mark(markb, key, color); }\r\n  }\r\n  /*generateEdge(): IEdge[] {\r\n\r\n    const e: IEdge = null;\r\n    U.pw(true, 'Class.generateEdge(): todo');\r\n    // todo check questa funzione e pure il shouldbedisplayedasedge\r\n    this.edges = [e];\r\n    return this.edges; }*/\r\n\r\n  copy(other: this, nameAppend: string = '_Copy', newParent: IClass = null): void {\r\n    super.copy(other, nameAppend, newParent);\r\n    this.attributes = [];\r\n    this.references = [];\r\n    this.edges = [];\r\n    this.edgeStyleCommon = other.edgeStyleCommon.clone();\r\n    this.edgeStyleHighlight = other.edgeStyleHighlight.clone();\r\n    this.edgeStyleSelected = other.edgeStyleSelected.clone();\r\n    let i: number;\r\n    for ( i = 0; i < this.childrens.length; i++) {\r\n      const child: Typedd = this.childrens[i];\r\n      if (child instanceof IReference) { this.references.push(child); continue; }\r\n      if (child instanceof IAttribute) { this.attributes.push(child); continue; }\r\n      U.pe(true, 'found class.children not reference neither attribute: ', child);\r\n    }\r\n  }\r\n\r\n  /*getEdge(): IEdge[] {\r\n    U.pe(!this.shouldBeDisplayedAsEdge(), 'err');\r\n    if (!this.edges) { this.generateEdge(); }\r\n    return this.edges; }*/\r\n\r\n  /*linkToMetaParent(meta: IClass): void {\r\n    U.pe(true, 'linkToMetaParent: todo.');\r\n    const outObj: any = {};\r\n    const comformability: number = this.conformability(meta, outObj);\r\n    if (comformability !== 1) {\r\n      U.pw(true, 'm2Class: ' + this.name + ' not fully conform to ' + meta.name + '. Conformability: = ' + comformability * 100 + '%' );\r\n      return; }\r\n    this.metaParent = meta;\r\n    let i: number;\r\n    const refPermutation: number[] = outObj.refPermutation;\r\n    const attrPermutation: number[] = outObj.attrPermutation;\r\n    i = -1;\r\n    while (++i < attrPermutation.length) { this.attributes[i].linkToMetaParent(meta.attributes[attrPermutation[i]]); }\r\n    i = -1;\r\n    while (++i < refPermutation.length) { this.references[i].linkToMetaParent(meta.references[refPermutation[i]]); }\r\n  }*/\r\n\r\n  /*conformability(meta: IClass, outObj: any = null/*.refPermutation, .attrPermutation* /, debug: boolean = true): number {\r\n    if (this.attributes > meta.attributes) { return 0; }\r\n    if (this.references > meta.references) { return 0; }\r\n    const refLenArray: number[] = [];\r\n    let i;\r\n    let j;\r\n    // find best references permutation compabilityF\r\n    i = -1;\r\n    while (++i < meta.references.length) { refLenArray.push(i); }\r\n    const refPermut: number[][] = U.permute(refLenArray);\r\n    // console.log('possible class.references permutations[' + meta.references.length + '!]:', refLenArray, ' => ', refPermut);\r\n    const allRefPermutationConformability: number[] = [];\r\n    i = -1;\r\n    let bestRefPermutation: number[] = null;\r\n    let bestRefPermutationValue = -1;\r\n    while (++i < refPermut.length) {\r\n      j = -1;\r\n      const permutation = refPermut[i];\r\n      let permutationComformability = 0;\r\n      while (++j < permutation.length) {\r\n        const Mref: IReference = this.references[j];\r\n        const MMref: IReference = meta.references[permutation[j]];\r\n        const refComf = !Mref ? 0 : Mref.conformability(MMref, debug);\r\n        console.log('ref: permutationComformability:', permutationComformability, ' + ' + refComf + ' / ' + permutation.length,\r\n          '-->', permutationComformability + refComf / permutation.length);\r\n        permutationComformability += refComf / permutation.length; }\r\n\r\n      allRefPermutationConformability.push(permutationComformability);\r\n      if (permutationComformability > bestRefPermutationValue) {\r\n        bestRefPermutation = permutation;\r\n        bestRefPermutationValue = permutationComformability; }\r\n      if (permutationComformability === 1) { break; }\r\n    }\r\n\r\n    // find best attributes permutation compability\r\n    const attLenArray: number[] = [];\r\n    i = -1;\r\n    while (++i < meta.attributes.length) { attLenArray.push(i); }\r\n    const attPermut: number[][] = U.permute(attLenArray, debug);\r\n    // console.log('possible class.attributes permutations[' + meta.attributes.length + '!]:', attLenArray, ' => ', attPermut);\r\n    const allAttPermutationConformability: number[] = [];\r\n    i = -1;\r\n    let bestAttPermutation: number[] = null;\r\n    let bestAttPermutationValue = -1;\r\n    while (++i < attPermut.length) {\r\n      j = -1;\r\n      const permutation = attPermut[i];\r\n      let permutationComformability = 0;\r\n      while (++j < permutation.length) {\r\n        const M2att: IAttribute = this.attributes[j];\r\n        const M3att: IAttribute = meta.attributes[permutation[j]];\r\n        const attComf = !M2att ? 0 : M2att.conformability(M3att, debug);\r\n        console.log('attr: permutationComformability:', permutationComformability, ' + ' + attComf + ' / ' + permutation.length,\r\n          '-->', permutationComformability + attComf / permutation.length);\r\n        permutationComformability += attComf / permutation.length; }\r\n\r\n      allAttPermutationConformability.push(permutationComformability);\r\n      if (permutationComformability > bestRefPermutationValue) {\r\n        bestAttPermutation = permutation;\r\n        bestAttPermutationValue = permutationComformability; }\r\n      if (permutationComformability === 1) { break; }\r\n    }\r\n\r\n    const total = meta.childrens.length + 1; // + name\r\n    const nameComformability = StringSimilarity.compareTwoStrings(this.name, meta.name) / total;\r\n    bestAttPermutationValue = Math.max(0, bestAttPermutationValue * (meta.attributes.length / total));\r\n    bestRefPermutationValue = Math.max(0, bestRefPermutationValue * (meta.references.length / total));\r\n    if (outObj) {\r\n      outObj.refPermutation = bestRefPermutation;\r\n      outObj.attrPermutation = bestAttPermutation; }\r\n\r\n    const ret = nameComformability + bestAttPermutationValue + bestRefPermutationValue;\r\n    U.pif(debug, 'M2CLASS.comform(', this.name, {0: this}, ', ', meta.name, {0: meta}, ') = ', ret,\r\n      ' = ', nameComformability + ' + ' + bestAttPermutationValue + ' + ', bestRefPermutationValue);\r\n    return ret; }*/\r\n  // todo: typescript proposal: insert type \"this.field[]\" così posso specificare il tipo di ritorno della funzione uguale a quello di quel campo.\r\n\r\n  public abstract getAllChildrens(includeOperations?: boolean,\r\n                  includeAnnotations?: boolean, includeAttributes?: boolean, includeReferences?: boolean,\r\n                  includeShadowed?: boolean | null): ModelPiece[]; // null = both shadow and unshadow, true = onlyshadowed\r\n\r\n\r\n  public abstract getAllAttributes(): Set<IAttribute>;\r\n  public abstract getAllReferences(): Set<IReference>;\r\n  public getAllOperations(): Set<EOperation> {\r\n    return new Set<EOperation> (this.getAllChildrens(true, false, false, false) as EOperation[]); }\r\n  public getAllAnnotations(): EAnnotation[] {\r\n    return this.getAllChildrens(false, true, false, false) as EAnnotation[]; }\r\n/*\r\n  getDisplayedChildrens(): Set<Typedd> { return this.getBasicChildrens(); }\r\n  getDisplayedOperations(): Set<EOperation> { return this.getBasicOperations(); }\r\n  getDisplayedAttributes(): Set<IAttribute> { return this.getBasicAttributes(); }\r\n  getDisplayedReferences(): Set<IReference> { return this.getBasicReferences(); }*/\r\n\r\n  public getBasicChildrens(includeOperations: boolean = true,\r\n                    includeAnnotations: boolean = true, includeAttributes: boolean = true, includeReferences: boolean = true,\r\n                    includeShadowed: boolean | null = false/*null = both shadow and unshadow, true = onlyshadowed*/): Set<Typedd> {\r\n    // if (includeOperations && includeAnnotations) return new Set(this.childrens);\r\n    const arr: Typedd[] = [];\r\n    let j: number;\r\n    const isM2 = this.getModelRoot().isM2();\r\n    for (j = 0; j < this.childrens.length; j++) {\r\n      const child: Typedd = this.childrens[j];\r\n      console.log(child.metaParent, this.metaParent, child, this);\r\n      if (child instanceof IFeature && child.isInherited(this)) continue; // for m1\r\n\r\n      if (!isM2 && (includeAttributes || includeReferences) && child instanceof IFeature) {\r\n        if (includeShadowed !== null && child.isShadowed(this) !== includeShadowed) continue;\r\n      }\r\n      if (includeAttributes && child instanceof IAttribute) { arr.push(child); continue; }\r\n      if (includeReferences && child instanceof IReference) { arr.push(child); continue; }\r\n      if (includeOperations && child instanceof EOperation) { arr.push(child); continue; }\r\n      if (includeAnnotations && child instanceof EAnnotation) { arr.push(child); continue; }\r\n      // U.pe(true, 'unexpected type of children basic:', child);\r\n    }\r\n    return new Set<Typedd>(arr); }\r\n\r\n  public abstract getBasicAttributes(): Set<IAttribute>;\r\n  public abstract getBasicReferences(): Set<IReference>;\r\n  public abstract getBasicOperations(): Set<EOperation>;\r\n  public abstract getBasicAnnotations(): EAnnotation[];\r\n\r\n  checkViolations(toAllChain: boolean = true): void {\r\n    if (!Status.status.mm) return;\r\n    if (this instanceof M2Class) this.calculateInheritanceViolations(toAllChain);\r\n    // this.calculateShadowings(toAllChain);\r\n  }\r\n/*\r\n  calculateShadowings(updateSubclassesToo: boolean = true): void {\r\n    let i: number;\r\n    let j: number;\r\n    const superclasses: IClass[] = this.getAllSuperClasses();\r\n    let map: Map<string, IFeature[]> = new Map();\r\n    for (i = 0; i < superclasses.length; i++) {\r\n      let sc: IClass = superclasses[i];\r\n      let features: IFeature[] = [...sc.getBasicChildrens(false, false, true, true, false)] as IFeature[];\r\n\r\n      for (j = 0; j < features.length; j++) {\r\n        let feat: IFeature = features[j];\r\n        if (!map[feat.name]) map[feat.name] = [feat.name]; else map[feat.name].push(feat);\r\n      }\r\n    }\r\n    const ownFeatures: IFeature[] = [...this.getBasicChildrens(false, false, true, true, false)] as IFeature[];\r\n    for (j = 0; j < ownFeatures.length; j++) {\r\n      let feat: IFeature = ownFeatures[j];\r\n      un attributo non è shadowed di natura, lo è nella sottoclassi ma non nella sua classe.extendsStralso sto settando shadowed la sottoclasse e non la superclasse\r\n      this.setShadowed(!!map[feat.name]); }\r\n    if (updateSubclassesToo) {\r\n      let subClasses: IClass[] = this.getAllSubClasses(false);\r\n      for (j = 0; j < subClasses.length; j++) {\r\n        let sc: IClass = subClasses[j];\r\n        sc.calculateShadowings(false); }\r\n    }\r\n  }\r\n*/\r\n\r\n}\r\nexport class M3Class extends IClass {\r\n  parent: M3Package;\r\n  // childrens: M3Feature[];\r\n  attributes: M3Attribute[];\r\n  references: M3Reference[];\r\n  referencesIN: M3Reference[]; // external pointers to this class.\r\n  metaParent: M3Class;\r\n  instances: M2Class[]; //  | M3Class[] = null;\r\n\r\n  constructor(parent: M3Package, json: Json = null) {\r\n    super(parent, null);\r\n    this.parse(json, true); }\r\n\r\n  duplicate(nameAppend?: string, newParent?: ModelPiece): ModelPiece { U.pe(true, 'Invalid operation: m3Class.duplicate()'); return this; }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json { U.pe(true, 'Invalid operation: m3Class.generateModel()'); return this; }\r\n\r\n  parse(json: Json, destructive?: boolean): void {\r\n    this.name = 'Class';\r\n    this.childrens = [];\r\n    this.attributes = [];\r\n    this.references = [];\r\n    this.instances = [];\r\n    const a: M3Attribute = new M3Attribute(this, null);\r\n    const r: M3Reference = new M3Reference(this, null);\r\n    const o: EOperation = new EOperation(this, null);\r\n    const p: EParameter = new EParameter(o, null);\r\n  }\r\n\r\n  getAllChildrens(includeOperations?: boolean,\r\n                           includeAnnotations?: boolean, includeAttributes?: boolean, includeReferences?: boolean,\r\n                           /*null = both shadow and unshadow, true = onlyshadowed*/ includeShadowed?: boolean | null): ModelPiece[]{\r\n    U.pe(true, \"m3.getallchildrens()\");\r\n    return null; }\r\n\r\n  getAllAttributes(): Set<M3Attribute>{ return new Set<M3Attribute>(this.attributes); }\r\n  getAllReferences(): Set<M3Reference>{ return new Set<M3Reference>(this.references); }\r\n  getAllOperations(): Set<EOperation>{ return new Set<EOperation>(this.operations); }\r\n\r\n\r\n  getBasicAttributes(): Set<M3Attribute>{ return this.getAllAttributes(); }\r\n  getBasicReferences(): Set<M3Reference>{ return this.getAllReferences(); }\r\n  getBasicOperations(): Set<EOperation>{ return this.getAllOperations(); }\r\n  getBasicAnnotations(): EAnnotation[]{ return this.getAllAnnotations(); }\r\n\r\n}\r\n","import {\r\n  IVertex,\r\n  IEdge,\r\n  IField,\r\n  IPackage,\r\n  IAttribute,\r\n  AttribETypes,\r\n  IFeature,\r\n  Json,\r\n  U,\r\n  ModelPiece,\r\n  ISidebar,\r\n  IGraph,\r\n  IReference,\r\n  Status,\r\n  DetectZoom,\r\n  Model,\r\n  ECoreAttribute,\r\n  ECoreClass,\r\n  ECorePackage,\r\n  ECoreReference,\r\n  ECoreRoot,\r\n  Point,\r\n  GraphPoint,\r\n  IModel,\r\n  Size,\r\n  MAttribute,\r\n  MReference, MClass, IClass, M2Reference, M2Feature, M3Class, M2Package, M2Attribute, M3Reference, M3Attribute, M3Feature, MetaModel,\r\n  EOperation, EParameter, Typedd, Type, Dictionary, ExtEdge, ShortAttribETypes, EAnnotation, AccessModifier,\r\n} from '../common/Joiner';\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nexport class M2Class extends IClass {\r\n  static stylesDatalist: HTMLDataListElement;\r\n  // static all: any[] = [];\r\n  parent: M2Package;\r\n  childrens: Array<M2Feature | EOperation>; // M2Feature[];\r\n  // features: M2Feature[]; // M2Feature[];\r\n  operations: EOperation[] = [];\r\n  attributes: M2Attribute[];\r\n  references: M2Reference[];\r\n  referencesIN: M2Reference[]; // external pointers to this class.\r\n  metaParent: M3Class;\r\n  instances: MClass[];\r\n  extends: M2Class[] = [];\r\n  gotExtendedBy: M2Class[] = [];\r\n  isAbstract: boolean;\r\n  isInterface: boolean;\r\n  visibility: AccessModifier = AccessModifier.package;\r\n  private extendsStr: string[];\r\n  public extendEdges: ExtEdge[];\r\n\r\n  getAccessModifier(): AccessModifier { return this.visibility; }\r\n  getVisibility(): AccessModifier { return this.getAccessModifier(); }\r\n  setAccessModifier(a: AccessModifier): void {\r\n    const output: {reason: string} = {reason: ''};\r\n    if (!this.canChangeAccessModifierValidityTo(a, output, true)) {\r\n      U.pe(true, 'cannot set visibility scope to \"' + a.toString() + '\" because ' + output.reason);\r\n    }\r\n    this.visibility = a; }\r\n\r\n  public canChangeAccessModifierValidityTo(a: AccessModifier, {reason: string}, allowMark: boolean = false): boolean {\r\n    //todo: controlla che le m2-reference e utilizzo nei parametri rispettino il visibility scope\r\n    return true;\r\n  }\r\n  /*\r\n    static updateAllMMClassSelectors(root0: Element = null, updateModel: boolean = false, updateSidebar: boolean = true): void {\r\n      let root: Element = root0;\r\n      if (!Status.status.loadedGUI) { return; }\r\n      if (!root) { root = Status.status.mm.graph.container; }\r\n      // console.log('updateAllMMClassSelectors()', 'selects:', $selectors, root);\r\n      const $selectors = $(root).find('select.ClassSelector');\r\n      let i = -1;\r\n      while (++i < $selectors.length) { M2Class.updateMMClassSelector($selectors[i] as HTMLSelectElement); }\r\n      if (updateSidebar && Status.status.m && Status.status.m.sidebar) { Status.status.m.sidebar.loadDefaultHtmls(); }\r\n      if (!updateModel) { return; }\r\n      // if (Status.status.mm && Status.status.mm.sidebar) { Status.status.mm.sidebar.updateAll(); }\r\n      if (Status.status.m) { Status.statm.refreshGUI(); }\r\n    }\r\n  /*\r\n    static updateMMClassSelector(htmlSelect: HTMLSelectElement, selected: M2Class = null, debug = false,\r\n                                 mustSelect: boolean = true): HTMLSelectElement {\r\n      if (!htmlSelect || !Status.status.loadedGUI) { return; }\r\n      const optGrp: HTMLOptGroupElement = document.createElement('optgroup');\r\n      let toSelect: string;\r\n      if (debug) { console.clear(); }\r\n      if (mustSelect && !selected) {\r\n        const mp: ModelPiece = ModelPiece.getLogic(htmlSelect);\r\n        U.pif(debug, 'ownermp:', mp, 'select:', htmlSelect);\r\n        // if (ownermp instanceof IAttribute || ownermp instanceof MAttribute) { selected = ownermp.parent as M2Class; }\r\n        if (mp instanceof Typedd) { selected = (mp as Typedd).type; }\r\n        U.pw(!selected, 'ClassSelectors must be held inside a m2-reference:', htmlSelect, 'ownermp:', mp) ;\r\n        if (!selected) { return; }\r\n      }\r\n      toSelect = '' + (selected ? selected.id : '');\r\n      U.pif(debug, 'selected:', selected);\r\n      U.clear(htmlSelect);\r\n      htmlSelect.appendChild(optGrp);\r\n      optGrp.setAttribute('label', 'Class list');\r\n      const mmClasses: M2Class[] = Status.status.mm.getAllClasses();\r\n      let i: number;\r\n      let found: boolean = !mustSelect;\r\n      for (i = 0; i < mmClasses.length; i++) {\r\n        const classe: M2Class = mmClasses[i];\r\n        if (classe.shouldBeDisplayedAsEdge()) { continue; }\r\n        const opt: HTMLOptionElement = document.createElement('option');\r\n        opt.value = '' + classe.id;\r\n        if (toSelect && opt.value === toSelect) { opt.setAttribute('selected', ''); opt.selected = found = true; }\r\n        // console.log('mustselect?' + mustSelect + ': ' + toSelect + '&&' + opt.value + ' ? ' + found);\r\n        opt.innerHTML = classe.name;\r\n        optGrp.appendChild(opt); }\r\n      U.pw(debug && !found, 'class not found.', mmClasses, 'searchedClass:', selected,\r\n        'shouldBeEdge?', selected && selected.shouldBeDisplayedAsEdge());\r\n      return htmlSelect; }\r\n  */\r\n  // isRoot(): boolean { U.pe(true, 'm2 class cannot be roots.'); return false; }\r\n  // setRoot(value: boolean): void { U.pe(true, 'only usable in model version'); }\r\n\r\n  constructor(pkg: M2Package, json: Json) {\r\n    super(pkg, Status.status.mmm.getAllClasses()[0]);\r\n    this.instances = [];\r\n    if (!pkg && !json) { return; } // empty constructor for .duplicate();\r\n    this.parse(json, true);\r\n  }\r\n\r\n  getAllSuperClasses(plusThis: boolean = false): M2Class[] {\r\n    // :this sembra buggato come parametro input: se gli passo un parametro stesso tipo mi da comunque errore, ma accetta letteralmente \"this\"...\r\n    let i: number;\r\n    /*\r\n    const set: Set<IClass> = plusThis ? new Set<IClass>([this as any]) : new Set();\r\n    for (i = 0; i < this.extends.length; i++) {\r\n      U.SetMerge(true, set, this.extends[i].getAllSuperClasses(true)); }\r\n    return [...set];*/\r\n\r\n    // deve fare una ricerca per ordini dell'albero (width, non per depth nel grafo)\r\n    const visited: Map<number, M2Class> = new Map();\r\n    const queue: M2Class[] = plusThis ? [this, ...this.extends] : [ ...this.extends];\r\n    const ret: M2Class[] = [];\r\n    for (i = 0; i < queue.length; i++) {\r\n      let elem: M2Class = queue[i];\r\n      if (visited[elem.id]) continue;\r\n      visited[elem.id] = elem;\r\n      ret.push(elem);\r\n      queue.push(...elem.extends);\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  getAllSubClasses(plusThis: boolean = false): M2Class[] {\r\n    let i: number;\r\n    const set: Set<M2Class> = plusThis ? new Set<M2Class>([this as any]) : new Set();\r\n    for (i = 0; i < this.gotExtendedBy.length; i++) {\r\n      U.SetMerge(true, set, this.gotExtendedBy[i].getAllSubClasses(true)); }\r\n    return [...set]; }\r\n\r\n  getBasicExtends(plusThis: boolean = false): M2Class[] { return plusThis ? [this, ...this.extends] : this.extends; }\r\n\r\n  canExtend(superclass: M2Class, output: {reason: string, indirectExtendChain: IClass[]} = {reason: '', indirectExtendChain: null}): boolean {\r\n    if (!superclass)  { output.reason = 'Invalid extend target: ' + superclass; return false; }\r\n    if (superclass === this) { output.reason = 'Classifiers cannot extend themself.'; return false; }\r\n    if (this.extends.indexOf(superclass) >= 0) { output.reason = 'Target class is already directly extended.'; return false; }\r\n    if(!this.getModelRoot().isM2()) { output.reason = 'Only a M2 IClassifier can extend other IClassifiers.'; return false; }\r\n    output.indirectExtendChain = output.indirectExtendChain || superclass.getAllSuperClasses(false);\r\n    if (this.getAllSuperClasses(false).indexOf(superclass) >= 0) { output.reason = 'Target class is already indirectly extended.'; return false; }\r\n    if (output.indirectExtendChain.indexOf(this) >= 0) { output.reason = 'Cannot set this extend, it would cause a inheritance loop.'; return false; }\r\n    // ora verifico se causa delle violazioni di override (attibuti omonimi string e boolean non possono overridarsi)\r\n    let i: number;\r\n    let j: number;\r\n    let childrens: EOperation[] = [...this.getBasicOperations()];\r\n    let superchildrens: EOperation[] = [...superclass.getBasicOperations()];\r\n    for (i = 0; i < childrens.length; i++) {\r\n      let op: EOperation = childrens[i];\r\n      for (j = 0; j < superchildrens.length; j++){\r\n        let superchildren: EOperation = superchildrens[j];\r\n        if (op.name !== superchildren.name) continue;\r\n        if (op.canOverride(superchildren) || op.canPolymorph(superchildren)) continue;\r\n        output.reason = 'Marked homonymous operations cannot override nor polymorph each others.';\r\n        setTimeout( () => {\r\n          op.mark(true, superchildren, 'override');\r\n          setTimeout( () => { op.mark(false, superchildren, 'override'); }, 3000);\r\n        }, 1);\r\n        return false;\r\n      }\r\n    }\r\n    return true; }\r\n\r\n  isExtending(superclass: M2Class, orEqual: boolean = true): boolean {\r\n    if (!superclass) return false;\r\n    const extendss: M2Class[] = this.getAllSuperClasses(orEqual);\r\n    let i: number;\r\n    for (i = 0; i < extendss.length; i++) {\r\n      if (superclass === extendss[i]) { return true; }\r\n    }\r\n    return false; }\r\n\r\n  setExtends(superclass: M2Class, refreshGUI: boolean = true, force: boolean = false): boolean {\r\n    let out: {reason: string, indirectExtendChain: IClass[]} = {reason: '', indirectExtendChain: null};\r\n    if (!this.canExtend(superclass, out)) {\r\n      U.pw(true, out.reason);\r\n      if (!force) return false; }\r\n    this.extends.push(superclass);\r\n    U.ArrayAdd(superclass.gotExtendedBy, this);\r\n    let i: number;\r\n    if (this instanceof M2Class) for (i = 0; i < this.instances.length; i++) { (this).instances[i].changeMetaParent(this, true, true); }\r\n    if (refreshGUI) this.refreshGUI_Alone();\r\n    const extendChildrens: IClass[] = this.getAllSuperClasses(true);\r\n\r\n    console.log('calculateViolationsExtend childrens:'  + extendChildrens, this);\r\n    if (refreshGUI) for (i = 0; i < extendChildrens.length; i++) {\r\n      let extChild: IClass = extendChildrens[i];\r\n      console.log('calculateViolationsExtend');\r\n      extChild.checkViolations(false);\r\n    }\r\n    // if (this.vertex) this.vertex.owner.propertyBar.refreshGUI();\r\n    // if (this.vertex) this.vertex.owner.propertyBar.show(this,null, true, true);\r\n    return true; }\r\n\r\n  unsetExtends(superclass: M2Class, removeEdge: boolean = true): void {\r\n    if (!superclass) return;\r\n    console.log('UnsetExtend:', this, this.name);\r\n    U.pe(!this.getModelRoot().isM2(), 'Only m2 IClassifier can un-extend other IClassifiers.');\r\n    let index: number = this.extends.indexOf(superclass);\r\n    if (index < 0) return;\r\n    let i: number;\r\n    this.extends.splice(index, 1);\r\n    U.arrayRemoveAll(superclass.gotExtendedBy, this);\r\n    this.refreshGUI_Alone();\r\n    if (this instanceof M2Class) {\r\n      for (i = 0; i < this.instances.length; i++) { (this).instances[i].doUnsetExtends(superclass as M2Class); }\r\n      if (removeEdge) for (i = 0; i < this.extendEdges.length; i++) {\r\n        let extedge: ExtEdge = this.extendEdges[i];\r\n        if (extedge.end.logic() == superclass) { extedge.remove(); }\r\n      }\r\n    }\r\n    const extendChildrens: IClass[] = this.getAllSubClasses(true);\r\n    for (i = -1; i < extendChildrens.length; i++) {\r\n      let extChild: IClass = i === -1 ? this : extendChildrens[i];\r\n      extChild.checkViolations(true); }\r\n  }\r\n\r\n  calculateInheritanceViolations(toAllChain: boolean = false): void {\r\n    if (!Status.status.loadedGUI) return;\r\n    let i: number;\r\n    let j: number;\r\n    if (toAllChain) {\r\n      let classes: IClass[] = [this];\r\n      U.ArrayMerge(classes, this.getAllSubClasses(false));\r\n      U.ArrayMerge(classes, this.getAllSuperClasses(false));\r\n      for (i = 0; i < classes.length; i++) {\r\n        classes[i].checkViolations(false);\r\n      }\r\n    }\r\n    let operations: EOperation[] = [...this.getAllOperations()];\r\n\r\n    console.log('3x operation: ', this, operations);\r\n    for (j = 0; j < operations.length; j++) {\r\n      let op1: EOperation = operations[j];\r\n      op1.unmarkAllIncompatibility();\r\n      for (i = 0; i < operations.length; i++) {\r\n        let op2: EOperation = operations[i];\r\n        let ret = op1.isCompatible(op2, true);\r\n        console.log('3x operation[' + j + '] = ', ret, op1.name, op2.name, op1, op2, this, operations);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  getTypeConversionScores(allowSuperClass: boolean = true, allowSubClass: boolean = true): {class: M2Class, features: number, operations: number, annotations: number}[]{\r\n    const map: Dictionary<string, M2Class> = {};\r\n    const ret: {class: M2Class, features: number, operations: number, annotations: number}[] = [];\r\n    const sortingFunction =\r\n      (e1: {class: M2Class, features: number, operations: number, annotations: number}, e2: {class: M2Class, features: number, operations: number, annotations: number}\r\n      ): number => {\r\n      let s1: string = (e1 as any).order;//  (e1.features + \".\" + e1.operations + \".\" + e1.annotations).replace(\"-\", \"Z\");\r\n      let s2: string = (e2 as any).order;// (e2.features + \".\" + e2.operations + \".\" + e2.annotations).replace(\"-\", \"Z\");\r\n      return s1.localeCompare(s2);\r\n      /*\r\n        // confronto feature number\r\n        if (e1.features !== e2.features) {\r\n          if (e1.features < 0) return e1.features + e2.features;// -1 + -5 = -6 (e1 prima di e2),  -1 + -5 = +4 (e1 dopo e2)\r\n          else return e1.features - e2.features;// +1 - -5 = +6 (e1 dopo di e2),  +1 - 5 = -4 (e1 prima di e2)\r\n        }\r\n        // confronto operations number\r\n        if (e1.operations !== e2.operations) {\r\n          if (e1.operations < 0) return e1.operations + e2.operations;\r\n          else return e1.operations - e2.operations;\r\n        }\r\n        // confronto annotations number\r\n        if (e1.annotations !== e2.annotations) {\r\n          if (e1.annotations < 0) return e1.annotations + e2.annotations;\r\n          else return e1.annotations - e2.annotations;\r\n        }\r\n        return 0;*/\r\n      };\r\n    let candidateClasses = [];\r\n    if (allowSuperClass) U.ArrayMerge(candidateClasses, this.getAllSuperClasses(false));\r\n    if (allowSubClass) U.ArrayMerge(candidateClasses, this.getAllSubClasses(false));\r\n    candidateClasses = candidateClasses.filter((c)=> !c.getInterface() && !c.getAbstract());\r\n    const myFeatures = this.getAllChildrens(false, false);\r\n    const myOperations = this.getAllChildrens(true, false, false, false);\r\n    const myAnnotations = this.getAllChildrens(false, true, false, false);\r\n    for (let i = 0; i < candidateClasses.length ; i++) {\r\n      const candidate: M2Class = candidateClasses[i];\r\n      let featureAdd: number = candidate.getAllChildrens(false, false).length - myFeatures.length;\r\n      let operationsAdd: number = candidate.getAllChildrens(\r\n        true, false, false, false).length - myOperations.length;\r\n      let annotationsAdd: number = candidate.getAllChildrens(\r\n        false, true, false, false).length - myAnnotations.length;\r\n      let elem = {class: candidate, features: featureAdd, operations: operationsAdd, annotations: annotationsAdd};\r\n      ret.push(elem);\r\n      const order: string = (featureAdd + \".\" + operationsAdd + \".\" + annotationsAdd).replace(\"-\", \"Z\");\r\n      (elem as any).order = order;\r\n      // if (map[order]) continue;\r\n      // map[order] = candidate;\r\n    }\r\n    // let lowestKey: string = Object.keys(map).sort()[0];\r\n    // return map[lowestKey];\r\n    return ret.sort(sortingFunction);\r\n  }\r\n\r\n\r\n  // getDisplayedChildrens(): Set<EOperation | M2Feature> { return this.getBasicChildrens(); }\r\n  //getBasicChildrens(): Set<M2Feature | EOperation> { return super.getBasicChildrens() as Set<M2Feature | EOperation>; }\r\n  // getAllChildrens(): (M2Feature | EOperation)[] { return super.getAllChildrens() as (M2Feature | EOperation)[]; }\r\n\r\n  getAllChildrens(includeOperations: boolean = true,\r\n                  includeAnnotations: boolean = true, includeAttributes: boolean = true, includeReferences: boolean = true,\r\n                  /*null = both shadow and unshadow, true = onlyshadowed*/ includeShadowed: boolean | null = true): Typedd[] {\r\n    //todo: actually since getAllExtends returns an array made from a set, and a class cannot contain duplicates, it cannot contain duplicates.\r\n    // sets here are redundant.\r\n    const extendchain: M2Class[] = this.getAllSuperClasses(true);// this.getAllExtends(true);\r\n    let i: number;\r\n    const ret: Typedd[] = [];\r\n    // features and operations can share names\r\n    // features with same name on different classes will just shadow each other without overriding\r\n    // override solo se signature identica.\r\n    // se signature identica e return primitivo diverso: invalido.\r\n    // se signature identica e return Object più specifico: valido.\r\n    for (i = 0; i < extendchain.length; i++) {\r\n      ret.push(...extendchain[i].getBasicChildrens(includeOperations, includeAnnotations, includeAttributes, includeReferences, includeShadowed));\r\n    }\r\n    return ret; }\r\n\r\n  getAllAttributes(): Set<M2Attribute> {\r\n    return new Set<M2Attribute> (this.getAllChildrens(false, false, true, false) as M2Attribute[]); }\r\n  getAllReferences(): Set<M2Reference> {\r\n    return new Set<M2Reference> (this.getAllChildrens(false, false, false, true) as M2Reference[]); }\r\n\r\n\r\n  getBasicAttributes(): Set<M2Attribute> { return new Set(this.attributes); }\r\n  getBasicReferences(): Set<M2Reference> { return new Set(this.references); }\r\n  getBasicOperations(): Set<EOperation> { return new Set(this.operations); }\r\n  getBasicAnnotations(): EAnnotation[] { return (this.annotations); }\r\n\r\n  getModelRoot(): MetaModel { return super.getModelRoot() as MetaModel; }\r\n\r\n  getNamespaced(): string {\r\n    const str: string = this.getModelRoot().namespace();\r\n    if (this instanceof Model) { return str; }\r\n    return str + ':' + this.name; }\r\n\r\n  parse(json: Json, destructive: boolean) {\r\n//     console.log('M2Class.parse(); json:', json, '; metaVersion: ', this.metaParent, 'this:', this);\r\n    /// own attributes.\r\n    this.extendEdges = [];\r\n    this.setName(Json.read<string>(json, ECoreClass.namee, 'Class_1'), false);\r\n    let key: string;\r\n    for (key in json) {\r\n      switch (key) {\r\n      default: U.pw(true, 'unexpected field in M2Class.parse() |' + key + '|', json); break;\r\n      case ECoreClass.instanceTypeName:\r\n      case ECoreClass.eSuperTypes:\r\n      case ECoreClass.xsitype:\r\n      case ECoreClass.eOperations:\r\n      case ECoreClass.eStructuralFeatures:\r\n      case ECoreClass.abstract:\r\n      case ECoreClass.interface:\r\n      case ECoreClass.namee: break; } }\r\n    this.instanceTypeName = Json.read<string>(json, ECoreClass.instanceTypeName, '');\r\n    this.isInterface = Json.read<string>(json, ECoreClass.interface, 'false') === 'true';\r\n    this.isAbstract = Json.read<string>(json, ECoreClass.abstract, 'false') === 'true';\r\n    let tmps: string = Json.read<string>(json, ECoreClass.eSuperTypes, null);\r\n    this.extendsStr = tmps ? tmps.split(' ') : [];\r\n    // U.pe(true, 'extendsStr:', this.extendsStr, 'tmps', tmps, 'typeof tmps:' + typeof(tmps), 'json:', json);\r\n    /*this.name = Json.read<string>(this.json, ECoreClass.name);\r\n    this.fullname = this.midname = this.parent.fullname + '.' + this.name;*/\r\n    /// childrens\r\n    const features: Json[] = Json.getChildrens(json);\r\n    const functions: Json[] = Json.getChildrens(json, false, true);\r\n    let i: number;\r\n    let newFeature: M2Feature;\r\n    const oldChildrens: Array<M2Feature | EOperation> = this.childrens;\r\n    // let metaParent: M3Feature;\r\n    if (destructive) { this.childrens = []; this.attributes = []; this.references = []; this.operations = []; }\r\n    for (i = 0; i < features.length; i++) {\r\n      // console.log('reading class children[' + i + '/' + childs.length + '] of: ', childs, 'of', json);\r\n      const child: Json = features[i];\r\n      const xsiType = Json.read<string>(child, ECoreAttribute.xsitype);\r\n      U.pe(!destructive, 'Non-destructive class parse: to do');\r\n      switch (xsiType) {\r\n        default: U.pe(true, 'unexpected xsi:type: ', xsiType, ' in feature:', child); break;\r\n        case 'ecore:EAttribute':\r\n          // metaParent = oldChildrens[i] && oldChildrens[i].metaParent ? oldChildrens[i].metaParent : U.findMetaParentA(this, child);\r\n          newFeature = new M2Attribute(this, child);\r\n          U.ArrayAdd(this.attributes, newFeature); break;\r\n        case 'ecore:EReference':\r\n          const metaRef: M3Reference = null;\r\n          // metaParent = oldChildrens[i] && oldChildrens[i].metaParent ? oldChildrens[i].metaParent : U.findMetaParentA(this, child);\r\n          newFeature = new M2Reference(this, child);\r\n          U.ArrayAdd(this.references, newFeature); break;\r\n      }\r\n      U.ArrayAdd(this.childrens, newFeature);\r\n    }\r\n    for (i = 0; i < functions.length; i++) {\r\n      const newFunction: EOperation = new EOperation(this, functions[i]);\r\n      U.ArrayAdd(this.operations, newFunction);\r\n      U.ArrayAdd(this.childrens, newFunction);\r\n    }\r\n  }\r\n\r\n  generateModel(loopDetectionObj: Dictionary<number /*MP id*/, ModelPiece> = null): Json {\r\n    const featurearr: Json[] = [];\r\n    const operationsarr: Json[] = [];\r\n    const model: Json = {};\r\n    let supertypesstr = '';\r\n    const key: any = U.getStartSeparatorKey();\r\n    let i: number;\r\n    for (i = 0; i < this.extends.length; i++) { supertypesstr += U.startSeparator(key, ' ') + this.extends[i].getEcoreTypeName(); }\r\n    for (i = 0; i < this.attributes.length; i++) { featurearr.push(this.attributes[i].generateModel(loopDetectionObj)); }\r\n    for (i = 0; i < this.references.length; i++) { featurearr.push(this.references[i].generateModel(loopDetectionObj)); }\r\n    for (i = 0; i < this.operations.length; i++) { operationsarr.push(this.operations[i].generateModel(loopDetectionObj)); }\r\n\r\n    model[ECoreClass.xsitype] = 'ecore:EClass';\r\n    model[ECoreClass.namee] = this.name;\r\n    model[ECoreClass.interface] = U.toBoolString(this.isInterface);\r\n    model[ECoreClass.abstract] = U.toBoolString(this.isAbstract);\r\n    model[ECoreClass.instanceTypeName] = this.instanceTypeName;\r\n    model[ECoreClass.eSuperTypes] = supertypesstr;\r\n    model[ECoreClass.eStructuralFeatures] = featurearr;\r\n    model[ECoreClass.eOperations] = operationsarr;\r\n    return model; }\r\n\r\n\r\n  addOperation(): EOperation {\r\n    const op: EOperation = new EOperation(this, null);\r\n    let i: number;\r\n    for (i = 0; i < this.instances.length; i++){\r\n      const inst: MClass = this.instances[0];\r\n    }\r\n    this.refreshInstancesGUI();\r\n    this.refreshGUI();\r\n    return op; }\r\n\r\n  addReference(): M2Reference {\r\n    const ref: M2Reference = new M2Reference(this, null);\r\n    ref.type.changeType(null, null, this);\r\n    ref.generateEdges();\r\n    let i: number;\r\n    for (i = 0; i < this.instances.length; i++){\r\n      const inst: MClass = this.instances[i];\r\n      new MReference(inst, null, ref); }\r\n    this.refreshInstancesGUI();\r\n    this.refreshGUI();\r\n    // M2Class.updateAllMMClassSelectors(ref.getHtml());\r\n    return ref; }\r\n\r\n  addAttribute(): M2Attribute {\r\n    console.log('addAttribute: pre', this);\r\n    const attr: M2Attribute = new M2Attribute(this, null);\r\n    let i: number;\r\n    for (i = 0; i < this.instances.length; i++){\r\n      const inst: MClass = this.instances[i];\r\n      new MAttribute(inst, null, attr); }\r\n    this.refreshInstancesGUI();\r\n    this.refreshGUI();\r\n    return attr; }\r\n\r\n  fieldChanged(e: JQuery.ChangeEvent): void {\r\n    const html: HTMLElement = e.currentTarget;\r\n    if (html.classList.contains('AddFieldSelect')) return;\r\n    switch (html.tagName.toLowerCase()) {\r\n    case 'select':\r\n    default: U.pe(true, 'unexpected tag:', html.tagName, ' of:', html, 'in event:', e); break;\r\n    case 'textarea':\r\n    case 'input':\r\n      const input = html as HTMLInputElement;\r\n      input.value = this.setName((input as HTMLInputElement).value); break;\r\n    }\r\n  }\r\n\r\n  /*\r\n    setName(name: string, refreshGUI: boolean = true): void {\r\n      super.setName(name, refreshGUI);\r\n      return;\r\n      this.midname = this.parent.name + '.' + this.name;\r\n      this.fullname = this.midname;\r\n      let i;\r\n      for (i = 0; i < this.childrens.length; i++) {\r\n        this.childrens[i].setName(this.childrens[i].name, false && refreshGUI); // per aggiornare il fullname.\r\n      }\r\n      if (refreshGUI) { this.refreshGUI(); M2Class.updateAllMMClassSelectors(); }\r\n  }*/\r\n\r\n  duplicate(nameAppend: string = '_Copy', newParent: M2Package = null): M2Class {\r\n    const c: M2Class = new M2Class(null, null);\r\n    c.copy(this);\r\n    Type.updateTypeSelectors(null, false, false, true);\r\n    c.refreshGUI();\r\n    return c; }\r\n/*\r\n  getExtendedClassArray(levelDeep: number = Number.POSITIVE_INFINITY, out: M2Class[] = []): M2Class[] {\r\n    let i: number;\r\n    for (i = 0; i < this.extends.length; i++ ) {\r\n      const curr: M2Class = this.extends[i];\r\n      U.ArrayAdd(out, curr);\r\n      if (levelDeep > 0) { curr.getExtendedClassArray(levelDeep--, out); }\r\n    }\r\n    return out; }*/\r\n\r\n  // linkToMetaParent(meta: M3Class): void { return super.linkToMetaParent(meta); }\r\n  getReferencePointingHere(): M2Reference[] { return super.getReferencePointingHere() as M2Reference[]; }\r\n  getAttribute(name: string, caseSensitive: boolean = false): M2Attribute { return super.getAttribute(name, caseSensitive) as M2Attribute; }\r\n  getReference(name: string, caseSensitive: boolean = false): M2Reference { return super.getReference(name, caseSensitive) as M2Reference; }\r\n/*\r\n  isExtending(subclass: M2Class): boolean {\r\n    if (!subclass) return false;\r\n    const extendedTargetClasses: M2Class[] = subclass.getExtendedClassArray();\r\n    let i: number;\r\n    for (i = 0; i < extendedTargetClasses.length; i++) {\r\n      if (this === extendedTargetClasses[i]) { return true; }\r\n    }\r\n    return false;\r\n  }*/\r\n  delete(refreshgui: boolean = true): void{\r\n    const scores = this.getTypeConversionScores(true, true);\r\n    const newType: M2Class = scores.length > 0 && scores[0].class;\r\n    if (newType) this.convertInstancesTo(newType);\r\n    this.forceChangeType(newType);\r\n    super.delete(false); // will remove remaining unconverted instances\r\n    Status.status.mm.refreshGUI();\r\n    Status.status.mm.refreshInstancesGUI();\r\n    Type.updateTypeSelectors(null, false, false, true);\r\n}\r\n\r\n  private forceChangeType(newType: M2Class = null): void {\r\n    let i: number;\r\n    let typeds: Typedd[] = Type.getAllWithClassType(this);\r\n    // NB: esistono ancora m1-object che puntano a m1-object istanze di questo oggetto, perchè le istanze vengono cancellate in super.delete() (MP level)\r\n    // e quando cancelli il vertice di una istanza a catena cancelli prima gli edge e quindi resetti le references attive,\r\n    // però il tipo puntato rimarrebbe a questa classe.\r\n    const newTypeStr = newType && newType.getEcoreTypeName() || AttribETypes.EString;\r\n    for (i = 0; i < typeds.length; i++) {\r\n      let typed: Typedd = typeds[i];\r\n      typed.setType(newTypeStr);\r\n    }\r\n    typeds = Type.getAllWithClassType(this);\r\n    console.log('wew', \"failed to change all types:\", typeds, this,\r\n      Type.all.map((t)=> t.printablename +'_' + (t.classType && t.classType.getEcoreTypeName())),\r\n      Type.all.filter((t)=> (t.classType && t.classType.getEcoreTypeName() === this.getEcoreTypeName())));\r\n    U.pe(!!typeds.length, \"failed to change all types:\", typeds, this);\r\n  }\r\n\r\n  static updateSuperClasses() {\r\n    const dictionary: Dictionary<string, M2Class> = Status.status.mm.getEcoreStr_Class_Dictionary();\r\n    const classes: M2Class[] = Status.status.mm.getAllClasses();\r\n    let j: number;\r\n    let i: number;\r\n    for (i = 0; i < classes.length; i++) {\r\n      const classe: M2Class = classes[i];\r\n      for (j = 0; j < classe.extendsStr.length; j++) {\r\n        const target: M2Class = dictionary[classe.extendsStr[j]];\r\n        U.pe(!target, 'e1, failed to find extended class.extendsStr[' + j + ']:', classe.extendsStr[j], 'in classList:', classes,\r\n          'classe to extend:', classe, 'dictionary:', dictionary);\r\n        classe.setExtends(target, false, true);\r\n      }\r\n      classe.extendsStr = [];\r\n    }\r\n  }\r\n  /*\r\n  public extendClass(targetstr: string, target: M2Class): void {\r\n    if (!target) target = this.getModelRoot().getClassFromEcoreStr(targetstr);\r\n    U.pe(!target, 'e2, failed to find extended class:', targetstr, 'in classList:', Status.status.mm.getAllClasses(), 'this:', this);\r\n    U.ArrayAdd(this.extends, target);\r\n  }\r\n  public unextendClass(targetstr: string, target: M2Class): void {\r\n    if (!target) target = this.getModelRoot().getClassFromEcoreStr(targetstr);\r\n    U.pe(!target, 'e3, failed to find extended class:', targetstr, 'in classList:', Status.status.mm.getAllClasses(), 'this:', this);\r\n    U.arrayRemoveAll(this.extends, target);\r\n  }*/\r\n\r\n  makeExtendEdge(target: M2Class): ExtEdge {\r\n    const ret: ExtEdge = new ExtEdge(this, this.getVertex(), target.getVertex(), null);\r\n    this.extendEdges.push(ret);\r\n    return ret; }\r\n\r\n  getAbstract(): boolean { return this.isAbstract; }\r\n  getInterface(): boolean { return this.isInterface; }\r\n\r\n\r\n\r\n  public canBeInterface(value: boolean, outputReason: { text: string }): boolean{\r\n    let i: number;\r\n    if (!value) {\r\n      const subclasses: M2Class[] = this.getAllSubClasses(false);\r\n      for (i = 0; i < subclasses.length; i++) {\r\n        const ext: M2Class = subclasses[i] as M2Class;\r\n        if (ext.getInterface()) {\r\n          // no interfacce sotto questa classe\r\n          if (outputReason) outputReason.text = '\"' + this.name + '\" cannot cease to be an interface because it is extended by \"'\r\n            + ext.name + '\" wich is an interface.' + ' Update their relationship befor proceeding.';\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    if (this.instances.length) {\r\n      if (outputReason) outputReason.text =\r\n        'The class \"' + this.name + '\" have ' + this.instances.length + ' instances, convert or delete them before proceeding.';\r\n      return false; }\r\n\r\n    const superclasses: M2Class[] = this.getAllSuperClasses(false);\r\n    for (i = 0; i < superclasses.length; i++) {\r\n      const ext: M2Class = superclasses[i] as M2Class;\r\n      if (!ext.getInterface()) {\r\n        // no classi sopra questa interfaccia\r\n        if (outputReason) outputReason.text = '\"' + this.name + '\" cannot be an interface because it cannot extend \"'\r\n          + ext.name + '\" wich is a class.' + ' Update their relationship befor proceeding.';\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public canBeAbstract(value: boolean, outputReason: { text: string }): boolean {\r\n    if (!value) return true;\r\n    if (this.instances.length) {\r\n      if (outputReason) outputReason.text =\r\n        'The class \"' + this.name + '\" have ' + this.instances.length + ' instances.\\n<br>Convert or delete them by right-clicking his vertex before proceeding.';\r\n      return false; }\r\n\r\n    if (this.getInterface() && !this.canBeInterface(false, outputReason)) {\r\n      if (outputReason) outputReason.text = 'Interfaces cannot be abstract.\\n<br>' + outputReason.text;\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  setInterface(value: boolean, canPrintError: boolean = true): void {\r\n    if (this.isInterface === value) return;\r\n    let reason = {text: ''};\r\n    if (!this.canBeInterface(value, reason)) {\r\n      // U.pw(canPrintError, reason.text);\r\n      if (canPrintError) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Invalid operation',\r\n          html: reason.text\r\n        });\r\n      }\r\n      return; }\r\n    if (value) { this.setInterfaceTrue(); }\r\n    else { this.unsetInterface(); }\r\n  }\r\n\r\n  private setInterfaceTrue(): void {\r\n    this.unsetAbstract();\r\n    this.isInterface = true; }\r\n\r\n  private unsetInterface(): void { this.isInterface = false; }\r\n\r\n  public setAbstract(value: boolean, canPrintError: boolean = true): void {\r\n    if (this.isAbstract === value) return;\r\n    let reason = {text: ''};\r\n    if (!this.canBeAbstract(value, reason)) {\r\n      if (canPrintError) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Invalid operation',\r\n          html: reason.text\r\n        });\r\n      }\r\n      // U.pw(canPrintError, reason.text);\r\n      return; }\r\n    /*\r\n    obj.abstractCheckbox.checked = false; // do not accept the change until conversion\r\n    // actually do the thing transforming instances\r\n    if (convertableChoices_AddField.length + convertableChoices_RemoveField.length === 0) {\r\n      let options = {\r\n          'By adding features': { },\r\n          'By removing features': { },\r\n        };\r\n      for(let ii = 0; ii < convertableChoices_AddField.length; ii++) {\r\n        options['By adding features'][convertableChoices_AddField[ii].id] = convertableChoices_AddField[ii].name;\r\n      }\r\n      for(let ii = 0; ii < convertableChoices_RemoveField.length; ii++) {\r\n        options['By removing features'][convertableChoices_RemoveField[ii].id] = convertableChoices_RemoveField[ii].name;\r\n      }\r\n      Swal.fire({\r\n        title: 'What about his instances?',\r\n        html:\r\n          \"There are \" + classe.instances.length + \" instances of this class wich need to be converted to some other class\" +\r\n          \" by adding or removing features.\" +\r\n          \"<br>You can convert them or undo this operation.\" +\r\n          \"<br><br>Convert them to:\",\r\n        icon: 'warning',\r\n        input: 'select',\r\n        inputOptions: options,\r\n        inputPlaceholder: 'Convert them',\r\n        showCancelButton: true,\r\n        inputValidator: (value) => {\r\n          return new Promise((resolve) => {\r\n            if (value === '') {\r\n              resolve()\r\n            } else {\r\n              resolve('You need to select a class for conversion.')\r\n            }\r\n          })\r\n        }\r\n      }).then(function (data) {\r\n        const targetClass: M2Class = ModelPiece.getByID(+data.value) as M2Class;\r\n        classe.setAbstract(targetClass);\r\n        obj.abstractCheckbox.checked = true;\r\n        Swal.fire(\r\n          'Done',\r\n          classe.instances.length + \" instances converted.\",\r\n          'success'\r\n        )\r\n      });\r\n    }\r\n    */\r\n    if (value) { this.setAbstractTrue(); }\r\n    else { this.unsetAbstract(); }\r\n  }\r\n\r\n  public setAbstractTrue(): boolean{\r\n    this.unsetInterface();\r\n    return this.isAbstract = true; }\r\n\r\n  public unsetAbstract(): boolean{\r\n    return this.isAbstract = false; }\r\n\r\n\r\n  /*\r\n  public canConvertInstancesTo(classe: M2Class): boolean {\r\n    const instances: MClass[] = this.instances;\r\n    let i: number;\r\n    for (i = 0; i < instances.length; i++) {\r\n      const instance: MClass = instances[i];\r\n      if (instance.metaParent !== this) continue;\r\n      if (!instance.canConvertTo(classe)) return false;\r\n    }\r\n    return true;\r\n  }*/\r\n  public convertInstancesTo(classe: M2Class): void {\r\n    let i: number;\r\n    let convertCount = 0;\r\n    const instances: MClass[] = U.shallowArrayCopy(this.instances);\r\n    for (i = 0; i < instances.length; i++) {\r\n      const instance: MClass = instances[i];\r\n      U.pe(instance.metaParent !== this, \"invalid state: mismatch on instances and metaParent:\", instance, this);\r\n      instance.convertTo(classe);\r\n      convertCount++;\r\n    }\r\n    U.ps(!!convertCount, convertCount + \" subclasses converted to \" + classe.name);\r\n  }\r\n}\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}