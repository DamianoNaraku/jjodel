(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/WQJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r}));var i=n("2/r/"),s=n("MCLT");class l{constructor(){}ngOnInit(){}}let r=(()=>{class e{constructor(t){this.container=null,this.content=null,this.inputLine=null,this.input=null,this.suggestion=null,this.commandindex=0,this.commandHistory=[],this.newline="<br/>",this.tab="&nbsp;&nbsp;&nbsp;&nbsp;",this.container=document.createElement("div"),this.container.classList.add("consoleRoot"),this.content=document.createElement("div"),this.content.classList.add("consoleContent"),this.inputLine=document.createElement("div"),this.inputLine.classList.add("inputLine"),this.input=document.createElement("span"),this.input.classList.add("input"),this.inputLine.setAttribute("tabindex","-1"),this.suggestion=document.createElement("span"),this.suggestion.classList.add("suggestion"),t.appendChild(this.container),this.container.appendChild(this.content),this.container.appendChild(this.inputLine),this.inputLine.appendChild(this.input),this.inputLine.appendChild(this.suggestion),this.container.setAttribute(e.attribute,""),this.content.setAttribute(e.attribute,""),this.inputLine.setAttribute(e.attribute,""),this.input.setAttribute(e.attribute,""),this.suggestion.setAttribute(e.attribute,""),i.ub.addCss("console",".console_error{ display: inline-block; color: red; }.console_input{ display: inline-block; color: red; }"),this.addEventListeners()}addEventListeners(){$(this.inputLine).off("keydown.input").on("keydown.input",e=>{this.onKeyDown(e)}),$(this.inputLine).off("keyup.input").on("keyup.input",e=>{this.onKeyUp(e)})}onKeyUp(e){switch(e.key){default:this.scrollBottom();break;case"ArrowUp":case"Enter":this.scrollBottom()}}onKeyDown(e){switch(console.log("myconsole.keydown:",e.key),e.key){case"Enter":return this.position=0,0!==this.suggestion.innerText.length?(this.input.innerText+=this.suggestion.innerText,this.position=this.input.innerText.length-1,void(this.suggestion.innerText="")):void this.command(this.input.innerText);case"Backspace":if(this.suggestion.innerText="",0===this.position)return;return void(this.input.innerText=this.input.innerText.substr(0,--this.position));case"Escape":return this.suggestion.innerText.length>0?void(this.suggestion.innerText=""):void(this.input.innerText="");case"Tab":return this.inputLine.focus(),void this.generateSuggestion();case"ArrowUp":return-1==--this.commandindex&&(this.commandindex=this.commandHistory.length-1),this.commandindex=this.commandindex%this.commandHistory.length,this.input.innerText=this.commandHistory[this.commandindex],this.position=this.input.innerText.length-1,console.log("command["+this.commandindex+"/"+this.commandHistory.length+"] = "+this.commandHistory[this.commandindex],"arr:",this.commandHistory),void e.preventDefault();case"ArrowDown":return this.commandindex=++this.commandindex%this.commandHistory.length,this.input.innerText=this.commandHistory[this.commandindex],this.position=this.input.innerText.length-1,console.log("command["+this.commandindex+"/"+this.commandHistory.length+"] = "+this.commandHistory[this.commandindex],"arr:",this.commandHistory),void e.preventDefault();case"ArrowRight":return this.position===this.input.innerText.length-1&&this.suggestion.innerText.length>0?(this.position++,this.input.innerText+=this.suggestion.innerText.charAt(0),void(this.suggestion.innerText=this.suggestion.innerText.substr(1))):void(this.position=Math.min(this.input.innerText.length-1,this.position+1));case"ArrowLeft":return this.position=Math.max(0,this.position-1),void(this.suggestion.innerText="");case"Shift":case"Alt":case"Control":return;default:if(1!==e.key.length)return void console.log("unexpected key:",e.key);this.input.innerHTML+=" "===e.key?"&nbsp;":e.key,this.position=this.position+1,this.suggestion.innerText="",this.scrollBottom()}}scrollBottom(){console.log("scrollBottom()"),this.container.scrollTop=this.content.offsetHeight}command(e){e=i.ub.replaceAll(e,"\xa0"," ").trim(),console.log("myConsole.command("+e+")"),this.commandHistory.push(e),this.commandindex=0,this.input.innerText=this.suggestion.innerText="",this.appendInput(e),this.appendOutput(this.execCommand(e)),this.scrollBottom()}appendInput(t,n=!1){const i=document.createElement("div");i.setAttribute(e.attribute,""),i.setAttribute("tabindex","-1"),i.classList.add("inputEcho"),n&&i.classList.add("compoundCommandPart"),i.innerHTML=t,this.content.appendChild(i)}appendOutput(t,n=!1){if(""===t)return;i.ub.pe(!t,"null output");const s=document.createElement("div");s.setAttribute(e.attribute,""),s.setAttribute("tabindex","-1"),s.classList.add("output"),n&&s.classList.add("compoundCommandPart"),s.innerHTML=t,this.content.appendChild(s)}exampleFormatting(e){return'<b style="color: forestgreen;">&lt;'+e+"&gt;</b>"}optionalFormatting(e){return'<i style="color: cornflowerblue;">['+e+"]</i>"}commandFormatting(e){return"&nbsp;&nbsp;\u25cb&nbsp;"+e+this.newline}xmp(e){return'<xmp style="display: inline;">'+e+"</xmp>"}descriptionFormatting(e){return this.tab+'<span style = "color: lightsteelblue;">'+e+"</span>"+this.newline}help(){const e=e=>this.descriptionFormatting.call(this,e),t=e=>this.commandFormatting.call(this,e),n=e=>this.exampleFormatting.call(this,e),i=e=>this.optionalFormatting.call(this,e);return"Available Commands:"+this.newline+"Normal text like this means literal constants."+this.newline+n("Text like this")+" are examples that should be replaced without brakets"+this.newline+i("Text like this")+" are optional parameters"+this.newline+n("leftCommand")+"|"+n("rightCommand")+' The vertical bar means "OR", you must choose to insert the left or the right command piece or argument.'+this.newline+'Commands executed without arguments or preceded by the "?" prefix will show the command guide.'+this.newline+t("info "+n("className")+i("."+n("attributeName")+"|"+n("referenceName")+"|"))+e("Visualizza informationi riguardo la classe, reference o attributo fornito dal parametro.")+t("cc "+n("Comando Composito"))+e("Consente di concatenare ed eseguire multipli comandi elementari in una sola linea di comando composita, di utilizzare l'output di un comando come parte dei parametri input di altri comandi e di poter eseguire un qualsiasi codice javascript che interagisca con l'output dei comandi console")+t("raw "+n("ProssimoComando"))+e("Esegue il prossimo comando mostrandone l'output come testo grezzo invece che come html per individuare eventuali errori nell'html impedendo che il browser esegua la correzione automatica, nascondendo il problema.")+t("cls")+e(this.cls_Help())}execCommand(e){const t=(e=e.trim()).indexOf(" ");let n=(t>0?e.substring(0,t):e).toLowerCase();const i=e.substring(t).trim();switch(console.log('com: "'+n+'", par: "'+i+'"; pos:'+t+"; str:"+e),"/?"!==i&&"help"!==i||(n="?"+n),n){default:return console.log(n,e,"help"===n,"help"===e),"unrecognized command: |"+this.errorFormatting(this.xmp(n))+'| To see the full list of commands type "help".';case"?h":case"?help":case"?/?":case"h":case"help":case"/?":return this.help();case"?i":case"?info":return this.getModelPieceInfo_Help();case"i":case"info":return this.getModelPieceInfo(i);case"?cc":case"?compoundcommand":return this.compoundCommand_Help();case"cc":case"compoundcommand":return this.compoundCommand(i);case"?raw":case"?debug":return this.rawDebug_Help();case"raw":case"debug":return this.rawDebug(i);case"?cls":return this.cls_Help();case"cls":return this.cls(),""}}compoundCommand_Help(){const e=this.newline;return"Consente di concatenare ed eseguire multipli comandi elementari in una sola linea di comando composita, di utilizzare l'output di un comando come parte dei parametri input di altri comandi e di poter eseguire un qualsiasi codice javascript che interagisca con l'output dei comandi console."+e+"Il corpo del comando va scritto in codice javascript, all'interno del quale \xe8 possibile eseguire comandi console "+e+'delimitati dal carattere "$" come prefisso e appendice al comando desiderato, l\'output di tale comando pu\xf2 essere utilizzato dal codice javascript come se fosse una variabile o una funzione che ritorna un oggetto.'+e+"esempio 1:"+e+'cc alert("L\'output del comando help \xe8: " + $help$);'+e+'\xc8 anche possibile utilizzare l\'output di un comando come parametro di un altro comando, aggiungendo un ulteriore delimitatore "$" per ogni livello di nesting dei comandi.'+e+"Se ipotizziamo che il "+e+"esempio 2:"+e+"cc alert($info $$comando2$$.name$);"+e+'Se ad esempio l\'output di "comando2" \xe8 "Book", il comando diventer\xe0 "cc alert($info Book.name$);" e verr\xe0 poi eseguito come nell\'esempio 1.'+e+"Terzo esempio ulteriormente compesso, con due compound command concatenati.cc alert($info $$cc [altro codice js]$$$comando2$$$[altro codice js] $$.name$);"}compoundCommand(e,t=!0){return e=e.replace(/(^\$|(((?!\$).|^))[\$](?!\$))(.*?)(^\$|((?!\$).|^)[\$](?!\$))/gm,(e,n)=>{if("$"===e)return"";let s="";"$"!==e.charAt(0)&&(s=e.charAt(0),e=e.substring(1));let l=e.substring("$".length,e.length-1);const r=(l=i.ub.replaceAll(l,"$$","$"))+"("+e+")",o=s+""+this.execCommand(l);return this.appendInput(l,!0),this.appendOutput(o,!0),i.ub.pif(t,"replaceSingleVar: "+r+" --\x3e "+o),o}),this.execCommand(e)}rawDebug_Help(){let e;return e="Sintassi: "+this.newline+this.commandFormatting("raw"+(0,this.exampleFormatting)("Command")),this.descriptionFormatting("Esegue il prossimo comando mostrandone l'output come testo grezzo invece che come html per individuare eventuali errori nell'html impedendo che il browser esegua la correzione automatica, nascondendo il problema."),e}cls_Help(){return"Svuota la console cancellando tutti gli input e gli output dei comandi precedenti."}cls(){i.ub.clear(this.content)}rawDebug(e){let t=this.execCommand(e);return t=i.ub.replaceAll(t,"<","&lt;"),"<xmp>"+(t=i.ub.replaceAll(t,">","&gt;"))+"</xmp>"}errorFormatting(e){return'<div class="console_error">'+e+"</div>"}getModelPieceInfo_Help(){const e=this.newline;return"Displays the available sub-fields of an object accessible through the '.' operator."+e+"If a name conflict arise with a childrenObject or instanceObject name, that name will be added with the '_' prefix."+e+"If a name conflict arise with a property only owned by a particular model piece type (es: reference target), that name will be added with the '@' prefix."}getModelPieceInfo(e){if(console.log("getModelPieceInfo:",e),-1!==e.indexOf(" "))return this.errorFormatting("Spaces are not allowed inside a class, attribute or reference name-path.");const t=e.split("."),n=i.pb.status.getActiveModel();let s=this.getModelPieceInfoByModel(n,t);return s?this.stringify(s):(s=this.getModelPieceInfoByModel(n.isMM()?i.pb.status.m:i.pb.status.mm,t))?this.stringify(s):this.errorFormatting('"'+e+'" is not matching any class, attribute or reference name-path.')}stringify(e){let t=s.inspect(e,!1,0,!0);return i.zb.ansi_to_html(t)}stringify_Old(e){const t=[];return JSON.stringify(e,(e,n)=>n?$.isEmptyObject(n)?"{}":i.ub.isObject(n)?"{"+i.ub.getTSClassName(n)+"("+i.ub.fieldCount(n)+" fields)}":i.ub.isArray(n)?"[Array("+n.length+")]":-1===t.indexOf(n)?"{_CIRCULAR_REFERENCE_}":(t.push(n),""+n):n)}getModelPieceInfoByModel(e,t,n=!0){const s=e.getAllClasses();let l=-1;for(;++l<t.length;)t[l]=t[l].toLowerCase();l=-1;let r=null;for(;++l<s.length;){const e=s[l];if(i.ub.pe(!e.name,"err"),!e.name)return null;if(i.ub.pif(!0,t[0]+"==="+e.name+" ? "+(e.name.toLowerCase()===t[0])),e.name.toLowerCase()===t[0]){r=e;break}}let o=r;for(i.ub.pif(!0,"tokens:",t),l=0;++l<t.length;){const e=o;i.ub.pif(!0,"PRE_ret: ",e," ---\x3e ",o,"token["+l+"/"+t.length+"] = |"+t[l]+"|, tok:",t),o instanceof i.hb?(i.ub.pif(!0,"Modelpiece"),o=o.getInfo(!0)):i.ub.pif(!0,"Terminale"),i.ub.pif(!0,"gotInfo:",o),i.ub.pif(!0,"POST_ret: ",e," ---\x3e ",o=o[t[l]],"token["+l+"] = |"+t[l]+"|")}return o instanceof i.hb?o.getInfo():o}generateSuggestion(){this.suggestion.innerText="//GenerateSuggestion(): to do."}}return e.attribute="_ngcontent-c4",e})()},0:function(e,t,n){e.exports=n("zUnb")},"1gqn":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"2/r/":function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"compareTwoStrings",(function(){return a})),n.d(i,"findBestMatch",(function(){return u}));var s={};n.r(s),n.d(s,"json2xml",(function(){return h}));var l={};n.r(l),n.d(l,"xml2json",(function(){return d}));var r=n("E4Z0"),o=n.n(r),a=function(e,t){if(e=e.replace(/\s+/g,""),t=t.replace(/\s+/g,""),!e.length&&!t.length)return 1;if(!e.length||!t.length)return 0;if(e===t)return 1;if(1===e.length&&1===t.length)return 0;if(e.length<2||t.length<2)return 0;let n=new Map;for(let s=0;s<e.length-1;s++){const t=e.substr(s,2),i=n.has(t)?n.get(t)+1:1;n.set(t,i)}let i=0;for(let s=0;s<t.length-1;s++){const e=t.substr(s,2),l=n.has(e)?n.get(e):0;l>0&&(n.set(e,l-1),i++)}return 2*i/(e.length+t.length-2)},u=function(e,t){if(!function(e,t){return"string"==typeof e&&!!Array.isArray(t)&&!!t.length&&!t.find(e=>"string"!=typeof e)}(e,t))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const n=[];let i=0;for(let s=0;s<t.length;s++){const l=t[s],r=a(e,l);n.push({target:l,rating:r}),r>n[i].rating&&(i=s)}return{ratings:n,bestMatch:n[i],bestMatchIndex:i}};n("9An1");var c=n("EVdn");function h(e,t){var n=function(e,t,i){var s="";if(e instanceof Array)for(var l=0,r=e.length;l<r;l++)s+=i+n(e[l],t,i+"\t")+"\n";else if("object"==typeof e){var o=!1;for(var a in s+=i+"<"+t,e)"@"==a.charAt(0)?s+=" "+a.substr(1)+'="'+e[a].toString()+'"':o=!0;if(s+=o?">":"/>",o){for(var a in e)"#text"==a?s+=e[a]:"#cdata"==a?s+="<![CDATA["+e[a]+"]]>":"@"!=a.charAt(0)&&(s+=n(e[a],a,i+"\t"));s+=("\n"==s.charAt(s.length-1)?i:"")+"</"+t+">"}}else s+=i+"<"+t+">"+e.toString()+"</"+t+">";return s},i="";for(var s in e)i+=n(e[s],s,"");return t?i.replace(/\t/g,t):i.replace(/\t|\n/g,"")}function d(e,t="    "){var n={toObj:function(e){var t={};if(1==e.nodeType){if(e.attributes.length)for(var i=0;i<e.attributes.length;i++)t["@"+e.attributes[i].nodeName]=(e.attributes[i].nodeValue||"").toString();if(e.firstChild){for(var s=0,l=0,r=!1,o=e.firstChild;o;o=o.nextSibling)1==o.nodeType?r=!0:3==o.nodeType&&o.nodeValue.match(/[^ \f\n\r\t\v]/)?s++:4==o.nodeType&&l++;if(r)if(s<2&&l<2)for(n.removeWhite(e),o=e.firstChild;o;o=o.nextSibling)3==o.nodeType?t["#text"]=n.escape(o.nodeValue):4==o.nodeType?t["#cdata"]=n.escape(o.nodeValue):t[o.nodeName]?t[o.nodeName]instanceof Array?t[o.nodeName][t[o.nodeName].length]=n.toObj(o):t[o.nodeName]=[t[o.nodeName],n.toObj(o)]:t[o.nodeName]=n.toObj(o);else e.attributes.length?t["#text"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(s)e.attributes.length?t["#text"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(l)if(l>1)t=n.escape(n.innerXml(e));else for(o=e.firstChild;o;o=o.nextSibling)t["#cdata"]=n.escape(o.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9==e.nodeType?t=n.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,i){var s=t?'"'+t+'"':"";if(e instanceof Array){for(var l=0,r=e.length;l<r;l++)e[l]=n.toJson(e[l],"",i+"\t");s+=(t?":[":"[")+(e.length>1?"\n"+i+"\t"+e.join(",\n"+i+"\t")+"\n"+i:e.join(""))+"]"}else if(null==e)s+=(t&&":")+"null";else if("object"==typeof e){var o=[];for(var a in e)o[o.length]=n.toJson(e[a],a,i+"\t");s+=(t?":{":"{")+(o.length>1?"\n"+i+"\t"+o.join(",\n"+i+"\t")+"\n"+i:o.join(""))+"}"}else s+="string"==typeof e?(t&&":")+'"'+e.toString()+'"':(t&&":")+e.toString();return s},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var n=function(e){var t="";if(1==e.nodeType){t+="<"+e.nodeName;for(var i=0;i<e.attributes.length;i++)t+=" "+e.attributes[i].nodeName+'="'+(e.attributes[i].nodeValue||"").toString()+'"';if(e.firstChild){t+=">";for(var s=e.firstChild;s;s=s.nextSibling)t+=n(s);t+="</"+e.nodeName+">"}else t+="/>"}else 3==e.nodeType?t+=e.nodeValue:4==e.nodeType&&(t+="<![CDATA["+e.nodeValue+"]]>");return t},i=e.firstChild;i;i=i.nextSibling)t+=n(i);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1==t.nodeType?(n.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9==e.nodeType&&(e=e.documentElement);var i=n.toJson(n.toObj(n.removeWhite(e)),e.nodeName,"\t");return"{\n"+t+(t?i.replace(/\t/g,t):i.replace(/\t|\n/g,""))+"\n}"}class p{constructor(){this.featuredependency=[],this.html=null}toJSON(e){this.updateHtmlMetaData();const t={};for(let i in this)t[i]=this[i];const n=t;return n.htmlstr=this.html.outerHTML,delete n.html,n}toString(){return JSON.stringify(this)}updateHtml(){this.html=N.j.toHtml(this.htmlstr)}updateHtmlMetaData(){this.htmlstr=this.html.outerHTML;const e=$(this.html).find("meta");e.find("owner").text(this.userOwner),e.find("name").text(this.name),e.find("isM1").text(this.AllowedOnM1),e.find("isM2").text(this.AllowedOnM2),e.find("isClass").text(this.allowedOnClass),e.find("isAttribute").text(this.allowedOnAttribute),e.find("isReference").text(this.allowedOnReference),e.find("isOperation").text(this.allowedOnOperation),e.find("isParameter").text(this.allowedOnParameter),e.find("preview").html(this.imgPreviewBase64);let t,n="";for(t=0;t<this.featuredependency.length;t++){const e=this.featuredependency[t];n+="<dependency><template>"+e.template+"</template><names>"+e.namesArray+"</names><types>"+e.typesArray+"</types></template>"}e.find("featuredependencyList").html(n)}setHtml(e){return this.setHtml0(e,null)}setHtmlStr(e){return this.setHtml0(null,e)}setHtml0(e,t){e||(e=N.j.toHtml(t)),t||(t=e?e.outerHTML:null),N.j.pe(!e||!t,this,"html is null:",e,"htmlstr:",t,"html?",!e,"htmlstr?",!t,"html && htmlstr?",!e&&!t),N.j.pe(!!e.parentElement||!!e.parentNode,"parentElement shuld be null here:",e,this),this.html=e;const n=$(e).find("meta"),i=e=>0===e.length?"":e[0].innerHTML,s=e=>e.length>0&&("1"===e[0].innerHTML||"true"===e[0].innerHTML);this.userOwner=i(n.find("owner")),this.name=i(n.find("name")),this.AllowedOnM1=s(n.find("isM1")),this.AllowedOnM2=s(n.find("isM2")),this.allowedOnClass=s(n.find("isClass")),this.allowedOnAttribute=s(n.find("isAttribute")),this.allowedOnReference=s(n.find("isReference")),this.allowedOnOperation=s(n.find("isOperation")),this.allowedOnParameter=s(n.find("isParameter"));const l=n.find("preview");this.imgPreviewBase64=l.length>0?l[0].innerText:N.j.toBase64Image(N.j.toHtml("<div>Select a instance to initializeFromModel the preview.</div>"))}getHtml(){return this.html}getHtmlstr(){return this.html.outerHTML}clone(e){this.allowedOnClass=e.allowedOnClass,this.allowedOnAttribute=e.allowedOnAttribute,this.allowedOnReference=e.allowedOnReference,this.allowedOnOperation=e.allowedOnOperation,this.allowedOnParameter=e.allowedOnParameter,this.AllowedOnM1=e.AllowedOnM1,this.AllowedOnM2=e.AllowedOnM2,this.elementStylingCount=e.elementStylingCount,this.featuredependency=e.featuredependency,this.forkCounter=e.forkCounter,this.ForkedFromStr_name=e.ForkedFromStr_name,this.ForkedFromStr_user=e.ForkedFromStr_user,e.htmlstr&&(this.html=N.j.toHtml(e.htmlstr)),N.j.pe(!(this.html instanceof Element),"invalid htmlstr:",e.htmlstr,e)}setDependencyArray(e){}saveToDB(){}}let f=(()=>{class e{constructor(t,n=null){this.target=null,this.targetStr=null,this.htmlo=null,this.htmli=null,this.displayAsEdge=!1,this.vertexSize=null,this.edgeViews=[],e[this.id=e.maxID++]=this,t&&t.views.push(this),this.viewpoint=t,this.target=n,this.setTargetStr()}static getbyID(t){return e.allByID[t]}static getbyHtml(t){let n=t;for(;n&&n.dataset&&!n.dataset.styleid;)n=n.parentNode;return e.getbyID(n&&n.dataset?+n.dataset.styleid:null)}toJSON(e){const t={};this.setViewpointStr(),this.setTargetStr();for(let i in this)t[i]=this[i];const n=t;return this.target instanceof ue&&(this.vertexSize=this.target.getVertex().getSize()),delete n.id,delete n.target,delete n.viewpoint,n}toJsonString(){return JSON.stringify(this.toJSON(null))}setViewpointStr(){this.viewpointstr=this.viewpoint?this.viewpoint.name:null}setTargetStr(){this.targetStr=this.target?this.target.getKeyStr():null,N.j.pe(!this.targetStr&&!!this.target,"failed to get targetstr from:",this.target)}updateViewpoint(e=null){this.viewpoint=e||g.get(this.viewpointstr);const t=this.edgeViews?this.edgeViews:[];let n;for(n=0;n<t.length;n++)t[n].updateViewpoint(e)}updateTarget(){const e=JSON.parse(this.targetStr),t={indexFollowed:[],debugArr:[]};this.target=_.getByKey(e,t),t.indexFollowed.length!==e.length&&(N.j.pw(!0,"unable to find target of view:",this," search output:",t),this.target=null)}clone(e){e.setViewpointStr&&e.setViewpointStr();for(let t in e)switch(t){default:N.j.pe(!0,"unexpected key",t,e);break;case"id":case"target":break;case"targetStr":this.targetStr=e[t];break;case"htmlo":if(!e.htmlo){this.htmlo=null;break}this.htmlo||(this.htmlo=new p),this.htmlo.clone(e.htmlo);break;case"htmli":if(!e.htmli){this.htmli=null;break}this.htmli||(this.htmli=new p),this.htmli.clone(e.htmli);break;case"displayAsEdge":this.displayAsEdge=e.displayAsEdge;break;case"vertexSize":this.vertexSize=e.vertexSize?(new N.d).clone(e.vertexSize):null;break;case"edgeViews":this.edgeViews=[];const n=e.edgeViews?e.edgeViews:[];let i;for(i=0;i<n.length;i++)N.j.ArrayAdd(this.edgeViews,new m(this.viewpoint).clone(n[i]));break;case"viewpointstr":this.viewpointstr=e.viewpointstr}this.updateViewpoint(),this.updateTarget()}duplicate(){const t=new e(null);return t.clone(this),t}isEmpty(){return this.equals(new e(this.viewpoint))}equals(e){return this.toString()===e.toString()}apply(e=null){this.target=e||this.target||_.getByKeyStr(this.targetStr),console.log(this),this.viewpoint.viewsDictionary[this.target.id]=this,N.j.ArrayAdd(this.target.views,this)}detach(){N.j.arrayRemoveAll(this.target.views,this),N.j.ArrayAdd(this.target.detachedViews,this),delete this.viewpoint.viewsDictionary[this.target.id],this.setTargetStr()}getViewPoint(){return this.viewpoint}delete(){console.log('modelview.delete() todo.non posso invece di implementarla lasciarla "orfana" senza target e la faccio ignorare dal loader.altrimenti non potrei cancellare la view senza cancellare il modelpiece, o forse basta settare tutto a null e mollarla l\xec?')}}return e.allByID={},e.maxID=0,e})(),g=(()=>{class e extends f{constructor(e,t=null){super(null),this.isApplied=!1,this.scroll=new N.g(0,0),this.zoom=new N.g(1,1),this.grid=new N.g(20,20),this.viewsDictionary={},this.views=[],this.setname(t),this.updateTarget(e)}static getAppliedViews_TOMOVE(t){const n=[];for(let i in e.allnames){const s=e.allnames[i].getMpStyle(t);s&&n.push(s)}return n}static get(t){return e.allnames[t]}updateTarget(e=null){this.apply(e,!0)}getMpStyle(e){return this.viewsDictionary[e.id]}setname(t){if(t||(t="ViewPoint 1"),t!==this.name){for(e.allnames[this.name]===this&&delete e.allnames[this.name];t in e.allnames;)t=N.j.increaseEndingNumber(t);e.allnames[this.name=t]=this}}toJSON(e){const t={};this.setTargetStr();for(let i in this)t[i]=this[i];const n=t;return delete n.viewpoint,delete n.viewpointstr,delete n.viewsDictionary,delete n.target,n}apply(e=null,t=!1,n=!1){if(e!==this.target&&this.detach(),this.target=e=e||this.target,N.j.pe(!this.target,"called ViewPoint.apply() without a target.",this),N.j.pif(n,"add() PRE:",this.target.viewpoints.map(e=>e.name),this.target.viewpoints),N.j.arrayRemoveAll(this.target.viewpoints,this),N.j.pif(n,"add() MID:",this.target.viewpoints.map(e=>e.name),this.target.viewpoints,this.target.viewpoints.indexOf(this)),N.j.pif(n,this.target.viewpoints),this.target.viewpoints.push(this),N.j.pif(n,this.target.viewpoints),N.j.pif(n,"add() POST:",this.target.viewpoints.map(e=>e.name),this.target.viewpoints),t)return;let i;for(i=0;i<this.views.length;i++)this.views[i].apply();this.isApplied=!0}detach(){if(this.isApplied){for(let e in this.viewsDictionary)this.viewsDictionary[+e].detach();this.isApplied=!1}}delete(){this.detach(),N.j.arrayRemoveAll(this.target.viewpoints,this),this.target=null}clone(e){let t;e.target&&e.setTargetStr&&e.setTargetStr();for(let n in e)switch(n){default:N.j.pe(!0,"unexpected key:",n,e);break;case"id":case"target":case"viewpoint":break;case"htmlo":if(!e.htmlo){this.htmlo=null;continue}this.htmlo||(this.htmlo=new p),this.htmlo.clone(e.htmlo);break;case"htmli":if(!e.htmli){this.htmli=null;continue}this.htmli||(this.htmli=new p),this.htmli.clone(e.htmli);break;case"isApplied":this.isApplied=e.isApplied;break;case"name":this.setname(e.name);break;case"targetStr":if(!e.targetStr)break;this.targetStr=e.targetStr;const i=_.getByKeyStr(this.targetStr);N.j.pe(!i,"failed to find VP.target:",this,this.targetStr,R.b.status),this.updateTarget(i);break;case"edgeViews":if(this.edgeViews=[],!e.edgeViews)continue;for(t=0;t<e.edgeViews.length;t++){const n=new m(this);n.clone(e.edgeViews[t]),N.j.ArrayAdd(this.edgeViews,n)}break;case"views":if(this.views=[],!e.views)continue;for(t=0;t<e.views.length;t++){const n=new f(this);n.clone(e.views[t]),N.j.ArrayAdd(this.views,n)}break;case"grid":this.grid=new N.g(e.grid.x,e.grid.y);break;case"gridShow":this.gridShow=e.gridShow;break;case"scroll":this.scroll=new N.c(e.scroll.x,e.scroll.y);break;case"zoom":this.zoom=new N.c(e.zoom.x,e.zoom.y);break;case"vertexSize":this.vertexSize=e.vertexSize?new N.d(e.vertexSize.x,e.vertexSize.y):null;break;case"displayAsEdge":this.displayAsEdge=e.displayAsEdge}}duplicate(){const t=new e(null);return t.clone(this),t}isEmpty(){const t=new e(null);return t.target=this.target,this.equals(t,!0)}equals(e,t=!0){const n=this.name;t&&(this.name=e.name);const i=this.toString()===e.toString();return this.name=n,i}}return e.allnames={},e})();class m extends f{clone(e){return this}}let b=(()=>{class e{constructor(e,t,n){this.lastopened=e,this.prefix=t,this.listname=n}}return e.vertexPos=new e("_LastOpenedVertexPos","VertexPos","_SaveListVertexPos"),e.view=new e("_LastOpenedView","ViewRule","_SaveListView"),e.model=new e("_LastOpened","","_SaveList"),e})(),y=(()=>{class e{constructor(e){this.prefix="",this.print=!0,this.popupTmp=null,this.model=null,this.model=e,this.prefix=e.getPrefixNum()+"_"}static getLastOpened(t){const n={model:null,vertexpos:null,view:null};return n.model=localStorage.getItem(e.reservedprefix+"m"+t+"_"+b.model.lastopened),n.view=localStorage.getItem(e.reservedprefix+"m"+t+"_"+b.view.lastopened),n.vertexpos=localStorage.getItem(e.reservedprefix+"m"+t+"_"+b.vertexPos.lastopened),n}static deleteLastOpened(e){this.setLastOpened(e,null,null,null)}static setLastOpened(t,n=null,i=null,s=null){const l=e.reservedprefix+"m"+t+"_";n?localStorage.setItem(l+b.model.lastopened,n):localStorage.removeItem(l+b.model.lastopened),i?localStorage.setItem(l+b.view.lastopened,i):localStorage.removeItem(l+b.view.lastopened),s?localStorage.setItem(l+b.vertexPos.lastopened,s):localStorage.removeItem(l+b.vertexPos.lastopened)}getViewPoints(){const e=this.model,t={view:null,vertexPos:null};return e.name?(t.view=this.get(e.name,b.view),t.vertexPos=this.get(e.name,b.vertexPos),t):t}addToList(e,t){const n=this.getKeyList(t,null);N.j.arrayContains(n,e)||(n.push(e),this.overwriteList(t,n))}removeFromList(e,t){const n=this.getKeyList(t,null);N.j.arrayContains(n,e)&&(N.j.arrayRemoveAll(n,e),this.overwriteList(t,n))}overwriteList(t,n){N.j.pe(!Array.isArray(n),"recent savelist must be an array."),localStorage.setItem(e.reservedprefix+this.prefix+t,JSON.stringify(n)),Z.a.topbar.updateRecents()}getKeyList(t,n=null){const i=JSON.parse(localStorage.getItem(e.reservedprefix+this.prefix+t));return i?(N.j.pe(!Array.isArray(i),"savelist got is not an array:",i),isNaN(n)?i:i.splice(n)):[]}add(t=null,n,i){N.j.pe(n!==""+n,"parameter should be string:",n),n!==""+n&&(n=JSON.stringify(n)),t=t?this.prefix+i.prefix+t:null,"null"!==n&&"undefined"!==n?localStorage.setItem(e.reservedprefix+this.prefix+i.lastopened,n):localStorage.removeItem(e.reservedprefix+this.prefix+i.lastopened),t&&(this.addToList(t,i.listname),localStorage.setItem(t,n))}remove(e,t){e&&(this.removeFromList(e=this.prefix+t.prefix+e,t.listname),localStorage.removeItem(e))}get(e,t){return e=this.prefix+t.prefix+e,localStorage.getItem(e)}rename(e,t,n){const i=this.get(e,n);this.remove(e,n),this.add(t,i,n)}p(e,...t){N.j.pif(this.print,e,...t)}finishSave(e){const t=this.model;this.popupTmp&&(this.popupTmp=this.popupTmp.destroy()),N.j.pe(!t.name,"model name should be filled with a validated user input.");let n=JSON.stringify(t.generateViewPointSaveArr());this.add(t.name,e,b.model),this.add(t.name,n,b.view),this.add(t.name,this.vertexSaveStr,b.vertexPos),this.p(t.name+" VertexPositions saved:",e),this.p(t.name+" ViewPoints saved:",n),this.p(t.name+" Model saved:",this.vertexSaveStr)}save_BlurEvent(e,t){+e.currentTarget.getAttribute("valid")&&this.finishSave(t)}save_OnKeyDown(e,t){"return"===e.key&&this.save_BlurEvent(e,t)}save_OnChange(e,t){this.p("onchange");const n=e.currentTarget;let i=!1;try{t.setName(n.value)}catch(e){i=!0}if(i||n.value!==t.name)return this.popupTmp.setPostText("invalid or already registered name, a fix"),n.setAttribute("valid","0"),void(t.name&&(n.value=t.name));n.setAttribute("valid","1")}saveModel(e,t=!1){N.j.pe(!!this.popupTmp,"should not be allowed to have 2 popup for the same Storage. this would lead to a conflict mixing data."),this.isAutosavetmp=e,this.saveAstmp=t;const n=this.model,i=n.generateModelString();this.vertexSaveStr=JSON.stringify(n.generateVertexPositionSaveArr());const s=n.name,l=JSON.stringify(n.generateViewPointSaveArr());let r;this.p("save "+this.prefix+"Model["+s+"] = ",i,"viewpoints:",l),this.add(null,i,b.model),this.add(null,l,b.view),this.add(null,this.vertexSaveStr,b.vertexPos),this.p("isAutosave:",e,"saveAs:",t,"model.name:",n.name),s&&""!==s?this.finishSave(i):e||t&&(r=new N.e("Choose a name for the "+n.friendlyClassName(),"","",[["change",e=>{this.save_OnChange(e,n)}],["keydown",e=>{this.save_OnKeyDown(e,i)}],["blur",e=>{this.save_BlurEvent(e,i)}]],"Viewpoint",n.friendlyClassName()+" name","")).show()}pushToServer(){}autosave(e,t=!1){localStorage.setItem("autosave",""+e)}}return e.reservedprefix="_",e})();class v{static forConsole(e){}static setraw(e,t,n,i=!0){return v.set(e,t,n,"",i)}static setc(e,t,n,i=!0){return v.set(e,t,n,"@",i)}static seti(e,t,n,i=!0){return v.set(e,t,n,"#",i)}static set(e,t,n,i="_",s=!0){t=s?t.toLowerCase():t;let l=i;for(;e[l+t];)l+=""===i?"*":i;return e[l+t]=n,l+t}static unsetraw(e,t,n=!0){return v.unset(e,t,"",n)}static unsetc(e,t,n=!0){return v.unset(e,t,"@",n)}static unseti(e,t,n=!0){return v.unset(e,t,"#",n)}static unset(e,t,n="_",i=!0){delete e[t=n+(i?t.toLowerCase():t)]}static renameraw(e,t,n,i=!0){return v.rename(e,t,n,"",i)}static renamec(e,t,n,i=!0){return v.rename(e,t,n,"@",i)}static renamei(e,t,n,i=!0){return v.rename(e,t,n,"#",i)}static rename(e,t,n,i="_",s=!0){t=i+(s?t.toLowerCase():n),n=i+(s?t.toLowerCase():n);const l=e[t];delete e[t],e[n]=l}static merge(e,t,n="->"){let i;if(t)for(i in t)if(t.hasOwnProperty(i)){if(!n)switch(i[0]){default:n="";break;case"#":case"_":case"@":n=i[0]}v.set(e,i,t[i],n)}}}let _=(()=>{class e{constructor(e,t){this.id=null,this.parent=null,this.childrens=[],this.metaParent=null,this.instances=[],this.name=null,this.key=null,this.views=null,this.annotations=[],this.detachedViews=[],this.assignID(),this.parent=e,this.metaParent=t,this.instances=[],this.childrens=[],this.views=[],this.parent&&N.j.ArrayAdd(this.parent.childrens,this),this.metaParent&&N.j.ArrayAdd(this.metaParent.instances,this)}static GetStyle(t,n,i=!0){let s,l;t.isM()?s=".MDefaultStyles":t.isMM()?s=".MMDefaultStyles":N.j.pe(!0,"m3 objects should not call getStyle()");const r=$((i?".customized":".immutable")+s);switch(0!==n.indexOf("m1")&&0!==n.indexOf("m2")||(n=n.substr(2)),n){default:return N.j.pe(!0,"unrecognized TS Class: "+n),null;case"EEnum":l=r.find(".template.EEnum");break;case"ELiteral":l=r.find(".template.ELiteral");break;case"Class":l=r.find(".template.Class");break;case"Attribute":l=r.find(".template.Attribute");break;case"Reference":l=r.find(".template.Reference");break;case"EOperation":l=r.find(".template.Operation");break;case"EParameter":l=r.find(".template.Parameter")}if(N.j.pw(i&&l.length>1,"found more than one match for custom global style, should there be only 0 or 1.",l,r,this,n),i&&0===l.length)return e.GetStyle(t,n,!1);N.j.pe(!i&&1!==l.length,"expected exactly 1 match for the un-customized global style, found instead "+l.length+":",l,r,this);const o=N.j.cloneHtml(l[0],!0);return o.classList.remove("template"),o.classList.remove("Customized"),o}static getByKey(t,n=null){N.j.pe(!Array.isArray(t),"ModelPiece.getByKey() should only be called with an array as key:",t),N.j.pe(t.length<1,"ModelPiece.getByKey() path array must have >= 1 elements:",t);let i=N.j.followIndexesPath({childrens:[R.b.status.m,R.b.status.mm,R.b.status.mmm]},t,"childrens",n,!0);return N.j.pe(!(i instanceof e),"ModelPiece.getByKey failed: ",i,n),i}static getByKeyStr(t,n=null){return e.getByKey(JSON.parse(t),n)}static get(t){return e.getLogic(t.target)}static getLogicalRootOfHtml(e){let t=e;if(!t)return null;for(;t&&(!t.dataset||!t.dataset.modelPieceID);)t=t.parentNode;return t}static getLogic(t){return(t=this.getLogicalRootOfHtml(t))?e.getByID(+t.dataset.modelPieceID):null}static getByID(t){return e.idToLogic[t]}assignID(){return this.id=e.idMax++,e.idToLogic[this.id]=this,this.id}getKey(){return this.key?this.key:this.updateKey()}getKeyStr(){return JSON.stringify(this.getKey())}updateKey(){const e=this.getModelRoot(),t=e.isM3()?2:e.isM2()?1:0,n=N.j.getIndexesPath(this,"parent","childrens");return this.key=[t,...n]}replaceVarsSetup(){}linkToLogic(e){null!=this.id?e.dataset.modelPieceID=""+this.id:N.j.pw(!0,"undefined id:",this)}getm2(){const e=this.getModelRoot();return e instanceof se?e.metaParent:e instanceof ie?e:e instanceof te?e.instances[0]:void N.j.pe(!0,"failed to get root.")}getModelRoot(){let e=this,t=0;for(;e.parent&&e!==e.parent&&t++<6;)e=e.parent;return N.j.pe(!(e&&e instanceof w),"failed to get model root:",this,"m lastParent:",e),e}isChildNameTaken(e){let t;for(t=0;t<this.childrens.length;t++)if(e===this.childrens[t].name)return!0;return!1}shouldBeDisplayedAsEdge(e=null){return null!==e?(N.j.pe(!(this instanceof ce),"shouldBeDisplayedAsEdge("+e+") should only be set on M2Class instances"),this.shouldBeDisplayedAsEdgeVar=e,ge.updateTypeSelectors(null,!1,!1,!0),e):!(this instanceof w)&&!(this instanceof le)&&!(this instanceof fe)&&(this instanceof ce?this.shouldBeDisplayedAsEdgeVar:!(this instanceof ke)&&(this instanceof _e||!(this instanceof Ie)&&!(this instanceof Oe)&&!(this instanceof ye)&&void N.j.pe(!0,"unrecognized class:",this)))}refreshGUI(e=!1){if(!R.b.status.loadedLogic)return;let t=this.getModelRoot();const n=[this];let i;if(R.b.status.refreshModeAll&&(N.j.ArrayAdd(n,R.b.status.mmm),N.j.ArrayAdd(n,R.b.status.mm),N.j.ArrayAdd(n,R.b.status.m)),R.b.status.refreshModelAndInstances&&t)for(N.j.ArrayAdd(n,t),i=0;t.instances&&i<t.instances.length;i++)N.j.ArrayAdd(n,t.instances[i]);else if(R.b.status.refreshModelAndParent&&t&&t.metaParent)for(N.j.ArrayAdd(n,t=t.metaParent),i=0;t.instances&&i<t.instances.length;i++)N.j.ArrayAdd(n,t.instances[i]);else{if(R.b.status.refreshInstancesToo)for(i=0;this.instances&&i<this.instances.length;i++)N.j.ArrayAdd(n,this.instances[i]);for(R.b.status.refreshModel&&t&&N.j.ArrayAdd(n,t),R.b.status.refreshMetaParentToo&&this.metaParent&&N.j.ArrayAdd(n,this.metaParent),R.b.status.refreshParentToo&&this.parent&&N.j.ArrayAdd(n,this.parent),i=0;i<n.length;i++){const t=n[i];t&&t.refreshGUI_Alone(e)}}}refreshInstancesGUI(){let e=0;for(N.j.pe(!this.instances,"",this);e<this.instances.length;)try{this.instances[e++].refreshGUI_Alone(!1)}catch(t){}}mark(e,t,n="red",i=10,s=10,l=5,r="none",o=null){const a=this.getVertex();a&&a.isDrawn()&&a.mark(e,t,n,i,s,l,r,o);let u,c=null;for(this instanceof ce&&this.shouldBeDisplayedAsEdge()&&(c=this.getEdges()),this instanceof _e&&(c=this.getEdges()),u=0;c&&u<c.length;u++)c[u].mark(e,t,n)}generateModelString(){const e=this.generateModel();return JSON.stringify(e,null,4)}endingName(e=10){return""}printableName(e=5){if(null!==this.name)return this.fullname();const t=this.endingName(e);return this.metaParent.fullname()+":"+this.id+(t&&""!==t?":"+t:"")}printableNameshort(e=5){if(null!==this.name)return this.fullname();const t=this.endingName(e);return this.metaParent.name+":"+this.id+(t&&""!==t?":"+t:"")}setName0(e,t=!1,n=!0,i,s){const l=this[""+i],r=e;if(e=null!=e?""+e.trim():null,!(s||e&&""!==e))return N.j.pw(!0,i+" cannot be empty."),l;if(e===l)return l;const o=new RegExp((s?"^$|":"")+"^[a-zA-Z_$][a-zA-Z_$0-9]*$");if(!o.test(e)){e=e.replace(/([^a-zA-Z_$0-9])/g,"");let t=0;for(;e[t]&&e[t]>="0"&&e[t]<="9";)t++;let n=e=e.substr(t),s="";for(;n.length>0&&""===s;)s=n[0].replace("[^a-zA-Z_$]",""),n=n.substring(1);return e=s+n,N.j.pw(!0,"a valid "+i+" must be match this regular expression: "+o.compile().toString()+"; trying autofix: |"+r+"| --\x3e + |"+e+"|"),this["set"+N.j.firstToUpper(i)](e,!0)}if(""!==e){let t=!1;for(;this.parent&&this.parent["isChild"+N.j.firstToUpper(i)+"Taken"](e);)t=!0,e=N.j.increaseEndingNumber(e,!1,!1);N.j.pe(t&&r===e,"increaseEningNumber failed:",e,this,this.parent?this.parent.childrens:null),N.j.pw(t&&n,"that "+i+" is already used in this context, trying autofix: |"+r+"| --\x3e + |"+e+"|")}return this[""+i]=e,t&&this.refreshGUI(),this[""+i]}getChildren(e,t=!1){let n;N.j.pe(!e||e!==""+e,"ModelPiece.getChildren() name must be a non-empty string, found: |"+e+"|",e),t||(e=e.toLowerCase());const i=this.getModelRoot().isM1();for(n=0;n<this.childrens.length;n++){const s=this.childrens[n];let l=i?s.metaParent.name:s.name;if(t||(l=l&&l.toLowerCase()),e===l)return s}return null}setName(e,t=!1,n=!0){return this.setName0(e,t,n,"name",!1)}setNameOld(e,t=!1,n=!0){const i=this.name,s=e;if(!(e=e?""+e.trim():null)||""===e)return N.j.pw(!0,"name cannot be empty."),i;if(e===i)return i;const l=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;if(!l.test(e)){e=e.replace(/([^a-zA-Z_$0-9])/g,"");let t=0;for(;e[t]&&e[t]>="0"&&e[t]<="9";)t++;let n=e=e.substr(t),i="";for(;n.length>0&&""===i;)i=n[0].replace("[^a-zA-Z_$]",""),n=n.substring(1);return e=i+n,N.j.pw(!0,"a valid name must be match this regular expression: "+l.compile().toString()+"; trying autofix: |"+s+"| --\x3e + |"+e+"|"),this.setName(e,!0)}let r=!1;for(;this.parent&&this.parent.isChildNameTaken(e);)r=!0,e=N.j.increaseEndingNumber(e,!1,!1);return N.j.pe(r&&s===e,"increaseEningNumber failed:",e,this,this.parent?this.parent.childrens:null),N.j.pw(r&&n,"that name is already used in this context, trying autofix: |"+s+"| --\x3e + |"+e+"|"),this.name=e,this.parent&&this.getModelRoot(),t&&this.refreshGUI(),ge.updateTypeSelectors(null,!1,!1,!0),this.name}fieldChanged(e){}copy(e,t="_Copy",n=null){let i;for(this.setName(e.name+t),this.views=[],i=0;i<e.views.length;i++)N.j.ArrayAdd(this.views,e.views[i].duplicate());for(this.parent=n||e.parent,this.parent&&N.j.ArrayAdd(this.parent.childrens,this),this.childrens=[],i=0;i<e.childrens.length;i++)this.childrens.push(e.childrens[i].duplicate("",this));this.metaParent=e.metaParent,this.metaParent&&N.j.ArrayAdd(this.metaParent.instances,this),this.instances=[],this.refreshGUI()}delete(){let e;this.parent&&(N.j.arrayRemoveAll(this.parent.childrens,this),this.parent=null),this.metaParent&&(N.j.arrayRemoveAll(this.metaParent.instances,this),this.metaParent=null);let t=N.j.shallowArrayCopy(this.views);for(e=0;t&&e<t.length;e++)t[e].delete();for(t=N.j.shallowArrayCopy(this.detachedViews),e=0;t&&e<t.length;e++)t[e].delete();for(t=N.j.shallowArrayCopy(this.childrens),e=0;t&&e<t.length;e++)t[e].delete();for(t=N.j.shallowArrayCopy(this.instances),e=0;t&&e<t.length;e++)t[e].delete()}validate(){const e={};let t;if(!N.j.isValidName(name))return this.mark(!0,"Invalid name"),!1;for(t=0;t<this.childrens.length;t++){const n=this.childrens[t],i=n.name;if(e.hasOwnProperty(i))return n.mark(!0,"Duplicate children name"),!1;n.validate(),e[i]=n}return!0}getGlobalLevelStyle(t=!0){let n=this.getClassName();return e.GetStyle(this.getModelRoot(),n,t)}getInheritableStyle(){let e;const t={html:null,htmlobj:null,view:null,ownermp:null,isownhtml:null,isinstanceshtml:null,isGlobalhtml:null};for(e=this.views.length;--e>=0;){let n=this.views[e];if(n.htmli&&n.htmli.getHtml())return t.html=n.htmli.getHtml(),t.htmlobj=n.htmli,t.view=n,t.ownermp=this,t.isGlobalhtml=!1,t.isinstanceshtml=!0,t.isownhtml=!1,t}return null}getInheritedStyle(){return this.metaParent?this.metaParent.getInheritableStyle():null}getStyle(){let e;const t={html:null,htmlobj:null,view:null,ownermp:null,isownhtml:null,isinstanceshtml:null,isGlobalhtml:null};for(e=this.views.length;--e>=0;){const n=this.views[e];if(n.htmlo&&n.htmlo.getHtml())return t.html=n.htmlo.getHtml(),t.htmlobj=n.htmlo,t.view=n,t.ownermp=this,t.isGlobalhtml=!1,t.isinstanceshtml=!1,t.isownhtml=!0,t}return this.getInheritedStyle()||(t.html=this.getGlobalLevelStyle(),t.htmlobj=null,t.view=null,t.ownermp=null,t.isGlobalhtml=!0,t.isinstanceshtml=!1,t.isownhtml=!1,t)}getInfo(e=!1){let t;const n=new v,i={},s={},l=this.getModelRoot();for(v.set(n,"tsClass",N.j.getTSClassName(this)),v.set(n,"this",this),this instanceof w||v.set(n,"parent",this.parent),this instanceof ve||v.set(n,"childrens",s),l.isMM()?(v.set(n,"instance",i),v.set(n,"name",this.name)):v.set(n,"metaParent",this.metaParent),t=0;this.childrens&&t<this.childrens.length;t++){const e=this.childrens[t];let i=l.isM1()&&e.metaParent?e.metaParent.name:e.name;N.j.pw(!i,"getInfo() getName error: probably some metaparent is null.",this,e),i||(i=""),v.setc(n,i.toLowerCase(),e),v.setraw(s,i.toLowerCase(),e)}for(t=0;this.instances&&t<this.instances.length;t++)v.seti(i,""+t,this.instances[t]);return n}getHtmlOnGraph(){if(this instanceof le)return null;let e=this.getVertex().getHtml();return this instanceof ce?e:(e=$(e).find('*[data-modelPieceID="'+this.id+'"]')[0])||null}getLastViewWith(e){let t=this.views.length;for(;--t>=0;){const n=this.views[t];if(null!=n[""+e])return n}if(!this.metaParent)return null;for(t=this.metaParent.views.length;--t>=0;){const n=this.metaParent.views[t];if(null!=n[""+e])return n}return null}getLastView(){return this.views[this.views.length-1]}getClassName(){return this instanceof he?"m3Class":this instanceof de?"m2Class":this instanceof pe?"m1Class":this instanceof fe?"EEnum":this instanceof Ee?"m3Attribute":this instanceof Se?"m2Attribute":this instanceof Te?"m1Attribute":this instanceof we?"m3Reference":this instanceof xe?"m2Reference":this instanceof Ce?"m1Reference":this instanceof re?"m3Package":this instanceof oe?"m2Package":this instanceof ae?"m1Package":this instanceof te?"m3Model":this instanceof ie?"m2Model":this instanceof se?"m1Model":this instanceof Ie?"EOperation":this instanceof Oe?"EParameter":this instanceof ye?"ELiteral":void N.j.pe(!0,"failed to find class:",this)}getInstanceClassName(){let e=this.getClassName();return-1!==e.indexOf("m1")?null:e.replace("m2","m1").replace("m3","m2")}pushUp(){if(!this.parent)return;let e,t,n=this.parent;(e=n.childrens)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t-1,this)),(e=n.enums)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t-1,this)),(e=n.classes)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t-1,this)),(e=n.attributes)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t-1,this)),(e=n.references)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t-1,this)),(e=n.operations)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t-1,this)),this.updateKey()}pushDown(){if(!this.parent)return;let e,t,n=this.parent;(e=n.childrens)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t-1,this)),(e=n.enums)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t+1,this)),(e=n.classes)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t+1,this)),(e=n.attributes)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t+1,this)),(e=n.references)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t+1,this)),(e=n.operations)&&-1!==(t=e.indexOf(this))&&(N.j.arrayRemoveAll(e,this),N.j.arrayInsertAt(e,t+1,this)),this.updateKey()}}return e.idToLogic={},e.idMax=0,e})();class w extends _{constructor(e){super(null,e),this.graph=null,this.sidebar=null,this.storage=null,this.namespaceVar=null,this.uriVar=null,this.viewpoints=[],this.storage=new y(this)}static isValidURI(e){return-1!==e.indexOf(" ")&&!0}static removeInvalidNameChars(e){return N.j.multiReplaceAll(e,[" "],[""])}uri(e=null){return e?w.isValidURI(e)?this.uriVar=e:null:this.uriVar?this.uriVar:this.uriVar="http://default/uri/to/change"}namespace(e=null){let t;e&&(this.namespaceVar=e,t=this.namespaceVar.lastIndexOf(":"),this.namespaceVar=-1===t?this.namespaceVar:this.namespaceVar.substring(0,t));const n=this.namespaceVar;return n?-1===(t=n.lastIndexOf(":"))?n:n.substring(0,t):this.namespace("default.namespace.to.change")}getAllClasses(){const e=[],t=this.childrens;let n;for(n=0;n<t.length;n++)t[n].classes.forEach(t=>{e.push(t)});return e}getAllEnums(){const e=[],t=this.childrens;let n;for(n=0;n<t.length;n++)t[n].enums.forEach(t=>{e.push(t)});return e}fullname(){return this.name}getVertex(){N.j.pe(!0,"IModel.getVertex();",this)}getAllReferences(){const e=[],t=this.getAllClasses();let n;for(n=0;n<t.length;n++)t[n].references.forEach(t=>{e.push(t)});return e}getPackage(e,t=!0){if(-1!==e.indexOf("."))return N.j.pe(t,"not a package name:",e),null;let n;for(n=0;n<this.childrens.length;n++)if(this.childrens[n].name===e)return this.childrens[n];return-1!==e.indexOf(".")?(N.j.pe(t,"valid a package name, but package does not exist:",e),null):null}getClass(e,t=!0,n=!0){if(2!==e.split(".").length)return N.j.pe(t,"not a full class name:",e),null;const i=this.getAllClasses();let s=-1;for(;++s<i.length;){const t=i[s].fullname();if(N.j.pif(n,"fllname: |"+e+"| =?= |"+t+"| = "+t===e),t===e)return i[s]}const l=e.substr(e.indexOf(".")+1);for(s=-1;++s<i.length;)if(N.j.pif(n,"name: |"+l+"| =?= |"+i[s].name+"| = "+i[s].name===l),i[s].name===l)return i[s];return N.j.pe(t,"valid name but unable to find it. fullname:",e,"classes:",i),null}getEmptyModel(){return this instanceof te?te.emptyMetaMetaModel:this instanceof ie?ie.emptyModel:this instanceof se?se.emptyModel:null}delete(){this.storage.remove(this.name,b.model),y.deleteLastOpened(this instanceof ie?2:1),N.j.refreshPage()}refreshGUI_Alone(e=!0){let t;for(t=0;t<this.childrens.length;t++)this.childrens[t].refreshGUI_Alone(e)}isNameTaken(e){return!!this.storage.get(e,b.model)}setName(e,t=!1){const n=this.name;return this.isNameTaken(e)?(N.j.pw(!0,"tried to saveToDB a model with a name already in use"),n):(super.setName(e),this.storage.rename(n,this.name,b.model),this.graph.propertyBar.refreshGUI(),this.name)}save(e,t=!1){this.storage.saveModel(e,t)}isMMM(){return this.isM3()}isMM(){return this.isM2()}isM(){return this.isM1()}addClass(e=null,t=null){return e||(e=this.getDefaultPackage()),e.addEmptyClass(t)}friendlyClassName(e=!0){return this instanceof te?"Meta-metamodel".toLowerCase():this instanceof ie?"Metamodel".toLowerCase():this instanceof se?"Model".toLowerCase():(N.j.pe(!0,"unexpected"),"error")}getLastView(){let e;for(e=this.viewpoints.length;--e>=0;){const t=this.viewpoints[e];if(t.isApplied)return t}return null}static getByName(e){return R.b.status.mmm.fullname()===e?R.b.status.mmm:R.b.status.mm.fullname()===e?R.b.status.mm:R.b.status.m.fullname()===e?R.b.status.m:null}readVertexPositionSaveArr(e){for(let t in e){const n=(new N.d).clone(e[t]),i=_.getByKeyStr(t);i?i.getVertex().setSize(n):N.j.pw(!0,"invalid vertex save, failed to get targetmodelpiece: ",t,e,this)}}generateVertexPositionSaveArr(){let e,t,n={},i=[this.getAllEnums(),this.getAllClasses()];for(t=0;t<i.length;t++)for(e=0;e<i[t].length;e++)n[i[t][e].getKeyStr()]=i[t][e].getVertex().getSize();return n}generateViewPointSaveArr(){return this.viewpoints}}class x{static initializeAllECoreEnums(){x.ecoreEPackage="ecore:EPackage",E.eAnnotations=S.eAnnotations=T.eAnnotations=M.eAnnotations=P.eAnnotations=A.eAnnotations=I.eAnnotations=O.eAnnotations="eAnnotations",C.source=R.b.status.XMLinlineMarker+"source",C.references=R.b.status.XMLinlineMarker+"references",C.details="details",k.key=R.b.status.XMLinlineMarker+"key",k.value=R.b.status.XMLinlineMarker+"value",E.eClassifiers="eClassifiers",E.xmlnsxmi=R.b.status.XMLinlineMarker+"xmlns:xmi",E.xmlnsxsi=R.b.status.XMLinlineMarker+"xmlns:xsi",E.xmiversion=R.b.status.XMLinlineMarker+"xmi:version",E.xmlnsecore=R.b.status.XMLinlineMarker+"xmlns:ecore",E.nsURI=R.b.status.XMLinlineMarker+"nsURI",E.nsPrefix=R.b.status.XMLinlineMarker+"nsPrefix",E.namee=R.b.status.XMLinlineMarker+"name",S.eStructuralFeatures="eStructuralFeatures",S.eOperations="eOperations",S.xsitype=R.b.status.XMLinlineMarker+"xsi:type",S.namee=E.namee,S.eSuperTypes=R.b.status.XMLinlineMarker+"eSuperTypes",S.instanceTypeName=R.b.status.XMLinlineMarker+"instanceTypeName",S.instanceTypeName=R.b.status.XMLinlineMarker+"instanceTypeName",S.abstract=R.b.status.XMLinlineMarker+"abstract",S.interface=R.b.status.XMLinlineMarker+"interface",T.instanceTypeName=S.instanceTypeName,T.serializable="serializable",T.xsitype=S.xsitype,T.eLiterals="eLiterals",T.namee=E.namee,M.literal="literal",M.namee=E.namee,M.value="value",P.xsitype=R.b.status.XMLinlineMarker+"xsi:type",P.eType=R.b.status.XMLinlineMarker+"eType",P.containment=R.b.status.XMLinlineMarker+"containment",P.upperbound=R.b.status.XMLinlineMarker+"upperBound",P.lowerbound=R.b.status.XMLinlineMarker+"lowerBound",P.namee=R.b.status.XMLinlineMarker+"name",A.xsitype=R.b.status.XMLinlineMarker+"xsi:type",A.eType=R.b.status.XMLinlineMarker+"eType",A.namee=R.b.status.XMLinlineMarker+"name",I.eParameters="eParameters",I.namee=R.b.status.XMLinlineMarker+"name",I.ordered=R.b.status.XMLinlineMarker+"ordered",I.unique=R.b.status.XMLinlineMarker+"unique",I.lowerBound=R.b.status.XMLinlineMarker+"lowerBound",I.upperBound=R.b.status.XMLinlineMarker+"upperBound",I.eType=R.b.status.XMLinlineMarker+"eType",I.eexceptions=R.b.status.XMLinlineMarker+"eExceptions",O.namee=R.b.status.XMLinlineMarker+"name",O.ordered=R.b.status.XMLinlineMarker+"ordered",O.unique=R.b.status.XMLinlineMarker+"unique",O.lowerBound=R.b.status.XMLinlineMarker+"lowerBound",O.upperBound=R.b.status.XMLinlineMarker+"upperBound",O.eType=R.b.status.XMLinlineMarker+"eType",D.type=R.b.status.XMLinlineMarker+"type",D.namee=R.b.status.XMLinlineMarker+"name"}}class C{}class k{}class E{}class S{}class T{}class M{}class P{}class A{}class I{}class O{}class D{}var N=n("6FtA"),R=n("ZAI4");class j{constructor(e){this.lastVP=null,this.getViewpointGUI={},this.graph=e,this.model=e.model,this.$html=$(e.container.parentElement).find(".viewpointShell"),this.html=this.$html[0],this.$template=this.$html.find("li.viewpointrow.template"),this.template=this.$template[0];const t=this.$html.find("li.viewpointrow.default"),n=t.find('input[type="radio"]');this.defaultCheckbox=n[0],this.checkboxes=[],this.getViewpointGUI={},n.on("click",e=>{this.undoAll(!0)}),t.find("button.duplicate").on("click",e=>this.duplicateEvent(e,null,this.defaultCheckbox))}undoAll(e){let t;for(t=0;t<this.model.viewpoints.length;t++)this.model.viewpoints[t].detach();if(this.ignoreEvents=!0,e){for(t=0;t<this.checkboxes.length;t++)this.checkboxes[t].checked=!1;this.graph.model.refreshGUI_Alone()}this.$html.find('input[type="radio"]')[0].checked=!0,this.ignoreEvents=!1}refreshApplied(){let e,t=!1;const n=this.checkboxes.slice();for(e=this.model.viewpoints.length;--e>=0;){const i=this.model.viewpoints[e],s=this.getCheckbox(i);N.j.pe(!s,"failed to get checkbox of:",i,this),N.j.arrayRemoveAll(n,s),t=t||s.checked,i.isApplied!==s.checked&&(i.isApplied?i.detach():i.apply())}N.j.pe(!!n.length,"Error: some checkbox are not yet processed.",n,this),this.$html.find('input[type="radio"]')[0].checked=!t,this.updatelastvp(),this.graph.model.refreshGUI_Alone(),this.graph.propertyBar.refreshGUI()}duplicateEvent(e,t,n,i=!1){N.j.pif(i,"duplicate("+(t?t.name:null)+") Start:",this.model.viewpoints);let s=new g(this.model,t?t.name:null);t&&(s.clone(t),s.updateTarget(this.model)),this.ignoreEvents=!0,this.add(s,!1),n&&(n.checked=!1),this.ignoreEvents=!1,this.refreshApplied(),N.j.pif(i,"duplicate() End:",this.model.viewpoints)}add(e,t){const n=this.$template.clone(),i=n[0],s=n.find('input[type="checkbox"]'),l=s[0];this.checkboxes.push(l),this.getViewpointGUI[e.id]=i;const r=n.find("input.name"),o=r[0],a=n.find("button.duplicate"),u=n.find("button.remove"),c=n.find("button.edit");a.on("click",t=>this.duplicateEvent(t,e,l)),u.on("click",t=>{this.html.removeChild(i),N.j.arrayRemoveAll(this.checkboxes,l),delete this.getViewpointGUI[e.id],e.delete()}),c.on("click",e=>{o.readOnly=!1,o.focus()});const h=(t=!0)=>{t&&e.setname(o.name),o.value=e.name,o.readOnly=!0};r.on("keydown",e=>{"return"===e.key?h(!0):"escape"===e.key&&h(!1)}),r.on("blur",e=>{h(!1)}),r.on("click",e=>{}),l.dataset.vpid=""+e.id,o.value=e.name,l.checked=e.isApplied,s.on("change",e=>this.ignoreEvents?(e.preventDefault(),!1):(this.refreshApplied(),!0)),t&&e.isApplied&&s.trigger("change"),i.classList.remove("template"),this.html.appendChild(i)}updatelastvp(){this.$html.find("li[islastvp]").removeAttr("islastvp");const e=this.model.getLastView();console.log("updatelastvp() ",this.model.viewpoints,this.getViewpointGUI,this),e&&(this.lastVP=e,this.getViewpointGUI[e.id].setAttribute("islastvp","true"))}getCheckbox(e){let t;for(t=0;t<this.checkboxes.length;t++){const n=this.checkboxes[t];if(n.dataset.vpid===""+e.id)return n}return null}}var z=function(e){return e[e.drag=0]="drag",e[e.select=1]="select",e[e.multiselect=2]="multiselect",e}({});let L=(()=>{class e{constructor(t,n){let i,s;this.id=null,this.container=null,this.model=null,this.vertex=null,this.edges=null,this.scroll=null,this.propertyBar=null,this.zoom=null,this.grid=null,this.gridDisplay=!1,this.allMarkgp=[],N.j.pe(!n,"graph container is null. model:",t),this.id=e.ID++,e.all[this.id+""]=this,this.model=t,this.model.graph=this,this.container=n,this.container.dataset.graphID=""+this.id,this.edgeContainer=N.j.newSvg("g"),this.edgeContainer.classList.add("allEdgeContainer"),this.vertexContainer=N.j.newSvg("g"),this.vertexContainer.classList.add("allVertexContainer"),this.container.appendChild(this.edgeContainer),this.container.appendChild(this.vertexContainer),this.gridDefsHtml=$(this.container).find("g.gridContainer>defs")[0],this.gridHtml=$(this.container).find("g.gridContainer>rect.grid")[0],this.gridHtml.setAttributeNS(null,"fill","url(#grid_"+this.id+")"),this.isMoving=null,this.clickedScroll=null,this.cursorAction=z.select,this.vertex=[],this.edges=[],this.zoom=new N.g(1,1),this.scroll=new N.c(0,0),this.grid=new N.c(20,20),this.gridPos=new N.g(0,0),this.gridDisplay=!0;const l=this.model.getAllEnums();for(i=0;i<l.length;i++)l[i].generateVertex();const r=this.model.getAllClasses(),o=[];for(i=0;i<r.length;i++)r[i].shouldBeDisplayedAsEdge()?o.push(r[i]):r[i].generateVertex();if(this.model.isM2())for(i=0;i<r.length;i++){const e=r[i];for(s=0;s<e.extends.length;s++)N.j.ArrayAdd(this.edges,e.makeExtendEdge(e.extends[s]))}for(i=0;i<o.length;i++)N.j.ArrayMerge(this.edges,o[i].generateEdge());const a=this.model.getAllReferences();for(i=0;i<a.length;i++)N.j.ArrayMerge(this.edges,a[i].generateEdges());this.propertyBar=new X(this.model),this.viewPointShell=new j(this),this.addGraphEventListeners(),this.ShowGrid()}static getByID(t){return e.all[t]}static getByHtml(t){for(const n in e.all){if(!e.all.hasOwnProperty(n))continue;const i=e.all[n];if(N.j.isParentOf(i.container,t))return i}return N.j.pe(!0,"failed to find parent graph of:",t),null}fitToGrid(e,t=!0,n=!1,i=!0,s=!0){const l=t?e.clone():e;return N.j.pe(!this.grid,"grid not initialized."),i&&!isNaN(this.grid.x)&&this.grid.x>0&&(l.x=Math.round(l.x/this.grid.x)*this.grid.x),s&&!isNaN(this.grid.y)&&this.grid.y>0&&(l.y=Math.round(l.y/this.grid.y)*this.grid.y),N.j.pif(n,"fitToGrid(",e,"); this.grid:",this.grid," = ",l),l}fitToGridS(e,t=!0,n=!1,i=!0,s=!0){const l=t?e.duplicate():e;return N.j.pe(!this.grid,"grid not initialized."),i&&!isNaN(this.grid.x)&&this.grid.x>0&&(l.x=Math.round(l.x/this.grid.x)*this.grid.x),s&&!isNaN(this.grid.y)&&this.grid.y>0&&(l.y=Math.round(l.y/this.grid.y)*this.grid.y),N.j.pif(n,"fitToGrid(",e,"); this.grid:",this.grid," = ",l),l}addGraphEventListeners(){const e=$(this.container),t=this;if(this.model.linkToLogic(this.container),e.off("mousedown.graph").on("mousedown.graph",e=>{t.onMouseDown(e)}),e.off("mouseup.graph").on("mouseup.graph",e=>{t.onMouseUp(e)}),e.off("mousemove.graph").on("mousemove.graph",e=>{t.onMouseMove(e)}),e.off("mousedown.move").on("mousedown.move",e=>{switch(this.cursorAction){default:N.j.pe(!0,"unexpected cursorAction:",this.cursorAction);case z.drag:case z.select:U.a.ChangePropertyBarContentClick(e)instanceof w&&(this.isMoving=N.g.fromEvent(e),this.clickedScroll=this.scroll.clone());break;case z.multiselect:}}),e.off("mouseup.move").on("mouseup.move",e=>{this.isMoving&&(this.isMoving=this.clickedScroll=null)}),ResizeObserver){window.resizeobservers||(window.resizeobservers=[]);const e=new ResizeObserver((e,t)=>{this.onResize()});window.resizeobservers=e,e.observe(this.container.parentElement)}if(!ResizeObserver){let e=null;setInterval(()=>{N.j.pif(!0,"setinterval graphsize checker");const t=this.getSize();t.equals(e)||this.onResize(t)},100)}}onMouseDown(e){}onMouseUp(e){}onMouseMoveSetReference(e,t){t&&!t.tmpEndVertex&&(t.tmpEnd=N.c.fromEvent(e),N.j.pe(!t.tmpEnd,"failed to get coordinates from event:",e),t.refreshGui(null,!1))}onMouseMoveVertexMove(e,t){if(!t)return;const n=new N.g(e.pageX,e.pageY);let i=this.toGraphCoord(n);i=i.subtract(U.a.selectedStartPt,!1),t.moveTo(i)}onMouseMoveDrag(e){if(!this.isMoving)return;const t=N.g.fromEvent(e);t.subtract(this.isMoving,!1),this.scroll.x=this.clickedScroll.x-t.x,this.scroll.y=this.clickedScroll.y-t.y,this.setGridPos(),this.updateViewbox()}edgeChangingAbort(e){const t=V.edgeChanging;if(!t)return;V.edgeChanging=null;const n=U.a.GetMarkedWith("refhover");let i;for(N.j.pw(n.length>1,"hovering on more than one target at the same time should be impossible.",n),i=0;i<n.length;i++)n[i].mark(!1,"refhover");t.end?(t.useMidNodes=!0,t.useRealEndVertex=!0,t.tmpEnd=null,t.refreshGui()):t.remove()}onMouseMove(e){return V.edgeChanging?this.onMouseMoveSetReference(e,V.edgeChanging):U.a.selected?this.onMouseMoveVertexMove(e,U.a.selected):this.isMoving?this.onMouseMoveDrag(e):void 0}toGraphCoordS(e){const t=this.toGraphCoord(new N.g(e.x,e.y)),n=this.toGraphCoord(new N.g(e.x+e.w,e.y+e.h));return new N.d(t.x,t.y,n.x-t.x,n.y-t.y)}computeSize(){this.size=N.j.sizeof(this.container)}getSize(){return this.size||this.computeSize(),this.size}toGraphCoord(e){const t=this.getSize(),n=new N.c(e.x,e.y);n.x-=t.x,n.y-=t.y,n.x+=this.scroll.x,n.y+=this.scroll.y,n.x/=this.zoom.x,n.y/=this.zoom.y;{const i=this.toHtmlCoord(n);N.j.pe(i.x!==e.x||i.y!==e.y,"error in toGraphCoord or toHtmlCoord: inputPt:",e,", result: ",n,"verify:",i,"point:",e,"scroll:",this.scroll,"zoom:",this.zoom,"GraphHtmlSize:",t)}return n}toHtmlCoordS(e){if(null===e)return null;const t=this.toHtmlCoord(new N.c(e.x,e.y)),n=this.toHtmlCoord(new N.c(e.x+e.w,e.y+e.h));return new N.i(t.x,t.y,n.x-t.x,n.y-t.y)}toHtmlCoord(e){const t=this.getSize(),n=new N.g(e.x,e.y);return n.x*=this.zoom.x,n.y*=this.zoom.y,n.x-=this.scroll.x,n.y-=this.scroll.y,n.x+=t.x,n.y+=t.y,n}getAllVertexIsBroke(){return this.vertex}markClick(e,t=!0){return this.mark(new N.g(e.pageX,e.pageY),t)}markg(e,t=!1,n="red"){return this.mark(this.toHtmlCoord(e),t,n)}markgS(e,t=!1,n="red",i=null){return this.markS(this.toHtmlCoordS(e),t,n,i)}markS(e,t=!1,n="red",i=null){i||(i=n),N.j.pe(!e,"size cannot be null."),this.mark(e.tl(),t,n),this.mark(e.tr(),!1,n),this.mark(e.bl(),!1,i),this.mark(e.br(),!1,i)}mark(t,n=!1,i="red"){const s=this.toGraphCoord(t);if(n){let t;for(t=0;t<this.allMarkgp.length;t++){const e=this.allMarkgp[t];this.container.contains(e)&&this.container.removeChild(e)}for(t=0;t<e.allMarkp.length;t++){const n=e.allMarkp[t];document.body.contains(n)&&document.body.removeChild(n)}}this.markp=N.j.toHtml('<div style="width:10px; height:10px; top:'+(t.y-5)+"px; left:"+(t.x-5)+"px; position: absolute; border: 1px solid "+i+'; z-index:1;">'),this.markgp=N.j.newSvg("circle"),this.markgp.setAttribute("cx",""+s.x),this.markgp.setAttribute("cy",""+s.y),this.markgp.setAttribute("r","1"),this.markgp.setAttribute("stroke",i),this.allMarkgp.push(this.markgp),e.allMarkp.push(this.markp),document.body.appendChild(this.markp),this.container.appendChild(this.markgp)}setZoom(e,t){const n=this.zoom.clone();t=e,this.zoom.x=N.j.isNumber(e)&&0!==e?+e:this.zoom.x,this.zoom.y=N.j.isNumber(t)&&0!==t?+t:this.zoom.y,console.log("zoomOld:",n,"x:",e,"y:",t," zoom:",this.zoom),this.updateViewbox()}onResize(e=null){e?this.size=e:this.computeSize(),this.updateViewbox()}updateViewbox(){const e=N.j.getViewBox(this.container);e.w=this.size.w/this.zoom.x,e.h=this.size.h/this.zoom.y,e.x=this.scroll.x,e.y=this.scroll.y,N.j.setViewBox(this.container,e)}setGridPos(){const e=10*this.grid.x,t=10*this.grid.y;this.gridHtml.setAttributeNS(null,"x",""+(this.scroll.x-this.scroll.x%e-1*e)),this.gridHtml.setAttributeNS(null,"y",""+(this.scroll.y-this.scroll.y%t-1*t));const n=this.getSize();this.gridHtml.setAttributeNS(null,"width",(n.w+1*e*2)/this.zoom.x+""),this.gridHtml.setAttributeNS(null,"height",(n.h+1*t*2)/this.zoom.y+"")}ShowGrid(e=null){const t=this.model===R.b.status.mm?R.b.status.mm.graph:R.b.status.m.graph;null===e&&(e=t.gridDisplay),t.gridDisplay=e;const n=isNaN(this.grid.x)||this.grid.x<=0?1e4:this.grid.x,i=isNaN(this.grid.y)||this.grid.y<=0?1e4:this.grid.y;this.gridDefsHtml.innerHTML='<pattern id="smallGrid_'+this.id+'" width="'+n+'" height="'+i+'" patternUnits="userSpaceOnUse">\n  <path d="M '+n+" 0 L 0 0 0 "+i+'" fill="none" stroke="gray" stroke-width="0.5"/>\n</pattern>\n<pattern id="grid_'+this.id+'" width="'+10*n+'" height="'+10*i+'" patternUnits="userSpaceOnUse">\n  <rect width="'+10*n+'" height="'+10*i+'" fill="url(#smallGrid_'+this.id+')"/>\n  <path d="M '+10*n+" 0 L 0 0 0 "+10*i+'" fill="none" stroke="gray" stroke-width="1"/>\n</pattern>',this.setGridPos(),e?$(this.gridHtml).show():$(this.gridHtml).hide()}addVertex(e){e.owner=this,N.j.ArrayAdd(this.vertex,e)}}return e.all={},e.ID=0,e.allMarkp=[],e.defaultGridDisplay=!0,e.defaultGrid=new N.c(20,20),e.defaultZoom=new N.g(1,1),e})();var U=n("6DPa");class H{constructor(e){this.logic=e}getHtml(){return this.html}refreshGUI(e=!0){}remove(){this.html&&this.html.parentNode&&this.html.parentNode.removeChild(this.html),this.logic.field=null,N.j.arrayRemoveAll(this.owner.fields,this)}}class B{constructor(e,t){this.container=null,this.packageContainer=null,this.classContainer=null,this.model=e,R.b.status.mmm===this.model?R.b.status.mm.sidebar=this:R.b.status.m.sidebar=this,this.container=t,this.packageContainer=document.createElement("div"),this.packageContainer.classList.add("sidebarPackageContainer"),this.classContainer=document.createElement("div"),this.classContainer.classList.add("sidebarClassContainer"),this.container.appendChild(this.packageContainer),this.container.appendChild(this.classContainer),this.updateAll()}clear(){N.j.clear(this.packageContainer),N.j.clear(this.classContainer)}updateAll(){let e;this.clear();const t=this.model.getAllClasses(),n=this.model.isM2()?[]:this.model.getAllEnums();for(e=0;e<t.length;e++)this.updateNode(t[e],this.classContainer);for(e=0;e<n.length;e++)this.updateNode(n[e],this.classContainer)}addEventListeners(e){$(e).off("click.sidebarNode").on("click.sidebarNode",e=>{R.b.status.getActiveModel().sidebar.sidebarNodeClick(e)})}sidebarNodeClick(e){console.log("sidebarNodeClick()",R.b.status.getActiveModel()===R.b.status.mm,R.b.status.getActiveModel()),R.b.status.getActiveModel().isMM(),this.sidebarNodeClick0(e)}sidebarNodeClick0(e){console.log("sidebarNodeClick()");let t=e.currentTarget;for(;!t.dataset.modelPieceID;)t=t.parentNode;const n=_.getLogic(t);N.j.pe(!n,"the id does not match any class or package",e),n.getModelRoot();const i=R.b.status.getActiveModel();N.j.pe(!i.graph,"invalid graph of model:",i);const s=i.getDefaultPackage();n instanceof ce?s.addEmptyClass(n):n instanceof fe?s.addEmptyEnum():N.j.pe(!0,"unxpected class type of metaparent:",n),console.log("addSidebarNodeClick done")}updateNode(e,t){const n=N.j.replaceVars(e,e.getSidebarHtml(),!0);e.linkToLogic(n),this.addEventListeners(n),t.appendChild(n)}}var F=function(e){return e.straight="straight",e.angular2="angular con 2 segmenti.",e.angular3="angular con 3 segmenti (un break centrale)",e.angular23Auto="angular 2 o angular 3 automatico",e}({});let V=(()=>{class e{constructor(t,n,i=null,s=null){this.owner=null,this.start=null,this.end=null,this.midNodes=null,this.shell=null,this.html=null,this.shadow=null,this.logic=null,this.isSelected=null,this.isHighlighted=null,this.mode=null,this.edgeHead=null,this.edgeTail=null,this.tmpEnd=null,this.tmpEndVertex=null,this.useMidNodes=!0,this.useRealEndVertex=!0,this.id=null,i||(t instanceof ce&&(i=t.getVertex()),t instanceof _e&&(i=t.getVertex())),N.j.pe(!i,"startVertex missing"),N.j.pe(!t||!i,"new Edge() invalid parameters. logic:",t,"start:",i,"end:",s),e.all.push(this),this.id=e.edgeCount++,e.idToEdge[this.id]=this,this.logic=t,this instanceof W||(N.j.pe(null==n,"index must be set."),this.logic.edges[n]=this),this.shell=document.createElementNS("http://www.w3.org/2000/svg","g"),this.html=document.createElementNS("http://www.w3.org/2000/svg","path"),this.shadow=N.j.newSvg("path"),this.shadow.dataset.edgeid=this.shell.dataset.edgeid=this.html.dataset.edgeid=""+this.id,this.start=i,this.start.edgesStart.push(this),this.setTarget(s),this.startNode=new G(this,new N.c(0,0),this.start),this.midNodes=[],this.endNode=new G(this,new N.c(0,0),this.end),this.owner=this.start.owner,this.isSelected=!1,this.isHighlighted=!1,this.mode=this.logic.edgeStyleCommon.style,this.edgeHead=null,this.edgeTail=null,this.owner.edgeContainer.append(this.shell),this.shell.classList.add("EdgeShell"),this.html.classList.add("Edge"),this.shadow.classList.add("Edge","Shadow"),this.shell.dataset.modelPieceID=""+this.logic.id,this.html.dataset.modelPieceID=""+this.logic.id,this.shadow.dataset.modelPieceID=""+this.logic.id,this.html.setAttribute("fill","none"),this.shadow.setAttribute("fill","none"),this.shadow.setAttribute("stroke","none"),this.shadow.setAttribute("visibility","hidden"),this.shadow.setAttribute("pointer-events","stroke"),s&&this.refreshGui()}static staticInit(){return e.all=[],e.selecteds=[],N.j.eventiDaAggiungereAlBody("trigger onBlur of all IEdge.selecteds."),$(document.body).off("click.blurEdgeSelection").on("click.blurEdgeSelection",t=>{N.j.pif(!1,"body.click(): clear All Edge Selections");let n=-1;for(;++n<e.selecteds.length;)e.selecteds[n].onBlur();N.j.pif(!1,"graph clicked:",t);const i=_.get(t),s=e.get(t);if(N.j.pif(!1,"modelPieceClicked ? ",i),!i)return;let l=t.target;for(;l&&l.classList&&!l.classList.contains("EdgeShell");)l=l.parentNode;N.j.pif(!1,"edgeClicked ? ",s),s&&s.onClick(t)}),[]}static get(t){return e.getByHtml(t.target)}static getByHtml(t,n=!1){if(!t)return null;let i=t;for(;i&&(!i.dataset||!i.dataset.edgeid);)i=i.parentNode;const s=i?e.getByID(+i.dataset.edgeid):null;return N.j.pe(n&&!s,"failed to find edge. html0:",t,"html:",i,"map:",e.idToEdge),s}static getByID(t){return e.idToEdge[t]}static generateAggregationHead(e="black",t="white",n=20){const i=N.j.newSvg("svg"),s=N.j.newSvg("path");return i.setAttributeNS(null,"width","20"),i.setAttributeNS(null,"height","20"),i.setAttributeNS(null,"viewBox",-n+" "+-n+" "+(200+2*n)+" "+(200+2*n)),s.setAttributeNS(null,"fill",e),s.setAttributeNS(null,"stroke",t),s.setAttributeNS(null,"stroke-width",""+n),s.setAttributeNS(null,"d","M100 0 L200 100 L100 200 L0 100 Z"),i.appendChild(s),i}static generateAggregationTail(e="black",t="white",n=20){return null}static generateContainmentHead(){return e.generateAggregationHead("white","white")}static generateContainmentTail(){return e.generateAggregationTail("white","white")}static generateGeneralizationHead(e="white",t="white",n=20){const i=N.j.newSvg("svg");return i.setAttributeNS(null,"width","20"),i.setAttributeNS(null,"height","20"),i.setAttributeNS(null,"viewBox",-n+" "+-n+" "+(200+2*n)+" "+(200+2*n)),i.innerHTML='<path fill="'+e+'" stroke="'+t+'" stroke-width="'+n+'" d="M100 0 L200 200 L000 200 Z" />',i}static generateGeneralizationTail(e="white",t="white",n=20){const i=N.j.newSvg("svg");return i.setAttributeNS(null,"width","20"),i.setAttributeNS(null,"height","20"),i.setAttributeNS(null,"viewBox",-n+" "+-n+" "+(200+2*n)+" "+(200+2*n)),i.innerHTML='<path fill="'+e+'" stroke="'+t+'" stroke-width="'+n+'" d="M100 0 L200 200 L000 200 Z" />',null}static makePathSegment(e,t,n,i=null,s,l,r=" L",o=!1){let a,u="";const c=s?N.j.isOnHorizontalEdges(e,s):null,h=l?N.j.isOnHorizontalEdges(t,l):null;if(o&&(N.j.cclear(),R.b.status.getActiveModel().graph.markg(e,!0,"green"),s&&R.b.status.getActiveModel().graph.markgS(s,!1,"white"),R.b.status.getActiveModel().graph.markg(t,!1,"green"),l&&R.b.status.getActiveModel().graph.markgS(l,!1)),N.j.pif(o,"prev:"+c+", next:"+h,"m0:"+n+" --\x3e "+n+", favDirection"+i),N.j.pif(o,"directions:",c,h),s&&!N.j.isOnEdge(e,s))return N.j.pw(o,"prev not on border"),"";if(l&&!N.j.isOnEdge(t,l))return N.j.pw(o,"next not on border"),"";N.j.pe(s&&!N.j.isOnEdge(e,s)||l&&!N.j.isOnEdge(t,l),"not on border"),s&&!N.j.isOnEdge(e,s)||l&&N.j.isOnEdge(t,l);let d=n,p=u;d===F.angular23Auto&&(d=n=F.angular3);const f=F.angular3;switch(N.j.pif(o,n===f,!!s,c),n===f&&s&&c&&(i=!1,d=F.angular3,N.j.pif(o,"fixed")),d){default:N.j.pe(!0,"unexpected EdgeMode:",d);break;case F.angular2:a=N.c.getM(e,t),null===i&&(i=Math.abs(a)<=1),i?N.j.pif(o,"pathStr: ",p=u," --\x3e ",u+=r+t.x+" "+e.y,"; ang2 favdirectionHorizontal"):N.j.pif(o,"pathStr: ",p=u," --\x3e ",u+=r+e.x+" "+t.y,"; ang2 favdirectionVertical");break;case F.angular23Auto+"":N.j.pw(!0,"mode.angular23Auto should be replaced before entering here");break;case F.angular3:if(a=N.c.getM(e,t),null===i&&(i=Math.abs(a)<=1),i){const n=(t.x+e.x)/2;N.j.pif(o,"pathStr: ",p=u," --\x3e ",u+=r+n+" "+e.y,"; angular3 orizzontale: orizzontale big"),N.j.pif(o,"pathStr: ",p=u," --\x3e ",u+=r+n+" "+t.y,"; angular3 orizzontale: verticale small")}else{const n=(t.y+e.y)/2;N.j.pif(o,"pathStr: ",p=u," --\x3e ",u+=r+e.x+" "+n,"; angular3 verticale: verticale big"),N.j.pif(o,"pathStr: ",p=u," --\x3e ",u+=r+t.x+" "+n,"; angular3 verticale: orizzontale small")}break;case F.straight:}return N.j.pif(o,"pathStr: ",p=u," --\x3e ",u+=r+t.x+" "+t.y,"; lastPt comune a tutti."),u}canBeLinkedTo(e){return this.logic.canBeLinkedTo(e)}refreshGui(t=!1,n=null,i=null){N.j.pe(!this.logic,"IEdge.logic is null:",this),null===n&&(n=this.useRealEndVertex),null===i&&(i=this.useMidNodes),this.logic.edgeStyleCommon.style||(this.logic.edgeStyleCommon.style=F.straight),this.mode=this.logic.edgeStyleCommon.style;const s=this.start,l=this.start.getSize();let r,o,a,u=null,c=null,h=this.getAllRealMidPoints();for(i||(h=[h[0],h[h.length-1]]),n?(c=(u=this.end).getSize(),this.startNode.moveTo(s.getStartPoint(h[1].getEndPoint()),!1),this.endNode.moveTo(u.getEndPoint(h[h.length-2].getStartPoint()),!1)):(c=(u=this.tmpEndVertex)?u.getSize():null,this.startNode.moveTo(s.getStartPoint(h[1].getEndPoint()),!1),this.endNode.moveTo(u?u.getEndPoint(h[h.length-2].getStartPoint()):this.tmpEnd,!1)),N.j.pif(!1,"allRealPt:",h),this.logic.getModelRoot(),r=1;r<h.length;r++){const t=h[r],n=null,i=1===r?l:null,s=r===h.length-1?c:null,u=h[r-1].getStartPoint(!i,!i),d=t.getEndPoint(!s,!s);1===r&&(o="M"+u.x+" "+u.y),a=o,o+=e.makePathSegment(u,d,this.mode,n,i,s),N.j.pif(!1,"pathStr: RealPts:["+r+"] = "+d.toString()+"; prev:"+u.toString()),N.j.pif(!1,"pathStr["+r+"/"+h.length+"]: "+a+" --\x3e "+o)}this.setPath(o,!1),this.appendTailHead(this.getEdgeHead(),!0,o),this.appendTailHead(this.getEdgeTail(),!1,o),this.addEventListeners()}setPath(t,n=!1){let i,s=null;if(this.html.setAttribute("stroke",(s=this.isHighlighted?this.logic.edgeStyleHighlight:this.isSelected?this.logic.edgeStyleSelected:this.logic.edgeStyleCommon).color),this.html.setAttribute("stroke-width",""+s.width),this.shadow.setAttribute("stroke-width",""+(s.width+e.shadowWidthIncrease)),N.j.clear(this.shell),this.shell.appendChild(this.html),this.shell.appendChild(this.shadow),N.j.pif(n,"edgeHead:",this.edgeHead,"tail:",this.edgeTail),this.html.setAttributeNS(null,"d",t),this.shadow.setAttributeNS(null,"d",t),this.isSelected){for(this.startNode.show(),i=0;i<this.midNodes.length;i++)this.midNodes[i].show();this.endNode.show()}else if(this.isHighlighted){for(this.startNode.hide(),i=0;i<this.midNodes.length;i++)this.midNodes[i].show();this.endNode.hide()}else{for(this.startNode.hide(),i=0;i<this.midNodes.length;i++)this.midNodes[i].hide();this.endNode.hide()}}addEventListeners(){const t=$(this.shell);t.off("click.pbar").on("click.pbar",e=>U.a.ChangePropertyBarContentClick(e,this)),t.off("mousedown.startSetMidPoint").on("mousedown.startSetMidPoint",t=>{const n=e.get(t);N.j.pe(!t,"unable to get edge of:",t.currentTarget),n.onMouseDown(t)}),t.off("mousemove.startSetMidPoint").on("mousemove.startSetMidPoint",t=>{e.getByHtml(t.target,!0).onMouseMove(t)}),t.off("click.addEdgePoint").on("click.addEdgePoint",t=>{e.get(t).onClick(t)}),t.find(".Edge").off("mouseover.cursor").on("mouseover.cursor",t=>{e.get(t).onMouseOver(t)}),t.find(".Edge").off("mouseenter.cursor").on("mouseenter.cursor",t=>{e.get(t).onMouseEnter(t)}),t.find(".Edge").off("mouseleave.cursor").on("mouseleave.cursor",t=>{e.get(t).onMouseLeave(t)})}onBlur(){let t;for(this.isSelected=!1,this.html.classList.remove("selected_debug"),N.j.arrayRemoveAll(e.selecteds,this),t=0;t<this.midNodes;t++)this.midNodes[t].hide();this.refreshGui()}getAllRealMidPoints(){const e=[];e.push(this.startNode);let t=0;for(;t<this.midNodes.length;)e.push(this.midNodes[t++]);return e.push(this.endNode),e}getAllFakePoints(e=!1){const t=this.html.getAttributeNS(null,"d");let n;const i=this.getAllRealMidPoints(),s=[];let l=0,r=0;const o=N.j.parseSvgPath(t);for(n=0;n<o.pts.length;n++){const a=new N.c(o.pts[n].x,o.pts[n].y);let u,c,h=null;N.j.pif(e,"getAllFakePoints() d:",t,"pt",a,"realMidPoints:",i,"index:",l,"match?",l>=i.length?"overflow":i[l].pos.equals(a)),0!==n&&n!==o.pts.length-1&&(u=c=!0),0!==n||N.j.isOnHorizontalEdges(a,this.start.getSize())||(u=!1,c=!0),0===n&&N.j.isOnHorizontalEdges(a,this.start.getSize())&&(u=!0,c=!1),n!==o.pts.length-1||N.j.isOnHorizontalEdges(a,this.end.getSize())||(u=!1,c=!0),n===o.pts.length-1&&N.j.isOnHorizontalEdges(a,this.end.getSize())&&(u=!0,c=!1);const d=i[l].getStartPoint(u,c);N.j.pif(e,a," =?= ",d,a.equals(d)),a.equals(d)&&(r++,h=i[l++]),s.push(new q(a,h))}if(r<2||r<i.length){const l=[],a=[];for(n=-1;++n<s.length;)l.push(s[n].pos.toString());for(n=-1;++n<i.length;)a.push(i[n].pos.toString());N.j.pw(e,"fallimento nell'assegnare fakepoints ai punti reali. Assegnati:"+r+" / "+a.length+"; fittizi trovati:",l," reali:",a,", parsedpts:",o,", path:",t)}return s}getBoundingMidPoints(e,t=null,n=!1,i=null){const s=i||this.getAllFakePoints(),l=this.getBoundingMidPointsFake(e,t,n,s);return{prev:l[0].getPreviousRealPt(s),next:l[1].getNextRealPt(s)}}getBoundingMidPointsFake(e,t=null,n=!1,i=null){const s=N.c.fromEvent(e),l=(this.shadow.getAttributeNS(null,"stroke-width"),this.getAllRealMidPoints(),i||this.getAllFakePoints());let r=0,o=null,a=null,u=Number.POSITIVE_INFINITY;if(l.length<=2)return null;for(;++r<l.length;){const e=l[r-1],t=l[r],n=s.distanceFromLine(e.pos,t.pos);n<u&&(o=e,a=t,u=n)}return[o,a]}getBoundingMidPointsStraight_OLD(t,n=!1){const i=N.c.fromEvent(t),s=this.startNode,l=0===this.midNodes.length?this.endNode:this.midNodes[0],r=0===this.midNodes.length?this.startNode:this.midNodes[this.midNodes.length-1],o=this.endNode,a=+this.shadow.getAttributeNS(null,"stroke-width");if(i.isInTheMiddleOf(s.pos,l.pos,a))return[s,l];if(o!==l&&i.isInTheMiddleOf(r.pos,o.pos,a))return[r,o];let u;for(u=0;u<this.midNodes.length;u++){const e=0===u?s:this.midNodes[u-1],t=this.midNodes[u];if(i.isInTheMiddleOf(e.pos,t.pos,a))return N.j.pe(null.midNodes.indexOf(e)+1!==null.midNodes.indexOf(t),"non consecutivi."),[e,t]}return console.log("clickedPt:",i,", start:",this.startNode.pos,", mids:",this.midNodes,", end:",this.endNode.pos),N.j.pe(!n,"bounding points not found:",t,this,"edge:",e.get(t)),null}onMouseLeave(e){let t;for(this.isHighlighted=!1,this.startNode.refreshGUI(null,!1),this.endNode.refreshGUI(null,!1),t=0;t<this.midNodes.length;t++)this.midNodes[t].refreshGUI(null,!1);this.refreshGui()}onMouseEnter(e){this.onMouseLeave(null),this.isHighlighted=!0,this.refreshGui()}onMouseMove(e){this.onMouseOver(e,!1)}onMouseOver(t,n=!1,i=!1){if(K.get().isAttached()||e.edgeChanging)return;const s=this.getAllFakePoints(),l=this.getBoundingMidPointsFake(t,null,n,s);if(!l||l.length<2)return;const r=l[0],o=l[1],a=r.getPreviousRealPt(s),u=o.getNextRealPt(s);N.j.pe(!a,"failed to get previousRealPt of point:",r,", all fakePoints:",s),N.j.pe(!u,"failed to get nextRealPt of point:",o,", all fakePoints:",s);let c,h=-1;switch(this.startNode.refreshGUI(null,!1),this.endNode.refreshGUI(null,!1),this.logic.edgeStyleCommon.style){default:c="help";break;case F.straight:c="select";break;case F.angular2:case F.angular3:case F.angular23Auto:c=r.pos.x===o.pos.x?"col-resize":r.pos.y===o.pos.y?"row-resize":"no-drop"}for(this.shadow.style.cursor=this.html.style.cursor=c;++h<this.midNodes.length;)this.midNodes[h].refreshGUI(null,!1);i&&N.j.cclear(),N.j.pif(i,"fake     pre: ",r,", next:",o),N.j.pif(i,"real     pre: ",a,", next:",u),a.refreshGUI(null,!0),u.refreshGUI(null,!0)}onClick(t){let n;for(this.isSelected=!0,e.selecteds.push(this),this.html.setAttributeNS(null,"stroke-width","5"),this.html.classList.add("selected_debug"),this.startNode.show(),N.j.pif(!1,"midnodes:",this.midNodes),n=0;n<this.midNodes;n++)this.midNodes[n].show(!1);this.endNode.show(),this.refreshGui(),U.a.ChangePropertyBarContentClick(t,this),t.stopPropagation()}onMouseDown(e){if(!this.isSelected)return;const t=this.getBoundingMidPoints(e),n=this.owner.toGraphCoord(new N.g(e.pageX,e.pageY));K.get().attach(this,n,this.midNodes.indexOf(t.prev))}onMouseUp(e){const t=this.midNodes.length,n=this.midNodes.indexOf(K.get());if(!this.isSelected)return;K.get().detach(!1);const i=this.midNodes.length;N.j.insertAt(this.midNodes,n,new G(this,K.get().pos)),N.j.pe(t!==this.midNodes.length,"size varied: "+t+" --\x3e "+i+" --\x3e "+this.midNodes.length+" --\x3e "+this.midNodes.length),this.refreshGui()}remove(){if(N.j.arrayRemoveAll(this.start.edgesStart,this),N.j.arrayRemoveAll(this.end.edgesEnd,this),N.j.arrayRemoveAll(e.all,this),!(this instanceof W)){const e=this.getIndex();N.j.pe(this.logic.edges[e]!==this,"deleting wrong edge."),this.logic.edges[e]=null}N.j.arrayRemoveAll(this.owner.edges,this),this.shell.parentNode.removeChild(this.shell),this.end=null,this.logic=null,this.tmpEnd=null,this.tmpEndVertex=null,this.endNode=null,this.midNodes=null,this.owner=null,this.start=null,this.startNode=null}unsetTarget(){const e=this.end;return e?(this.end=null,N.j.arrayRemoveAll(e.edgesEnd,this),e):null}setTarget(e){this.unsetTarget(),this.end=e,e&&e.edgesEnd.push(this)}getEdgeHead(){const t=this.logic instanceof _e?this.logic:null;let n=null;return t&&t.isContainment()&&(n=e.generateContainmentHead()),this instanceof W&&(n=e.generateGeneralizationHead()),n?(n.classList.add("Edge","EdgeHead"),this.edgeHead=n):this.edgeHead=null}getEdgeTail(){const t=this.logic instanceof _e?this.logic:null;let n=null;return t&&t.isContainment()&&(n=e.generateContainmentTail()),this instanceof W&&(n=e.generateGeneralizationTail()),n?(n.classList.add("Edge","EdgeTail"),this.edgeTail=n):this.edgeTail=null}mark(e,t="errorGeneric",n="red"){N.j.pe(!0,"IEdge.mark() todo.")}appendTailHead(e,t,n,i=!1){if(!e)return;i&&N.j.cclear();const s=n;let l,r,o,a;t?(r=n.length,l=n.lastIndexOf("L"),N.j.pe(-1===l,"the pathString have no L (but should have at least 2 points)"),-1===(l=n.lastIndexOf("L",l-1))&&(l=0)):(l=0,r=n.indexOf("L"),N.j.pe(-1===r,"the pathString have no L (but should have at least 2 points)"),-1===(r=n.indexOf("L",r+1))&&(r=n.length)),n=n.substring(l,r),N.j.pif(i,"pathStr: "+s+" --\x3e "+n,"onEnd ? ",t);const u=N.j.parseSvgPath(n).pts;N.j.pe(2!==u.length,"expected exactly 2 points, the pathStr got substringed for that.",u),t?(o=u[1],a=u[0]):(o=u[0],a=u[1]),this.owner.markg(o,!0,"red"),this.owner.markg(a,!0,"blue"),N.j.pif(i,"size of head: ",e,"pt1:",o,"pt2:",a,", pts:",u,n,s),this.appendEdgeOrTail(e,o,a)}appendEdgeOrTail(e,t,n,i=!1){const s=N.c.getM(t,n),l=N.j.getSvgSize(e),r=N.j.newSvg("g");r.appendChild(e);const o=this.html.nextElementSibling;if(o?this.shell.insertBefore(r,o):this.shell.appendChild(r),N.j.pif(!1,"size of head: ",l,"pt1:",t,"pt2:",n,"m:",s),s===Number.POSITIVE_INFINITY)e.setAttributeNS(null,"x",""+(t.x-l.w/2)),e.setAttributeNS(null,"y",""+(t.y-l.h));else if(s===Number.NEGATIVE_INFINITY)e.setAttributeNS(null,"y",""+t.y),e.setAttributeNS(null,"x",""+(t.x-l.w/2));else{const i=t.degreeWith(n,!0),s=new N.c(0,0),o=new N.c(0,0);e.style.zIndex="100",e.style.position="absolute",t.x<o.x&&t.y<o.y&&e.setAttributeNS(null,"fill","blue"),o.x=t.x-l.w*Math.cos(i),o.y=t.y-l.h*Math.sin(i),s.x=(t.x+o.x)/2,s.y=(t.y+o.y)/2;const a=N.j.RadToDegree(i)+90;r.setAttributeNS(null,"transform","rotate("+a+" "+s.x+" "+s.y+")"),e.setAttributeNS(null,"x",""+(s.x-l.w/2)),e.setAttributeNS(null,"y",""+(s.y-l.h/2))}}getIndex(){return this.logic.edges.indexOf(this)}}return e.selecteds=[],e.all=null,e.shadowWidthIncrease=7,e.edgeChangingStopTime=Date.now(),e.idToEdge={},e.edgeCount=0,e})();class W extends V{constructor(e,t=null,n=null){super(e,null,t,n)}canBeLinkedTo(e){return e&&this.logic!==e&&-1===e.extends.indexOf(this.logic)}}class q{constructor(e,t=null){this.pos=null,this.realPoint=null,this.pos=e,this.realPoint=t}link(e){this.realPoint=e}getPreviousRealPt(e,t=!0){let n=e.indexOf(this);for(N.j.pe(n<0,"the element must be inside the array. this:",this,", arr:",e,", index:",n),n+=t?1:0;--n>=0;)if(e[n].realPoint)return e[n].realPoint;return null}getNextRealPt(e,t=!0,n=!1){let i=e.indexOf(this);for(N.j.pe(i<0,"the element must be inside the array"),i-=t?1:0;++i<e.length;)if(N.j.pif(n,i+"/"+e.length+"]",e[i],"fittiziAll:",e),e[i].realPoint)return e[i].realPoint;return null}}let G=(()=>{class e{constructor(t,n,i=null){this.id=null,this.pos=null,this.html=null,this.edge=null,this.endPointOfVertex=null,this.isSelected=null,this.isHighlighted=null,this.edge=t,this.endPointOfVertex=i,N.j.pe(void 0===this.edge,"edge === undefined on EdgePoint constructor."),this.html=N.j.newSvg("circle"),this.id=e.ID++,t&&t.logic.linkToLogic(this.html),e.all[this.id]=this,this.html.dataset.EdgePointID=""+this.id,this.pos=new N.c(0,0),this.isSelected=!1,this.isHighlighted=!1,this.refreshGUI(),this.moveTo(n,!1),this.addEventListeners()}static getFromHtml(t){return e.all[t.dataset.EdgePointID]}follow(e=null){K.activeEP=this;const t=this.edge;this!==K.cursorFollower&&this===t.endNode&&(K.activeEP=null,U.a.linkVertexMouseDown(e,t))}unfollow(){console.log("un-follow"),K.activeEP=null}addEventListeners(){const t=$(this.html);t.off("mousedown.ep").on("mousedown.ep",t=>{e.getFromHtml(t.currentTarget).onMouseDown(t)}),t.off("mouseup.ep").on("mouseup.ep",t=>{e.getFromHtml(t.currentTarget).onMouseUp(t)}),t.off("mouseenter.ep").on("mouseenter.ep",t=>{e.getFromHtml(t.currentTarget).onMouseEnter(t)}),t.off("mouseleave.ep").on("mouseleave.ep",t=>{e.getFromHtml(t.currentTarget).onMouseLeave(t)}),t.off("contextmenu.deleteEdgePoint").on("contextmenu.deleteEdgePoint",e=>(this.detach(),!1))}isAttached(){return null!==this.edge}detach(e=!0){this.isAttached()&&(N.j.arrayRemoveAll(this.edge.midNodes,this),this.html&&this.html.parentNode&&this.html.parentNode.removeChild(this.html),e&&this.edge.refreshGui(),this.edge=null,this.unfollow())}onClick(e){}onMouseEnter(e){this.refreshGUI(null,!0)}onMouseLeave(e){this.refreshGUI(null,!1)}onMouseDown(e){this.refreshGUI(!0),this.follow(e),e.preventDefault(),e.stopPropagation()}onMouseUp(e){this.refreshGUI(!1),e.stopPropagation(),this.unfollow()}getCenter(e=!1,t=!1){return this.edge.owner.fitToGrid(this.pos,!0,!1,e,t)}getStartPoint(e=!0,t=!0){return this.getCenter(e,t)}getEndPoint(e=!0,t=!0){return this.getCenter(e,t)}moveTo(e,t,n=!0){if(!this.edge)return;const i=n?0:isNaN(-this.html.r)?0:-this.html.r;N.j.pe(!this.pos||null==this.pos.x,"this.pos.x undefined",this.pos),N.j.pe(!e||null==e.x,"pos.x undefined",e),this.pos.x=e.x+i,this.pos.y=e.y+i,this.html.setAttribute("cx",""+this.pos.x),this.html.setAttribute("cy",""+this.pos.y),this.show(),t&&this.edge.refreshGui()}show(e=!1){const t=this.html.parentNode;t&&t.removeChild(this.html),this.edge.shell.appendChild(this.html),this.html.style.display="block",this.refreshGUI(null,null,e)}hide(){this.html.style.display="none"}refreshGUI(e=null,t=null,n=!1){null!==e&&(this.isSelected=e),null!==t&&(this.isHighlighted=t),this.isSelected?this.styleSelected():this.isHighlighted?this.styleHighlight():this.styleCommon(n)}styleCommon(e=!1){if(!this.isAttached())return void N.j.pw(e,"not attached",this);const t=this.edge.logic.edgeStyleCommon.edgePointStyle;e&&this.html.setAttributeNS(null,"debug","styleCommon"),this.html.setAttributeNS(null,"r",""+t.radius),this.html.setAttributeNS(null,"stroke-width",""+t.strokeWidth),this.html.setAttributeNS(null,"stroke",t.strokeColor),this.html.setAttributeNS(null,"fill",t.fillColor)}styleHighlight(){if(!this.isAttached())return;const e=this.edge.logic.edgeStyleHighlight.edgePointStyle;this.html.setAttributeNS(null,"r",""+e.radius),this.html.setAttributeNS(null,"stroke-width",""+e.strokeWidth),this.html.setAttributeNS(null,"stroke",e.strokeColor),this.html.setAttributeNS(null,"fill",e.fillColor)}styleSelected(){if(!this.isAttached())return;const e=this.edge.logic.edgeStyleSelected.edgePointStyle;this.html.setAttributeNS(null,"r",""+e.radius),this.html.setAttributeNS(null,"stroke-width",""+e.strokeWidth),this.html.setAttributeNS(null,"stroke",e.strokeColor),this.html.setAttributeNS(null,"fill",e.fillColor)}}return e.ID=0,e.all={},e})(),K=(()=>{class e extends G{constructor(){super(null,new N.c(0,0)),this.endPointOfVertex=void 0,this.html.setAttributeNS(null,"fill","purple"),this.html.setAttributeNS(null,"stroke","purple"),this.html.setAttributeNS(null,"r","5"),N.j.eventiDaAggiungereAlBody("cursor follower");const t=$(document.body);t.off("mousemove.cursorFollowerEdgePoint_Move").on("mousemove.cursorFollowerEdgePoint_Move",t=>{N.j.pif(!1,"mousemove.cursorFollowerEdgePoint_Move()");const n=e.activeEP;if(!n||!n.isAttached())return;const i=R.b.status.getActiveModel().graph;n.moveTo(i.toGraphCoord(new N.g(t.pageX,t.pageY)),!0),n.edge.refreshGui(!0)}),t.off("click.cursorFollowerEdgePoint_Detach").on("click.cursorFollowerEdgePoint_Detach",t=>{e.get().detach()}),this.addEventListeners()}static get(){return this.cursorFollower||(this.cursorFollower=new e),this.cursorFollower}onMouseUp(e){this.isAttached()&&this.edge.onMouseUp(e)}moveTo(e,t,n=!0){super.moveTo(e,t,n),this.isAttached()&&t&&this.edge.refreshGui()}isAttached(){return null!==this.edge}attach(e,t,n=Number.POSITIVE_INFINITY){this.detach(),e.logic.linkToLogic(this.html),this.graph=e.owner,n<0&&(n=-1),null!==n&&n!==Number.POSITIVE_INFINITY||(n=this.edge.midNodes.length),this.edge=e,this.html.dataset.modelPieceID=""+this.edge.logic.id,N.j.insertAt(this.edge.midNodes,n+1,this),t&&this.moveTo(t,!1),this.graph.container.appendChild(this.html),this.follow(),this.refreshGUI(!0)}addEventListeners(){super.addEventListeners(),$(this.html).off("mouseup.makeEdgePoint").on("mouseup.makeEdgePoint",t=>{e.get().onMouseUp(t)})}}return e.cursorFollower=null,e.activeEP=null,e})();class Y{constructor(e=null,t=null,n=null,i=null){this.radius=null,this.strokeWidth=null,this.strokeColor=null,this.fillColor=null,this.radius=e,this.strokeColor=n,this.strokeWidth=t,this.fillColor=i}}class J{constructor(e=F.angular23Auto,t=2,n="#ffffff",i){this.style=null,this.width=null,this.color=null,this.edgePointStyle=null,this.edgePointStyle=i,this.style=e,this.width=t,this.color=n}clone(){return new J(this.style,this.width,this.color,this.edgePointStyle)}}class X{constructor(e){this.model=null,this.styleEditor=null,this.model=e,this.selectedModelPiece=null;const t=this.get$root();this.container=t.find(".propertySidebarCurrentContent")[0],this.templateContainer=t.find(".propertySidebarTemplates")[0],N.j.pe(!this.container,"property bar shell not found in: ",t),N.j.pe(!this.templateContainer,"property bar template shell not found in: ",t),this.styleEditor=new Q.a(this,t)}templateMinimizerClick(e){let t=e.currentTarget;for(;!t.classList.contains("wastemplate");)t=t.parentNode;t.classList.add("minimized"),$(t).off("click.maximizeTemplate").on("click.maximizeTemplate",e=>{X.templateMaximizerClick(e)}).on("contextmenu",e=>{this.subTemplateShow(e)}),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()}static templateMaximizerClick(e){e.currentTarget.classList.remove("minimized")}static makeVisibilitySelector(e,t){null===e&&(e=document.createElement("select")),N.j.clear(e);const n=document.createElement("optgroup");n.label="Access Modifier",e.appendChild(n);let i=!1;for(const s in Ae){if(!Ae[s])continue;const e=Ae[s],l=document.createElement("option");l.value=e,l.innerHTML=e,t===e&&(l.selected=!0,i=!0),n.appendChild(l)}return N.j.pe(t&&!i,"OperationVisibility selected option not found; optgrp:",n,"OperationVisibility:",Ae,", searchedVal:",t),e}subTemplateShow(e){const t=e.currentTarget;if(e.preventDefault(),e.stopPropagation(),t.classList.contains("list"))return!1;const n=_.getLogic(t);return this.show(n,n.getHtmlOnGraph(),null),!1}removeOthers(e,t){const n=".model, .package, .class, .enum, .attribute, .reference, .operation, .parameter, .literal",i=n.indexOf(t);N.j.pe(-1===i,"invalid selector to keep:",t,n),e.find(n).not(t).remove()}getTemplate(e,t="propertySidebarTemplates",n=null){const i=N.j.cloneHtml(this.templateContainer);e.linkToLogic(i),i.classList.add("linkedWith_"+N.j.getTSClassName(e)),i.classList.remove("propertySidebarTemplates"),i.classList.remove("template"),i.classList.add("wastemplate");const s=$(i);let l;s.find(".replaceVarOn").each((t,n)=>{N.j.replaceVars(e,n,!1)});const r=e.getModelRoot();return l=e instanceof w||r.isMM()?e.name:e.metaParent.name,s.find("input.name").val(l).off("change.pbar").on("change.pbar",t=>{const n=t.currentTarget;console.log("value:",n.value,"inputHtml:",n,"evt:",t),n.value=e.setName(n.value,!0)}),s.find(".replaceVarOn").each((t,n)=>{N.j.replaceVars(e,n,!1)}),s.find((r.isM()?".m1":".m2")+"disable").attr("disabled"),s.find((r.isM()?".m1":".m2")+"hide").remove(),s}get$root(){let e=this.model.graph.container;for(;!e.classList.contains("UtabContent");)e=e.parentNode;const t=$(e).find(".propertyBarContainer");return N.j.pe(1!==t.length,"pbar container not found:",t),t}updateRaw(e=null){const t=this.get$root(),n=this.rawTextArea=t.find(".rawecore")[0];n&&(n.value=e.generateModelString())}show(e=null,t,n,i=!0){if(!i&&this.selectedModelPiece===e&&this.selectedModelPieceIsEdge===n){if(t===this.clickedLevel)return;return this.clickedLevel=t=t||this.clickedLevel,void(n?this.styleEditor.showE(e,n):this.styleEditor.show(e,t))}if(this.selectedModelPiece=e=e||this.selectedModelPiece,this.clickedLevel=t=t||this.clickedLevel,n?this.styleEditor.showE(e,n):this.styleEditor.show(e,t),N.j.pe(!(e instanceof _),"invalid parameter type:",N.j.getTSClassName(e),e),this.selectedModelPieceIsEdge=n,!e)return;N.j.clear(this.container),e instanceof w?this.container.append(this.getM_I(e)):e instanceof le?this.container.append(this.getP_I(e)):e instanceof ce?this.container.append(this.getC_I(e)):e instanceof fe?this.container.append(this.getE_I(e)):e instanceof ke?this.container.append(this.getA_I(e)):e instanceof _e?this.container.append(this.getR_I(e)):e instanceof Ie?this.container.append(this.getO(e)):e instanceof Oe?this.container.append(this.getParam(e)):e instanceof ye?this.container.append(this.getEL(e)):N.j.pe(!0,"invalid ModelPiece type instance: ",e),this.updateRaw(e);const s=$(this.container);for(ge.updateTypeSelectors(s),s.find(".minimizer").off("click.minimizeTemplate").on("click.minimizeTemplate",e=>{this.templateMinimizerClick(e)});s.find(".wastemplate:has(>.content:not(:has(*)))").remove().length;);const l=(e,t)=>{const n=t.parentElement,i=t.firstChild,s=($(i).find(">.content"),n.parentElement);s.insertBefore(i,n),s.removeChild(n)};for(;s.find(".content:has(>.wastemplate:only-child)").each(l).length;);s.find(".minimizer.single").on("contextmenu",e=>{this.subTemplateShow(e)});const r=s.find(">.wastemplate>.content")[0];for(N.j.clear(this.container);r.firstChild;)this.container.append(r.firstChild)}getM_I(e){const t=this.getTemplate(e);this.removeOthers(t,".model");const n=t.find("input.namespace")[0],i=t.find("input.uri")[0];n.value=e.namespace(),i.value=e.uri(),$(i).off("change.pbar").on("change.pbar",t=>{e.uri(i.value)}),$(n).off("change.pbar").on("change.pbar",t=>{e.namespace(n.value)});const s=t.find(".packageList")[0];let l;for(l=0;l<e.childrens.length;l++)s.appendChild(this.getP_I(e.childrens[l]));return t[0]}getP_I(e){const t=this.getTemplate(e);this.removeOthers(t,".package");const n=t.find(".classList")[0],i=t.find(".enumList")[0];let s;for(s=0;s<e.classes.length;s++)n.appendChild(this.getC_I(e.classes[s]));for(s=0;s<e.enums.length;s++)i.appendChild(this.getE_I(e.enums[s]));return t[0]}getC_I(e){const t=this.getTemplate(e);let n;this.removeOthers(t,".class");const i=t.find(".attributeList")[0],s=t.find(".referenceList")[0],l=t.find(".operationList")[0];for(n=0;n<e.attributes.length;n++)i.appendChild(this.getA_I(e.attributes[n]));for(n=0;n<e.references.length;n++)s.appendChild(this.getR_I(e.references[n]));const r=e.getOperations();for(n=0;n<r.length;n++)l.appendChild(this.getO(r[n]));if(!(e instanceof pe))return t[0];const o=e,a=t.find("input.isRoot")[0];return console.log("this:",e),a.disabled=a.checked=o.isRoot(),$(a).off("change.pbar").on("change.pbar",e=>{const n=e.currentTarget;if(!n.checked)return n.checked=!0,t[0];o.setRoot(n.checked),o.refreshGUI(),this.refreshGUI()}),t[0]}getE_I(e){const t=this.getTemplate(e);let n;this.removeOthers(t,".enum");const i=t.find(".literalList")[0];for(n=0;n<e.childrens.length;n++)i.appendChild(this.getEL(e.childrens[n]));return t[0]}setClassChild(e,t){let n=e.getUpperbound(),i=e.getLowerbound();const s=t.find("input.upperbound")[0],l=t.find("input.lowerbound")[0];s&&l&&(null===n?s.placeholder="1":s.value=""+n,null===i?l.placeholder="1":l.value=""+i,$(s).off("change.pbar").on("change.pbar",t=>{e.setUpperbound(+t.currentTarget.value),e.refreshGUI()}),$(l).off("change.pbar").on("change.pbar",t=>{e.setLowerbound(+t.currentTarget.value),e.refreshGUI()}))}getR_I(e){const t=this.getTemplate(e);this.removeOthers(t,".reference"),this.setClassChild(e,t);const n=t.find("input.referenceContainment")[0];n.checked=e.isContainment();const i=t.find("select")[0];if(e instanceof Ce)return t[0];const s=e;return $(i).off("change.pbar").on("change.pbar",e=>{s.type.changeType(e.currentTarget.value)}),$(n).off("change.pbar").on("change.pbar",e=>{s.setContainment(e.currentTarget.checked),s.refreshGUI()}),t[0]}getA_I(e){const t=this.getTemplate(e);if(this.removeOthers(t,".attribute"),this.setClassChild(e,t),e instanceof Se)return t[0];const n=e;return t.find(".attributeValue").val(n.getValueStr()).off("change.pbar").on("change.pbar",e=>{n.setValueStr(e.currentTarget.value),n.refreshGUI()}),t[0]}getO(e){const t=this.getTemplate(e);let n;this.removeOthers(t,".operation"),this.setClassChild(e,t);const i=t.find(".parameterList")[0],s=t.find(".visibilitySelector")[0];X.makeVisibilitySelector(s,e.visibility);let l=this.getParam(e,!0);const r=$(l).find("input.name")[0];for(r.placeholder="Return type.",r.disabled=!0,r.value="",i.prepend(l),n=0;n<e.childrens.length;n++)l=this.getParam(e.childrens[n],!1),i.appendChild(l);return t.find("input.exceptions").val(e.exceptionsStr).off("change.pbar").on("change.pbar",t=>{const n=t.currentTarget;n.value=e.exceptionsStr=n.value}),t[0]}getEL(e){const t=this.getTemplate(e);return this.removeOthers(t,".literal"),this.setClassChild(e,t),t.find(".value").val(e.ordinal).off("change.pbar").on("change.pbar",t=>{e.ordinal=+t.currentTarget.value,e.refreshGUI()}),t.find("input.literal").val(e.literal).off("change.pbar").on("change.pbar",t=>{e.setLiteral(t.currentTarget.value),e.refreshGUI()}),t.find(".name").val(e.name).off("change.pbar").on("change.pbar",t=>{e.setName(t.currentTarget.value),e.refreshGUI()}),t[0]}refreshGUI(){this.show(this.selectedModelPiece,this.clickedLevel,this.selectedModelPieceIsEdge)}getParam(e,t=!1){const n=this.getTemplate(e);this.removeOthers(n,".parameter"),this.setClassChild(e,n);const i=n.find("select")[0];i.dataset.void=t?"true":"false";const s=n.find("input.ordered")[0],l=n.find("input.unique")[0];return s.checked=e.ordered,l.checked=e.unique,$(i).off("change.pbar").on("change.pbar",t=>{e.setType(t.currentTarget.value,null,!0)}),n[0]}onShow(e=!1){this.styleEditor.onHide()}onHide(){}}var Z=n("jl55"),Q=n("6Kg9"),ee=n("/WQJ");let te=(()=>{class e extends w{constructor(e){super(null),this.parse(e,!0)}conformability(e,t=null,n=!1){return 1}getAllClasses(){return super.getAllClasses()}getAllReferences(){return super.getAllReferences()}generateModel(){}getPrefix(){return"mmm"}getPrefixNum(){return"m3"}isM1(){return!1}isM2(){return!1}isM3(){return!0}parse(e,t){this.name="Meta-Metamodel",new re(this,null)}refreshGUI_Alone(e=!0){}getDefaultPackage(){return 0!==this.childrens.length?this.childrens[0]:(N.j.ArrayAdd(this.childrens,new re(this,null)),this.childrens[0])}getPackage(){return this.getDefaultPackage()}getClass(e=null,t=!0,n=!0){return this.getDefaultPackage().classes[0]}getAttribute(){return this.getClass().attributes[0]}getReference(){return this.getClass().references[0]}getOperation(){return this.getClass().getOperations()[0]}getParameter(){return this.getOperation().childrens[0]}duplicate(e="_Copy"){return N.j.pe(!0,"invalid operation: m3.duplicate();"),this}}return e.emptyMetaMetaModel="empty Meta-MetaModel: todo",e})();class ne extends _{constructor(e,t){super(e,null),this.parent&&(N.j.arrayRemoveAll(this.parent.childrens,this),this.parent.annotations.push(this)),this.parse(t)}duplicate(e,t){}fullname(){return this.parent.fullname()+"//"+this.name}setReferencesStr(){}prepareSerialize(){this.setReferencesStr()}generateModel(){const e={};let t;this.prepareSerialize();const n=[];for(t=0;t<this.childrens.length;t++)n.push(this.childrens[t].generateModel());return N.f.write(e,C.source,this.name),N.f.write(e,C.references,this.referencesStr),N.f.write(e,C.details,n),e}getVertex(){return this.parent.getVertex()}parse(e,t){let n;for(n in this.childrens=[],e||(e={}),e){const t=e[n];switch(n){default:N.j.pe(!0,"unexpected field in EAnnotation:  "+n+" => |"+t+"|");break;case C.details:case C.references:case C.source:}}this.referencesStr=N.f.read(e,C.source,"#/"),this.setName(N.f.read(e,C.name,"EAnnotation_1"));const i=N.f.getDetails(e);for(let s=0;s<i.length;s++)new Me(this,i[s])}refreshGUI_Alone(e){const t=this.getVertex();t&&t.refreshGUI()}}let ie=(()=>{class e extends w{constructor(e,t){super(t),this.parse(e,!0)}getAllClasses(){return super.getAllClasses()}getAllReferences(){return super.getAllReferences()}getClass(e,t=!0,n=!0){return super.getClass(e,t,n)}getClassFromEcoreStr(e){N.j.pe(!e||0!==e.indexOf(ge.classTypePrefix),"getClassFromString(): not a ecore class name:",e);const t=this.getAllClasses();let n;for(n=0;n<t.length;n++)if(t[n].getEcoreTypeName()===e)return t[n];return null}getEcoreStr_Class_Dictionary(){const e=this.getAllClasses();let t;const n={};for(t=0;t<e.length;t++)n[e[t].getEcoreTypeName()]=e[t];return n}getClassByNameSpace(e,t=!1,n=!1){const i=this.getAllClasses();let s;t&&(e=e.toLowerCase());let l=null,r=e.substr(e.lastIndexOf(":")+1);for(t||(r=r.toLowerCase()),s=0;s<i.length;s++){const n=i[s];(t?n.name:n.name.toLowerCase())===r&&(l=n);let o=n.getNamespaced();if(o&&(t&&(o=o.toLowerCase()),o===e))return n}return N.j.pe(!l,"class |"+e+"| not found. classArr:",i),l}parse(e,t=!0){t&&(this.childrens=[]);const n=N.f.getChildrens(e),i=N.f.getAnnotations(e);let s;for(s=0;s<i.length;s++){const e=i[s];t?new ne(this,e):N.j.pe(!0,"Non-destructive m2-model parse: to do")}for(s=0;s<n.length;s++){const e=n[s];t?new oe(this,e):N.j.pe(!0,"Non-destructive m2-model parse: to do")}}generateModel(){const e=[];let t;for(t=0;t<this.childrens.length;t++)e.push(this.childrens[t].generateModel());const n=new N.f(null);return n[x.ecoreEPackage]=e,n}getDefaultPackage(){return 0!==this.childrens.length?this.childrens[0]:(N.j.ArrayAdd(this.childrens,new oe(this,null)),this.childrens[0])}conformability(e,t,n){return 1}getPrefix(){return"mm"}getPrefixNum(){return"m2"}isM1(){return!1}isM2(){return!0}isM3(){return!1}duplicate(t="_Copy"){const n=new e(null,null);return n.copy(this),n.refreshGUI(),n}}return e.emptyModel="{}",e.emptyModelOld='{ "ecore:EPackage": {\n    "@xmlns:xmi": "http://www.omg.org/XMI",\n    "@xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance",\n    "@xmlns:ecore": "http://www.eclipse.org/emf/2002/Ecore",\n    "@xmi:version": "2.0",\n    "eClassifiers": []  }}',e})(),se=(()=>{class e extends w{constructor(e,t){super(t),this.classRoot=null,this.parse(e,!0)}getClassRoot(){if(this.classRoot)return this.classRoot;const e=this.getAllClasses();return e.length&&N.j.pw(!0,"Failed to get m1 class root.<br>You need to select a root class in M1's structured editor",this),e.length&&e[0]&&(e[0].setRoot(!0),N.j.ps(!0,"Class root automatically selected.")),null}parse(e,t,n=null){let i;for(i in n||(n=R.b.status.mm),N.j.pe(!n,"parsing a model requires a metamodel linked"),N.j.pw(e===""+e,"ModelPiece.parse() parameter must be a parsed ECORE/json. autofixed."),e===""+e&&(e=JSON.parse(e+"")),t&&(this.childrens=[]),e){if(!e.hasOwnProperty(i))continue;const t=this.metaParent.getClassByNameSpace(i,!1,!0),n=e[i];new pe(this.getDefaultPackage(),n,t)}}getAllClasses(){return super.getAllClasses()}getAllReferences(){return super.getAllReferences()}getClass(e,t=!0,n=!0){return super.getClass(e,t,n)}generateModel(){const t={},n=this.getClassRoot();return n?(t[n.metaParent.getNamespaced()]=n.generateModel(!0),t):e.emptyModel}getDefaultPackage(){return 0!==this.childrens.length?this.childrens[0]:(new ae(this,null,this.metaParent.getDefaultPackage()),this.childrens[0])}conformability(e,t,n){return N.j.pw(!0,"m1.conformability(): to do."),1}getPrefix(){return"m"}getPrefixNum(){return"m1"}isM1(){return!0}isM2(){return!1}isM3(){return!1}duplicate(t="_Copy"){const n=new e(null,null);return n.copy(this),n.refreshGUI(),n}}return e.emptyModel="{}",e})();class le extends _{constructor(e,t,n){super(e,n),this.classes=[],this.enums=[]}addEmptyEnum(){const e=new fe(this,null);if(!(this instanceof re)&&R.b.status.loadedLogic)return e.generateVertex(),ge.updateTypeSelectors(null,!1,!0,!1),e}fullname(){return this.name}getVertex(){}getEnum(e,t=!1,n=!0,i=!0){let s;for(t||(e=e.toLowerCase()),s=0;s<this.enums.length;s++){let n=this.enums[s].name;if(t||(n=n.toLowerCase()),e===n)return this.enums[s]}return null}getClass(e,t=!1,n=!0,i=!0){let s;for(t||(e=e.toLowerCase()),s=0;s<this.classes.length;s++){let n=this.classes[s].name;if(t||(n=n.toLowerCase()),e===n)return this.classes[s]}return null}duplicate(e="_Copy",t=null){N.j.pe(!0,"Package duplicate to do.")}refreshGUI_Alone(e){let t;for(t=0;t<this.childrens.length;t++)this.childrens[t].refreshGUI_Alone(e)}}class re extends le{constructor(e,t){super(e,t,null),this.parse(t,!0)}getClass(e,t=!1,n=!0,i=!0){return super.getClass(e,t,n,i)}addEmptyClass(e){return new he(this,null)}generateModel(){}parse(e,t=!0){this.name="Package",this.addEmptyClass(null),this.addEmptyEnum(),this.enums[0].setName("Enumeration")}refreshGUI_Alone(e=!0){}}class oe extends le{constructor(e,t){super(e,t,R.b.status.mmm.getPackage()),this.parse(t,!0)}getClass(e,t=!1,n=!0,i=!0){return super.getClass(e,t,n,i)}addEmptyClass(){const e=new de(this,null);return R.b.status.loadedLogic&&e.generateVertex(),console.log("addEmptyClass(); package:",this,"classe:",e),ge.updateTypeSelectors(null,!1,!1,!0),e}parse(e,t=!0){const n=N.f.read(e,E.namee,"defaultPackage");n&&this.setName(n);const i=N.f.read(e,E.nsURI,null),s=N.f.read(e,E.nsPrefix,null);this.parent.uri(i),this.parent.namespace(s);const l=N.f.getChildrens(e);let r;for(t&&(this.childrens=[]),r=0;r<l.length;r++){const t=l[r];if(t)switch(t[S.xsitype]){default:N.j.pe(!0,"unexpected xsitype:",t[S.xsitype]," found in jsonfragment:",t,", in json:",e," package:",this);break;case"ecore:EClass":new de(this,t);break;case"ecore:EEnum":new fe(this,t)}else N.j.pw(!0,"invalid m2Package in ecore input. found a null classifier, it will be ignored.")}}generateModel(){const e=[],t=[];let n;for(n=0;n<this.classes.length;n++)e.push(this.classes[n].generateModel());for(n=0;n<this.enums.length;n++)t.push(this.enums[n].generateModel());const i=Array.prototype.concat.call(e,t),s=new N.f(null);return s[E.xmiversion]="2.0",s[E.xmlnsxmi]="http://www.omg.org/XMI",s[E.xmlnsxsi]="http://www.w3.org/2001/XMLSchema-instance",s[E.xmlnsecore]="http://www.eclipse.org/emf/2002/Ecore",s[E.namee]=this.name,s[E.nsURI]=this.parent.uri(),s[E.nsPrefix]=this.getModelRoot().namespace(),s[E.eClassifiers]=i,s}}class ae extends le{constructor(e,t,n){super(e,t,n),this.parse(t,!0)}getClass(e,t=!1,n=!0,i=!0){return super.getClass(e,t,n,i)}addEmptyClass(e){const t=new pe(this,null,e);return R.b.status.loadedLogic&&t.generateVertex(),console.log("addEmptyClass(); package:",this,"; metaVersion: ",e,"classe:",t),t}generateModel(){return this.parent.generateModel()}parse(e,t=!0,n=null,i=null){}}class ue extends _{constructor(){super(...arguments),this.vertex=null}static defaultSidebarHtml(){return N.j.toHtml('<div class="sidebarNode class"><p class="sidebarNodeName">$##name$</p></div>')}generateVertex(){if(this.vertex)return;const e=this.getLastViewWith("vertexSize");return this.vertex=new U.a(this,e?e.vertexSize:null)}getSidebarHtml(){return this.sidebarHtml?this.sidebarHtml:ue.defaultSidebarHtml()}setName(e,t=!1){return super.setName(e,t),this.parent&&this.getModelRoot(),ge.updateTypeSelectors(null,!1,!0,!0),this.name}getVertex(){return!this.shouldBeDisplayedAsEdge()&&null===this.vertex&&R.b.status.loadedLogic&&this.generateVertex(),this.vertex}refreshGUI_Alone(e){R.b.status.loadedLogic&&this.getVertex().refreshGUI()}getEcoreTypeName(){return this instanceof fe||de?ge.classTypePrefix+this.name:ge.classTypePrefix+this.parent.name}}class ce extends ue{constructor(e,t){super(e,t),this.referencesIN=[],this.shouldBeDisplayedAsEdgeVar=!1,this.edges=[],this.parent&&N.j.ArrayAdd(this.parent.classes,this),this.edgeStyleCommon=new J(F.straight,2,"#ffffff",new Y(5,2,"#ffffff","#000000")),this.edgeStyleHighlight=new J(F.straight,4,"#ffffff",new Y(5,2,"#ffffff","#0077ff")),this.edgeStyleSelected=new J(F.straight,4,"#ffbb22",new Y(5,2,"#ffffff","#ff0000"))}fullname(){return this.parent.name+"."+this.name}generateEdge(){return N.j.pe(!0,"IClass.generateEdge() todo."),null}canBeLinkedTo(e){return this.shouldBeDisplayedAsEdge(),!1}getEdges(){return this.edges}delete(){const e=this.parent;super.delete(),e&&N.j.arrayRemoveAll(e.classes,this);const t=this.getReferencePointingHere();let n;for(n=0;n<t.length;n++)t[n].delete();if(this.shouldBeDisplayedAsEdge()){const e=N.j.ArrayCopy(this.getEdges(),!1);for(n=0;n<e.length;n++)e[n].remove()}else this.getVertex().remove();ge.updateTypeSelectors(null,!1,!1,!0)}refreshGUI_Alone(e){if(R.b.status.loadedLogic)if(this.shouldBeDisplayedAsEdge()){this.vertex&&(this.vertex.remove(),this.vertex=null);const t=this.getEdges();let n;for(n=0;n<t.length;n++)t[n].refreshGui(e)}else this.getVertex().refreshGUI()}getReferencePointingHere(){return this.referencesIN}getAttribute(e,t=!1){let n;for(t||(e=e.toLowerCase()),n=0;n<this.attributes.length;n++){const i=this.attributes[n].name;if((t?i:i.toLowerCase())===e)return this.attributes[n]}return null}getReference(e,t=!1){let n;for(t||(e=e.toLowerCase()),n=0;n<this.references.length;n++){const i=this.references[n].name;if(console.log("find IReference["+i+"] =?= "+e+" ? "+(t?i:i.toLowerCase())===e),(t?i:i.toLowerCase())===e)return this.references[n]}return null}copy(e,t="_Copy",n=null){let i;for(super.copy(e,t,n),this.attributes=[],this.references=[],this.edges=[],this.edgeStyleCommon=e.edgeStyleCommon.clone(),this.edgeStyleHighlight=e.edgeStyleHighlight.clone(),this.edgeStyleSelected=e.edgeStyleSelected.clone(),i=0;i<this.childrens.length;i++){const e=this.childrens[i];e instanceof _e?this.references.push(e):e instanceof ke?this.attributes.push(e):N.j.pe(!0,"found class.children not reference neither attribute: ",e)}}getOperations(){if(this instanceof he){let e;for(e=0;e<this.childrens.length;e++){const t=this.childrens[e];if(t instanceof Ie)return[t]}N.j.pe(!0,"failed to find m3Operation")}return this instanceof de?this.operations:this instanceof pe?this.metaParent.operations:void N.j.pe(!0,"unexpected class:"+N.j.getTSClassName(this)+": ",this)}}class he extends ce{constructor(e,t=null){super(e,null),this.parse(t,!0)}duplicate(e,t){return N.j.pe(!0,"Invalid operation: m3Class.duplicate()"),this}generateModel(){return N.j.pe(!0,"Invalid operation: m3Class.generateModel()"),this}parse(e,t){this.name="Class",this.childrens=[],this.attributes=[],this.references=[],this.instances=[],new Ee(this,null),new we(this,null);const n=new Ie(this,null);new Oe(n,null)}refreshGUI_Alone(e=!0){}}class de extends ce{constructor(e,t){super(e,R.b.status.mmm.getAllClasses()[0]),this.operations=[],this.extends=[],this.instances=[],(e||t)&&this.parse(t,!0)}getModelRoot(){return super.getModelRoot()}getNamespaced(){const e=this.getModelRoot().namespace();return this instanceof se?e:e+":"+this.name}parse(e,t){let n;for(n in this.extendEdges=[],this.setName(N.f.read(e,S.namee,"Class_1"),!1),e)switch(n){default:N.j.pw(!0,"unexpected field in M2Class.parse() |"+n+"|",e);break;case S.instanceTypeName:case S.eSuperTypes:case S.xsitype:case S.eOperations:case S.eStructuralFeatures:case S.abstract:case S.interface:case S.namee:}this.instanceTypeName=N.f.read(e,S.instanceTypeName,""),this.isInterface="true"===N.f.read(e,S.interface,"false"),this.isAbstract="true"===N.f.read(e,S.abstract,"false");let i=N.f.read(e,S.eSuperTypes,null);this.extendsStr=i?i.split(" "):[];const s=N.f.getChildrens(e),l=N.f.getChildrens(e,!1,!0);let r,o;for(t&&(this.childrens=[],this.attributes=[],this.references=[],this.operations=[]),r=0;r<s.length;r++){const e=s[r],n=N.f.read(e,A.xsitype);switch(N.j.pe(!t,"Non-destructive class parse: to do"),n){default:N.j.pe(!0,"unexpected xsi:type: ",n," in feature:",e);break;case"ecore:EAttribute":o=new Se(this,e),N.j.ArrayAdd(this.attributes,o);break;case"ecore:EReference":o=new xe(this,e),N.j.ArrayAdd(this.references,o)}N.j.ArrayAdd(this.childrens,o)}for(r=0;r<l.length;r++){const e=new Ie(this,l[r]);N.j.ArrayAdd(this.operations,e),N.j.ArrayAdd(this.childrens,e)}}generateModel(){const e=[],t=[],n={};let i="";const s=N.j.getStartSeparatorKey();let l;for(l=0;l<this.extends.length;l++)i+=N.j.startSeparator(s," ")+this.extends[l].getEcoreTypeName();for(l=0;l<this.attributes.length;l++)e.push(this.attributes[l].generateModel());for(l=0;l<this.references.length;l++)e.push(this.references[l].generateModel());for(l=0;l<this.operations.length;l++)t.push(this.operations[l].generateModel());return n[S.xsitype]="ecore:EClass",n[S.namee]=this.name,n[S.interface]=N.j.toBoolString(this.isInterface),n[S.abstract]=N.j.toBoolString(this.isAbstract),n[S.instanceTypeName]=this.instanceTypeName,n[S.eSuperTypes]=i,n[S.eStructuralFeatures]=e,n[S.eOperations]=t,n}addOperation(){const e=new Ie(this,null);let t;for(t=0;t<this.instances.length;t++);return this.refreshInstancesGUI(),this.refreshGUI(),e}addReference(){const e=new xe(this,null);let t;for(e.type.changeType(null,null,this),e.generateEdges(),t=0;t<this.instances.length;t++)new Ce(this.instances[t],null,e);return this.refreshInstancesGUI(),this.refreshGUI(),e}addAttribute(){console.log("addAttribute: pre",this);const e=new Se(this,null);let t;for(t=0;t<this.instances.length;t++)new Te(this.instances[t],null,e);return this.refreshInstancesGUI(),this.refreshGUI(),e}fieldChanged(e){const t=e.currentTarget;if(!t.classList.contains("AddFieldSelect"))switch(t.tagName.toLowerCase()){case"select":default:N.j.pe(!0,"unexpected tag:",t.tagName," of:",t,"in event:",e);break;case"textarea":case"input":t.value=this.setName(t.value)}}duplicate(e="_Copy",t=null){const n=new de(null,null);return n.copy(this),ge.updateTypeSelectors(null,!1,!1,!0),n.refreshGUI(),n}getExtendedClassArray(e=Number.POSITIVE_INFINITY,t=[]){let n;for(n=0;n<this.extends.length;n++){const i=this.extends[n];N.j.ArrayAdd(t,i),e>0&&i.getExtendedClassArray(e--,t)}return t}getReferencePointingHere(){return super.getReferencePointingHere()}getAttribute(e,t=!1){return super.getAttribute(e,t)}getReference(e,t=!1){return super.getReference(e,t)}isExtending(e){if(!e)return!1;const t=e.getExtendedClassArray();let n;for(n=0;n<t.length;n++)if(this===t[n])return!0;return!1}static updateSuperClasses(){const e=R.b.status.mm.getEcoreStr_Class_Dictionary(),t=R.b.status.mm.getAllClasses();let n,i;for(i=0;i<t.length;i++){const s=t[i];for(n=0;n<s.extendsStr.length;n++){const i=e[s.extendsStr[n]];N.j.pe(!i,"e1, failed to find extended class:",s.extendsStr[n],"in classList:",t,"classe to extend:",s,"dictionary:",e,"classe.extendsStr[j]:",s.extendsStr[n]),s.extendClass(null,i)}s.extendsStr=[]}}extendClass(e,t){t||(t=this.getModelRoot().getClassFromEcoreStr(e)),N.j.pe(!t,"e2, failed to find extended class:",e,"in classList:",R.b.status.mm.getAllClasses(),"this:",this),N.j.ArrayAdd(this.extends,t)}unextendClass(e,t){t||(t=this.getModelRoot().getClassFromEcoreStr(e)),N.j.pe(!t,"e3, failed to find extended class:",e,"in classList:",R.b.status.mm.getAllClasses(),"this:",this),N.j.arrayRemoveAll(this.extends,t)}makeExtendEdge(e){const t=new W(this,this.getVertex(),e.getVertex());return this.extendEdges.push(t),t}}class pe extends ce{static getArrayIndex_ByMetaParentName(e,t){let n=-1;for(;++n<t.length;)if(e===t[n].metaParent.name)return n;return-1}constructor(e,t,n){super(e,n),(e||t||n)&&(N.j.pe(!n,"null metaparent?"),this.parse(t,!0))}endingName(e=10){return this.attributes.length>0?this.attributes[0].endingName(e):this.references.length>0?this.references[0].endingName(e):""}getModelRoot(){return super.getModelRoot()}isRoot(){return this===R.b.status.m.classRoot}setRoot(e){N.j.pe(!e,"should only be used to set root. to delete a root choose another one and call setRoot on it."),this.getModelRoot().classRoot=this}conformability(e,t){throw new Error("M.conformability%() todo")}duplicate(e=null,t=null){const n=new pe(null,null,null);return n.copy(this),n.refreshGUI_Alone(),n}generateModel(e=!1){const t=R.b.status.XMLinlineMarker,n={};let i,s;e&&(n[t+"xmlns:xmi"]="http://www.omg.org/XMI",n[t+"xmlns:"+this.getModelRoot().namespace()]=this.getModelRoot().uri(),n[t+"xmi:version"]="2.0");const l=[this.attributes,this.references];for(i=0;i<l.length;i++)for(s=0;s<l[i].length;s++){const e=l[i][s],r=e.generateModel();N.j.pe(r instanceof _,"value returned is modelpiece.",e),""===r||null==r||N.j.isEmptyObject(r)||(n[(N.j.isPrimitive(r)?t:"")+e.metaParent.name]=r)}return n}parse(e,t=!0){const n=this.metaParent.attributes,i=this.metaParent.references;let s=-1;if(t){for(this.attributes=[],this.references=[],this.childrens=[],this.referencesIN=[];++s<n.length;){const e=new Te(this,null,n[s]);N.j.ArrayAdd(this.attributes,e),console.trace(),console.log("add["+s+"/"+this.metaParent.attributes.length+"]:",e,this.attributes,this.attributes.length,this)}for(s=-1;++s<i.length;){const e=new Ce(this,null,i[s]);N.j.ArrayAdd(this.references,e)}}N.j.pe(this.attributes.length>4,this,this.attributes.length);const l=R.b.status.XMLinlineMarker;for(let r in e){if(!e.hasOwnProperty(r))continue;const t=e[r];switch(r){case l+"xmlns:xmi":case l+"xmi:version":this.setRoot(!0);break;default:if(0===r.indexOf(l)&&(r=r.substr(l.length)),0===r.indexOf("xmlns:")){r=r.substr("xmlns:".length),this.getModelRoot().namespace(r),N.j.pw(!1,"setns?",r,this,this.metaParent);continue}const n=this.metaParent.getAttribute(r),i=this.metaParent.getReference(r);if(n){this.getChildrenIndex_ByMetaParent(n);const e=this.getAttributeIndex_ByMetaParent(n);this.attributes[e].parse(t,!0)}else if(i){this.getChildrenIndex_ByMetaParent(i);const e=this.getReferenceIndex_ByMetaParent(i);let n,s=this.references[e].getEdges();for(n=0;n<s.length;n++);this.references[e].parse(t,!0)}else N.j.pe(!0,"model attribute-or-reference type not found. class:",this,", json:",e,"key/name:",r,", Iclass:",this.metaParent)}}console.log("here2",this,this.attributes.length),N.j.pe(this.attributes.length>4,this,this.attributes.length)}modify_Old(e,t=!0){t&&(this.childrens=[],this.references=[],this.attributes=[],this.referencesIN=[]);const n=R.b.status.XMLinlineMarker;for(let i in e){if(!e.hasOwnProperty(i))continue;const t=e[i];switch(i){case n+"xmlns:xmi":case n+"xmi:version":this.setRoot(!0);break;default:if(0===i.indexOf(n)&&(i=i.substr(n.length)),0===i.indexOf("xmlns:")){i=i.substr("xmlns:".length),this.getModelRoot().namespace(i),N.j.pw(!1,"setns?",i,this,this.metaParent);continue}const s=this.metaParent.getAttribute(i),l=this.metaParent.getReference(i);let r,o;s?(r=new Te(this,t,s),N.j.ArrayAdd(this.childrens,r),N.j.ArrayAdd(this.attributes,r)):l?(o=new Ce(this,t,l),N.j.ArrayAdd(this.childrens,o),N.j.ArrayAdd(this.references,o)):N.j.pe(!0,"model attribute-or-reference type not found. class:",this,", json:",e,"key/name:",i,", Iclass:",this.metaParent)}}}getChildrenIndex_ByMetaParent(e){return pe.getArrayIndex_ByMetaParentName(e.name,this.childrens)}getAttributeIndex_ByMetaParent(e){return pe.getArrayIndex_ByMetaParentName(e.name,this.attributes)}getReferenceIndex_ByMetaParent(e){return pe.getArrayIndex_ByMetaParentName(e.name,this.references)}}class fe extends ue{constructor(e,t){super(e,null),this.parent&&N.j.ArrayAdd(this.parent.enums,this),this.parse(t)}fullname(){return this.parent.name+"."+this.name}refreshGUI_Alone(e=!1){this.getVertex().refreshGUI()}addLiteral(){const e=new ye(this,null);return e.ordinal===Number.NEGATIVE_INFINITY&&this.autofixEnumValues(),this.refreshGUI(),e}parse(e,t){let n;this.childrens=[],this.instanceTypeName="",this.setName(N.f.read(e,T.namee,"Enum_1"),!1);for(let s in e){const t=e[s];switch(s){default:N.j.pe(!0,"Enum.parse() unexpected key:",s,"in json:",e);break;case T.xsitype:case T.namee:case T.eLiterals:break;case T.serializable:this.serializable="true"===t;break;case T.instanceTypeName:this.instanceTypeName=t+""}}const i=N.f.getChildrens(e);for(n=0;n<i.length;n++)new ye(this,i[n]);this.childrens.length||new ye(this,null),this.autofixEnumValues()}duplicate(e,t){}fieldChanged(e){const t=e.currentTarget;if(!t.classList.contains("AddFieldSelect"))switch(t.tagName.toLowerCase()){case"select":default:N.j.pe(!0,"unexpected tag:",t.tagName," of:",t,"in event:",e);break;case"textarea":case"input":t.value=this.setName(t.value)}}generateModel(){const e=[],t={};let n;for(t[T.xsitype]="ecore:EEnum",t[T.namee]=this.name,t[T.serializable]=this.serializable?"true":"false",this.instanceTypeName&&(t[T.instanceTypeName]=this.instanceTypeName),t[T.eLiterals]=e,n=0;n<this.childrens.length;n++)e.push(this.childrens[n].generateModel());return t}autofixEnumValues(){let e,t={},n=0;for(e=0;e<this.childrens.length;e++){const i=this.childrens[e];if(i.ordinal===Number.NEGATIVE_INFINITY)i.ordinal=n,i.name||(i.name=this.name+"_"+i.ordinal);else if(t[i.ordinal]=!0,i.ordinal===n)for(;t[++n];);}}isChildLiteralTaken(e){let t;for(t=0;t<this.childrens.length;t++)if(e===this.childrens[t].literal)return!0;return!1}delete(){const e=this.parent;super.delete(),e&&N.j.arrayRemoveAll(e.enums,this);let t=0;for(t=0;t<ge.all.length;t++)ge.all[t].enumType===this&&ge.all[t].changeType(null,me.get(N.h.EString),null,null);ge.updateTypeSelectors(null,!1,!1,!0)}getDefaultValueStr(){return this.childrens[0].name}getAllowedValuesStr(){const e=[];let t;for(t=0;t<this.childrens.length;t++)e.push(this.childrens[t].name);return e}getAllowedValuesInt(){const e=[];let t;for(t=0;t<this.childrens.length;t++)e.push(this.childrens[t].ordinal);return e}}let ge=(()=>{class e{constructor(t,n=null){this.primitiveType=null,this.classType=null,this.enumType=null,this.owner=null,this.owner=t,this.typestr=n,this.id=e.idMax++,e.allByID[this.id]=this,e.all.push(this)}static updateTypeSelectors(t,n=!0,i=!0,s=!0){t||(t=$(document.body));let l=N.j.getStartSeparatorKey();const r=(n?N.j.startSeparator(l)+'select[data-primitive="true"]':"")+(i?N.j.startSeparator(l)+'select[data-enum="true"]':"")+(s?N.j.startSeparator(l)+'select[data-class="true"]':"");l=N.j.getStartSeparatorKey();const o=(n?N.j.startSeparator(l)+'.template select[data-primitive="true"]':"")+(i?N.j.startSeparator(l)+'.template select[data-enum="true"]':"")+(s?N.j.startSeparator(l)+'.template select[data-class="true"]':""),a=t.find(r).not(o);for(let u=0;u<a.length;u++)e.updateTypeSelector(a[u]);s&&R.b.status.m&&R.b.status.m.sidebar&&R.b.status.m.sidebar.updateAll()}static updateTypeSelector(t){const n="true"===t.dataset.primitive,i="true"===t.dataset.enum,s="true"===t.dataset.class,l="true"===t.dataset.void,r=e.get(+t.dataset.typeid);e.makeTypeSelector(t,r,n,i,s,l)}static makeTypeSelector(t,n,i,s,l,r){N.j.pe(!t,"select is null"),N.j.clear(t);const o=_.getLogic(t);if(!(o&&o instanceof be))return;n=o.getType(),$(t).off("change.type").on("change.type",e=>{o.fieldChanged(e)}),t.dataset.typeid=""+n.id,t.dataset.primitive=i?"true":"false",t.dataset.enum=s?"true":"false",t.dataset.class=l?"true":"false",t.dataset.void=r?"true":"false";const a=document.createElement("optgroup"),u=document.createElement("optgroup"),c=document.createElement("optgroup"),h=document.createElement("optgroup");a.label="Return Types",u.label="Primitive Types",c.label="Enumerative Types",h.label="ClassReference Types";let d,p,f=!1;const g=e=>{f=!0,e.setAttribute("selected",""),e.selected=!0};if(i)for(d in me.shorts){if(!me.shorts[d])continue;const e=me.shorts[d];if(e.short===N.h.void&&!r)continue;const t=document.createElement("option");u.appendChild(t),t.value=e.long,t.innerHTML=e.name,n&&e===n.primitiveType&&g(t)}if(s){const e=R.b.status.mm.getAllEnums();for(p=0;p<e.length;p++){const t=e[p],i=document.createElement("option");c.appendChild(i),i.value=t.getEcoreTypeName(),i.innerHTML=t.name,t===n.enumType&&g(i)}}if(l){const e=R.b.status.mm.getAllClasses();for(p=0;p<e.length;p++){const t=e[p],i=document.createElement("option");h.appendChild(i),i.value=t.getEcoreTypeName(),i.innerHTML=t.name,t===n.classType&&g(i)}}N.j.ArrayAdd(e.selectors.all,t),i&&N.j.ArrayAdd(e.selectors.primitives,t),s&&N.j.ArrayAdd(e.selectors.enums,t),l&&N.j.ArrayAdd(e.selectors.classes,t),a.children.length&&t.appendChild(a),u.children.length&&t.appendChild(u),c.children.length&&t.appendChild(c),h.children.length&&t.appendChild(h),N.j.pe(n&&!f,"selected type option not found; select:",t," EType.shorts:",me,me.shorts,", searchedVal:",n)}static linkAll(){for(let t=0;t<e.all.length;t++)e.all[t].applyTypeStr()}static get(t){return e.allByID[t]}changeType(e=null,t=null,n=null,i=null){N.j.pe((e?1:0)+(t?1:0)+(n?1:0)!=1,"changeType(): exactly one argument is required. str:",e,"primitive:",t,"classType:",n),(e||t||n||i)&&(e&&(this.typestr=e),t&&(this.typestr=t.long),n&&(this.typestr=n.getEcoreTypeName()),i&&(this.typestr=i.getEcoreTypeName()),this.applyTypeStr())}defaultValue(){return this.primitiveType?this.primitiveType.defaultValue:this.enumType?this.enumType.childrens[0].name:null}applyTypeStr(){this.typestr&&R.b.status.mm&&(this.applyTypeStr0(),this.primitiveType&&(this.printablename=this.primitiveType.name),this.enumType&&(this.printablename=this.enumType.name),this.classType&&(this.printablename=this.classType.name?this.classType.name:this.classType.metaParent.name),"???void"===this.typestr&&(this.printablename="void"),N.j.pe(!this.printablename,this))}applyTypeStr0(){let t,n=this.classType;this.enumType=this.classType=this.primitiveType=null;let i=this.typestr;if(N.j.cclear(),N.j.pif(!0,"changeType()",this,this.typestr),this.primitiveType=me.getFromLongString(i,!1),!this.primitiveType){N.j.pe(0!==i.indexOf(e.classTypePrefix),"allyTypeStr(): found typestr neither primitive nor classifier.",this.typestr,this);const n=i.substr(e.classTypePrefix.length),s=R.b.status.mm.childrens;for(t=0;t<s.length;t++){const e=s[t],i=e.getClass(n);if(i){this.classType=i;break}const l=e.getEnum(n);if(l){this.enumType=l;break}}}if(N.j.pe(!this.primitiveType&&!this.enumType&&!this.classType,"failed to find target: |"+i+"|",R.b.status.mm),this.owner instanceof xe){if(n===this.classType)return;return n&&N.j.arrayRemoveAll(n.referencesIN,this.owner),this.classType.referencesIN.push(this.owner),this.owner.edges&&this.owner.edges.length&&(this.owner.edges[0].setTarget(this.classType.vertex),this.owner.edges[0].refreshGui()),N.j.pif(!0,"ref target changed; type:"+this+"inside:",this.owner),this.owner.refreshGUI(),void N.j.pif(!0,"exit2: m2reference")}if(N.j.pif(!0,"typechanged:",this.owner,this),this.owner instanceof Se){for(t=0;t<this.owner.instances.length;t++)this.owner.instances[t].valuesAutofix();return this.owner.refreshGUI(),void N.j.pif(!0,"exit3: attrib.")}this.owner instanceof Ie?this.owner.refreshGUI():this.owner instanceof Oe?this.owner.refreshGUI():N.j.pe(!0,"unexpected owner instance in changeType():",this)}toEcoreString(){return this.classType?e.classTypePrefix+this.classType.name:this.enumType?e.classTypePrefix+this.enumType.name:this.primitiveType?this.primitiveType.long:null}toShortString(){return this.classType?""+this.classType.name:this.enumType?""+this.enumType.name:this.primitiveType?""+this.primitiveType.name:null}}return e.all=[],e.idMax=0,e.allByID={},e.classTypePrefix="#//",e.selectors={all:[],primitives:[],classes:[],enums:[]},e})(),me=(()=>{class e{constructor(t,n,i,s=null,l=null){this.name=null,this.long=null,this.short=null,this.defaultValue=null,N.j.pe(e.shorts[n],"etype created twice:",e.shorts[n]),e.shorts[n]=this,this.long=t,this.short=n,this.defaultValue=i,this.minValue=s,this.maxValue=l,this.name=R.b.status.typeAliasDictionary[n]||n}static staticInit(){let t;return e.shorts={},t=new e(N.a.void,N.h.void,void 0),t=new e(N.a.EDate,N.h.EDate," "),t=new e(N.a.EChar,N.h.EChar," "),t=new e(N.a.EString,N.h.EString,""),t=new e(N.a.EBoolean,N.h.EBoolean,!0),t=new e(N.a.EByte,N.h.EByte,0,-128,127),t=new e(N.a.EShort,N.h.EShort,0,-32768,32767),t=new e(N.a.EInt,N.h.EInt,0,-2147483648,2147483647),t=new e(N.a.ELong,N.h.ELong,0,-0x8000000000000000,0x8000000000000000),t=new e(N.a.EFloat,N.h.EFloat,0,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),t=new e(N.a.EDouble,N.h.EDouble,0,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),e.shorts}static getFromLongString(t,n=!0){switch(t){default:N.j.pe(n,"Etype.Get() unrecognized type: ",t,"; string: ",N.a.EString);break;case N.a.void:return e.get(N.h.void);case N.a.EChar:return e.get(N.h.EChar);case N.a.EString:return e.get(N.h.EString);case N.a.EBoolean:return e.get(N.h.EBoolean);case N.a.EByte:return e.get(N.h.EByte);case N.a.EShort:return e.get(N.h.EShort);case N.a.EInt:return e.get(N.h.EInt);case N.a.ELong:return e.get(N.h.ELong);case N.a.EFloat:return e.get(N.h.EFloat);case N.a.EDouble:return e.get(N.h.EDouble);case N.a.EDate:return e.get(N.h.EDate)}return null}static get(t){return e.shorts[t]}static getAlias(e){return R.b.status.typeAliasDictionary[e]?R.b.status.typeAliasDictionary[e]:""+e}changeAlias(e){this.name=e,R.b.status.typeAliasDictionary[this.short]=this.name,R.b.status.aliasTypeDictionary[this.name]=this.short,R.b.status.mm.refreshGUI(),R.b.status.m.refreshGUI(),R.b.status.mm.graph.propertyBar.refreshGUI(),R.b.status.m.graph.propertyBar.refreshGUI()}}return e.shorts={},e})();class be extends _{constructor(e,t){super(e,t),this.upperbound=1,this.lowerbound=0,this.ordered=!1,this.unique=!1,this.type=this.getModelRoot().isM2()||this.getModelRoot().isM3()?new ge(this):null}fieldChanged(e,t=!1){const n=e.currentTarget,i=this.getModelRoot().graph,s=N.j.isParentOf(i.container,n),l=N.j.isParentOf(i.propertyBar.container,n);if(!t)switch(n.tagName.toLowerCase()){default:N.j.pe(!0,"unexpected tag:",n.tagName," of:",n,"in event:",e);break;case"textarea":case"input":this.setName(n.value);break;case"select":this.setType(n.value,!0,!1)}s||this.refreshGUI(),l||i.propertyBar.refreshGUI()}setType(e,t=!0,n=!0){const i=this.getType();return N.j.pe(i!==this.type,"attempting to change parent type!",this,i),i.changeType(e),n&&this.refreshGUI(),!0}getType(){return this.type||this.metaParent.type}getInfo(e=!1){const t=super.getInfo(e);this instanceof Ie||v.unset(t,"childrens"),v.set(t,"lowerBound",this.lowerbound),v.set(t,"upperBound",this.upperbound);const n=this.getType();return v.set(t,"type",n.toEcoreString()),v.set(t,"typeDetail",n),t}copy(e,t="_Copy",n=null){super.copy(e,t,n),this.setLowerbound(e.lowerbound),this.setUpperbound(e.upperbound),this.unique=e.unique,this.ordered=e.ordered,this.setType(e.getType().toEcoreString(),null,!1),this.refreshGUI()}getPackage(){return this.parent?this.getClass().parent:null}graph(){return this.getVertex().owner}getVertex(){return this.parent?this.getClass().getVertex():null}fullname(){return this.getClass().fullname()+"."+this.name}generateField(){return this.field=new H(this)}getField(){return this.field?this.field:this.generateField()}refreshGUI_Alone(e=!0){this.getField().refreshGUI(!0)}delete(){const e=this.parent;super.delete(),e&&(e instanceof ce?(N.j.arrayRemoveAll(e.attributes,this),N.j.arrayRemoveAll(e.references,this),N.j.arrayRemoveAll(e.getOperations(),this)):e instanceof Ie||N.j.pe(!0,"unrecognized parent class:"+N.j.getTSClassName(this)+":",this))}getUpperbound(){return this.upperbound}getLowerbound(){return this.lowerbound}setUpperbound(e){this.upperbound=isNaN(+e)?-1:+e}setLowerbound(e){this.lowerbound=isNaN(+e)||+e<0?0:+e}}class ye extends be{constructor(e,t){super(e,null),this.parse(t)}duplicate(e,t){}generateModel(){const e={};return e[M.value]=this.ordinal,e[M.literal]=this.literal,e[M.namee]=this.name,e}getClass(){return this.parent}setLiteral(e,t=!1,n=!0){if(""!==e&&e)return this.setName0(e,t,n,"literal",!0);this.literal=""}parse(e,t=!0){this.ordinal=N.f.read(e,M.value,Number.NEGATIVE_INFINITY),this.setLiteral(N.f.read(e,M.literal,""),!1);let n=N.f.read(e,M.namee,this.ordinal===Number.NEGATIVE_INFINITY?null:this.parent.name+"_"+this.ordinal);n?this.setName(n,!1):this.name=null}delete(){super.delete();let e=0;for(e=0;e<ge.all.length;e++)ge.all[e].enumType===this.parent&&ge.all[e].owner instanceof Te&&ge.all[e].owner.valuesAutofix()}fieldChanged(e){const t=e.currentTarget;switch(t.tagName.toLowerCase()){default:N.j.pe(!0,"unexpected tag:",t.tagName," of:",t,"in event:",e);break;case"textarea":case"input":const n=t;n.classList.contains("name")?this.setName(n.value):n.classList.contains("literal")?this.setLiteral(n.value):n.classList.contains("value")?this.ordinal=isNaN(+n.value)?this.ordinal:+n.value:N.j.pe(!0,"ELiteral input fields must contain one of the following classes: name, literal, value");break;case"select":N.j.pe(!0,"Unexpected non-disabled select field in a Vertex.ELiteral.")}super.fieldChanged(e,!0)}generateModelM1(){return this.name}}class ve extends be{getClass(){return this.parent}}class _e extends ve{constructor(e,t){super(e,t),this.edges=[],e&&e.references.push(this),this.edgeStyleCommon=new J(F.straight,2,"#ffffff",new Y(5,2,"#ffffff","#000000")),this.edgeStyleHighlight=new J(F.straight,4,"#ffffff",new Y(5,2,"#ffffff","#0077ff")),this.edgeStyleSelected=new J(F.straight,4,"#ffffff",new Y(5,2,"#ffffff","#ff0000"))}clearTargets(){let e;const t=this instanceof Ce?this:null;for(e=0;t&&e<t.mtarget.length;e++)t.setTarget(e,null);t&&(t.mtarget=N.j.newArray(this.metaParent.upperbound)),this.edges=N.j.newArray(this.metaParent.upperbound)}delete(e=null,t=null){null===e&&null===t&&(super.delete(),e=0,t=this.edges.length);const n=N.j.ArrayCopy(this.getEdges(),!1);let i;for(t=Math.min(n.length,t),i=e=Math.max(0,e);i<t;i++)n[i].remove()}getEdges(){return this.edges}refreshGUI_Alone(e=!0){super.refreshGUI_Alone(e);let t=-1;const n=this.getEdges();for(;++t<n.length;)n[t]&&n[t].refreshGui()}copy(e,t="_Copy",n=null){for(;this.edges.length;)this.edges[0]&&this.edges[0].remove();return super.copy(e,t,n),this.clearTargets(),super.copy(e,t,n),this.generateEdges(),this.edgeStyleCommon=e.edgeStyleCommon.clone(),this.edgeStyleHighlight=e.edgeStyleHighlight.clone(),this.edgeStyleSelected=e.edgeStyleSelected.clone(),n&&N.j.ArrayAdd(n.references,this),this.refreshGUI(),this}setDefaultStyle(e){N.j.pw(!0,"IReference.setDefaultStyle(): todo.")}isContainment(){return this instanceof xe?this.containment:this instanceof Ce?this.metaParent.containment:void N.j.pe(!0,"unrecognized class.")}getUpperbound(){return this instanceof xe?this.upperbound:this instanceof Ce?this.metaParent.upperbound:void N.j.pe(!0,"unrecognized class.")}getLowerbound(){return this instanceof xe?this.lowerbound:this instanceof Ce?this.metaParent.lowerbound:void N.j.pe(!0,"unrecognized class.")}}class we extends _e{constructor(e,t=null){super(e,t),this.parse(null)}canBeLinkedTo(e){return N.j.pe(!0,"Invalid operation: m3Reference.canBeLinkedTo()"),!0}duplicate(e,t){return N.j.pe(!0,"Invalid operation: m3Reference.duplicate()"),this}generateEdges(){return N.j.pe(!0,"Invalid operation: m3Reference.generateEdges()"),[]}generateModel(){return N.j.pe(!0,"Invalid operation: m3Reference.generateModel()"),{}}parse(e,t){this.name="Reference"}linkClass(e=null){N.j.pe(!0,"Invalid operation: M3Reference.linkClass();")}}class xe extends _e{constructor(e,t){super(e,R.b.status.mmm.getReference()),this.containment=!1,(e||t)&&this.parse(t,!0)}getModelRoot(){return super.getModelRoot()}loadEdgeStyles(){this.edgeStyleCommon=new J(F.angular23Auto,2,"#ffffff",new Y(5,1,"#ffffff","#0000ff")),this.edgeStyleHighlight=new J(null,4,"#ffffff",new Y(5,1,"#ffffff","#ff0000")),this.edgeStyleSelected=new J(null,3,"#ffffff",new Y(7,4,"#ffffff","#ff0000"))}parse(e,t){this.setName(N.f.read(e,P.namee,"Ref_1")),this.type.changeType(N.f.read(e,P.eType,this.parent.getEcoreTypeName())),this.containment=N.f.read(e,P.containment,!1),this.setLowerbound(+N.f.read(e,P.lowerbound,0)),this.setUpperbound(+N.f.read(e,P.upperbound,1))}generateModel(){const e=new N.f(null);return e[P.xsitype]="ecore:EReference",e[P.eType]=this.type.toEcoreString(),e[P.namee]=this.name,null==this.lowerbound||isNaN(+this.lowerbound)||(e[P.lowerbound]=+this.lowerbound),null==this.upperbound||isNaN(+this.lowerbound)||(e[P.upperbound]=+this.upperbound),null!=this.containment&&(e[P.containment]=this.containment),e}generateEdges(){return this.edges||(this.edges=[null]),[new V(this,0,this.parent.getVertex(),this.type.classType.getVertex())]}useless(){}setContainment(e){this.containment=e}setUpperbound(e){super.setUpperbound(e);let t=-1;for(;++t<this.instances.length;){const n=this.instances[t];-1!==e&&(n.mtarget.length=n.edges.length=e),n.delete(e,Number.POSITIVE_INFINITY)}}delete(e=null,t=null){super.delete(e,t),null!==e||null!==t||this.type.classType&&N.j.arrayRemoveAll(this.type.classType.referencesIN,this)}duplicate(e="_Copy",t=null){return new xe(null,null).copy(this,e,t)}copy(e,t="_Copy",n=null){return super.copy(e,t,n),this.setLowerbound(e.lowerbound),this.setUpperbound(e.upperbound),this.containment=e.containment,this.type.changeType(e.type.toEcoreString()),this.refreshGUI(),this}getInfo(e=!0){const t=super.getInfo();v.rename(t,"type","target"),v.rename(t,"typeDetail","targetDetail"),v.set(t,"containment",this.containment);const n=this.type.classType?this.type.classType.getInfo(e):{};return v.set(t,"target",n),v.merge(t,n),t}canBeLinkedTo(e){return e instanceof de}}let Ce=(()=>{class e extends _e{constructor(e,t,n){super(e,n),(e||t||n)&&this.parse(t,!0)}getm2Target(){return this.metaParent.type.classType}getfirstEmptyTarget(){let e;for(e=0;e<this.mtarget.length;e++)if(!this.mtarget[e])return e;return-1===this.metaParent.upperbound?this.mtarget.length:-1}getfirstFilledTarget(){let e;for(e=0;e<this.mtarget.length;e++)if(this.mtarget[e])return e;return-1}endingName(e=10){const t=this.getfirstEmptyTarget();if(-1!==t){const n=this.mtarget[t];if(n instanceof pe&&n.attributes.length>0)return n.attributes[0].endingName(e)}return""}duplicate(t="_Copy",n=null){return new e(null,null,null).copy(this,t,n)}getInfo(e){const t={};let n;for(v.set(t,"target",this.mtarget),v.unset(t,"upperbound"),v.unset(t,"lowerbound"),n=0;n<this.mtarget.length;n++){const e=this.mtarget[n];e&&v.set(t,""+n,e)}return t}delete(e=null,t=null){let n;for(super.delete(e,t),t=Math.min(this.mtarget.length,t),n=e=Math.max(0,e);n<t;n++)this.setTarget(n,null)}getType(){return this.metaParent?this.metaParent.getType():null}canBeLinkedTo(e){const t=this.getType().classType,n=e.metaParent;return t===n||t.isExtending(n)}generateModel(){return e.loopDetection={},this.generateModelLoop()}generateModelLoop(){const t=[];let n;for(n=0;n<this.mtarget.length;n++){if(!this.mtarget[n])continue;const i=this.mtarget[n];e.loopDetection[i.id]?(t.push("LoopingReference"),N.j.pw(!0,"looping reference in model")):(e.loopDetection[i.id]=i,t.push(i.generateModel()))}return t}generateEdges(){let e;for(e=0;e<this.mtarget.length;e++)!this.edges[e]&&this.mtarget[e]&&(this.edges[e]=new V(this,e,this.parent.getVertex(),this.mtarget[e].getVertex()));return this.edges}parse(e,t=!0){N.j.pe(!t,"non-destructive parse of MReference to do."),e||(e=[]);const n=Array.isArray(e)?e:[e],i=this.getm2Target();let s;this.mtarget?this.mtarget.length=this.metaParent.upperbound:this.mtarget=N.j.newArray(this.metaParent.upperbound),t&&this.clearTargets();const l=this.getClass().parent;for(s=0;s<n.length;s++){if($.isEmptyObject(n[s]))continue;const e=new pe(l,n[s],i);this.mtarget[s]=e}N.j.pe(-1!==this.metaParent.upperbound&&this.mtarget.length!==+this.metaParent.upperbound,"wrong mtarget length",this.mtarget,this.mtarget.length,this.metaParent.upperbound)}validate(){return!0}copy(e,t="_Copy",n=null){return this.clearTargets(),super.copy(e,t,n),this.mtarget=N.j.ArrayCopy(e.mtarget,!1),this.generateEdges(),this.refreshGUI(),e}linkClass(e,t,n=!0,i=!1){this.setTarget(t,e)}setTarget(e,t){let n=this.edges[e];if(null===t){if(!this.edges[e])return;return N.j.arrayRemoveAll(this.mtarget[e].referencesIN,this),N.j.arrayRemoveAll(this.mtarget[e].vertex.edgesEnd,n),this.edges[e].remove(),this.mtarget[e]=null,void(-1===this.metaParent.upperbound&&e===this.mtarget.length-1&&(delete this.edges[e],delete this.mtarget[e]))}this.metaParent.unique&&this.mtarget.indexOf(t)>=0?N.j.pif(!0,'This reference type is labeled as "unique" and is already linked to that element.'):(this.mtarget[e]=t,N.j.ArrayAdd(this.mtarget[e].referencesIN,this),this.generateEdges(),N.j.ArrayAdd(this.mtarget[e].vertex.edgesEnd,n=this.edges[e]))}}return e.loopDetection={},e})();class ke extends ve{constructor(e,t){super(e,t),e&&N.j.ArrayAdd(e.attributes,this)}copy(e,t="_Copy",n=null){super.copy(e,t,n),n&&N.j.ArrayAdd(n.attributes,this),this.refreshGUI()}}class Ee extends ke{constructor(e,t){super(e,t),this.parse(null,!0)}duplicate(e="_",t=null){return N.j.pe(!0,"Invalid operation: m3Attr.duplicate()"),this}generateModel(){return N.j.pe(!0,"m3Attr.generateModel()"),{}}parse(e,t=!0){this.name="Attribute"}conformability(e,t,n){return 1}}class Se extends ke{constructor(e,t){super(e,R.b.status.mmm.getAttribute()),(e||t)&&this.parse(t,!0)}getModelRoot(){return super.getModelRoot()}parse(e,t){this.setName(N.f.read(e,A.namee,"Attribute_1")),this.type.changeType(N.f.read(e,A.eType,N.a.EString))}generateModel(){const e=new N.f(null);return N.f.write(e,A.xsitype,"ecore:EAttribute"),N.f.write(e,A.eType,this.type.toEcoreString()),N.f.write(e,A.namee,this.name),e}duplicate(e="_Copy",t=null){const n=new Se(null,null);return n.copy(this,e,t),n}replaceVarsSetup(){super.replaceVarsSetup()}conformability(e,t,n){return 1}}class Te extends ke{static typeChange(e,t){let n=-1;for(;++n<e.length;){if(Array.isArray(e[n])){Te.typeChange(e[n],t);continue}let i;switch(t.short){default:N.j.pe(!0,"unexpected type: "+t.short);break;case N.h.EDate:i=null;break;case N.h.EFloat:case N.h.EDouble:null==(i=parseFloat(""+e[n]))&&(i=t.defaultValue);break;case N.h.EBoolean:i=!!e[n];break;case N.h.EChar:null==(i=(e[n]+"")[0])&&(i=t.defaultValue);break;case N.h.EString:i=null==e[n]?null:""+e[n];break;case N.h.EInt:case N.h.EByte:case N.h.EShort:case N.h.ELong:let s=parseInt(""+e[n],10);s=isNaN(+s)?t.defaultValue:+s,i=s=Math.min(t.maxValue,Math.max(t.minValue,s))}N.j.pe(null==i,"failed to fix value:",e,t),e[n]=i}}constructor(e,t,n){super(e,n),this.parse(t,!0)}test(){}getModelRoot(){return super.getModelRoot()}parse(e,t){this.setValue(e),this.validate()?this.mark(!1,"errorValue"):(this.setValue(null),N.j.pw(!0,"marked attribute ("+this.metaParent.name+") with type ",this.getType(),"values:",this.values,"this:",this),this.mark(!0,"errorValue")),this.refreshGUI()}endingName(e=10){return this.values&&this.values.length>0?(this.values[0]+"").substr(0,e):""}getType(){return this.metaParent?this.metaParent.getType():null}getInfo(e=!1){const t=super.getInfo();return v.set(t,"values",this.values),t}duplicate(e=null,t=null){const n=new Te(t,null,this.metaParent);return n.copy(this,e,t),n}copy(e,t="_Copy",n=null){super.copy(e,t,n),this.setValueStr(e.getValueStr())}generateModel(){if(0===this.values.length)return null;let e=this.values;if(this.values[0]instanceof ye){let t;for(e=[],t=0;t<this.values.length;t++){const n=this.values[t];n instanceof ye&&e.push(n.generateModelM1())}}return 1===e.length?e[0]:e}validate(){let e;const t=this.getType().primitiveType,n=this.getType().enumType;if(n){const t=n.getAllowedValuesStr();for(e=0;e<this.values.length;e++)if(!N.j.arrayContains(t,this.values[e]))return!1;return!0}switch(N.j.pe(!t,"found type in Mattribute that is neither primitive nor enumerative",this),t.long){default:return N.j.pe(!0,"unexpected mattrib type:",this.getType()),!1;case N.a.EDate:N.j.pe(!0,"eDAte: todo");break;case N.a.EBoolean:return!0;case N.a.EChar:return N.j.isString(this.values)||N.j.isCharArray(this.values);case N.a.EString:return N.j.isStringArray(this.values);case N.a.EFloat:case N.a.EDouble:for(e=0;e<this.values.length;e++)this.values[e]=+this.values[e];return N.j.isNumberArray(this.values,t.minValue,t.maxValue);case N.a.EByte:case N.a.EShort:case N.a.EInt:case N.a.ELong:for(e=0;e<this.values.length;e++)this.values[e]=+this.values[e];return N.j.isIntegerArray(this.values,t.minValue,t.maxValue)}}fieldChanged(e){const t=e.currentTarget;switch(t.tagName.toLowerCase()){default:N.j.pe(!0,"unexpected tag:",t.tagName," of:",t,"in event:",e);break;case"textarea":case"input":this.setValueStr(t.value),t.value=this.getValueStr();break;case"select":N.j.pe(!0,"Unexpected non-disabled select field in a Vertex.MAttribute.")}super.fieldChanged(e,!0)}setValueStr(e){if(1!==this.metaParent.upperbound)try{this.setValue(JSON.parse(e))}catch(t){return void N.j.pw(!0,"This attribute have upperbound > 1 and the input is not a valid JSON string: "+e)}else this.setValue([e])}setValue(e=null,t=!1,n=!0){const i=e;(N.j.isEmptyObject(e,!0,!0)||Array.isArray(e)&&(0===e.length||1===e.length&&N.j.isEmptyObject(e[0])))&&(e=this.getType().defaultValue()),Array.isArray(e)||(e=[e]),t&&console.trace(),N.j.pif(t,this.metaParent.fullname()+".setvalue: |",i,"| --\x3e ",e,"defaultv:",this.getType().defaultValue(),"type:",this.getType()),this.values=e,N.j.pe(""+e==""+void 0||""+e=="null","undef:",e,this),N.j.pif(t,"end value:",e),n&&this.valuesAutofix(t),N.j.pif(t,"end value post autofix:",this.values)}valuesAutofix(e=!1){const t=this.getType();if(t.enumType){if(!t.enumType.getDefaultValueStr())return void(this.values=[]);const e=t.enumType.getAllowedValuesStr();let n;for(n=0;n<this.values.length;n++)this.values[n]+="",N.j.arrayContains(e,this.values[n])||(this.values[n]=e[0])}t.primitiveType&&Te.typeChange(this.values,t.primitiveType)}getValueStr(e=!1){let t;N.j.pif(e,"getvaluestr: stage1",t=this.values),void 0===t&&(t=null);let n=null;return null!==t&&(Array.isArray(t)||(t=[t]),N.j.pif(e,"stage 1.1:",t,n),1===this.metaParent.upperbound&&(t=t.length?t[0]:null),N.j.pif(e,"stage 1.2:",t,n),n=Array.isArray(t)?JSON.stringify(t):null==t?null:""+t),N.j.pif(e,"stage2",t,n),null===n&&(this.setValue(null),N.j.pe(!this.values.length||null===this.values[0],"failed to set default val.",this.getType().defaultValue(),this.values),n=this.values.length?""+this.values[0]:null),N.j.pif(e,"this.values:",this.values,", val[0]:",this.values[0],"retStr:",n),this.valuesStr=n,n}replaceVarsSetup(e=!1){super.replaceVarsSetup();const t=this.valuesStr;N.j.pif(e,this.values);const n=this.getValueStr();N.j.pif(e,"val:",n,", this.values:",this.values,", this:",this),this.valuesStr=n?N.j.replaceAll(n,"\n","",e):"",this.valuesStr&&"["===this.valuesStr[0]&&(this.valuesStr=this.valuesStr.substr(1,this.valuesStr.length-2)),N.j.pif(e,"valuesSTR: |"+t+"| --\x3e |"+this.valuesStr+"|")}}class Me extends _{constructor(e,t){super(e,null),this.parse(t)}duplicate(e,t){}fullname(){return this.parent.fullname()+"."+this.name}generateModel(){const e={};return null!==this.name&&N.f.write(e,k.key,this.name),null!==this.value&&N.f.write(e,k.value,this.value),e}getVertex(){return this.parent.getVertex()}parse(e,t){let n;for(n in this.childrens=[],e||(e={}),e){const t=e[n];switch(n){default:N.j.pe(!0,"unexpected field in EDetail:  "+n+" => |"+t+"|");break;case k.key:case k.value:}}this.value=N.f.read(e,k.value,""),this.setName(N.f.read(e,k.key,"DetailKey1"))}refreshGUI_Alone(e){return this.parent.refreshGUI_Alone()}}var Pe=n("WSPs"),Ae=function(e){return e.public="public",e.private="private",e.protected="protected",e.internal="internal",e.package="package",e.protectedinternal="protected internal",e.protectedprivate="protected private",e}({});let Ie=(()=>{class e extends be{constructor(e,t){super(e,null),this.visibility=Ae.private,this.detailIsOpened=!1,e instanceof de&&e.operations.push(this),this.parse(t)}getVisibilityChar(){switch(this.visibility){case Ae.public:return"+";case Ae.private:return"-";case Ae.protected:return"#";case Ae.internal:case Ae.package:return"~";case Ae.protectedinternal:return"#~";case Ae.protectedprivate:return"#-";default:return"?"}}getClass(){return this.parent}conformability(e,t,n){return N.j.pe(!0,"operation.conformability()"),0}duplicate(t="_Copy",n=null){const i=new e(this.parent,null);return i.copy(this),i}copy(e,t="_Copy",n=null){super.copy(e,t,n),this.exceptionsStr=e.exceptionsStr,this.refreshGUI()}generateModel(){const e=[],t={};let n;for(t[I.eParameters]=e,N.f.write(t,I.namee,this.name),N.f.write(t,I.eType,this.getType().toEcoreString()),N.f.write(t,I.lowerBound,""+this.lowerbound),N.f.write(t,I.upperBound,""+this.upperbound),N.f.write(t,I.eexceptions,this.exceptionsStr),N.f.write(t,I.ordered,""+this.ordered),N.f.write(t,I.unique,""+this.unique),n=0;n<this.childrens.length;n++)e.push(this.childrens[n].generateModel());return t}getInfo(e=!1){const t=super.getInfo(e);return v.unset(t,"instances"),v.rename(t,"type","returnType"),v.rename(t,"typeDetail","returnTypeDetail"),t}parse(e,t){this.setName(this.parent instanceof he?"Operation":N.f.read(e,I.namee,"Func_1")),this.setType(N.f.read(e,I.eType,N.a.void)),this.setLowerbound(+N.f.read(e,I.lowerBound,"NAN_Trigger")),this.setUpperbound(+N.f.read(e,I.upperBound,"NAN_Trigger")),this.exceptionsStr=N.f.read(e,I.eexceptions,""),this.ordered="true"==""+N.f.read(e,I.ordered,"false"),this.unique="true "==""+N.f.read(e,I.unique,"false"),this.visibility=Ae.package;const n=N.f.getChildrens(e,!1);let i;for(i=0;i<n.length;i++){const e=new Oe(this,n[i]);N.j.ArrayAdd(this.childrens,e)}}getSignature(e=Number.POSITIVE_INFINITY){let t,n="";for(e=Math.min(e,this.childrens.length),t=0;t<e;t++)0!==t&&(n+=", "),N.j.pif(!0,"parameter["+t+"] = ",this.childrens[t]),N.j.pif(!0,"parameterStr: |"+n+"| --\x3e |"+n+this.childrens[t].getType().toShortString()+"|"),n+=this.childrens[t].getType().toShortString();return n}setSignatureHtml(e,t,n=null,i=null){n=isNaN(+n)?10:+n,i=isNaN(+i)?2:+i;const s=e=>(N.j.pif(!1,"fixname: |"+e+"| --\x3e |"+e.substring(0,n-1)+"\u2026|"),e.length>n?e.substring(0,n-1)+"\u2026":e);let l=this.getSignature(i);N.j.pif(!1,"finalSignature: ",this.getVisibilityChar(),s(this.name),l,s(this.type.toShortString()),this),e.innerHTML="&nbsp",e.textContent+=this.getVisibilityChar()+""+s(this.name)+"("+l+") \u2192 "+this.type.toShortString(),e.dataset.visibility=this.visibility,e.dataset.exceptions=this.exceptionsStr}addParameter(){const e=new Oe(this,null);return N.j.ArrayAdd(this.childrens,e),e}}return e.counter=0,e})();class Oe extends be{constructor(e,t){super(e,null),e&&this.parse(t)}fullname(){return super.fullname()+":"+this.name}getField(){return this.parent?this.parent.getField():null}getClass(){return this.parent?this.parent.parent:null}conformability(e,t,n){return N.j.pe(!0,"eop.conformability"),0}duplicate(e="_Copy",t=null){const n=new Oe(null,null);return n.copy(this,e,t),n}copy(e,t="_Copy",n=null){super.copy(e,t,n),this.refreshGUI()}getInfo(e=!1){const t=super.getInfo(e);return v.unset(t,"instances"),t}generateModel(){const e={};return N.f.write(e,I.lowerBound,""+this.lowerbound),N.f.write(e,I.upperBound,""+this.upperbound),N.f.write(e,I.ordered,""+this.ordered),N.f.write(e,I.unique,""+this.unique),N.f.write(e,I.eType,""+this.getType().toEcoreString()),e}parse(e,t){N.j.pe(!this.parent||!this.parent.parent,"json:",e,"this: ",this,"this.parent:",this.parent,"this.p.p:",this.parent?this.parent.parent:void 0),this.setName(this.parent.parent instanceof he?"Parameter":N.f.read(e,O.namee,"Param_1")),this.setLowerbound(+N.f.read(e,I.lowerBound,"NAN_Trigger")),this.setUpperbound(+N.f.read(e,I.upperBound,"NAN_Trigger")),this.ordered="true"==""+N.f.read(e,I.ordered,"false"),this.unique="true "==""+N.f.read(e,I.unique,"false"),this.setType(N.f.read(e,O.eType,N.a.EString))}}n.d(t,"zb",(function(){return De})),n.d(t,"Ab",(function(){return Ne})),n.d(t,"Bb",(function(){return Re})),n.d(t,"vb",(function(){return p})),n.d(t,"wb",(function(){return g})),n.d(t,"xb",(function(){return f})),n.d(t,"R",(function(){return y})),n.d(t,"hb",(function(){return _})),n.d(t,"O",(function(){return v})),n.d(t,"i",(function(){return T})),n.d(t,"t",(function(){return M})),n.d(t,"l",(function(){return O})),n.d(t,"j",(function(){return I})),n.d(t,"g",(function(){return A})),n.d(t,"m",(function(){return P})),n.d(t,"h",(function(){return S})),n.d(t,"k",(function(){return E})),n.d(t,"n",(function(){return x})),n.d(t,"f",(function(){return C})),n.d(t,"yb",(function(){return D})),n.d(t,"J",(function(){return w})),n.d(t,"nb",(function(){return N.h})),n.d(t,"ub",(function(){return N.j})),n.d(t,"Q",(function(){return N.f})),n.d(t,"a",(function(){return N.a})),n.d(t,"P",(function(){return N.e})),n.d(t,"d",(function(){return N.b})),n.d(t,"kb",(function(){return N.g})),n.d(t,"A",(function(){return N.c})),n.d(t,"ob",(function(){return N.i})),n.d(t,"B",(function(){return N.d})),n.d(t,"pb",(function(){return R.b})),n.d(t,"I",(function(){return L})),n.d(t,"N",(function(){return U.a})),n.d(t,"H",(function(){return H})),n.d(t,"M",(function(){return B})),n.d(t,"F",(function(){return V})),n.d(t,"u",(function(){return F})),n.d(t,"z",(function(){return W})),n.d(t,"v",(function(){return G})),n.d(t,"w",(function(){return q})),n.d(t,"b",(function(){return K})),n.d(t,"y",(function(){return J})),n.d(t,"x",(function(){return Y})),n.d(t,"lb",(function(){return X})),n.d(t,"rb",(function(){return Z.a})),n.d(t,"qb",(function(){return Q.a})),n.d(t,"mb",(function(){return b})),n.d(t,"ib",(function(){return ee.b})),n.d(t,"eb",(function(){return te})),n.d(t,"fb",(function(){return ie})),n.d(t,"gb",(function(){return se})),n.d(t,"K",(function(){return le})),n.d(t,"Y",(function(){return re})),n.d(t,"U",(function(){return oe})),n.d(t,"cb",(function(){return ae})),n.d(t,"E",(function(){return ue})),n.d(t,"D",(function(){return ce})),n.d(t,"X",(function(){return he})),n.d(t,"T",(function(){return de})),n.d(t,"bb",(function(){return pe})),n.d(t,"o",(function(){return fe})),n.d(t,"sb",(function(){return ge})),n.d(t,"s",(function(){return me})),n.d(t,"tb",(function(){return be})),n.d(t,"p",(function(){return ye})),n.d(t,"G",(function(){return ve})),n.d(t,"L",(function(){return _e})),n.d(t,"Z",(function(){return we})),n.d(t,"V",(function(){return xe})),n.d(t,"db",(function(){return Ce})),n.d(t,"C",(function(){return ke})),n.d(t,"W",(function(){return Ee})),n.d(t,"S",(function(){return Se})),n.d(t,"ab",(function(){return Te})),n.d(t,"e",(function(){return Me})),n.d(t,"c",(function(){return Pe.a})),n.d(t,"q",(function(){return Ie})),n.d(t,"jb",(function(){return Ae})),n.d(t,"r",(function(){return Oe}));const De=new o.a;console.log("importing jqueery"),window.$=c,console.log("importing jqueery");const Ne=s,Re=l},"6DPa":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IVertex}));var _common_Joiner__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2/r/");let IVertex=(()=>{class IVertex{constructor(e,t=null){this.fields=[],this.edgesStart=[],this.edgesEnd=[],this.Vmarks={},this.id=IVertex.ID++,IVertex.all[this.id]=this;const n=e.getModelRoot().graph;if(this.logic(e),n&&n.addVertex(this),this.contains=[],this.fields=[],this.edgesStart=[],this.edgesEnd=[],this.classe=e,this.classe.vertex=this,this.setGraph(e.getModelRoot().graph),!t){t=IVertex.defaultSize;const e=this.owner.getSize();t.x=this.owner.scroll.x+(e.w-t.w)/2,t.y=this.owner.scroll.y+(e.h-t.h)/2}this.size=t,this.refreshGUI()}static staticinit(){const e=new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.A(0,0);return e.x="prevent_doublemousedowncheck",e.y="prevent_doublemousedowncheck",e}static linkVertexMouseDown(e,t=null,n=null){e&&e.stopPropagation(),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging&&_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging.owner.edgeChangingAbort(e),t=t||_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.get(e),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!t,"IVertex.linkVertexMouseDown() failed to get edge:",e);const i=t.logic;_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!(i instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.L&&i),"The .LinkVertex element must be inserted only inside a reference field."),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging=t,t.useRealEndVertex=!1,t.useMidNodes=!0,t.tmpEnd=n||_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.A.fromEvent(e),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!t.tmpEnd,"failed to get coordinates from event:",e),t.tmpEndVertex=null,t.refreshGui()}static getvertex(e){return IVertex.getvertexByHtml(e.currentTarget)}static getvertexByHtml(e){for(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!(e&&e instanceof Element),"getVertexByHtml: parameter is not a DOM node:",e);!e.dataset.vertexID;)e=e.parentNode;return IVertex.getByID(+e.dataset.vertexID)}static getByID(e){return IVertex.all[e]}static FieldNameChanged(e){const t=e.currentTarget,n=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.hb.getLogic(t);n.fieldChanged(e),n.getModelRoot().graph.propertyBar.show(null,t,null,!0);const i=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.pb.status.mm,s=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.pb.status.m;setTimeout(()=>{i.refreshGUI(),s.refreshGUI()},1)}static ChangePropertyBarContentClick(e,t=null){const n=e.target,i=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.hb.getLogic(n),s=i.getModelRoot();return _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!i,"failed to get modelPiece from html:",n),s.graph.propertyBar.show(i,n,t,!1),i}static GetMarkedWith(e,t=null){const n=[];for(const i in IVertex.all){if(!IVertex.all[i])continue;const e=IVertex.all[i];e.isMarkedWith("refhover",t)&&n.push(e)}return n}mark(e,t,n="red",i=10,s=10,l=5,r="none",o=null){if(!this.isDrawn())return;null===n&&(n="yellow"),null===i&&(i=10),null===s&&(s=10),null===r&&(r="none"),null===l&&(l=5);let a=this.Vmarks[t];if("refhover"===t){const t=this.htmlForeign,i=$(t).find("input, textarea, select, button");let s,l=null;for(console.log("markedHover",e,t,i),e?t.style.cursor=l="red"===n?"no-drop":"crosshair":t.style.removeProperty("cursor"),s=0;s<i.length;s++)l?i[s].style.cursor=l:i[s].style.removeProperty("cursor")}if(!e)return void(a&&(a.parentNode&&a.parentNode.removeChild(a),delete this.Vmarks[t]));if(!o){const e=5;o=new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.B(e,e,e,e)}a=this.Vmarks[t]=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.newSvg("rect");const u=this.getSize();u.x-=o.x,u.y-=o.y,u.w+=o.x+o.w,u.h+=o.y+o.h,_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.setSvgSize(a,u,null),a.setAttributeNS(null,"rx",""+i),a.setAttributeNS(null,"ry",""+s),a.setAttributeNS(null,"stroke",""+n),a.setAttributeNS(null,"stroke-width",""+l),a.setAttributeNS(null,"fill",""+r),this.logic().getModelRoot().graph.vertexContainer.prepend(a)}getStartPoint(e=null){return this.getMidPoint(e)}getEndPoint(e=null){return this.getMidPoint(e)}getMidPoint(e=null){const t=this.getHtml(),n=$(t).find(".EndPoint");let i,s,l;s=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.sizeof(i=0===n.length?t:n[0]);const r=this.owner.toGraphCoordS(s),o=this.getSize();return(l=r.tl()).x+=r.w/2,l.y+=r.h/2,e?(l=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.B.closestIntersection(o,e,l,this.owner.grid),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.isOnEdge(l,o),"not on Vertex edge."),l):l}setSize(e,t=!0,n=!0){if(!e)return;this.size=e;const i=this.getHtmlRawForeign();if(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.setSvgSize(i,this.size,IVertex.defaultSize),t&&this.refreshGUI(),!n)return;const s=this.edgesEnd,l=this.edgesStart;let r;for(r=0;r<s.length;r++)s[r]&&s[r].refreshGui();for(r=0;r<l.length;r++)l[r]&&l[r].refreshGui()}draw(){const style=this.classe.getStyle(),htmlRaw=style.html;_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!(this.classe&&htmlRaw instanceof Element),"class null?",this,htmlRaw),this.setHtmls(this.classe,htmlRaw),this.classe instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.D&&this.drawC(this.classe,htmlRaw),this.classe instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.o&&this.drawE(this.classe,htmlRaw),this.addEventListeners(),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.fixHtmlSelected($(htmlRaw)),this.autosize(!1,!1),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.sb.updateTypeSelectors($(this.getHtml()));let onrefresh=this.htmlForeign.getAttribute("onrefreshgui");const $htmlraw=$(htmlRaw);let i;const parenttmp=htmlRaw.parentNode,next=htmlRaw.nextSibling;parenttmp&&parenttmp.removeChild(htmlRaw);const scripts=$htmlraw.find("script");for(i=0;i<scripts.length;i++){if(!scripts[i].innerHTML.length)continue;const cloned=scripts[i];console.log("eval:",cloned.innerHTML);try{eval(cloned.innerHTML)}catch(e){_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pw(!0,'error in user script of "'+this.logic().printableName()+'":',e,"script:",cloned)}}parenttmp&&(next?parenttmp.insertBefore(htmlRaw,next):parenttmp.appendChild(htmlRaw)),onrefresh&&window[onrefresh](this,this.logic(),htmlRaw)}autosize(e=!0,t=!0,n=!1){const i=this.getHtml(),s=i.dataset.autosize;if(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe("1"!==s&&"t"!==s&&"true"!==s,'foreignObject:first-child must have data-autosize="true", and style {height: 100%;} required for now. html:',i,"foreign:",this.htmlForeign),"1"!==s&&"t"!==s&&"true"!==s)return this;"auto"!==i.style.height&&(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pw(!0,'To use autosize the root node must have "height: auto;", this has been automatically solved. was:'+i.style.height),i.style.height="auto");const l=this.owner.toGraphCoordS(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.sizeof(i));return l.min(IVertex.minSize,!1),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(100===l.h,"",IVertex.minSize,l,i),this.setSize(new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.B(this.size.x,this.size.y,l.w,l.h),e,t),this}drawE_production(e,t){try{return this.drawE0(e,t)}catch(n){}}drawC_production(e,t){try{return this.drawC0(e,t)}catch(n){}}drawE(e,t){return this.drawE0(e,t)}drawC(e,t){return this.drawC0(e,t)}drawE0(e,t){const n=$(this.htmlForeign).find(".LiteralContainer");let i;for(i=0;i<e.childrens.length;i++){const t=this.drawEChild(e.childrens[i]);n.append(t)}}drawC0(e,t){const n=this.htmlForeign,i=$(n).find(".AttributeContainer"),s=$(n).find(".ReferenceContainer"),l=$(n).find(".OperationContainer");let r;for(r=0;r<e.attributes.length;r++){const t=this.drawA(e.attributes[r]);t.id="ID"+e.attributes[r].id,i.append(t)}for(r=0;r<e.references.length;r++){const t=this.drawR(e.references[r]);t.id="ID"+e.references[r].id,s.append(t)}const o=e.getOperations();for(r=0;r<o.length;r++){const e=this.drawO(o[r]);e.id="ID"+o[r].id,l.append(e)}}getStartPointHtml(){const e=this.getHtml(),t=$(e).find(".StartPoint");return t.length>0?t[0]:e}getEndPointHtml(){const e=this.getHtml(),t=$(e).find(".EndPoint");return t.length>0?t[0]:"foreignobject"===e.tagName.toLowerCase()?e.firstChild:e}setHtmls(e,t){const n=this.owner.vertexContainer,i=$(n);n.contains(this.htmlForeign)&&n.removeChild(this.htmlForeign);const s=this.htmlForeign=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.textToSvg(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.replaceVars(e,t,!0).outerHTML),l=$(s);e.linkToLogic(s);const r=l.find("[id]");let o;for(o=0;o<r.length;o++){const e="#"+r[o].id;i.find(e).length&&l.remove(e)}return n.appendChild(s),s.id="ID"+e.id,s.dataset.vertexID=""+this.id,this.size?this.setSize(this.size,!1,!1):this.size=this.getSize(),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe("foreignobject"!==this.htmlForeign.tagName.toLowerCase(),"The custom style root must be a foreignObject node.",this.htmlForeign),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(1!==this.htmlForeign.childNodes.length,"The custom style must have a single child node, without spaces between <foreignObject> and the next tag. found "+this.htmlForeign.childNodes.length+" childrens.",this.htmlForeign,this.htmlForeign.childNodes),s}drawO(e){const t=this.drawTerminal(e),n=$(t),i=n.find(".specialjs.signature");let s;for(s=0;s<i.length;s++){const t=i[0];e.setSignatureHtml(t,", ",+t.dataset.maxargumentchars,+t.dataset.maxarguments)}const l=n.find(".operationDetail");i.off("click.show").on("click.show",t=>{const n=t.target;let i;switch(n.tagName.toLowerCase()){case"input":case"textarea":case"select":i=!0;break;default:i=n instanceof HTMLElement&&n.isContentEditable}i||(e.detailIsOpened=!e.detailIsOpened,e.detailIsOpened?l.show():l.hide(),this.autosize(!1,!0))}),e.detailIsOpened?l.show():l.hide(),n.find("input.name").val(e.name);const r=l.find(".parameterList");let o;for(o=0;o<r.length;o++){const t=r[o],n=t.childNodes[t.childNodes.length-1];for(s=0;s<e.childrens.length;s++){const i=this.drawParam(e.childrens[s]);t.insertBefore(i,n)}}return n.find(".addParameterButton").off("click.add").on("click.add",t=>{e.addParameter(),this.refreshGUI()}),t}drawParam(e){const t=this.drawTerminal(e);return $(t).find("input.name").val(e.name),t}drawEChild(e){return this.drawTerminal(e)}drawA(e){return this.drawTerminal(e)}drawR(e){return this.drawTerminal(e)}drawTerminal(e){e.replaceVarsSetup();const t=e.getStyle().html;_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!t,"failed to get attribute style:",e);const n=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.replaceVars(e,t,!0);return e.linkToLogic(n),n}toEdge(e,t){return _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!0,"vertexToEdge() todo."),null}addEventListeners(){const e=$(this.getHtmlRawForeign());e.off("mousedown.vertex").on("mousedown.vertex",e=>{this.onMouseDown(e)}),e.off("mouseup.vertex").on("mouseup.vertex",e=>{this.onMouseUp(e)}),e.off("mousemove.vertex").on("mousemove.vertex",e=>{this.onMouseMove(e)}),e.off("mouseenter.vertex").on("mouseenter.vertex",e=>{this.onMouseEnter(e)}),e.off("mouseleave.vertex").on("mouseleave.vertex",e=>{this.onMouseLeave(e)}),e.off("click").on("click",e=>{this.onClick(e)}),e.find(".addFieldButton").off("click.addField").on("click.addField",e=>{this.addFieldClick(e)}),e.find(".AddFieldSelect").off("change.addField").on("change.addField",e=>{this.addFieldClick(e)}),e.find("input, select, textarea").off("change.fieldchange").on("change.fieldchange",e=>IVertex.FieldNameChanged(e)),e.off("contextmenu").on("contextmenu",e=>this.vertexContextMenu(e)),e.find(".Attribute, .Reference").off("contextmenu").on("contextmenu",e=>this.featureContextMenu(e));const t={},n={};t.create=(e,t)=>this.measuringInit(t,e),n.create=(e,t)=>this.measuringInit(t,e),t.resize=(e,t)=>this.measuringChanging(t,e),n.drag=(e,t)=>this.measuringChanging(t,e),t.stop=(e,t)=>this.measuringChanged(t,e),n.stop=(e,t)=>this.measuringChanged(t,e),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.measurableElementSetup(e,t,n)}measuringInit(e,t){const n=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.measurableGetArrays(null,t);let i;console.log("measuringInit:",e,t,n);const s=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.sizeof(n.html),l=this.owner.getSize(),r=this.logic();for(i=0;i<n.variables.length;i++)_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.processMeasurableVariable(n.variables[i],r,n.html,s,l);for(i=0;i<n.dstyle.length;i++)_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.processMeasurableDstyle(n.dstyle[i],r,n.html,null,l);for(i=0;i<n.imports.length;i++)_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.processMeasurableImport(n.imports[i],r,n.html,null,l)}measuringChanging(e,t,n=null){const i=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.measurableGetArrays(n,t);console.log("Changing.measurableHtml parsed special attributes:",i),i.imports=[],i.chainFinal=[],_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.processMeasuring(this.logic(),i,e)}measuringChanged(e,t,n=null){const i=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.measurableGetArrays(n,t);console.log("Changed.measurableHtml parsed special attributes:",i),i.chain=[],i.imports=[],_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.processMeasuring(this.logic(),i,e)}clickSetReference(e,t=!0){e&&(e.stopPropagation(),e.preventDefault());const n=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging;if(!n)return;_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pif(t,"setreferenceClick success!");const i=this.logic();i instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.D&&(n.canBeLinkedTo(i)?(n.logic instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.db&&n.logic.linkClass(i,n.getIndex(),!0),n.logic instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.V&&n.logic.setType(i.getEcoreTypeName()),n instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.z?(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.arrayRemoveAll(n.logic.extends,n.end.logic()),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.ArrayAdd(n.logic.extends,this.logic())):_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(n.logic instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.bb,"cst: class edges are currently not supported"),this.mark(!1,"refhover"),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChangingStopTime=Date.now(),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging=null,n.tmpEnd=null,n.useMidNodes=!0,n.useRealEndVertex=!0,n.end=this,n.refreshGui()):_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pif(t,"edge ",n.logic,"cannot be linked to ",i,"hoveringvertex:",this))}onClick(e){IVertex.ChangePropertyBarContentClick(e)}featureContextMenu(e){return _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.c.contextMenu.show(new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.kb(e.pageX,e.pageY),".Feature",e.currentTarget),e.preventDefault(),e.stopPropagation(),!1}vertexContextMenu(e){return _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.c.contextMenu.show(new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.kb(e.pageX,e.pageY),".Vertex",e.currentTarget),e.preventDefault(),e.stopPropagation(),!1}onMouseDown(e){if(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging)return void this.clickSetReference(e);let t=e.target;const n=this.getHtml();for(;t&&t!==n;){if(t.classList.contains("measurable"))return;t=t.parentElement}IVertex.selected=this,"prevent_doublemousedowncheck"===IVertex.selectedGridWasOn.x&&(IVertex.selectedGridWasOn.x=IVertex.selected.owner.grid.x),"prevent_doublemousedowncheck"===IVertex.selectedGridWasOn.y&&(IVertex.selectedGridWasOn.y=IVertex.selected.owner.grid.y),IVertex.selected.owner.grid.x=null,IVertex.selected.owner.grid.y=null,IVertex.selectedStartPt=this.owner.toGraphCoord(new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.kb(e.pageX,e.pageY)),IVertex.selectedStartPt.subtract(this.size.tl(),!1)}onMouseUp(e){if(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging)return void this.clickSetReference(e);const t=IVertex.selected;t&&(t.owner.grid.x=IVertex.selectedGridWasOn.x,t.owner.grid.y=IVertex.selectedGridWasOn.y,IVertex.selectedGridWasOn.x="prevent_doublemousedowncheck",IVertex.selectedGridWasOn.y="prevent_doublemousedowncheck",this.owner.fitToGridS(t.size,!1),this.setSize(this.size,!1,!0),IVertex.selected=null)}onMouseMove(e){}onMouseEnter(e){this.mouseEnterLinkPreview(e)}onMouseLeave(e){this.mouseLeaveLinkPreview(e)}mouseEnterLinkPreview(e){const t=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging;if(!t)return;const n=e.currentTarget;let i=n?_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.hb.getLogic(n):null;_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!(i&&i instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.E),"the currentTarget should point to the vertex root, only classifier should be retrieved.",i,e,n);const s=i instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.D&&t.canBeLinkedTo(i),l=i.getVertex().getSize(),r=new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.B(8,8,8,8);i.getVertex().mark(!0,"refhover",s?"green":"red",(l.w+r.x+r.w)/10,(l.h+r.y+r.h)/10,3,null,r),t.tmpEndVertex=i.getVertex(),t.refreshGui(null,!1),t.refreshGui(null,!1)}mouseLeaveLinkPreview(e,t=!0){if(!_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging)return;const n=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging;_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pif(t,"vertexLeave()"),n.tmpEndVertex=null,n.tmpEnd=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.A.fromEvent(e),this.mark(!1,"refhover")}addFieldClick(e){if(_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChanging||Date.now()-_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.F.edgeChangingStopTime<100)return;const t=this.logic(),n=t instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.T?t:null,i=t instanceof _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.o?t:null;_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!i&&!n,"AddFieldClick should only be allowed on M2-Classes or enumerations."),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!this.classe,"called addFieldClick on a package"),_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.pb.status.debug=!0;const s=this.getHtml();let l;switch((l=$(s).find(".AddFieldSelect")[0]).value.toLowerCase()){default:_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!0,"unexpected select value for addField:"+l.value+' allowed values are: ["Reference", "Attribute", "Operation", "Literal"]');break;case"reference":_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!n,'"Reference" as .AddFieldSelect value is only allowed on M2-classes'),n.addReference();break;case"attribute":_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!n,'"Attribute" as .AddFieldSelect value is only allowed on M2-classes'),n.addAttribute();break;case"operation":_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!n,'"Operation" as .AddFieldSelect value is only allowed on M2-classes'),n.addOperation();break;case"literal":_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!i,'"Literal" as .AddFieldSelect value is only allowed on Enumerations'),i.addLiteral()}}setFields(e){this.fields=e}setGraph(e){_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!e,"Vertex should only be created after Graph initialization."),this.owner=e}refreshGUI(){this.draw()}moveTo(e,t=!1){const n=this.size;t||(e=this.owner.fitToGrid(e)),this.setSize(new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.B(e.x,e.y,n.w,n.h),!1,!0)}logic(e=null){return e?this.classe=e:this.classe}getHtmlRawForeign(){return this.htmlForeign}getHtml(){return this.htmlForeign.firstChild}minimize(){_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(!0,"minimize() to do.")}isDrawn(){return!(!this.htmlForeign||!this.htmlForeign.parentNode)}pushDown(){if(!this.isDrawn())return;const e=this.htmlForeign,t=e.parentNode;t.removeChild(e),t.appendChild(e)}pushUp(){if(!this.isDrawn())return;const e=this.htmlForeign,t=e.parentNode;t.removeChild(e),t.prepend(e)}remove(){let e,t;for(console.log("IVertex.delete();"),t=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.ArrayCopy(this.edgesStart,!1),e=0;e<t.length;e++)t[e].remove();for(t=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.ArrayCopy(this.edgesEnd,!1),e=0;e<t.length;e++)t[e].remove();const n=this.htmlForeign;n.parentNode.removeChild(n),delete IVertex.all[this.id];for(const s in this.Vmarks){if(this.Vmarks[s])continue;const e=this.Vmarks[s];e.parentNode&&e.parentNode.removeChild(e)}_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.arrayRemoveAll(this.owner.vertex,this),this.classe.vertex=null;const i=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.ArrayCopy(this.fields,!1);for(e=0;e<i.length;e++)i[e].remove();this.owner=null,this.size=null,this.edgesStart=null,this.edgesEnd=null}getSize(e=!1){const t=this.htmlForeign;let n;e&&(n=this.size?this.size.duplicate():null,this.size&&this.owner.markgS(this.size,!0,"blue"));const i=this.size=_common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.getSvgSize(t,IVertex.minSize);return _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.ub.pe(e&&!n.equals(i),"Wrong size. this:",this),this.size}isMarkedWith(e,t=null){return!(!this.Vmarks.hasOwnProperty(e)||t&&this.Vmarks[e].getAttributeNS(null,"stroke")!==t)}}return IVertex.all={},IVertex.ID=0,IVertex.selected=null,IVertex.selectedGridWasOn=IVertex.staticinit(),IVertex.selectedStartPt=null,IVertex.oldEdgeLinkHoveringVertex=null,IVertex.minSize=new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.B(null,null,200,30),IVertex.defaultSize=new _common_Joiner__WEBPACK_IMPORTED_MODULE_0__.B(5,5,201,41),IVertex})()},"6FtA":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return InputPopup})),__webpack_require__.d(__webpack_exports__,"h",(function(){return ShortAttribETypes})),__webpack_require__.d(__webpack_exports__,"j",(function(){return U})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AttribETypes})),__webpack_require__.d(__webpack_exports__,"f",(function(){return Json})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DetectZoom})),__webpack_require__.d(__webpack_exports__,"i",(function(){return Size})),__webpack_require__.d(__webpack_exports__,"d",(function(){return GraphSize})),__webpack_require__.d(__webpack_exports__,"c",(function(){return GraphPoint})),__webpack_require__.d(__webpack_exports__,"g",(function(){return Point}));var _Joiner__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2/r/"),detect_zoom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("h9Ux"),detect_zoom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(detect_zoom__WEBPACK_IMPORTED_MODULE_1__);class Dictionary extends Object{}class MeasurableArrays{}class myFileReader{static setinfos(e=null,t,n){myFileReader.fileTypes=e||myFileReader.fileTypes,console.log("fileTypes:",myFileReader.fileTypes,e),myFileReader.input=document.createElement("input");const i=myFileReader.input;myFileReader.onchange=function(e){if(!n)return void t(e,i.files,null);let s={},l=0;for(let n=0;n<i.files.length;n++){const r=i.files[n];console.log("filereadContent["+n+"]( file:",r,")"),U.fileReadContent(r,r=>{if(console.log("file["+n+"] read complete. done: "+(1+l)+" / "+i.files.length,"contentObj:",s),s[n]=r,++l===i.files.length){const n=[];for(let e=0;e<i.files.length;e++)n.push(s[e]);t(e,i.files,n)}})}}||myFileReader.onchange}static reset(){myFileReader.fileTypes=null,myFileReader.onchange=null,myFileReader.input=null}static show(e,t=null,n){if(myFileReader.setinfos(t,e,n),myFileReader.input.setAttribute("type","file"),myFileReader.fileTypes){let e="";const t=U.getStartSeparatorKey();for(let n=0;n<myFileReader.fileTypes.length;n++)e+=U.startSeparator(t,",")+myFileReader.fileTypes[n];myFileReader.input.setAttribute("accept",e)}console.log("fileTypes:",myFileReader.fileTypes,"input:",myFileReader.input),$(myFileReader.input).on("change.custom",myFileReader.onchange).trigger("click"),myFileReader.reset()}}let InputPopup=(()=>{class e{constructor(t,n,i,s,l=null,r,o="input",a=null){r||(r="");const u="popup_"+e.popupCounter++;let c;l=l?'placeholder="'+l+'"':"",a=a?'type = "'+a+'"':"","textarea"===o.toLowerCase()?(c=U.replaceAll(U.replaceAll(r,"<","&lt;"),">","&gt;"),c+="</"+o+">",r=""):(r=""===r?"":'value="'+U.replaceAll(r,'"',"&quot;")+'"',c="");const h=U.toHtml('<div _ngcontent-c3="" data-closebuttontarget="'+u+'" class="screenWideShadow" style="display: none;"><div _ngcontent-c3="" class="popupContent"><h1 _ngcontent-c3="" style="text-align: center;">'+t+'</h1><button _ngcontent-c3="" class="closeButton" data-closebuttontarget="'+u+'">X</button><br _ngcontent-c3=""><div _ngcontent-c3="" class="TypeList"><table class="typeTable"><tbody><tr class="typeRow"><td class="alias textPre">'+n+"</td><"+o+" "+a+" "+l+" "+r+' class="form-control popupInput" aria-label="Small" aria-describedby="inputGroup-sizing-sm">'+c+i+"</td></tr></tbody></table></div></div></div>"),d=$(h).find("input");U.closeButtonSetup($(h));let p=-1;for(;++p<s.length;){const e=s[p];d.on(e[0],e[1])}this.html=h,"textarea"===o&&this.getInputNode()[0].setAttribute("style","width: calc(75vw - 152px); height: calc(75vh - 200px);"),this.show()}getInputNode(){return $(this.html).find(".popupInput")}show(){document.body.appendChild(this.html),this.html.style.display="block"}hide(){this.html.style.display="none"}destroy(){if(this.html&&this.html.parentNode)return this.html.parentNode.removeChild(this.html),this.html=null}addOkButton(e,t){const n=this.getInputNode()[0],i=document.createElement("button");i.innerText="Confirm";const s=U.sizeof(i);i.style.left="calc( 50% - "+s.w/2+"px);",n.parentNode.appendChild(i),$(i).on("click.btnclickpopup",t)}setPostText(e){$(this.html).find(".textPre")[0].innerHTML=e}}return e.popupCounter=0,e})();var ShortAttribETypes=function(e){return e.void="void",e.EChar="Echar",e.EString="EString",e.EDate="EDate",e.EFloat="EFloat",e.EDouble="EDouble",e.EBoolean="EBoolean",e.EByte="EByte",e.EShort="EShort",e.EInt="EInt",e.ELong="ELong",e}({});let U=(()=>{class U{static checkDblClick(){const e=(new Date).getTime(),t=U.dblclickchecker;return U.dblclickchecker=e,console.log("dblclick time:",e-t,e,t),e-t<=U.dblclicktimerms}static firstToUpper(e){return e&&""!==e?e.charAt(0).toUpperCase()+e.slice(1):e}static fileReadContent(e,t){const n=/text.*/;try{if(!e.type||e.type.match(n)){let n=new FileReader;return n.onload=function(e){t(""+n.result)},void n.readAsText(e)}}catch(i){U.pe(!0,"Exception while trying to read file as text. Error: |",i,"|",e)}U.pe(!0,"Wrong file type found: |",e?e.type:null,"|",e)}static fileRead(e,t=null,n){myFileReader.show(e,t,n)}static textToSvg(e){return U.textToSvgArr(e)[0]}static textToSvgArr(e){U.varTextToSvg||(U.varTextToSvg=U.newSvg("svg")),U.varTextToSvg.innerHTML=e;const t=[];let n;for(n=0;n<U.varTextToSvg.childNodes.length;n++)t.push(U.varTextToSvg.childNodes[n]);return t}static addCss(e,t,n=!0){const i=document.createElement("style");i.innerHTML=t;const s=U.addCssAvoidDuplicates[e];s&&s.parentNode.removeChild(s),U.addCssAvoidDuplicates[e]=i,n?document.head.prepend(i):document.head.append(i)}static clear(e){for(;e.firstChild;)e.removeChild(e.firstChild)}static clearAllTimeouts(){const e=setTimeout(()=>{},1);for(let t=0;t<e;t++)clearTimeout(t)}static petmp(e,t,...n){return U.pe(e,t,n)}static pe(e,t,...n){if(!e)return null;null==n&&(n=[]);let i="Error:"+t;console.error("pe[0/"+(n.length+1)+"]: ",t);for(let s=0;s<n.length;s++)i+="pe["+(s+1)+"/"+(n.length+1)+"]: "+(t=n[s])+"\t\t\r\n",console.error("pe["+(s+1)+"/"+(n.length+1)+"]: ",t);return U.production?U.pw(!0,t,...n):alert(i),e["@makeMeCrash"]["@makeMeCrash"]}static pw(e,t,...n){if(!e)return null;null==n&&(n=[]),console.trace();let i="Warning:"+t;console.warn("pw[0/"+(n.length+1)+"]: ",t);for(let s=0;s<n.length;s++)i+="pw["+(s+1)+"/"+(n.length+1)+"]: "+(t=n[s])+"\t\t\r\n",console.warn("pw["+(s+1)+"/"+(n.length+1)+"]: ",t);return U.bootstrapPopup(i,"warning",5e3),i}static ps(e,t,...n){if(!e)return null;null==n&&(n=[]);let i=t+"";console.info("ps[0/"+(n.length+1)+"]: ",t);for(let s=0;s<n.length;s++)i+="ps["+(s+1)+"/"+(n.length+1)+"]: "+(t=n[s])+"\t\t\r\n",console.info("pw["+(s+1)+"/"+(n.length+1)+"]: ",t);return U.bootstrapPopup(i,"success",3e3),i}static pif(e,t,...n){if(!e)return null;null==n&&(n=[]);let i="p: "+t;console.info("p:",t);for(let s=0;s<n.length;s++)i+="p["+(s+1)+"/"+n.length+"]: "+(t=n[s])+"\t\t\r\n",console.info("p["+(s+1)+"/"+n.length+"]: ",t);return i}static p(e,...t){null==t&&(t=[]);let n="p: "+e;console.info("p:",e);for(let i=0;i<t.length;i++)n+="p["+(i+1)+"/"+t.length+"]: "+(e=t[i])+"\t\t\r\n",console.info("p["+(i+1)+"/"+t.length+"]: ",e);return n}static bootstrapPopup(e,t,n){const i=document.createElement("div");U.$alertcontainer||(U.alertcontainer=document.createElement("div"),U.alertcontainer.classList.add("alertcontainer"),document.body.appendChild(U.alertcontainer),U.$alertcontainer=$(U.alertcontainer));const s=U.alertcontainer,l=$(i);s.appendChild(i),i.classList.add("alertshell"),document.body.appendChild(s),i.setAttribute("role","alert");const r=document.createElement("div");r.innerHTML=e,r.classList.add("alert"),r.classList.add("alert-"+t),i.appendChild(r);const o=()=>{l.slideUp(400,()=>{s.removeChild(i)})};l.hide().slideDown(200,()=>setTimeout(o,n))}static cloneHtml(e,t=!0,n=1){const i=e.cloneNode(t);if(!i.id)return i;let s=(e=>{let t=e.length;for(;--t>0&&!isNaN(+e.charAt(t)););const i=e.substring(t);return isNaN(+i)?n:+i})(i.id)-1;const l=i.id+(-1===i.id.indexOf("_Clone")?"_Clone":"");for(;document.getElementById(l+ ++s););return i.id=l+s,i}static clearAttributes(e){let t;for(t=0;t<e.attributes.length;t++)e.removeAttribute(e.attributes[t].name)}static cloneObj(e){return JSON.parse(JSON.stringify(e))}static cloneObj2(e){return U.pe(!0,"todo: dovrebbe fare una deep copy copiando anche le funzioni (cosa che json.stringify non fa)."),null}static loadScript(e,t=!1){const n=document.createElement("script");n.src=e,n.type="text/javascript",U.pe(t,"useEval: todo. potrebbe essere utile per avviare codice fuori dalle funzioni in futuro."),document.body.append(n)}static newSvg(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}static measurableGetArrays(e,t){if(!e){if(!(e=t.target||t.currentTarget)||e===document){for(e=t.target;e&&!e.classList.contains("measurable");)e=e.parentElement;U.pe(!e," failed to get measurableRoot. evt:",t)}e.classList.contains("ui-wrapper")&&!e.classList.contains("measurable")&&e.firstChild.classList.contains("measurable")&&(e=e.firstChild)}const n={};let i;for(n.e=t,n.html=e,n.rules=[],n.constraints=[],n.rules=[],n.imports=[],n.exports=[],n.variables=[],n.constraints=[],n.chain=[],n.chainFinal=[],n.dstyle=[],i=0;i<e.attributes.length;i++){const t=e.attributes[i],s=t.name.toLowerCase();0===s.indexOf("_")&&(0!==s.indexOf("_rule")?0!==s.indexOf("_import")?0!==s.indexOf("_export")?0!==s.indexOf("_constraint")?0!==s.indexOf("_chain")?0!==s.indexOf("_chainfinal")?0!==s.indexOf("_dstyle")?n.variables.push(t):n.dstyle.push(t):n.chainFinal.push(t):n.chain.push(t):n.constraints.push(t):n.exports.push(t):n.imports.push(t):n.rules.push(t))}return n}static measurableElementSetup(e,t=null,n=null){e.find(".measurable").addBack(".measurable").each((e,i)=>U.measurableElementSetupSingle(i,t,n))}static measurableElementSetupSingle(elem,resizeConfig=null,dragConfig=null){if(elem.classList&&elem.classList.contains("measurable")&&elem!==document){U.resizableBorderSetup(elem),resizeConfig||(resizeConfig={}),dragConfig||(dragConfig={}),resizeConfig.create=resizeConfig.create||eval(elem.dataset.r_create),resizeConfig.resize=resizeConfig.resize||eval(elem.dataset.r_resize),resizeConfig.start=resizeConfig.start||eval(elem.dataset.r_start),resizeConfig.stop=resizeConfig.stop||eval(elem.dataset.r_stop),dragConfig.create=dragConfig.create||eval(elem.dataset.d_create),dragConfig.drag=dragConfig.drag||eval(elem.dataset.d_drag),dragConfig.start=dragConfig.start||eval(elem.dataset.d_start),dragConfig.stop=dragConfig.stop||eval(elem.dataset.d_stop);for(const e in resizeConfig)!resizeConfig[e]&&elem.dataset["r_"+e]&&(resizeConfig[e]=elem.dataset["r_"+e]);for(const e in dragConfig)!dragConfig[e]&&elem.dataset["d_"+e]&&(dragConfig[e]=elem.dataset["d_"+e]);$(elem).resizable(resizeConfig).draggable(dragConfig)}else U.pw(!0,"invalid measurable:",elem,!elem.classList,"||",!elem.classList.contains("measurable"))}static replaceVars(e,t,n=!0,i=!1){const s=n?U.cloneHtml(t):t;return U.pe(!(s instanceof Element),"target must be a html node.",s,t),s.innerHTML=U.replaceVarsString(e,s.innerHTML,i),U.pif(i,"ReplaceVars() return = ",s.innerHTML),s}static replaceVarsString0(e,t,n=null,i=null,s=!1){return U.pe(n&&!i,"replacer cannot be null if escapeChar is defined."),U.pe(i&&!n,"escapeChar cannot be null if replacer is defined"),n||i||(n=i=[]),U.pe(n.length!==i.length,"replacer and escapeChar must be arrays of the same length"),t.replace(/(^\$|(((?!\$).|^))[\$](?!\$))(.*?)(^\$|((?!\$).|^)[\$](?!\$))/gm,(t,l)=>{if("$"===t)return"";let r="";"$"!==t.charAt(0)&&(r=t.charAt(0),t=t.substring(1));const o="1"===t.charAt(1)||"#"!==t.charAt(1),a="1"===t.charAt(2)||"#"!==t.charAt(2),u=t.substring(3,t.length-1),c=u+"("+t+")";U.pif(s,"match:",t);const h=U.replaceSingleVar(e,u,a,!1);let d=h[h.length-1].value;if(d!==""+d)try{d=JSON.stringify(d)}catch(f){d="{_Cyclic object_}"}let p=-1;if(U.pif(s,"replaceSingleVar: ",t,", arr",h,", ret",d,", this:",e),!o)for(;++p<n.length;)d=U.replaceAll(d,n[p],i[p]);return U.pif(s,"replaceSingleVar: "+c+" --\x3e "+d+" --\x3e "+r,d,e),U.isObject(d),r+d})}static replaceVarsString(e,t,n=!1){return U.pe(!e||!t,"parameters cannot be null. obj:",e,", htmlString:",t),t=U.QuoteReplaceVarString(e,t,'"',n),t=U.QuoteReplaceVarString(e,t,"'",n),U.replaceVarsString0(e,t,["<",">"],["&lt;","&gt;"])}static QuoteReplaceVarString(e,t,n,i=!1){U.pe('"'!==n&&"'"!==n,"the only quote supported are single chars \" and '.");const s="&quot;"===n?"":"&#39;";let l='""|(:?[^\\\\](?!"")|^)((:?\\\\\\\\)*\\"(:?.*?[^\\\\"]+){0,1}(:?\\\\\\\\)*\\")';'"'!==n&&(l=U.replaceAll(l,'"',"'"));const r=new RegExp(l,"g");return t=t.replace(r,(l,r)=>{const o=l.indexOf(n),a=l.lastIndexOf(n),u=U.replaceVarsString0(e,l.substring(o+1,a),[n],[s],i),c=l.substring(0,o+1)+u+l.substring(a);return U.pif(i,"replaceQuotedVars: match: |"+l+"| --\x3e |"+u+"| --\x3e |"+c+"| html:",t,"capt:",r),c})}static replaceSingleVarGetParentAndChildKey(e,t,n=!1){const i={parent:null,childkey:null};let s;const l=t.indexOf("."),r="1"===t.charAt(2)||"#"!==t.charAt(2);if(U.pe(r,"currently this method does not support base64 encoded templates. the conversion is still to do.",t),-1===l)return i.parent=e,i.childkey=t.substring(3,t.length-1),i;try{s=t.substring(0,l)+"$";const n=U.replaceSingleVarRaw(e,s);i.parent=n[n.length-1].value,i.childkey=t.substring(l+1,t.length-1)}catch(o){return U.pw(!0,"replaceSingleVarGetParentAndChildKey failed. fullpattern: |"+t+"| targetPatternParent: |"+s+"| obj: ",e," reason: ",o),null}return i}static replaceSingleVarRaw(e,t,n=!1){const i="1"===(t=t.trim()).charAt(2)||"#"!==t.charAt(2),s=t.substring(3,t.length-1);return U.replaceSingleVar(e,s,i,n)}static replaceSingleVar(e,t,n,i=!1){let s="";n&&(t=atob(t));let l=e;const r=t,o=t.split("."),a=[];let u,c=null;for(u=0;u<o.length;u++){if(a.push({token:null===c?"this":c,value:l}),U.pif(!1,"replacer: obj[req] = ",l,"[",c=o[u],"] =",l?l[c]:""),null==l){if(U.pe(!1,"requested null or undefined:",e,", canthrow ? ",i,", fillplath:",r),i)throw U.pif(!1,"wrong variable path:",s+"."+c,": "+c+" is undefined. object = ",e),new DOMException("replace_Vars.WrongVariablePath","replace_Vars.WrongVariablePath");return U.pif(!1,"wrong variable path:",s+"."+c,": "+c+" is undefined. ovjet = ",e),a.push({token:c,value:"Error: "+s+"."+c+" = "+void 0}),a}if(s+=(""===s?"":".")+c,l instanceof _Joiner__WEBPACK_IMPORTED_MODULE_0__.hb){const e=l.getInfo(!0),t=c.toLowerCase();l=t in e?e[t]:l[c]}else l=null===l?void 0:l[c]}return a.push({token:c,value:l}),a}static replaceSingleVar_backup(e,t,n,i=!1){let s="";n&&(t=atob(t));let l=e;const r=t,o=t.split(".");let a;for(a=0;a<o.length;a++){const t=o[a];if(U.pif(!1,"replacer: obj[req] = ",l,"[",t,"] =",l?l[t]:""),null==l){if(U.pe(!1,"requested null or undefined:",e,", canthrow ? ",i,", fillplath:",r),i)throw U.pif(!1,"wrong variable path:",s+"."+t,": "+t+" is undefined. object = ",e),new DOMException("replace_Vars.WrongVariablePath","replace_Vars.WrongVariablePath");return U.pif(!1,"wrong variable path:",s+"."+t,": "+t+" is undefined. ovjet = ",e),"Error: "+s+"."+t+" = "+void 0}if(s+=(""===s?"":".")+t,l instanceof _Joiner__WEBPACK_IMPORTED_MODULE_0__.hb){const e=l.getInfo(!0),n=t.toLowerCase();l=n in e?e[n]:l[t]}else l=null===l?void 0:l[t]}return l}static changeVarTemplateDelimitersInMeasurables(e,t="$",n="\xa3"){if(!e.indexOf("measurable"))return e;const i=document.createElement("div");i.innerHTML=e;const s=$(i).find(".measurable");let l,r;for(l=0;l<s.length;l++)for(r=0;r<s[l].attributes.length;r++)"_"===s[l].attributes[r].name[0]&&U.changeVarTemplateDelimitersInMeasurablesAttr(s[l].attributes[r],t,n);return i.innerHTML}static changeBackVarTemplateDelimitersInMeasurablesAttr(e,t="\xa3",n="$"){return U.changeVarTemplateDelimitersInMeasurablesAttrStr(e,t,n)}static changeVarTemplateDelimitersInMeasurablesAttr(e,t="$",n="\xa3"){e.value=U.changeVarTemplateDelimitersInMeasurablesAttrStr(e.value,t,n)}static changeVarTemplateDelimitersInMeasurablesAttrStr(e,t,n){return e.replace(new RegExp("(^\\"+t+"|(((?!\\"+t+").|^))[\\"+t+"](?!\\"+t+"))(.*?)(^\\"+t+"|((?!\\"+t+").|^)[\\"+t+"](?!\\"+t+"))","gm"),(e,i)=>{if(e===t)return t;let s="";return e.charAt(0)!==t&&(s=e.charAt(0),e=e.substring(1)),s+n+e.substring(1,e.length-1)+n})}static sizeof(e,t=!1){U.pif(t,"sizeof(",e,")"),U.pe(e===document,"trying to measure document."),e===document&&(e=document.body);const n=$(e);let i,s,l;U.pe("foreignObject"===e.tagName,"SvgForeignElementObject have a bug with size, measure a child instead."),U.sizeofvar||(U.sizeofvar=document.createElement("div"),document.body.append(U.sizeofvar));const r=null===e.parentNode,o=U.ancestorArray(e),a=[];for(r&&U.sizeofvar.append(e),i=0;i<o.length;i++)a[i]=void 0===o[i].style||"none"!==o[i].style.display,a[i]||$(o[i]).show();for(s=n.offset(),l=new Size(s.left,s.top,0,0),s=e.getBoundingClientRect(),l.w=s.width,l.h=s.height,i=0;i<o.length;i++)a[i]||$(o[i]).hide();return r&&U.clear(U.sizeofvar),l}static iterateDescendents(e){return e.getElementsByTagName("*")}static ancestorArray(e){if(null==e)return[];const t=[e];let n=e.parentNode;for(;null!==n;)t.push(n),n=n.parentNode;return t}static toSvg(e){U.pe(!0,"toSvg maybe not working, test before use");const t=U.newSvg("svg");return t.innerHTML=e,t.firstChild}static toHtmlRow(e){return U.toHtml(e,U.toHtml("<table><tbody></tbody></table>").firstChild)}static toHtmlCell(e){return U.toHtml(e,U.toHtml("<table><tbody><tr></tr></tbody></table>").firstChild.firstChild)}static toHtml(e,t=null,n="div"){null===t&&(t=document.createElement(n)),t.innerHTML=e;const i=t.firstChild;return t.removeChild(i),i}static toBase64Image(e,t=null,n="div"){return"HtmlToImage todo: check https://github.com/tsayen/dom-to-image"}static isParentOf(e,t){for(;null!==t;){if(e===t)return!0;t=t.parentNode}return!1}static isChildrenOf(e,t){return U.isParentOf(t,e)}static setSvgSize(e,t,n){if(e)return t?t=t.duplicate():(t=n.duplicate(),n=null),U.isNumber(t.x)||(U.pw(!0,"VertexSize Svg x attribute is NaN: "+t.x+(n?" will be set to default: "+n.x:"")),U.pe(!n||!U.isNumber(n.x),"Both size and defaultsize are null.",t,n,e),t.x=n.x),U.isNumber(t.y)||(U.pw(!0,"VertexSize Svg y attribute is NaN: "+t.y+(n?" will be set to default: "+n.y:"")),U.pe(!n||!U.isNumber(n.y),"Both size and defaultsize are null.",t,n,e),t.y=n.y),U.isNumber(t.w)||(U.pw(!0,"VertexSize Svg w attribute is NaN: "+t.w+(n?" will be set to default: "+n.w:"")),U.pe(!n||!U.isNumber(n.w),"Both size and defaultsize are null.",t,n,e),t.w=n.w),U.isNumber(t.h)||(U.pw(!0,"VertexSize Svg h attribute is NaN: "+t.h+(n?" will be set to default: "+n.h:"")),U.pe(!n||!U.isNumber(n.h),"Both size and defaultsize are null.",t,n,e),t.h=n.h),e.setAttributeNS(null,"x",""+t.x),e.setAttributeNS(null,"y",""+t.y),e.setAttributeNS(null,"width",""+t.w),e.setAttributeNS(null,"height",""+t.h),t}static getSvgSize(e,t=null,n=null){const i=new GraphSize(0,0,200,99),s=new GraphSize(+e.getAttribute("x"),+e.getAttribute("y"),+e.getAttribute("width"),+e.getAttribute("height")),l=s.duplicate();return U.isNumber(l.x)||(U.pw(!0,"Svg x attribute is NaN: "+e.getAttribute("x")+" will be set to default: "+i.x),l.x=i.x),U.isNumber(l.y)||(U.pw(!0,"Svg y attribute is NaN: "+e.getAttribute("y")+" will be set to default: "+i.y),l.y=i.y),U.isNumber(l.w)||(U.pw(!0,"Svg w attribute is NaN: "+e.getAttribute("width")+" will be set to default: "+i.w),l.w=i.w),U.isNumber(l.h)||(U.pw(!0,"Svg h attribute is NaN: "+e.getAttribute("height")+" will be set to default: "+i.h),l.h=i.h),t&&(U.isNumber(t.x)&&l.x<t.x&&(l.x=t.x),U.isNumber(t.y)&&l.y<t.y&&(l.y=t.y),U.isNumber(t.w)&&l.w<t.w&&(l.w=t.w),U.isNumber(t.h)&&l.h<t.h&&(l.h=t.h)),n&&(U.isNumber(n.x)&&l.x>n.x&&(l.x=n.x),U.isNumber(n.y)&&l.y>n.y&&(l.y=n.y),U.isNumber(n.w)&&l.w>n.w&&(l.w=n.w),U.isNumber(n.h)&&l.h>n.h&&(l.h=n.h)),l.equals(s)||U.setSvgSize(e,l,null),l}static findMetaParent(e,t,n,i=!0){const s=e.getModelRoot();if("MetaMetaModel"===U.getClass(s))return U.pif(i,"return null;"),null;if("MetaModel"===U.getClass(s))return U.pif(i,"return null;"),null;if("Model"===U.getClass(s)&&"Model"===U.getClass(e))return U.pif(i,"return: ",e.metaParent.childrens[0]),e.metaParent.childrens[0];const l=e.metaParent,r=Json.read(t,_Joiner__WEBPACK_IMPORTED_MODULE_0__.yb.namee,null);let o,a=null;for(U.pif(i,"finding metaparent of:",t,"parent:",e,"parent.metaparent:",l,"childrens:",l?l.childrens:"null parent"),o=0;o<l.childrens.length;o++){const e=l.childrens[o],t=e.name;if(U.pif(i,"check["+o+"/"+l.childrens.length+"] "+t+" =?= "+r+" ? "+(t===r)),t===r){a=e;break}}return U.pif(i,"return: ",a),U.pe(null==a&&!n,"metaParent not found. metaParentParent:",l,"metaParentName:",r,"parent:",e,"json:",t),a}static arrayRemoveAll(e,t,n=!1){let i;for(;;){if(i=e.indexOf(t),U.pif(n,"ArrayRemoveAll: index: ",i,"; arr:",e,"; elem:",t),-1===i)return;e.splice(i,1),U.pif(n,"ArrayRemoveAll RemovedOne:",e)}}static eventiDaAggiungereAlBody(e){}static isOnEdge(e,t){return U.isOnHorizontalEdges(e,t)||U.isOnVerticalEdges(e,t)}static isOnVerticalEdges(e,t){return U.isOnLeftEdge(e,t)||U.isOnRightEdge(e,t)}static isOnHorizontalEdges(e,t){return U.isOnTopEdge(e,t)||U.isOnBottomEdge(e,t)}static isOnRightEdge(e,t){return e&&t?e.x===t.x+t.w&&e.y>=t.y&&e.y<=t.y+t.h:null}static isOnLeftEdge(e,t){return e&&t?e.x===t.x&&e.y>=t.y&&e.y<=t.y+t.h:null}static isOnTopEdge(e,t){return e&&t?e.y===t.y&&e.x>=t.x&&e.x<=t.x+t.w:null}static isOnBottomEdge(e,t){return e&&t?e.y===t.y+t.h&&e.x>=t.x&&e.x<=t.x+t.w:null}static makeEvalContext(declarations){return eval(declarations),str=>eval(str)}static evalInContext(context,js){let value;try{value=eval("with(context) { "+js+" }")}catch(e){e instanceof SyntaxError&&(value=new Function("with(this) { "+js+" }").call(context))}return value}static multiReplaceAllKV(e,t=[]){const n=[],i=[];let s;for(s=0;s<t.length;s++)n.push(t[s][0]),i.push(t[s][0]);return U.multiReplaceAll(e,n,i)}static multiReplaceAll(e,t=[],n=[]){U.pe(!(t.length===n.length),"search and replacement must be have same length:",t,n);let i=-1;for(;++i<t.length;)e=U.replaceAll(e,t[i],n[i]);return e}static toFileName(e="nameless.txt"){return e||(e="nameless.txt"),U.multiReplaceAll(e.trim(),["\\","//",":","*","?","<",">",'"',"|"],["[lslash]","[rslash]",";","\xb0","_","{","}","'","!"])}static download(e="nameless.txt",t=null,n=!0){if(!t)return;e=U.toFileName(e);const i=document.createElement("a"),s=new Blob([t],{type:"text/plain",endings:"native"}),l=URL.createObjectURL(s);U.pif(n,t+"|\r\n| <-- rn, |\n| <--n."),i.style.display="none",i.href=l,i.download=e,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(l),document.body.removeChild(i)}static trunc(e){return Math.trunc?Math.trunc(e):Math.floor&&Math.ceil?Math[e>0?"floor":"ceil"](e):Number(String(e).replace(/\..*/,""))}static closeButtonSetup(e,t=!1){e.find(".closeButton").off("click.closeButton").on("click.closeButton",e=>{let n=e.target;const i=n.dataset.closebuttontarget;for(U.pif(t,"html:",n=n.parentNode,"target:",e.target,"targetstr:",i,"dataset:",e.target.dataset);n&&n.dataset.closebuttontarget!==i;)U.pif(t,"html:",n,", data:",n.dataset.closebuttontarget," === "+i),n=n.parentNode;U.pif(t,"html:",n),U.pe(!n,"closeTarget not found: event trigger:",e.target,"html:",n),$(n).hide()})}static insertAt(e,t,n){const i=e.length,s=e.splice(t,0,n);U.pe(i+1!==e.length,i+" --\x3e "+e.length+"; arr not growing. ret:",s,e)}static setViewBox(e,t=null){t||((t=new Size).x=t.y=t.w=t.h=null);let n=+t.x,i=+t.y,s=+t.w,l=+t.h,r=null;isNaN(n)&&(n=0),isNaN(i)&&(i=0),isNaN(s)&&(s=r?r.w:(r=U.sizeof(e)).w),isNaN(l)&&(l=r?r.h:(r=U.sizeof(e)).h),e.setAttributeNS(null,"viewBox",n+" "+i+" "+s+" "+l)}static getViewBox(e){const t=e.getAttributeNS(null,"viewbox");if(!t)return U.sizeof(e);const n=t.split(" ");let i=new Size(0,0,0,0);return isNaN(+n[0])?((i=U.sizeof(e)).x=i.y=0,i):(i.x=+n[0],isNaN(+n[1])?((i=U.sizeof(e)).x=i.y=0,i):(i.y=+n[1],isNaN(+n[2])?((i=U.sizeof(e)).x=i.y=0,i):(i.w=+n[2],isNaN(+n[3])?((i=U.sizeof(e)).x=i.y=0,i):(i.h=+n[3],i))))}static selectHtml(e,t,n=!1){const i=$(e).find("option");let s,l=!1;if(null!=t){for(s=0;s<i.length;s++){const e=i[s];e.value===t&&(e.selected=l=!0)}U.pw(!l,"SelectOption not found. html:",e,", searchingFor: |"+t+"|, in options:",i),U.pe(!l&&!n,"SelectOption not found. html:",e,", searchingFor: |"+t+"| in options:",i)}}static tabSetup(e=document.body){$(".UtabHeader").off("click.tabchange").on("click.tabchange",U.tabClick),$(".UtabContent").hide();const t=$(".UtabContainer");let n;for(n=0;n<t.length;n++){const e=t[n].dataset.selectedtab,i=$(t[n]).find('>.UtabHeaderContainer>.UtabHeader[data-target="'+e+'"]');U.pe(1!==i.length,"tab container must select exactly one tab. found instead: "+i.length,"tabRoot:",t[n],"selector:",e),i.trigger("click")}}static tabClick(e){let t=e.currentTarget;const n=t.dataset.target;for(;t&&!t.classList.contains("UtabContainer");)t=t.parentNode;const i=$(t),s=t.dataset.selectedtab;t.dataset.selectedtab=n;const l=i.find('>.UtabContentContainer>.UtabContent[data-target="'+n+'"]');U.pe(1!==l.length,"tab target count ("+l.length+") is !== 1");const r=i.find('>.UtabContentContainer>.UtabContent[data-target="'+s+'"]');U.pe(1!==r.length,"oldTab target count ("+r.length+") is !== 1");const o=i.find('>.UtabHeaderContainer>.UtabHeader[data-target="'+s+'"]');U.pe(1!==o.length,"oldTabHeader target count ("+o.length+") is !== 1");const a=i.find('>.UtabHeaderContainer>.UtabHeader[data-target="'+n+'"]');U.pe(1!==a.length,"TabHeader target count ("+a.length+") is !== 1"),"true"!==l[0].getAttribute("selected")&&(o[0].setAttribute("selected","false"),a[0].setAttribute("selected","true"),r.slideUp(),l.slideDown())}static removeemptynodes(e,t=!1,n=!1){let i;for(i=0;i<e.childNodes.length;i++){const s=e.childNodes[i];switch(U.pif(n,"removeEmptyNodes: ",s.nodeType),s.nodeType){default:break;case 1:U.removeemptynodes(s,t);break;case 2:case 8:break;case 3:let l,r=s.nodeValue;for(l=0;l<r.length;l++){let e=!1;switch(r[l]){default:e=!0;break;case"&nbsp":t?r[l]=" ":e=!0;break;case" ":case"\n":case"\r":r[l]=" "}if(e)break}for(l=r.length;l>=0;l--){let e=!1;switch(r[l]){default:e=!0;break;case"&nbsp":t?r[l]=" ":e=!0;break;case" ":case"\n":case"\r":r[l]=" "}if(e)break}r=r.trim(),U.pif(n,"txt: |"+e.nodeValue+"| --\x3e |"+r+"| delete?",/^[\n\r ]*$/g.test(r)),""===r?(e.removeChild(s),i--):e.nodeValue=r}}return e}static replaceAll(e,t,n,i=!1,s=!0){return e?e.split(t).join(n):e}static isValidHtml(e,t=!1){const n=document.createElement("div");if(!e)return!1;n.innerHTML=e;const i=U.multiReplaceAll(n.innerHTML,[" "," ","\n","\r"],["","","",""]),s=U.multiReplaceAll(e,[" "," ","\n","\r"],["","","",""]),l=s===i;if(l||!t)return l;const r=U.strFirstDiff(s,i,20);return U.pif(t,"isValidHtml() "+(r?"|"+r[0]+"| vs |"+r[1]+"|":"tmp === null")),l}static getIndex(e){return e.parentElement?Array.prototype.indexOf.call(e.parentElement.children,this):-1}static toArray(e){if(Array.from)return Array.from(e);const t=[];let n=-1;for(;++n<e.length;)t.push(e[n]);return t}static getClass(e){return e.__proto__.constructor.name}static isString(e){return e+""===e}static permuteV2(e){return U.PermuteArr=[],U.PermuteUsedChars=[],U.permute0V2(e)}static permute0V2(e){let t,n;for(t=0;t<e.length;t++)n=e.splice(t,1)[0],U.PermuteUsedChars.push(n),0===e.length&&U.PermuteArr.push(U.PermuteUsedChars.slice()),U.permute0V2(e),e.splice(t,0,n),U.PermuteUsedChars.pop();return U.PermuteArr}static permute(e,t=!0){const n=[],i=(e,t=[])=>{let s,l;for(l=0;l<e.length;l++)s=e.splice(l,1),0===e.length&&n.push(t.concat(s)),i(e.slice(),t.concat(s)),e.splice(l,0,s[0]);return n};return i(e)}static resizableBorderMouseDblClick(e){const t=U.sizeof(U.resizingContainer),n=U.sizeof(U.resizingBorder),i=new Size(0,0,+U.resizingContainer.dataset.oldsizew,+U.resizingContainer.dataset.oldsizeh),s=U.resizingBorder.classList.contains("left")||U.resizingBorder.classList.contains("right"),l=U.resizingBorder.classList.contains("top")||U.resizingBorder.classList.contains("bottom");s&&l||(n.w*=s?2:1,n.h*=l?2:1,n.x=t.x,n.y=t.y,console.log("old, size, min",i,t,n,i.w&&t.equals(n)),i.w&&t.equals(n)?(U.resizingContainer.style.width=U.resizingContainer.style.minWidth=U.resizingContainer.style.maxWidth=i.w+"px",U.resizingContainer.style.height=U.resizingContainer.style.minHeight=U.resizingContainer.style.maxHeight=i.h+"px"):(U.resizingContainer.style.width=U.resizingContainer.style.minWidth=U.resizingContainer.style.maxWidth=n.w+"px",U.resizingContainer.style.height=U.resizingContainer.style.minHeight=U.resizingContainer.style.maxHeight=n.h+"px",U.resizingContainer.dataset.oldsizew=""+t.w,U.resizingContainer.dataset.oldsizeh=""+t.h))}static resizableBorderMouseDown(e){for(U.resizingBorder=e.currentTarget,U.resizingContainer=U.resizingBorder,U.resizingContainer.style.padding="0",U.resizingContainer.style.flexBasis="0";!U.resizingContainer.classList.contains("resizableBorderContainer");)U.resizingContainer=U.resizingContainer.parentNode;U.checkDblClick()&&U.resizableBorderMouseDblClick(e)}static resizableBorderMouseUp(e){U.resizingBorder=U.resizingContainer=null}static resizableBorderUnset(e){e.preventDefault();let t=e.currentTarget;for(;t.classList.contains("resizableBorderContainer");)t=t.parentNode;t.style.flexBasis="",t.style.minHeight=t.style.minWidth=t.style.maxHeight=t.style.maxWidth=t.style.height=t.style.width=""}static resizableBorderMouseMove(e){if(!U.resizingBorder)return;const t=U.sizeof(U.resizingContainer),n=(new Point(0,0),new Point(e.pageX,e.pageY)),i=n.clone(),s=U.resizingBorder.classList.contains("left"),l=U.resizingBorder.classList.contains("right"),r=U.resizingBorder.classList.contains("top"),o=U.resizingBorder.classList.contains("bottom");s&&(i.x=t.x),l&&(i.x=t.x+t.w),r&&(i.y=t.y),o&&(i.y=t.y+t.h);const a=n.subtract(i,!0);s&&(a.x*=-1),r&&(a.y*=-1),t.w+=a.x,t.h+=a.y;const u=U.sizeof(U.resizingBorder);(s||l)&&(t.w=Math.max(t.w,2*u.w)),(r||o)&&(t.h=Math.max(t.h,2*u.h)),U.resizingContainer.style.width=U.resizingContainer.style.maxWidth=U.resizingContainer.style.minWidth=t.w+"px",U.resizingContainer.style.height=U.resizingContainer.style.maxHeight=U.resizingContainer.style.minHeight=t.h+"px",U.resizingContainer.style.flexBasis="unset"}static resizableBorderSetup(e=document.body){const t=$(e).find(".resizableBorder").addBack(".resizableBorder");let n=-1;for(;++n<t.length;)U.makeResizableBorder(t[n]);U.eventiDaAggiungereAlBody(null),$(document.body).off("mousemove.ResizableBorder").on("mousemove.ResizableBorder",U.resizableBorderMouseMove),$(document.body).off("mouseup.ResizableBorder").on("mouseup.ResizableBorder",U.resizableBorderMouseUp),$(".resizableBorder.corner").off("mousedown.ResizableBorder").on("mousedown.ResizableBorder",U.resizableBorderMouseDown).off("contextmenu.ResizableBorder").on("contextmenu.ResizableBorder",U.resizableBorderUnset),$(".resizableBorder.side").off("mousedown.ResizableBorder").on("mousedown.ResizableBorder",U.resizableBorderMouseDown).off("contextmenu.ResizableBorder").on("contextmenu.ResizableBorder",U.resizableBorderUnset)}static makeResizableBorder(e,t=!0,n=!0,i=!0,s=!0){let l=null,r=null;for(r=e,l=U.cloneHtml(e,!1),e.setAttribute("original","true");l.classList.length>0;)l.classList.remove(l.classList.item(0));console.log("container:",l,"content:",r),U.pe(0!==l.children.length,""),e.parentNode.insertBefore(l,e),r.classList.remove("resizableBorderContainer"),r.classList.add("resizableContent"),l.classList.add("resizableBorderContainer"),t&&(e.dataset.resizableleft="true"),i&&(e.dataset.resizableright="true"),n&&(e.dataset.resizabletop="true"),s&&(e.dataset.resizablebottom="true"),t="true"===e.dataset.resizableleft,i="true"===e.dataset.resizableright,n="true"===e.dataset.resizabletop,s="true"===e.dataset.resizablebottom;const o=U.toHtml('<div class="resizableBorder side left"></div>'),a=U.toHtml('<div class="resizableBorder side right"></div>'),u=U.toHtml('<div class="resizableBorder side top"></div>'),c=U.toHtml('<div class="resizableBorder side bottom"></div>'),h=U.toHtml('<div class="resizableBorder corner top left"></div>'),d=U.toHtml('<div class="resizableBorder corner top right"></div>'),p=U.toHtml('<div class="resizableBorder corner bottom left"></div>'),f=U.toHtml('<div class="resizableBorder corner bottom right"></div>'),g=U.toHtml('<div class="resizableStrip up"></div>'),m=U.toHtml('<div class="resizableStrip center"></div>'),b=U.toHtml('<div class="resizableStrip down"></div>');o.dataset.resizeenabled=t?"true":"false",a.dataset.resizeenabled=i?"true":"false",u.dataset.resizeenabled=n?"true":"false",c.dataset.resizeenabled=s?"true":"false",h.dataset.resizeenabled=n&&t?"true":"false",d.dataset.resizeenabled=n&&i?"true":"false",p.dataset.resizeenabled=s&&t?"true":"false",f.dataset.resizeenabled=s&&i?"true":"false";const y=getComputedStyle(e,null);u.style.borderTop=h.style.borderTop=d.style.borderTop=y.borderTop,c.style.borderBottom=p.style.borderBottom=f.style.borderBottom=y.borderBottom,o.style.borderLeft=h.style.borderLeft=p.style.borderLeft=y.borderLeft,a.style.borderRight=d.style.borderRight=f.style.borderRight=y.borderRight,g.appendChild(h),g.appendChild(u),g.appendChild(d),m.appendChild(o),m.appendChild(r),m.appendChild(a),b.appendChild(p),b.appendChild(c),b.appendChild(f),l.appendChild(g),l.appendChild(m),l.appendChild(b),l.style.border="none",r.style.border="none",r.style.width&&"auto"!==r.style.width||(r.style.width="100%",r.style.height="100%"),r.style.minWidth="0",r.style.minHeight="0"}static copyStyle(e,t,n=null){if(n||(n=e.currentStyle||document.defaultView.getComputedStyle(e,null)),!n)return!1;const i=(e,t)=>void 0!==t&&"object"!=typeof t&&"function"!=typeof t&&t.length>0&&+e!==parseInt(e,10);let s;for(s in n)n.hasOwnProperty(s)&&i(s,n[s])&&(t.style[s]=n[s]);return!0}static cclear(){console.clear(),console.trace()}static toDottedURI(e){return U.replaceAll(U.replaceAll(e.substring(e.indexOf("://")+"://".length),"\\","/"),"/",".")}static toHttpsURI(e,t="/"){return"https://"+U.replaceAll(e,".",t)}static toNumber(e){return null==e||U.isString(e)&&""===e.trim()?null:(e=+e,isNaN(e)?null:e)}static isNumber(e){return+e===e&&NaN!==e}static isNumberArray(e,t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=!0){return U.isArrayOf(e,e=>U.isNumber(e)&&e>=t&&e<=n,i)}static isIntegerArray(e,t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=!0){return U.isArrayOf(e,e=>U.isNumber(e)&&Math.floor(e)===e&&e>=t&&e<=n,i)}static isCharArray(e,t=!0){return U.isArrayOf(e,e=>1===e.length,t)}static isArrayOf(e,t,n=!0){if(!Array.isArray(e))return!1;let i;if(0===e.length)return n;for(i=0;i<e.length;i++)if(!t(e[i])&&!U.isArrayOf(e[i],t,n))return!1;return!0}static isStringArray(e,t=!0){if(!Array.isArray(e))return!1;let n;if(0===e.length)return t;for(n=0;n<e.length;n++)if(!U.isString(e[n])&&!U.isStringArray(e[n],!0))return!1;return!0}static clipboardCopy(e){U.clipboardinput||(U.clipboardinput=document.createElement("input"),U.clipboardinput.id=U.prefix+"CopyDataToClipboard",U.clipboardinput.type="text",U.clipboardinput.style.display="block",U.clipboardinput.style.position="absolute",U.clipboardinput.style.top="-100vh"),document.body.appendChild(U.clipboardinput),U.clipboardinput.value=e,U.clipboardinput.select(),document.execCommand("copy"),document.body.removeChild(U.clipboardinput),U.clearSelection()}static clearSelection(){}static refreshPage(){window.location.href+=""}static isArray(e){return Array.isArray(e)}static isEmptyObject(e,t=!0,n=!1){return U.isObject(e,t,n)&&$.isEmptyObject(e)}static isObject(e,t=!0,n=!1,i=!1){return null===e?t:void 0===e?n:Array.isArray(e)?i:"object"==typeof e}static isFunction(e){return"function"==typeof e}static isPrimitive(e,t=!0,n=!0){return null===e?t:void 0===e?n:!U.isObject(e)&&!Array.isArray(e)&&!U.isFunction(e)}static getEndingNumber(e,t=!1,n=!1){let i=e.length,s=-1;for(;--i>0;)if(isNaN(+e[i])){if("."===e[i]&&!n)break;if("."!==e[i]){if(!t)break;-1!==s&&(t=!1)}else n=!1}else-1===s&&(s=i);return e=-1===s?"1":e.substring(i,s),+parseFloat(e)}static increaseEndingNumber(e,t=!1,n=!1,i=null){let s="([0-9]+"+(n?"|[0-9]+\\.[0-9]+":"")+")"+(t?"[^0-9]*":"")+"$";const l=new RegExp(s,"g").exec(e);U.pe(l.length>2,"parsing error: /"+s+"/gs.match("+e+")");const r=e.substring(0,e.length-l[0].length);let o=+l[1]+1;for(;null!==i&&i(r+o);)o++;return r+o}static isValidName(e){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)}static getTSClassName(e){return e.constructor.name+""}static detailButtonSetup(e=null){e||(e=$(document.body)),e.find("button.detail").off("click.detailbutton").on("click.detailbutton",(t,n)=>{const i=t.currentTarget,s=$(i),l=e.find(i.getAttribute("target")),r=$(i.parentElement).find("button.detail").toArray().filter(e=>e!=i);if(n||"1"===i.dataset.on)i.style.width="",i.dataset.on="0",i.style.borderBottom="",i.style.borderBottomLeftRadius="",i.style.borderBottomRightRadius="",s.find(".closed").show(),s.find(".opened").hide(),l.hide();else{const e=U.sizeof(i);i.style.width=e.w+"px",i.dataset.on="1",i.style.borderBottom="none",i.style.borderBottomLeftRadius="0",i.style.borderBottomRightRadius="0",s.find(".closed").hide(),s.find(".opened").show()[0].style.width=e.w-30+"px",console.log("others:",r,"me:",s),$(r).data("on","1").trigger("click",!0),l.show()}}),e.find("div.detail").hide()}static preventBackSlashHistoryNavigation(e){if(!e||!e.key||"backspace"!==e.key.toLowerCase())return!0;const t=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"],n=$(e.srcElement||e.target);if(!n.prop("readonly")&&!n.prop("disabled")){if(n[0].isContentEditable||n.is("textarea"))return!0;if(n.is("input")){const e=n.attr("type");if(!e||t.indexOf(e.toLowerCase())>-1)return!0}}return e.preventDefault(),!1}static ArrayCopy(e,t){const n=[];let i;for(i=0;i<e.length;i++)if(t&&Array.isArray(e[i])){const s=U.ArrayCopy(e[i],t);n.push(s)}else n.push(e[i]);return n}static ArrayMerge(e,t){e&&t&&Array.prototype.push.apply(e,t)}static ArrayMergeUnique(e,t){if(!e||!t)return;let n;for(n=0;n<t.length;n++)U.ArrayAdd(e,t[n])}static ArrayAdd(e,t,n=!0,i=!1){return U.pe(!e||!Array.isArray(e),"arr null or not array:",e),n?-1===e.indexOf(t)?(e.push(t),!0):(U.pe(i,"element already contained:",e,t),!1):(e.push(t),!0)}static fieldCount(e){let t=0;for(const n in e)n in e&&t++;return t}static isPositiveZero(e){return Object.is?Object.is(e,0):1/e===Number.POSITIVE_INFINITY}static isNegativeZero(e){return Object.is?Object.is(e,-0):1/e===Number.NEGATIVE_INFINITY}static TanToRadian(e){return U.DegreeToRad(U.TanToDegree(e))}static TanToDegree(e){return U.isPositiveZero(e)?0:e===Number.POSITIVE_INFINITY?90:U.isNegativeZero(e)?180:e===Number.POSITIVE_INFINITY?270:U.RadToDegree(Math.atan(e))}static RadToDegree(e){return e*(180/Math.PI)}static DegreeToRad(e){return e*(Math.PI/180)}static replaceAllRegExp(e,t,n){return e.replace(t,n)}static fixHtmlSelected(e){const t=e.find("select");let n;for(n=0;n<t.length;n++){const e=$(t[n]).find("option[selected]");U.selectHtml(t[n],e.length?e[0].value:null)}}static computeMeasurableAttributeRightPart(str,attr,logic,measurableHtml,size=null,absTargetSize=null,relTargetSize=null,allowVariables=!0){str=U.changeBackVarTemplateDelimitersInMeasurablesAttr(str),size||(size=U.sizeof(measurableHtml));let relativeRoot=measurableHtml;for(;!relativeRoot.classList.contains("vertexShell");)relativeRoot=relativeRoot.parentElement;if(absTargetSize||(absTargetSize=U.sizeof(relativeRoot)),!relTargetSize){const e=$(relativeRoot).find(measurableHtml.getAttribute("relativeSelectorOf"+attr.name));U.pw(e.length>1,"found more than one relative target (",e,") assigned to: ",measurableHtml," root:",relativeRoot),relTargetSize=e.length?U.sizeof(e[0]):absTargetSize}const relativePos=size.tl().subtract(relTargetSize.tl(),!1),absolutePos=size.tl().subtract(absTargetSize.tl(),!1),str0debug=str;str=U.replaceVarsString(logic,str);const rootStyle=window.getComputedStyle(relativeRoot),borderFix=new Point(+rootStyle.borderTopWidth,+rootStyle.borderLeftWidth);"relative"===rootStyle.position&&"border-box"===rootStyle.boxSizing&&absolutePos.subtract(borderFix,!1),allowVariables&&(str=U.multiReplaceAll(str,["positionX","positionX"],["positionRelX","positionRelY"]),str=U.multiReplaceAll(str,["width","height","positionAbsX","positionAbsY","positionRelX","positionRelY"],[""+size.w,""+size.h,""+absolutePos.x,""+absolutePos.y,""+relativePos.x,""+relativePos.y]),str=U.multiReplaceAll(str,["absoluteTargetSizeX","absoluteTargetSizeY","absoluteTargetSizeW","absoluteTargetSizeH"],[""+absTargetSize.x,""+absTargetSize.y,""+absTargetSize.w,""+absTargetSize.h]),str=U.multiReplaceAll(str,["relativeTargetSizeX","relativeTargetSizeY","relativeTargetSizeW","relativeTargetSizeH"],[""+relTargetSize.x,""+relTargetSize.y,""+relTargetSize.w,""+relTargetSize.h]));const evalContext={a:measurableHtml.attributes};let a={},i;for(i=0;i<measurableHtml.attributes.length;i++){const e=measurableHtml.attributes[i];a[e.name]=e.value}try{str=eval(str)}catch(e){U.pw(!0,"error occurred while evaluating ",str,"in measurable attribute ",attr,"err:",e,", are you missing quotes?")}return str}static computeResizableAttribute(e,t,n,i=null,s=null,l=null){const r=e.value;let o,a=0,u=null;for(o=1;o<r.length-1;o++)switch(r[o]){case">":if("-"!==r[o-1])continue;a=o,u="="===r[o+1]?">=":">";break;case"<":a=o,u="="===r[o+1]?"<=":"<";break;case"!":if("="!==r[o+1])continue;a=o,u="=";break;case"=":a=o,u="=";break;default:continue}if(!u)return U.pw(!0,"found measurable _attribute without operator: ",e),null;i||(i=U.sizeof(n));const c=r.substr(0,a).trim(),h=r.substr(a+u.length).trim();let d=null;try{d=U.computeMeasurableAttributeRightPart(h,e,t,n,i,s,l)}catch(p){U.pw(!0,"failed to read expression of "+e.name+": |"+e.value+"| --\x3e |"+h+"|. reason:"+p.toString()+"; the allowed variables are: width, height, positionRelX, positionRelY, positionAbsX, positionAbsY, relativeTargetSizeX, relativeTargetSizeY, relativeTargetSizeW, relativeTargetSizeH, absoluteTargetSizeX, absoluteTargetSizeY, absoluteTargetSizeW, absoluteTargetSizeH, . and js functions.")}return{destination:c,operator:u,value:d}}static processMeasuring(e,t,n){const i=U.sizeof(t.html);let s=t.html;for(;!s.classList.contains("vertexShell");)s=s.parentElement;const l=U.sizeof(s);let r;for(console.log("measurableHtml parsed special attributes:",t),r=0;r<t.variables.length;r++)U.processMeasurableVariable(t.variables[r],e,t.html,i,l);for(r=0;r<t.imports.length;r++)U.processMeasurableImport(t.imports[r],e,t.html,null,l);for(r=0;r<t.rules.length;r++){const n=t.rules[r],s=n.value;-1!==s.indexOf("=")?U.processMeasurableRule(n,e,t.html,i,l):U.pw(!0,'found a .resizable rule attribute without "=". '+n.name+": |"+s+"| inside:",t.html)}for(r=0;r<t.constraints.length;r++){const n=t.constraints[r],i=n.value;-1!==i.indexOf("=")?U.processMeasurableConstraint(n,e,t.html,null,l):U.pw(!0,'found a .resizable constraint without "=". '+n.name+": |"+i+"| inside:",t.html)}for(r=0;r<t.dstyle.length;r++)U.processMeasurableDstyle(t.dstyle[r],e,t.html,null,l);for(r=0;r<t.exports.length;r++){const n=t.exports[r],s=n.value;-1!==s.indexOf("=")?U.processMeasurableExport(n,e,t.html,i,l):U.pw(!0,'found a .resizable export attribute without "=". '+n.name+": |"+s+"| inside:",t.html)}for(r=0;r<t.chain.length;r++)U.processMeasurableChain(t.chain[r],e,t.html,null,l,e.getVertex(),n);for(r=0;r<t.chainFinal.length;r++)U.processMeasurableChain(t.chainFinal[r],e,t.html,null,l,e.getVertex(),n)}static processMeasurableExport(e,t,n,i=null,s=null){const l=U.computeResizableAttribute(e,t,n,i,s);if(!l)return;l.destination=U.changeBackVarTemplateDelimitersInMeasurablesAttr(l.destination),l.destination=U.replaceVarsString(t,l.destination);const r=l.destination.lastIndexOf("->");let o,a;-1!==r?(o=l.destination.substring(0,r),a=l.destination.substring(r+"->".length).trim()):(o=l.destination,a=null);const u=$(o);a?u.attr(a,l.value):u.html(l.value)}static processMeasurableChain(e,t,n,i=null,s=null,l,r){const o=U.computeMeasurableAttributeRightPart("'"+e.value+"'",e,t,n,i,s,null,!1),a=o.indexOf("->");let u,c;-1!==a?(u=o.substring(0,a),c=o.substring(a+"->".length).trim()):(u=o,c=null);const h=$(u);let d;for(console.log("measurableChain: "+u+" -> "+c+"| targets:",h),U.pe(h.length<=0,"measurableChain: "+u+" -> "+c+"| targets:",h),d=0;d<h.length;d++){const i=h[d],s=c?i.attributes.getNamedItem(c):null;if(!s){l.measuringChanged(r,null,i);continue}if(0!==c.indexOf("_"))continue;0===c.indexOf("_rule")?U.processMeasurableRule(s,t,i,null,null):0===c.indexOf("_import")?U.processMeasurableImport(s,t,i,null,null):0===c.indexOf("_export")?U.processMeasurableExport(s,t,i,null,null):0===c.indexOf("_constraint")?U.processMeasurableConstraint(s,t,i,null,null):0===c.indexOf("_dstyle")?U.processMeasurableDstyle(s,t,i,null,null):U.processMeasurableVariable(s,t,i,null,null);const o=1===h.length?i.attributes.getNamedItem(c.substr(1)):null;o&&n.setAttribute(e.name.substr(1),o.value)}}static processMeasurableRule(e,t,n,i=null,s=null){const l=U.computeResizableAttribute(e,t,n,i,s);if(!l)return;console.log("rule:",l,"attr:",e);const r=U.replaceSingleVarGetParentAndChildKey(t,l.destination);if(!r)return void U.pw(!0,"replaceVar of "+l.destination+"| failed. while parsing the resizable.rule |"+e.name+" in vertex of: "+t.name);if(!(r.parent||r.parent instanceof _Joiner__WEBPACK_IMPORTED_MODULE_0__.hb))return void U.pw(!0,"found a rule template with his parent missing or not instance of ModelPiece?? :",r.parent,"rule:",l);const o=r.parent;switch(r.childkey){default:U.pw(!0,"The rule "+e.name+": |"+e.value+'| is targeting a valid but not yet allowed field, currently only ".values" is allowed.');break;case"values":if(o instanceof _Joiner__WEBPACK_IMPORTED_MODULE_0__.ab){o.setValue(l.value);break}U.pw(!0,"The rule "+e.name+": |"+e.value+'| is trying to set "value" on an invalid modelPiece:',o)}}static processMeasurableConstraint(e,t,n,i=null,s=null){return U.processMeasurableImport(e,t,n,i,s)}static processMeasurableImport(e,t,n,i=null,s=null){let l=n;for(;!l.classList.contains("vertexShell");)l=l.parentElement;const r=$(l).find(n.getAttribute("relativeSelectorOf"+e.name));U.pw(r.length>1,"found more than one relative target (",r,") assigned to: ",n," root:",l);const o=r.length?U.sizeof(r[0]):s,a=U.computeResizableAttribute(e,t,n,i,s,o);if(!a)return;const u=i.duplicate();switch(a.destination){default:U.pw(!0,"invalid import destination: |"+a.destination+"| found in html:",n);break;case"width":u.w=a.value;break;case"height":u.h=a.value;break;case"positionAbsX":u.x=s.tl()+a.value;break;case"positionAbsY":u.y=s.tl()+a.value;break;case"positionRelX":u.x=o.tl()+a.value;break;case"positionRelY":u.y=o.tl()+a.value}const c=e=>{n.setAttributeNS(null,"x",""+e),n.style.left=e+"px"},h=e=>{n.setAttributeNS(null,"y",""+e),n.style.top=e+"px"},d=e=>{n.setAttributeNS(null,"width",""+e),n.style.width=e+"px"},p=e=>{n.setAttributeNS(null,"height",""+e),n.style.height=e+"px"};switch(a.operator){default:U.pe(!0,"unrecognized operator (not your fault, 100% developer failure): "+a.operator,e);break;case">=":i.x<u.x&&c(u.x),i.y<u.y&&h(u.y),i.w<u.w&&d(u.w),i.h<u.h&&p(u.h);break;case">":i.x<=u.x&&c(u.x+1),i.y<=u.y&&h(u.y+1),i.w<=u.w&&d(u.w+1),i.h<=u.h&&p(u.h+1);break;case"<":i.x>=u.x&&c(u.x+1),i.y>=u.y&&h(u.y+1),i.w>=u.w&&d(u.w+1),i.h>=u.h&&p(u.h+1);break;case"<=":i.x>u.x&&c(u.x),i.y>u.y&&h(u.y),i.w>u.w&&d(u.w),i.h>u.h&&p(u.h);break;case"=":c(u.x),h(u.y),d(u.w),p(u.h)}}static processMeasurableVariable(e,t,n,i=null,s=null,l=null,r=!0){e.ownerElement.setAttribute(e.name.substr(1),U.computeMeasurableAttributeRightPart(e.value,e,t,n,i,s,l,r))}static strFirstDiff(e,t,n){let i;if(!e&&!t)return[e,t];if(e&&!t)return[e.substr(0,n),t];if(!e&&t)return[e,t.substr(0,n)];const s=Math.min(e.length,t.length);for(i=0;i<s;i++)if(e[i]!==t[i])return[e.substr(i,n),t.substr(i,n)];return null}static processMeasurableDstyle(e,t,n,i=null,s=null){U.processMeasurableVariable(e,t,n,i,s,null,!1);const l=document.createElement("div");l.setAttribute("style",n.getAttribute("dstyle")),console.log("preStyle.Real:",n.getAttribute("style")),console.log("preStyle.Fake:",l.getAttribute("style")),U.mergeStyles(l,n),n.setAttribute("style",l.getAttribute("style")),console.log("finalStyle:",n.getAttribute("style"))}static mergeStyles(e,t){let n;const i=e.getAttribute("style").split(";"),s=t.getAttribute("style").split(";");let l={};const r={};let o,a,u;for(n=0;n<i.length;n++)u=i[n].indexOf(":"),o=i[n].substr(0,u).trim(),a=i[n].substr(u+1).trim(),""!=o&&""!=a&&(l[o]=a);for(n=0;n<s.length;n++)u=s[n].indexOf(":"),o=s[n].substr(0,u).trim(),a=s[n].substr(u+1).trim(),""!=o&&""!=a&&(r[o]=a);l=U.join(l,r,!0,!1);let c="";for(o in l)c+=o+":"+l[o]+"; ";e.setAttribute("style",c)}static merge(e,t,n=!0,i=!0){return U.join(e,t,n,i)}static join(e,t,n=!0,i=!0){let s;for(s in i&&(e=U.cloneObj(e)),t)t.hasOwnProperty(s)&&(void 0!==t[s]&&null===e[s]&&n||void 0===e[s])&&(e[s]=t[s]);return e}static getChildIndex_old(e,t=!0){return t?Array.prototype.indexOf.call(e.parentNode.childNodes,e):Array.prototype.indexOf.call(e.parentNode.children,e)}static getChildIndex(e,t){return Array.prototype.indexOf.call(e,t)}static getIndexesPath_old(e,t){let n=[];for(;t&&t!==e;)n.push(U.getChildIndex(e.childNodes,t)),t=t.parentElement;return n.reverse()}static getIndexesPath_NoParentKey(e,t){return U.pe(!0,"getindexespath without parent key: todo"),null}static getIndexesPath(e,t,n=null,i=null){let s=[];for(;e;){const l=e[t];if(e===i)break;if(!l||l===e)break;s.push(U.getChildIndex(n?l[n]:l,e)),e=e[t]}return s.reverse()}static followIndexesPath(e,t,n=null,i={indexFollowed:[],debugArr:[{index:"Start",elem:e}]},s=!1){let l,r=e,o=r;for(i&&i.debugArr.push({index:"start",elem:e,childKey:n}),U.pe(n&&n!==""+n,"U.followIndexesPath() childkey must be a string or a null:",n,"root:",e),l=0;l<t.length;l++){let e=t[l],a=n?r[n]:r;if(U.pif(s,"path "+l+") = elem."+n+" = ",a),!a)return o;if(r=a[e],e>=a.length&&(e="Key out of boundary: "+e+"/"+a.length+"."),U.pif(s,"path "+l+") = elem."+n+"[ "+e+"] = ",r),i&&i.debugArr.push({index:e,elem:r}),!r)return o;i&&i.indexFollowed.push(e),o=r}return r}static followIndexesPathOld(e,t,n=!0,i={indexFollowed:[]},s=!1){let l,r=e,o=r;const a=[{index:"Start",html:r}];for(l=0;l<t.length;l++){const e=t[l];if(!(r=n?r.childNodes[e]:r.children[e]))return console.log("folllowPath: clicked on some dinamically generated content, returning the closest static parent.",a),U.pw(s,"clicked on some dinamically generated content, returning the closest static parent.",a),o;o=r,i.indexFollowed.push(e),a.push({index:e,html:r})}return U.pif(s,"followpath debug arr:",a),r}static removeDuplicates(e,t=!1){if(!e)return[];const n=t?U.cloneObj(e):e,i=[];let s;for(s=0;s<n.length;s++)n[s]in i?(U.arrayRemoveAll(n,n[s]),s--):i.push(n[s]);return n}static findTemplateList(e){}static makeSet(e){return document.createElement("").classList}static getStartSeparatorKey(){return++U.startSeparatorKeyMax+""}static startSeparator(e,t=", "){return e in U.startSeparatorKeys?t:(U.startSeparatorKeys[e]=!0,"")}static arrayContains(e,t){if(!e)return!1;let n;for(n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}static toBoolString(e){return e?"true":"false"}static fromBoolString(e){return"true"===e||"t"===e||1==+e}static parseSvgPath(e){let t,n=null,i=null,s=null,l=null,r=null,o=null;const a=[],u=[],c={assoc:a,pts:u};e=e.toUpperCase();const h=()=>{i="",s="",(r=new Point(0,0)).x=null,r.y=null,l=!1},d=()=>{r.y=+s,U.pe(isNaN(r.y),"parsed non-number as value of: |"+n+"| in svg.path attribute: |"+e+"|",c),o={letter:n,pt:r},U.pe(null===r.x||null===r.y,i,s,r,t,e),u.push(r),a.push(o),U.pif(!1,"endEntry:",o," position: |"+e.substr(0,t)+"|"+e.substr(t)+"|"),h()};for(h(),t=0;t<e.length;t++){const o=e[t];switch(o){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":case"-":case"+":if("."===o&&(U.pe(l," found 2 floating points in a single parsed number in svg.path attribute: |"+e+"|"),l=!0),U.pe(("+"===o||"-"===o)&&(null===r.x&&""!==i||null===r.y&&""!==s),"found a "+o+" sign inside a number:",c,t,e),null===r.x){i+=o;break}if(null===r.y){s+=o;break}U.pe(!0,"found 3 numbers while parsing svg.path attribute: |"+e+"|",c);break;case" ":if(null===r.x){r.x=+i,l=!1,U.pe(isNaN(+r.x),"parsed non-number as value of: |"+n+"| in svg.path attribute: |"+e+"|",c);break}if(null===r.y){r.y=+s,U.pe(isNaN(+r.y),"parsed non-number as value of: |"+n+"| in svg.path attribute: |"+e+"|",c);break}break;default:n&&d(),n=o}}return d(),c}static shallowArrayCopy(e){let t,n=[];if(!e)return null;for(t=0;t<e.length;t++)n.push(e[t]);return n}static arrayInsertAt(e,t,n){U.pe(!e||!Array.isArray(e),"ArrayInsertAt() must have a parameter array"),t=Math.max(0,t),t=Math.min(e.length,t),e.splice(t,0,n)}static newArray(e){let t=[];return t.length=Math.max(0,e),t}}return U.loopcounter=0,U.prefix="ULibrary_",U.sizeofvar=null,U.$sizeofvar=null,U.clipboardinput=null,U.PermuteArr=[],U.PermuteUsedChars=[],U.resizingBorder=null,U.resizingContainer=null,U.production=!1,U.addCssAvoidDuplicates={},U.varTextToSvg=null,U.dblclickchecker=(new Date).getTime(),U.dblclicktimerms=300,U.$alertcontainer=null,U.alertcontainer=null,U.startSeparatorKeys={},U.startSeparatorKeyMax=-1,U})();var AttribETypes=function(e){return e.void="???void",e.EChar="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EChar",e.EString="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString",e.EDate="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDate",e.EFloat="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EFloat",e.EDouble="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDouble",e.EBoolean="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean",e.EByte="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EByte",e.EShort="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EShort",e.EInt="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt",e.ELong="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//ELong",e}({});class Json{constructor(e){}static getAnnotations(e){const t=e[_Joiner__WEBPACK_IMPORTED_MODULE_0__.k.eAnnotations];return!t||$.isEmptyObject(t)?[]:Array.isArray(t)?t:[t]}static getDetails(e){const t=e[_Joiner__WEBPACK_IMPORTED_MODULE_0__.f.details];return!t||$.isEmptyObject(t)?[]:Array.isArray(t)?t:[t]}static getChildrens(e,t=!1,n=!1){if(!e&&!t)return[];const i=e[_Joiner__WEBPACK_IMPORTED_MODULE_0__.n.ecoreEPackage]||e[_Joiner__WEBPACK_IMPORTED_MODULE_0__.k.eClassifiers]||e[n?_Joiner__WEBPACK_IMPORTED_MODULE_0__.h.eOperations:_Joiner__WEBPACK_IMPORTED_MODULE_0__.h.eStructuralFeatures]||e[_Joiner__WEBPACK_IMPORTED_MODULE_0__.j.eParameters]||e[_Joiner__WEBPACK_IMPORTED_MODULE_0__.i.eLiterals];return U.pe(t&&!i,"getChildrens() Failed: ",e,i),!i||$.isEmptyObject(i)?[]:Array.isArray(i)?i:[i]}static read(e,t,n="read<T>CanThrowError"){let i=e?e[t]:null;return null!==i&&-1!==t.indexOf(_Joiner__WEBPACK_IMPORTED_MODULE_0__.pb.status.XMLinlineMarker)&&(U.pe(U.isObject(i,!1,!1,!0),"inline value |"+t+"| must be primitive.",i),i=U.multiReplaceAll(""+i,["&amp;","&#38;","&quot;"],["&","'",'"'])),null==i?(U.pe("read<T>CanThrowError"===n,"Json.read<","> failed: field["+t+"], json: ",e),n):i}static write(e,t,n){return null!==n&&-1!==t.indexOf(_Joiner__WEBPACK_IMPORTED_MODULE_0__.pb.status.XMLinlineMarker)?(U.pe(n!==""+n,"inline value |"+t+"| must be a string.",n),n=U.multiReplaceAll(n,["&","'",'"'],["&amp;","&#38;","&quot;"])):U.pe(n!==""+n||!U.isObject(n,!0),"primitive values should be inserted only inline in the xml:",t,n),e[t]=n,n}}class DetectZoom{static device(){return detect_zoom__WEBPACK_IMPORTED_MODULE_1__.device()}static zoom(){return U.pe(!0,"better not use this, looks like always === 1"),detect_zoom__WEBPACK_IMPORTED_MODULE_1__.zoom()}test(){return null}}class ISize{constructor(e=0,t=0,n=0,i=0){isNaN(+e)&&(e=0),isNaN(+t)&&(t=0),isNaN(+n)&&(n=0),isNaN(+i)&&(i=0),this.x=e,this.y=t,this.w=n,this.h=i}tl(){return this.makePoint(this.x,this.y)}tr(){return this.makePoint(this.x+this.w,this.y)}bl(){return this.makePoint(this.x,this.y+this.h)}br(){return this.makePoint(this.x+this.w,this.y+this.h)}equals(e){return this.x===e.x&&this.y===e.y&&this.w===e.w&&this.h===e.h}min(e,t){const n=t?this.duplicate():this;return!isNaN(e.x)&&n.x<e.x&&(n.x=e.x),!isNaN(e.y)&&n.y<e.y&&(n.y=e.y),!isNaN(e.w)&&n.w<e.w&&(n.w=e.w),!isNaN(e.h)&&n.h<e.h&&(n.h=e.h),n}max(e,t){const n=t?this.duplicate():this;return!isNaN(e.x)&&n.x>e.x&&(n.x=e.x),!isNaN(e.y)&&n.y>e.y&&(n.y=e.y),!isNaN(e.w)&&n.w>e.w&&(n.w=e.w),!isNaN(e.h)&&n.h>e.h&&(n.h=e.h),n}}class Size extends ISize{static fromPoints(e,t){const n=Math.min(e.x,t.x),i=Math.max(e.x,t.x),s=Math.min(e.y,t.y),l=Math.max(e.y,t.y);return new Size(n,s,i-n,l-s)}clone(e){return new Size(e.x,e.y,e.w,e.h)}duplicate(){return(new Size).clone(this)}makePoint(e,t){return new Point(e,t)}tl(){return super.tl()}tr(){return super.tr()}bl(){return super.bl()}br(){return super.br()}equals(e){return super.equals(e)}min(e,t){return super.min(e,t)}max(e,t){return super.max(e,t)}}class GraphSize extends ISize{static fromPoints(e,t){const n=Math.min(e.x,t.x),i=Math.max(e.x,t.x),s=Math.min(e.y,t.y),l=Math.max(e.y,t.y);return new GraphSize(n,s,i-n,l-s)}static closestIntersection(e,t,n,i=null){let s=n.clone();const l=GraphPoint.getM(t,s),r=GraphPoint.getQ(t,s);if(U.pe(Math.abs(s.y-l*s.x-(t.y-l*t.x))>.001,"wrong math in Q:",s.y-l*s.x," vs ",t.y-l*t.x),l===Number.POSITIVE_INFINITY&&r===Number.NEGATIVE_INFINITY)return new GraphPoint(e.x+e.w/2,e.y+e.h);let o=new GraphPoint(0,0),a=new GraphPoint(0,0),u=new GraphPoint(0,0),c=new GraphPoint(0,0);o.x=e.x,o.y=l*o.x+r,u.x=e.x+e.w,u.y=l*u.x+r,a.y=e.y,a.x=(a.y-r)/l,c.y=e.y+e.h,c.x=(c.y-r)/l,c.x>=s.x&&c.x<=t.x||c.x>=t.x&&c.x<=s.x||(c=null),a.x>=s.x&&a.x<=t.x||a.x>=t.x&&a.x<=s.x||(a=null),o.y>=s.y&&o.y<=t.y||o.y>=t.y&&o.y<=s.y||(o=null),u.y>=s.y&&u.y<=t.y||u.y>=t.y&&u.y<=s.y||(u=null);const h=a?(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y):Number.POSITIVE_INFINITY,d=c?(c.x-s.x)*(c.x-s.x)+(c.y-s.y)*(c.y-s.y):Number.POSITIVE_INFINITY,p=o?(o.x-s.x)*(o.x-s.x)+(o.y-s.y)*(o.y-s.y):Number.POSITIVE_INFINITY,f=u?(u.x-s.x)*(u.x-s.x)+(u.y-s.y)*(u.y-s.y):Number.POSITIVE_INFINITY,g=Math.min(h,d,p,f);if(g===Number.POSITIVE_INFINITY?(s=e.tl()).x+=e.w/2:g===Number.POSITIVE_INFINITY?(s=e.br()).x-=e.w/2:g===h?s=a:g===d?s=c:g===f?s=u:g===p&&(s=o),!i)return s;if((s===a||s===c||isNaN(g))&&i.x){const t=Math.floor(s.x/i.x)*i.x,n=Math.ceil(s.x/i.x)*i.x;let l,r;Math.abs(t-s.x)<Math.abs(n-s.x)?(l=t,r=n):(l=n,r=t),l>=e.x&&l<=e.x+e.w?s.x=l:l>=e.x&&l<=e.x+e.w?s.x=r:s=s}else if((s===o||s===u)&&i.y){const t=Math.floor(s.y/i.y)*i.y,n=Math.ceil(s.y/i.y)*i.y;let l,r;Math.abs(t-s.y)<Math.abs(n-s.y)?(l=t,r=n):(l=n,r=t),l>=e.y&&l<=e.y+e.h?s.y=l:l>=e.y&&l<=e.y+e.h?s.y=r:s=s}return s}clone(e){return new GraphSize(e.x,e.y,e.w,e.h)}duplicate(){return(new GraphSize).clone(this)}makePoint(e,t){return new GraphPoint(e,t)}tl(){return super.tl()}tr(){return super.tr()}bl(){return super.bl()}br(){return super.br()}equals(e){return super.equals(e)}min(e,t){return super.min(e,t)}max(e,t){return super.max(e,t)}}class IPoint{static getM(e,t){return(e.y-t.y)/(e.x-t.x)}static getQ(e,t){return e.y-IPoint.getM(e,t)*e.x}constructor(e,t){isNaN(+e)&&(e=0),isNaN(+t)&&(t=0),this.x=+e,this.y=+t}toString(){return"("+this.x+", "+this.y+")"}subtract(e,t){let n;return U.pe(!e,"subtract argument must be a valid point: ",e),(n=t?this.clone():this).x-=e.x,n.y-=e.y,n}add(e,t){let n;return U.pe(!e,"add argument must be a valid point: ",e),(n=t?this.clone():this).x+=e.x,n.y+=e.y,n}addAll(e,t){let n,i;for(i=t?this.clone():this,n=0;n<e.length;n++)i.add(e[n],!0);return i}subtractAll(e,t){let n,i;for(i=t?this.clone():this,n=0;n<e.length;n++)i.subtract(e[n],!0);return i}multiply(e,t){let n;return U.pe(isNaN(+e),"scalar argument must be a valid number: ",e),(n=t?this.clone():this).x*=e,n.y*=e,n}divide(e,t){let n;return U.pe(isNaN(+e),"scalar argument must be a valid number: ",e),(n=t?this.clone():this).x/=e,n.y/=e,n}isInTheMiddleOf(e,t,n){const i=Size.fromPoints(e,t);return!(this.x<i.x-n||this.x>i.x+i.w+n)&&!(this.y<i.y-n||this.y>i.y+i.h+n)&&(IPoint.getM(e,t),IPoint.getQ(e,t),this.distanceFromLine(e,t)<=n)}distanceFromLine(e,t){const n=(t.y-e.y)*(t.y-e.y)+(t.x-e.x)*(t.x-e.x);return Math.abs(+(t.y-e.y)*this.x-(t.x-e.x)*this.y+t.x*e.y-e.x*t.y)/Math.sqrt(n)}equals(e,t=0,n=0){return null!==e&&Math.abs(this.x-e.x)<=t&&Math.abs(this.y-e.y)<=n}moveOnNearestBorder(e,t,n=!0){const i=t?this.clone():this,s=e.tl(),l=e.tr(),r=e.bl(),o=e.br(),a=i.distanceFromLine(s,r),u=i.distanceFromLine(l,o),c=i.distanceFromLine(s,l),h=i.distanceFromLine(r,o),d=Math.min(a,u,c,h);return d===a&&(i.x=s.x),d===u&&(i.x=l.x),d===c&&(i.y=l.y),d===h&&(i.y=o.y),n&&i instanceof GraphPoint&&_Joiner__WEBPACK_IMPORTED_MODULE_0__.pb.status.getActiveModel().graph.markg(i,!1,"purple"),i}getM(e){return IPoint.getM(this,e)}degreeWith(e,t){const n=this.subtract(e,!0),i=Math.atan2(n.y,n.x);return t?i:U.RadToDegree(i)}}class GraphPoint extends IPoint{static fromEvent(e){if(!e)return null;const t=new Point(e.pageX,e.pageY);return _Joiner__WEBPACK_IMPORTED_MODULE_0__.pb.status.getActiveModel().graph.toGraphCoord(t)}clone(){return new GraphPoint(this.x,this.y)}subtract(e,t){return super.subtract(e,t)}add(e,t){return super.add(e,t)}multiply(e,t){return super.multiply(e,t)}divide(e,t){return super.divide(e,t)}isInTheMiddleOf(e,t,n){return super.isInTheMiddleOf(e,t,n)}distanceFromLine(e,t){return super.distanceFromLine(e,t)}equals(e,t=0,n=0){return super.equals(e,t,n)}moveOnNearestBorder(e,t,n=!0){return super.moveOnNearestBorder(e,t,n)}getM(e){return super.getM(e)}degreeWith(e,t){return super.degreeWith(e,t)}}class Point extends IPoint{static fromEvent(e){return e?new Point(e.pageX,e.pageY):null}clone(){return new Point(this.x,this.y)}subtract(e,t){return super.subtract(e,t)}add(e,t){return super.add(e,t)}multiply(e,t){return super.multiply(e,t)}divide(e,t){return super.divide(e,t)}isInTheMiddleOf(e,t,n){return super.isInTheMiddleOf(e,t,n)}distanceFromLine(e,t){return super.distanceFromLine(e,t)}equals(e,t=0,n=0){return super.equals(e,t,n)}moveOnNearestBorder(e,t,n=!0){return super.moveOnNearestBorder(e,t,n)}getM(e){return super.getM(e)}degreeWith(e,t){return super.degreeWith(e,t)}}let FileReadTypeEnum=(()=>{class e{}return e.image="image/*",e.audio="audio/*",e.video="video/*",e.AndManyOthersButThereAreTooMuch="And many others... https://www.iana.org/assignments/media-types/media-types.xhtml",e.OrJustPutFileExtension="OrJustPutFileExtension",e})()},"6Kg9":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("2/r/");class s{constructor(){}ngOnInit(){}}class l{constructor(e,t){this.propertyBar=null,this.$root=null,this.$templates=null,this.$display=null,this.root=null,this.templates=null,this.display=null,this.clickedLevel=null,this.propertyBar=e,this.$root=t.find(".styleContainer"),this.$display=this.$root.find(".StyleEditorDisplay"),this.$templates=this.$root.find(".styleTemplates"),this.root=this.$root[0],this.display=this.$display[0],this.templates=this.$templates[0]}onHide(){this.updateClickedGUIHighlight()}onShow(){this.propertyBar.onHide(),this.updateClickedGUIHighlight()}onPaste(e){e.preventDefault();const t=e.currentTarget;let n=e.originalEvent.clipboardData.getData("text/plain");n=i.ub.replaceAll(n,"\n"," "),t.innerText=i.ub.replaceAll(n,"\r"," ")}isVisible(){return this.$root.is(":visible")}show(e,t){this.clickedLevel=t,e instanceof i.J?this.showM(e):e instanceof i.K?this.showM(e.parent):this.showMP(e,null,!1,null)}updateClickedGUIHighlight(){$(this.propertyBar.model.graph.container).find(".styleEditorSelected").removeClass("styleEditorSelected"),this.isVisible()&&this.clickedLevel&&this.clickedLevel.classList.add("styleEditorSelected")}getCopyOfTemplate(e,t,n,s){let l=this.$templates.find(".template"+t);const r=i.ub.cloneHtml(l[0]);return r.classList.remove("template"),r.dataset.modelPieceID=""+e.id,r.style.display="block",n&&(s&&i.ub.clear(n),n.appendChild(r)),l=$(r).find("."+(e.getModelRoot().isM()?"m1":"m2")+"hide").hide(),r}showM(e){console.log("styleShowM(",e,")");const t=this.getCopyOfTemplate(e,".model",this.display,!0),n=$(t),i=n.find(".gridX")[0],s=n.find(".gridY")[0],l=n.find(".zoomX")[0],r=n.find(".zoomY")[0],o=n.find(".showGrid")[0],a=n.find(".graphColor")[0];i.value=e.graph.grid?""+e.graph.grid.x:"",s.value=e.graph.grid?""+e.graph.grid.y:"",l.value=e.graph.zoom.x+"",r.value=e.graph.zoom.y+"",o.checked=e.graph.gridDisplay,a.value="#000ff",$(i).off("change.set").on("change.set",t=>{const n=t.currentTarget;e.graph.grid.x=isNaN(+n.value)?0:+n.value,o.checked=!0,$(o).trigger("change"),e.refreshGUI()}),$(s).off("change.set").on("change.set",t=>{const n=t.currentTarget;e.graph.grid.y=isNaN(+n.value)?0:+n.value,o.checked=!0,$(o).trigger("change"),e.refreshGUI()}),$(l).off("change.set").on("change.set",t=>{e.graph.setZoom(+t.currentTarget.value,null)}),$(r).off("change.set").on("change.set",t=>{e.graph.setZoom(null,+t.currentTarget.value)}),$(o).off("change.set").on("change.set",t=>{e.graph.ShowGrid(t.currentTarget.checked)})}showP(e){i.ub.pe(!0,"styles of Package(",e,"): unexpected.")}setStyleEditor(e,t,n,s,l,r=null){let o,a=e[0];const u=a.classList.contains("inherited"),c=a.classList.contains("inheritable"),h=a.classList.contains("own");i.ub.pe(1!=(c?1:u?1:h?1:0),"failed to get html styleEditor template");let d=this.getCopyOfTemplate(n,".htmlstyle",null,!1);a.appendChild(d),a.classList.remove("template"),i.ub.pe(!(a=d).parentElement,"null parent: ",a,e),e=$(a),i.ub.pif(!1,"styleComplexEntry:",s,"mp:",n,a,e);const p={editLabel:null,editAllowed:null,selectstyle:null,previewselect:null,preview:null,input:null,detailButton:null,detailPanel:null,isM1:null,isM2:null,isClass:null,isReference:null,isAttribute:null,isOperation:null,isParameter:null,stylename:null,forkButton:null,delete:null,saveasName:null};p.editAllowed=e.find("button.allowEdit")[0],p.editLabel=e.find("label.allowEdit")[0],p.selectstyle=e.find("select.stylename")[0],p.detailButton=e.find("button.detail")[0],p.detailPanel=e.find("div.detail")[0],p.input=e.find('.html[contenteditable="true"]')[0],p.preview=e.find(".preview")[0],p.previewselect=e.find("select.previewselector")[0];const f=e.find("div.detail");p.isM1=f.find(".model")[0],p.isM2=f.find(".metamodel")[0],p.isClass=f.find(".class")[0],p.isAttribute=f.find(".attribute")[0],p.isReference=f.find(".reference")[0],p.isOperation=f.find(".operation")[0],p.isParameter=f.find(".parameter")[0],p.saveasName=f.find("input.saveas")[0],p.delete=f.find("button.delete")[0],p.forkButton=f.find("button.saveas")[0];const g=t.getLastView();if(i.ub.pif(!1,"isOwn && !style.isownhtml || isInherited && !inheritedStyle.html || isInheritable && !inheritableStyle.html)",s),i.ub.pif(!1,s?h+" && "+s.isownhtml+" || "+u+" && "+s.html+" || "+c+" && "+s.html:""),s&&!(h&&!s.isownhtml||u&&!s.html||c&&!s.html))$(p.editLabel).hide();else if(p.selectstyle.disabled=p.detailButton.disabled=!0,p.input.setAttribute("disabled","true"),p.input.contentEditable="false",g?$(p.editAllowed).on("click",e=>{const t=u?n.metaParent:n;let l=g.viewsDictionary[t.id];if(l||(l=new i.xb(g)),h&&(i.ub.pe(!!l.htmlo,"htmlo should be undefined at this point."),l.htmlo=new i.vb,l.htmlo.setHtmlStr((s?s.html:t.getStyle().html).outerHTML)),c){i.ub.pe(!!l.htmli,"htmli should be undefined at this point."),l.htmli=new i.vb;const e=i.hb.GetStyle(i.pb.status.m,n.getInstanceClassName());l.htmli.setHtmlStr(e.outerHTML)}u&&(i.ub.pe(!!l.htmli,"htmli should be undefined at this point."),l.htmli=new i.vb,l.htmli.setHtmlStr((s?s.html:n.getStyle().html).outerHTML)),l.apply(t),this.showMP(n)}):(p.editLabel.innerText="Is required to have at least one non-default viewpoint applied to customize styles.",p.editAllowed.style.display="none"),!s)return c&&(p.editLabel.innerHTML="This element does not have a inheritable style."),u&&(p.editLabel.innerHTML="The metaParent of this element does not have a inheritable style appliable to this element."),p.editLabel.appendChild(p.editAllowed),i.ub.clear(a),a.appendChild(p.editLabel),null;t.isM1()&&(p.isM1.disabled=p.isM1.checked=!0),t.isM2()&&(p.isM2.disabled=p.isM2.checked=!0),n instanceof i.D&&(p.isClass.disabled=p.isClass.checked=!0),n instanceof i.L&&(p.isReference.disabled=p.isReference.checked=!0),n instanceof i.C&&(p.isAttribute.disabled=p.isAttribute.checked=!0),n instanceof i.q&&(p.isOperation.disabled=p.isOperation.checked=!0),n instanceof i.r&&(p.isParameter.disabled=p.isParameter.checked=!0);let m,b=s.htmlobj;b?(p.isM1.checked=b.AllowedOnM1,p.isM2.checked=b.AllowedOnM2,p.isClass.checked=b.allowedOnClass,p.isReference.checked=b.allowedOnReference,p.isAttribute.checked=b.allowedOnAttribute,p.isOperation.checked=b.allowedOnOperation,p.isParameter.checked=b.allowedOnParameter,$(p.isM1).on("change",e=>{b.AllowedOnM1=p.isM1.checked,b.saveToDB()}),$(p.isM2).on("change",e=>{b.AllowedOnM2=p.isM2.checked,b.saveToDB()}),$(p.isClass).on("change",e=>{b.allowedOnClass=p.isClass.checked,b.saveToDB()}),$(p.isAttribute).on("change",e=>{b.allowedOnAttribute=p.isAttribute.checked,b.saveToDB()}),$(p.isReference).on("change",e=>{b.allowedOnReference=p.isReference.checked,b.saveToDB()}),$(p.isOperation).on("change",e=>{b.allowedOnOperation=p.isOperation.checked,b.saveToDB()}),$(p.isParameter).on("change",e=>{b.allowedOnParameter=p.isParameter.checked,b.saveToDB()})):p.isM1.disabled=p.isM2.disabled=p.isClass.disabled=p.isReference.disabled=p.isAttribute.disabled=p.isOperation.disabled=p.isParameter.disabled=!0,p.input.setAttribute("placeholder",i.ub.replaceVarsString(n,p.input.getAttribute("placeholder"))),p.input.innerText=l.outerHTML,e.find(".htmllevel").html((u?"Instances Html":"Own html")+" ("+(r&&r.length?"Level&nbsp;"+r.length:"Root&nbsp;level")+")"),m=i.ub.toHtml('<optgroup label="Compatible Styles"></optgroup>');let y=document.createElement("option");for(y.value="default",y.text="default",s.isGlobalhtml&&(y.selected=!0),m.append(y),o=0;o<n.views.length;o++){const e=n.views[o];(y=document.createElement("option")).value=""+e.id,y.text=e.getViewPoint().name+" (own)",e===s.view&&(y.selected=!0),m.append(y)}for(o=0;n.metaParent&&o<n.metaParent.views.length;o++){const e=n.metaParent.views[o];(y=document.createElement("option")).value=""+e.id,y.text=e.getViewPoint().name+" (inherited)",e===s.view&&(y.selected=!0),m.append(y)}p.selectstyle.appendChild(m);const v=()=>{const e=i.ub.toHtml(p.input.innerText);i.ub.pif(!1,"*** setting inheritable PRE. style.htmlobj:",s.htmlobj,", style:",s,", templateLevel:",l,"templatelvl.parent:",l.parentElement,", inputHtml:",e),l.parentElement?(l.parentElement.insertBefore(e,l),l.parentElement.removeChild(l),l=e):(i.ub.pe(!s.view||s.isGlobalhtml,"default html cannot be modified.",s,"todo: automatically make new ClassVieww"),s.htmlobj.setHtml(l=e),i.ub.pif(!1,"*** setting inheritable POST. style.htmlobj",s.htmlobj,"style:",s)),h&&n.refreshGUI(),c&&n.refreshInstancesGUI(),u&&n.metaParent.refreshInstancesGUI(),!c&&r&&(this.clickedLevel=i.ub.followIndexesPath(n.getHtmlOnGraph(),r)),this.updateClickedGUIHighlight()};$(p.input).off("paste.set").on("paste.set",e=>{this.onPaste(e),v()}).off("change.set").on("change.set",v).off("input.set").on("input.set",v).off("blur.set").on("blur.set",v).off("keydown.set").on("keydown.set",e=>{"Esc"===e.key&&this.propertyBar.refreshGUI()}),p.selectstyle.disabled=r&&r.length>0;const _=e.find('.html[contenteditable="true"]')[0],w=e.find("select.attributetypeadd")[0];for(e.find("button.addmeasurable").on("click",()=>{this.addmeasurableAttributeButton(w,e,n,s,l,_,r)}),o=0;o<l.attributes.length;o++){const t=l.attributes[o];if("_"===t.name[0]||0==t.name.indexOf("r_")||0==t.name.indexOf("r_")){const i=this.clickedLevel.attributes.getNamedItem(t.name.substr(1));this.addmeasurableAttributeButton(w,e,n,null,l,_,r,t,i)}}return r}showMP(e,t=null,n=!1,s=null){this.clickedLevel=t=t||this.clickedLevel;const l=e.getStyle(),r=e.getInheritableStyle(),o=e.getInheritedStyle(),a=i.hb.getLogicalRootOfHtml(t),u=l.html;let c=i.ub.getIndexesPath(t,"parentNode","childNodes",a);i.ub.pe(i.ub.followIndexesPath(a,c,"childNodes")!==t,"mismatch.",c);const h={indexFollowed:[],debugArr:[]};let d=i.ub.followIndexesPath(u,c,"childNodes",h);h.indexFollowed.length!==c.length&&(this.clickedLevel=t=i.ub.followIndexesPath(a,c=h.indexFollowed)),this.updateClickedGUIHighlight();const p=e.getModelRoot();if(s&&(e instanceof i.D||e instanceof i.L)&&e.shouldBeDisplayedAsEdge())return this.showE(e,s);const f=this.getCopyOfTemplate(e,".modelpiece",this.display,!0),g=$(f),m=g.find(".showAsEdge")[0],b=g.find(".showAsEdgeText")[0],y=g.find(".style.own"),v=g.find(".style.inherited"),_=g.find(".style.inheritable"),w=this.setStyleEditor(y,p,e,l,d,c);g.find(".tsclass").html(""+e.printableName());let x=null;if(o){const e=o.html;(x=i.ub.followIndexesPath(e,c,"childNodes",h))!==d&&(x=e)}this.setStyleEditor(v,p,e,o,x);const C=r?r.html:null;p.isM1()?_[0].innerHTML='<h5 class="text-danger">M1 elements cannot give inheritance.</h5>':this.setStyleEditor(_,p,e,r,C),i.ub.detailButtonSetup(g),g.find("button.arrow.up").on("click",e=>{$(t.parentNode).trigger("click")})[0].disabled=0===w.length&&e instanceof i.D,g.find("button.arrow.down")[0].disabled=!0,m.checked=!1,e instanceof i.D&&(m.disabled=e.references.length<2,b.innerHTML="Show as an edge"+(m.disabled?" (require&nbsp;>=&nbsp;2&nbsp;references)":""),$(m).off("change.set").on("change.set",t=>{e.shouldBeDisplayedAsEdge(!0),this.showE(e,s)}))}addmeasurableAttributeButton(e,t,n,s,l,r,o,a=null,u=null){let c,h;const d=this.getCopyOfTemplate(n,".measurable._root",null,!1),p=$(d),f=p.find(".nameprefix")[0],g=p.find("input.name")[0],m=p.find("select.operator")[0],b=p.find("input.leftside")[0],y=p.find("input.rightside")[0],v=p.find("input.evaluation")[0],_=p.find(".outputerror.left")[0],w=p.find(".outputerror.right")[0];m.disabled=!0,m.selectedIndex=1,y.pattern="[.]*";const x=e=>{d.dataset.printablename=e,g.value=e.substr(g.dataset.prefix.length)};if(a){let e,t=a.value.indexOf("="),n=1;for(">"===a.value[t]?(e=">=",t--,n++):"<"===a.value[t]?(e="<=",t--,n++):e="=",h=0;h<m.options.length;h++)m.options[h].value===e&&(m.selectedIndex=h,e=null);i.ub.pe(!!e,"option not found in select.",a.value,m),b.value=a.value.substr(0,t),y.value=a.value.substr(t+n),v.value=u?u.value:"",0===a.name.indexOf("d_")?c="d_":0===a.name.indexOf("r_")?c="r_":0===a.name.indexOf("_chainFinal")?c="_chainFinal":0===a.name.indexOf("_chain")?c="_chain":0===a.name.indexOf("_rule")?c="_rule":0===a.name.indexOf("_export")?c="_export":0===a.name.indexOf("_import")?c="_import":0===a.name.indexOf("_constraint")?c="_constraint":0===a.name.indexOf("_dstyle")?c="_dstyle":0===a.name.indexOf("_")&&(c="_"),f.innerText=g.dataset.prefix=c,x(a.name)}else{c=e.value;let t=e.value+0;t=i.ub.increaseEndingNumber(t,!1,!1,e=>!!l.attributes.getNamedItem(e)),f.innerText=g.dataset.prefix=e.value,x(t)}const C=$(r),k=e=>!!l.attributes.getNamedItem(e),E=()=>new RegExp(b.pattern).test(b.value),S=(e=!1)=>{const t=(e||""===b.value?"":b.value+" "+m.value+" ")+y.value,r=i.ub.removeDuplicates(i.ub.findTemplateList(t)),o=[];let a;for(a=0;a<r.length;a++){const e=r[a];if("##"!==e[1]+e[2]){i.ub.pw(!0,'gui debugging of template options different from the default "##" is not currently supported: '+e);continue}const t=i.ub.replaceSingleVarRaw(n,e);let s,l="",u="";for(s=0;s<t.length;s++)l+=t[s].token+".",u+=t[s].value.typeDetail.toEcoreString()+".";l=l.substr(0,l.length-2),u=u.substr(0,u.length-2),o.push({template:e,namesArray:l,typesArray:u})}s.htmlobj.setDependencyArray(o),e?(l.removeAttribute(d.dataset.name),d.dataset.printablename=b.value.trim(),l.setAttribute(d.dataset.name,y.value)):l.setAttribute(d.dataset.name,t),C[0].innerText=l.outerHTML,C.trigger("input")},T=()=>{_.innerText="",E()||(_.href="https://github.com/DamianoNaraku/ModelGraph/wiki/measurable-elements#_import",_.innerText="Left side must be one of: width, height, positionRelX, positionRelY, positionAbsX, positionAbsY")},M=()=>{_.innerText="",E()||(_.href="https://github.com/DamianoNaraku/ModelGraph/wiki/measurable-elements#_rule",_.innerText="Left side must be a $##template$")},P=()=>{_.innerText="";const e=b.value;let t=!1;try{const i=n.getVertex()?$(n.getVertex().getHtml()).find(e):[];console.log("_export matches: ",i),t=i.length>0}catch(i){_.innerText=" Exception: "+JSON.stringify(i),console.log("_export or _chain invalid selector: ",i),t=!1}t||(_.innerText="Left side is not matching any element, it must be a jQuery selector."+_.innerText)},A=()=>{const e=n.getHtmlOnGraph(),t=i.ub.followIndexesPath(e,o);let s;w.innerText="";try{s=i.ub.computeMeasurableAttributeRightPart(y.value,t.getAttributeNode(d.dataset.name),n,t)}catch(l){console.log("Exception on right part:",l),w.innerText="Exception on right part: "+l}return v.value=""+s,s},I=()=>{A(),i.ub.followIndexesPath(n.getHtmlOnGraph(),o)};switch(c){default:i.ub.pe(!0,"unexpected select.attributetypeadd value:"+c);break;case"r_":case"d_":b.placeholder="parameter name",y.placeholder="value",y.pattern="[.]+",$(b).on("input",()=>{S()}),$(y).on("input",()=>{S()});break;case"_rule":_.href="https://github.com/DamianoNaraku/ModelGraph/wiki/measurable-elements#_rule",b.placeholder="$##template$",b.pattern="^$[10#]{2}[.]*$$",$(b).on("input",()=>{S(),setTimeout(M,1)}),$(y).on("input",()=>{S(),setTimeout(A,1)});break;case"_import":_.href="https://github.com/DamianoNaraku/ModelGraph/wiki/measurable-elements#_import",b.placeholder="width | height | positionRelX | positionRelY | positionAbsX | positionAbsY",b.pattern="$width$|^height$|^positionRelX$|^positionRelY$|^positionAbsX$|^positionAbsY$",$(b).on("input",()=>{S(),setTimeout(T,1)}),$(y).on("input",()=>{S(),setTimeout(A,1)});break;case"_chain":case"_chainFinal":_.href="https://github.com/DamianoNaraku/ModelGraph/wiki/measurable-elements#_chainfinal-and-_chain",b.placeholder="jQuery selector",b.pattern="[.]*",$(b).on("input",()=>{S(),setTimeout(P,1)});break;case"_export":b.placeholder="jQuery selector",b.pattern="[.]*",_.href="https://github.com/DamianoNaraku/ModelGraph/wiki/measurable-elements#_export",$(b).on("input",()=>{S(),setTimeout(P,1)}),$(y).on("input",()=>{S(),setTimeout(A,1)});break;case"_dstyle":case"_":$(y).on("input",()=>{S(),setTimeout(A,1)});break;case"_constraint":b.placeholder="width | height | positionRelX | positionRelY | positionAbsX | positionAbsY",b.pattern="$width$|^height$|^positionRelX$|^positionRelY$|^positionAbsX$|^positionAbsY$",m.disabled=!1,$(b).on("input",()=>{S(),setTimeout(T,1),setTimeout(I,1)}),$(m).on("change",()=>{S(),setTimeout(I,1)}),$(y).on("input",()=>{S(),setTimeout(I,1)})}$(g).on("input",()=>{const e=d.dataset.name,t=l.getAttribute(e);let n=g.dataset.prefix+g.value;k(n)&&(n=i.ub.increaseEndingNumber(n,!1,!1,k)),x(n),l.removeAttribute(e),l.setAttribute(n,t),s.htmlobj.saveToDB()});const O=t.find("."+c+"Container");i.ub.pe(!O.length,"parent not found:",c,", editor:",t),p.find(".hideOn."+c).hide(),O[0].appendChild(d),p.find("button.delete").on("click",()=>{l.removeAttribute(name),O[0].removeChild(d)})}showE(e,t){t.getIndex(),console.log("styleShowE(",e,")");const n=this.getCopyOfTemplate(e,".edge",this.display,!0),s=$(n),l=s.find(".edgeStyle")[0],r=s.find(".edgeColor.common")[0],o=s.find(".edgeColor.highlight")[0],a=s.find(".edgeColor.selected")[0],u=s.find(".edgeWidth.common")[0],c=s.find(".edgeWidth.highlight")[0],h=s.find(".edgeWidth.selected")[0],d=s.find(".edgePoint.radius")[0],p=s.find(".edgePoint.strokeW")[0],f=s.find(".edgePoint.stroke")[0],g=s.find(".edgePoint.fill")[0],m=s.find(".edgePointPreview.radius")[0],b=s.find(".edgePointPreview.strokeW")[0],y=s.find(".edgePointPreview.stroke")[0],v=s.find(".edgePointPreview.fill")[0],_=s.find(".edgePointSelected.radius")[0],w=s.find(".edgePointSelected.strokeW")[0],x=s.find(".edgePointSelected.stroke")[0],C=s.find(".edgePointSelected.fill")[0];i.ub.pe(!l,"edgeStyle not found. root:",s,"selector: .edgeStyle");let k="";switch(e.edgeStyleCommon.style){default:i.ub.pe(!0,"unrecognized EdgeStyle:",e.edgeStyleCommon.style);break;case i.u.angular23Auto:k="angular23Auto";break;case i.u.angular2:k="angular2";break;case i.u.angular3:k="angular3";break;case i.u.straight:k="straight"}i.ub.selectHtml(l,k,!1),u.value=""+e.edgeStyleCommon.width,c.value=""+e.edgeStyleHighlight.width,h.value=""+e.edgeStyleSelected.width,r.value=e.edgeStyleCommon.color,o.value=e.edgeStyleHighlight.color,a.value=e.edgeStyleSelected.color,console.log("logic:",e,"styleCColor:",e.edgeStyleCommon.color,"output value:",r.value),d.value=""+e.edgeStyleCommon.edgePointStyle.radius,p.value=""+e.edgeStyleCommon.edgePointStyle.strokeWidth,f.value=e.edgeStyleCommon.edgePointStyle.strokeColor,g.value=e.edgeStyleCommon.edgePointStyle.fillColor,m.value=""+e.edgeStyleHighlight.edgePointStyle.radius,b.value=""+e.edgeStyleHighlight.edgePointStyle.strokeWidth,y.value=e.edgeStyleHighlight.edgePointStyle.strokeColor,v.value=e.edgeStyleHighlight.edgePointStyle.fillColor,_.value=""+e.edgeStyleSelected.edgePointStyle.radius,w.value=""+e.edgeStyleSelected.edgePointStyle.strokeWidth,x.value=e.edgeStyleSelected.edgePointStyle.strokeColor,C.value=e.edgeStyleSelected.edgePointStyle.fillColor,$(l).off("change.set").on("change.set",n=>{let s;switch(l.value){default:i.ub.pe(!0,"unrecognized edgeMode(",l.value,") among: ",i.u);break;case i.u.straight:case"straight":s=i.u.straight;break;case i.u.angular23Auto:case"angular23Auto":s=i.u.angular23Auto;break;case i.u.angular2:case"angular2":s=i.u.angular2;break;case i.u.angular3:case"angular3":s=i.u.angular3}e.edgeStyleCommon.style=s,e.edgeStyleHighlight.style=s,e.edgeStyleSelected.style=s,t.refreshGui()}),$(r).off("change.set").on("change.set",n=>{e.edgeStyleCommon.color=r.value,t.refreshGui()}),$(u).off("change.set").on("change.set",n=>{e.edgeStyleCommon.width=isNaN(+u.value)?0:+u.value,t.refreshGui()}),$(o).off("change.set").on("change.set",n=>{e.edgeStyleHighlight.color=o.value,t.refreshGui()}),$(c).off("change.set").on("change.set",n=>{e.edgeStyleHighlight.width=isNaN(+c.value)?0:+c.value,t.refreshGui()}),$(a).off("change.set").on("change.set",n=>{e.edgeStyleSelected.color=a.value,t.refreshGui()}),$(h).off("change.set").on("change.set",n=>{e.edgeStyleSelected.width=isNaN(+h.value)?0:+h.value,t.refreshGui()}),$(d).off("change.set").on("change.set",n=>{e.edgeStyleCommon.edgePointStyle.radius=isNaN(+d.value)?0:+d.value,t.refreshGui()}),$(p).off("change.set").on("change.set",n=>{e.edgeStyleCommon.edgePointStyle.strokeWidth=isNaN(+p.value)?0:+p.value,t.refreshGui()}),$(f).off("change.set").on("change.set",n=>{e.edgeStyleCommon.edgePointStyle.strokeColor=f.value,t.refreshGui()}),$(g).off("change.set").on("change.set",n=>{e.edgeStyleCommon.edgePointStyle.fillColor=g.value,t.refreshGui()}),$(m).off("change.set").on("change.set",n=>{e.edgeStyleHighlight.edgePointStyle.radius=isNaN(+m.value)?0:+m.value,t.refreshGui()}),$(b).off("change.set").on("change.set",n=>{e.edgeStyleHighlight.edgePointStyle.strokeWidth=isNaN(+b.value)?0:+b.value,t.refreshGui()}),$(y).off("change.set").on("change.set",n=>{e.edgeStyleHighlight.edgePointStyle.strokeColor=y.value,t.refreshGui()}),$(v).off("change.set").on("change.set",n=>{e.edgeStyleHighlight.edgePointStyle.fillColor=v.value,t.refreshGui()}),$(_).off("change.set").on("change.set",n=>{e.edgeStyleSelected.edgePointStyle.radius=isNaN(+_.value)?0:+_.value,t.refreshGui()}),$(w).off("change.set").on("change.set",n=>{e.edgeStyleSelected.edgePointStyle.strokeWidth=isNaN(+w.value)?0:+w.value,t.refreshGui()}),$(x).off("change.set").on("change.set",n=>{e.edgeStyleSelected.edgePointStyle.strokeColor=x.value,t.refreshGui()}),$(C).off("change.set").on("change.set",n=>{e.edgeStyleSelected.edgePointStyle.fillColor=C.value,t.refreshGui()})}}},"8Y7J":function(e,t,n){"use strict";function i(e){return"function"==typeof e}let s=!1;const l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function r(e){setTimeout(()=>{throw e})}const o={closed:!0,next(e){},error(e){if(l.useDeprecatedSynchronousErrorHandling)throw e;r(e)},complete(){}},a=Array.isArray||(e=>e&&"number"==typeof e.length);function u(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:s,_unsubscribe:l,_subscriptions:r}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,c=s?s.length:0;for(;n;)n.remove(this),n=++o<c&&s[o]||null;if(i(l))try{l.call(this)}catch(d){t=!0,e=d instanceof h?p(d.errors):[d]}if(a(r))for(o=-1,c=r.length;++o<c;){const n=r[o];if(u(n))try{n.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof h?e=e.concat(p(d.errors)):e.push(d)}}if(t)throw new h(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[f](){return this}static create(e,t,n){const i=new g(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class m extends g{constructor(e,t,n,s){let l;super(),this._parentSubscriber=e;let r=this;i(t)?l=t:t&&(l=t.next,n=t.error,s=t.complete,t!==o&&(i((r=Object.create(t)).unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=l,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;l.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=l;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):r(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;r(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);l.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw n;r(n)}}__tryOrSetError(e,t,n){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return l.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(r(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const b="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}let v=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,s=function(e,t,n){if(e){if(e instanceof g)return e;if(e[f])return e[f]()}return e||t||n?new g(e,t,n):new g(o)}(e,t,n);if(s.add(i?i.call(s,this.source):this.source||l.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof g?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=_(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(s){n(s),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[b](){return this}pipe(...e){return 0===e.length?this:((t=e)?1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)}:y)(this);var t}toPromise(e){return new(e=_(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function _(e){if(e||(e=l.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function w(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}w.prototype=Object.create(Error.prototype);const x=w;class C extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class k extends g{constructor(e){super(e),this.destination=e}}let E=(()=>{class e extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new k(this)}lift(e){const t=new S(this,this);return t.operator=e,t}next(e){if(this.closed)throw new x;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let s=0;s<n;s++)i[s].next(e)}}error(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let s=0;s<n;s++)i[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new x;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new C(this,e))}asObservable(){const e=new v;return e.source=this,e}}return e.create=(e,t)=>new S(e,t),e})();class S extends E{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}class T extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const M=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},P=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r),t);function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const I=A(),O=e=>t=>{const n=e[I]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},D=e=>t=>{const n=e[b]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},N=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function R(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const j=e=>{if(e instanceof v)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[b])return D(e);if(N(e))return M(e);if(R(e))return P(e);if(e&&"function"==typeof e[I])return O(e);{const t=u(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};class z extends g{notifyNext(e,t,n,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class L{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new U(e,this.project,this.thisArg))}}class U extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function H(e,t){return new v(t?n=>{const i=new d;let s=0;return i.add(t.schedule((function(){s!==e.length?(n.next(e[s++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:M(e))}class B{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new F(e,this.project,this.concurrent))}}class F extends z{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new T(this,void 0,void 0);this.destination.add(i),function(e,t,n,i,s=new T(e,n,i)){s.closed||j(t)(s)}(this,e,t,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function V(e){return e}function $(){return function(e){return e.lift(new W(e))}}class W{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new q(e,n),s=t.subscribe(i);return i.closed||(i.connection=n.connect()),s}}class q extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}const G=class extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new Y(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}refCount(){return $()(this)}}.prototype,K={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:G._subscribe},_isComplete:{value:G._isComplete,writable:!0},getSubject:{value:G.getSubject},connect:{value:G.connect},refCount:{value:G.refCount}};class Y extends k{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function J(){return new E}n.d(t,"S",(function(){return _o})),n.d(t,"T",(function(){return wo})),n.d(t,"U",(function(){return xo})),n.d(t,"V",(function(){return Co})),n.d(t,"R",(function(){return vr})),n.d(t,"Q",(function(){return ir})),n.d(t,"e",(function(){return co})),n.d(t,"C",(function(){return ro})),n.d(t,"p",(function(){return lo})),n.d(t,"D",(function(){return sn})),n.d(t,"F",(function(){return nn})),n.d(t,"a",(function(){return yr})),n.d(t,"t",(function(){return wr})),n.d(t,"s",(function(){return xr})),n.d(t,"b",(function(){return mr})),n.d(t,"c",(function(){return br})),n.d(t,"E",(function(){return bo})),n.d(t,"y",(function(){return Jr})),n.d(t,"H",(function(){return Qr})),n.d(t,"n",(function(){return Er})),n.d(t,"d",(function(){return ko})),n.d(t,"i",(function(){return pr})),n.d(t,"h",(function(){return Qt})),n.d(t,"w",(function(){return Mn})),n.d(t,"x",(function(){return Tn})),n.d(t,"A",(function(){return Le})),n.d(t,"z",(function(){return Zi})),n.d(t,"qb",(function(){return le})),n.d(t,"k",(function(){return li})),n.d(t,"rb",(function(){return Ae})),n.d(t,"j",(function(){return be})),n.d(t,"r",(function(){return ee})),n.d(t,"q",(function(){return Vr})),n.d(t,"u",(function(){return Ki})),n.d(t,"v",(function(){return Yi})),n.d(t,"f",(function(){return Or})),n.d(t,"g",(function(){return Bi})),n.d(t,"o",(function(){return De})),n.d(t,"l",(function(){return cs})),n.d(t,"m",(function(){return hs})),n.d(t,"B",(function(){return vi})),n.d(t,"G",(function(){return vo})),n.d(t,"eb",(function(){return _i})),n.d(t,"K",(function(){return kr})),n.d(t,"I",(function(){return ii})),n.d(t,"J",(function(){return Fi})),n.d(t,"N",(function(){return En})),n.d(t,"O",(function(){return In})),n.d(t,"P",(function(){return an})),n.d(t,"db",(function(){return me})),n.d(t,"hb",(function(){return bi})),n.d(t,"kb",(function(){return ae})),n.d(t,"fb",(function(){return Ni})),n.d(t,"gb",(function(){return Di})),n.d(t,"cb",(function(){return ar})),n.d(t,"bb",(function(){return ur})),n.d(t,"L",(function(){return sr})),n.d(t,"M",(function(){return lr})),n.d(t,"pb",(function(){return Ke})),n.d(t,"nb",(function(){return fi})),n.d(t,"tb",(function(){return xi})),n.d(t,"sb",(function(){return Ci})),n.d(t,"ob",(function(){return ki})),n.d(t,"ub",(function(){return Ti})),n.d(t,"W",(function(){return _l})),n.d(t,"X",(function(){return Va})),n.d(t,"Y",(function(){return Rs})),n.d(t,"Z",(function(){return Vl})),n.d(t,"ab",(function(){return Eo})),n.d(t,"ib",(function(){return pl})),n.d(t,"jb",(function(){return dl})),n.d(t,"lb",(function(){return Ro})),n.d(t,"mb",(function(){return Lo}));const X="__parameters__";function Z(e,t,n){const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function s(...e){if(this instanceof s)return i.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,i){const s=e.hasOwnProperty(X)?e[X]:Object.defineProperty(e,X,{value:[]})[X];for(;s.length<=i;)s.push(null);return(s[i]=s[i]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}const Q=Z("Inject",e=>({token:e})),ee=Z("Optional"),te=Z("Self"),ne=Z("SkipSelf");var ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function se(e){for(let t in e)if(e[t]===se)return t;throw Error("Could not find renamed property on target object.")}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function re(e){const t=e[oe];return t&&t.token===e?t:null}const oe=se({ngInjectableDef:se});function ae(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ae).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ue=se({__forward_ref__:se});function ce(e){return e.__forward_ref__=ce,e.toString=function(){return ae(this())},e}function he(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ue)&&t.__forward_ref__===ce?t():e}const de="undefined"!=typeof globalThis&&globalThis,pe="undefined"!=typeof window&&window,fe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ge="undefined"!=typeof global&&global,me=de||ge||pe||fe;class be{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ye=new be("INJECTOR",-1),ve=new Object,_e="ngTempTokenPath",we="ngTokenPath",xe=/\n/gm,Ce="\u0275",ke="__source",Ee=se({provide:String,useValue:se});let Se,Te=void 0;function Me(e){const t=Te;return Te=e,t}function Pe(e,t=ie.Default){if(void 0===Te)throw new Error("inject() must be called from an injection context");return null===Te?function(e,t,n){const i=re(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ie.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ae(e)}]`)}(e,0,t):Te.get(e,t&ie.Optional?null:void 0,t)}function Ae(e,t=ie.Default){return(Se||Pe)(e,t)}class Ie{get(e,t=ve){if(t===ve){const t=new Error(`NullInjectorError: No provider for ${ae(e)}!`);throw t.name="NullInjectorError",t}return t}}function Oe(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Ce?e.substr(2):e;let s=ae(t);if(t instanceof Array)s=t.map(ae).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):ae(i)))}s=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${e.replace(xe,"\n  ")}`}class De{}class Ne{}function Re(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function je(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ze=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Le=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ue={},He=[],Be=se({ngComponentDef:se}),Fe=se({ngDirectiveDef:se}),Ve=se({ngPipeDef:se});let $e=0;function We(e){return function(e){return e[Be]||null}(e)||function(e){return e[Fe]||null}(e)}function qe(e){return function(e){return e[Ve]||null}(e)}function Ge(e,t){if(null==e)return Ue;const n={};for(const i in e)if(e.hasOwnProperty(i)){let s=e[i],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),n[s]=i,t&&(t[s]=l)}return n}const Ke=function(e){const t=e.type,n=t.prototype,i={},s={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Le.Emulated,id:"c",styles:e.styles||He,_:null,setInput:null,schemas:e.schemas||null,tView:null};return s._=""+{toString:()=>{const n=e.directives,l=e.features,r=e.pipes;s.id+=$e++,s.inputs=Ge(e.inputs,i),s.outputs=Ge(e.outputs),l&&l.forEach(e=>e(s)),s.directiveDefs=n?()=>("function"==typeof n?n():n).map(We):null,s.pipeDefs=r?()=>("function"==typeof r?r():r).map(qe):null,t.hasOwnProperty(oe)||(t[oe]=le({token:t,factory:e.factory}))}},s},Ye=0,Je=1,Xe=7,Ze=12,Qe=19;let et=null;const tt=new Map;let nt=null;const it=1,st=0;function lt(e,t){return nt&&e===nt||(nt=e,t&&(et=tt.get(e)||null),et=et||{classesBitMask:st,classesIndex:it,stylesBitMask:st,stylesIndex:it}),et}function rt(e,t){return function(e){for(;Array.isArray(e);)e=e[Ye];return e}(t[e.index])}function ot(e,t){return t[Je].data[e+Qe]}let at=null;function ut(){return ht}let ct,ht,dt,pt=1,ft=0,gt=0,mt=-1;function bt(){return mt}function yt(){return dt}const vt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(me))(),_t="--MAP--",wt=0;function xt(e,t){t===wt?e[2]>wt&&function(e){kt(e,2|Ct(e))}(e):e[2]=t}function Ct(e){return e[1]}function kt(e,t){e[1]=t}function Et(e,t){return e[t+2]}function St(e,t){return 1&e[t+0]}function Tt(e,t){return(1&St(e,t))>0}function Mt(e,t){return e[t+0]>>1}function Pt(e,t,n){const i=St(e,t);e[t+0]=i|n<<1}function At(e,t){return e[t+1]}function It(e,t,n){return e[t+3+n]}function Ot(e,t){return!(!e||t!==e[2])}function Dt(e){return(1&Ct(e))>0}function Nt(e){return(2&Ct(e))>0}function Rt(e){return 6+e[4]}function jt(e,t){let n=Array.isArray(e)?e[0]:e,i=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),i instanceof String&&(i=i.toString()),function(e,t){return!(e!=e&&t!=t)&&e!==t}(n,i)}function zt(e){return null!=e&&""!==e}function Lt(e,t,n=" "){return e+(t.length&&e.length?n:"")+t}function Ut(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Ht(e){return Bt(e)?e[0]:e}function Bt(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function Ft(e,t){return e[t+0]}function Vt(e,t,n){e[t+1]=n}function $t(e,t){return e[t+1]}const Wt=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function qt(e){return!!e.listen}const Gt="ngDebugContext",Kt="ngOriginalError",Yt="ngErrorLogger";function Jt(e){return e[Gt]}function Xt(e){return e[Kt]}function Zt(e,...t){e.error(...t)}class Qt{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e[Yt]||Zt}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Jt(e)?Jt(e):this._findContext(Xt(e)):null}_findOriginalError(e){let t=Xt(e);for(;t&&Xt(t);)t=Xt(t);return t}}let en=!0,tn=!1;function nn(){return tn=!0,en}function sn(){if(tn)throw new Error("Cannot enable prod mode after platform setup.");en=!1}class ln{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const rn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,on=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function an(e){return(e=String(e)).match(rn)||e.match(on)?e:(nn()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function un(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function cn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const hn=un("area,br,col,hr,img,wbr"),dn=un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pn=un("rp,rt"),fn=cn(pn,dn),gn=cn(hn,cn(dn,un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cn(pn,un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fn),mn=un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bn=un("srcset"),yn=cn(mn,bn,un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vn=un("script,style,template");class _n{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!gn.hasOwnProperty(t))return this.sanitizedSomething=!0,!vn.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,l=t.toLowerCase();if(!yn.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let r=e.value;mn[l]&&(r=an(r)),bn[l]&&(i=r,r=(i=String(i)).split(",").map(e=>an(e.trim())).join(", ")),this.buf.push(" ",t,'="',Cn(r),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();gn.hasOwnProperty(t)&&!hn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Cn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const wn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xn=/([^\#-~ |!])/g;function Cn(e){return e.replace(/&/g,"&amp;").replace(wn,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(xn,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kn;function En(e,t){let n=null;try{kn=kn||new ln(e);let i=t?String(t):"";n=kn.getInertBodyElement(i);let s=5,l=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=l,l=n.innerHTML,n=kn.getInertBodyElement(i)}while(i!==l);const r=new _n,o=r.sanitizeChildren(Sn(n)||n);return nn()&&r.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const e=Sn(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Sn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Tn=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Mn{}const Pn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),An=/^url\(([^)]+)\)$/;function In(e){if(!(e=String(e).trim()))return"";const t=e.match(An);return t&&an(t[1])===t[1]||e.match(Pn)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const s=e.charAt(i);"'"===s&&n?t=!t:'"'===s&&t&&(n=!n)}return t&&n}(e)?e:(nn()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function On(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(Dn,(...e)=>"-"+e[1].toLowerCase())}`}const Dn=/([A-Z])/g;function Nn(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}const Rn=1,jn=0,zn=null,Ln=1;let Un=[];function Hn(e,t,n,i,s,l,r,o,a){Dt(e)||(r?function(e,t,n,i,s){Un.unshift(e,t,n,i,s)}(e,n,i,s,a):(Un.length&&Bn(),Fn(e,n,i,s,a)));const u=o||jt(t[s],l);return u&&(t[s]=l),u}function Bn(){let e=0;for(;e<Un.length;)Fn(Un[e++],Un[e++],Un[e++],Un[e++],Un[e++]);Un.length=0}function Fn(e,t,n,i,s){let l=!1;if(n){let r=!1,o=Rt(e);for(;o<e.length;){const l=At(e,o),a=Et(e,o);if(r=n<=a){n<a&&Vn(e,o,n,s),$n(e,!1,o,i,t);break}o+=3+l}r||(Vn(e,e.length,n,s),$n(e,!1,o,i,t),l=!0)}else $n(e,!0,3,i,t),l=!0;return l}function Vn(e,t,n,i){e.splice(t,0,i?1:0,Ln,n,zn),Pt(e,t,Rn)}function $n(e,t,n,i,s){const l=n+3;let r=l+At(e,n);if(t||r--,"number"==typeof i){for(let t=l;t<=r;t++)if(e[t]===i)return;e.splice(r,0,i),e[n+1]++,Pt(e,n,Mt(e,n)|1<<s)}else null!==i&&null==e[r]&&(e[r]=i)}function Wn(e,t,n,i,s,l,r,o){return s&&i&&(function(e){if(!Dt(e)){const t=Ht(e);t&&function(e,t){for(let n=1;n<t.length;n+=2){const i=$t(t,n);i&&Fn(e,-1,Ft(t,n),i,!1)}}(e,t),function(e){kt(e,1|Ct(e))}(e)}}(i),function(e,t){return e&&t>st}(i,l))?(function(e,t,n,i,s,l,r){const o=!0===(a=s)?-1:!1===a?0:a;var a;const u=qn,c=(o&Mt(e,3))>0?1:0;let h=Rt(e);for(;h<e.length;){const s=At(e,h);if(o&Mt(e,h)){let o=!1;const a=Et(e,h),d=s-1,p=It(e,h,d);for(let s=0;s<d;s++){const u=It(e,h,s),c=i[u];if(zt(c)){l(t,n,a,r&&Tt(e,h)?r(a,c,2):c,u),o=!0;break}}if(u){const s=u(e,t,n,i,l,r,c|(o?4:2),a,p);o=o||s}o||l(t,n,a,p)}h+=3+s}u&&u(e,t,n,i,l,r,c)}(i,e,t,n,l,r,o),!0):s}let qn=null;const Gn=(e,t,n,i)=>{const s=t.style;i?(i=i.toString(),e&&qt(e)?e.setStyle(t,n,i,Wt.DashCase):s&&s.setProperty(n,i)):e&&qt(e)?e.removeStyle(t,n,Wt.DashCase):s&&s.removeProperty(n)},Kn=(e,t,n,i)=>{if(""!==n){const s=t.classList;i?e&&qt(e)?e.addClass(t,n):s&&s.add(n):e&&qt(e)?e.removeClass(t,n):s&&s.remove(n)}},Yn={},Jn=(e,t,n,i,s,l,r,o,a)=>{let u=!1;if(At(e,3)){let c=!0;const h=!o;h&&-2&r&&(c=!1,u=!0),c&&(u=function e(t,n,i,s,l,r,o,a,u,c){let h=!1;if(u<At(t,3)){const p=It(t,3,u),f=s[p];let g=((d=u)>=Qn.length&&Qn.push(1),Qn[d]);for(;g<f.length;){const d=Ft(f,g),m=a&&d>a,b=!m&&d===a,y=$t(f,g),v=zt(y);let _=e(t,n,i,s,l,r,m?o:Xn(o,v,b),m?a:d,u+1,c);if(m){h||(h=_);break}if(!_&&Zn(o,b)){const e=b&&!v,t=e?c:y,s=e?p:null;l(n,i,d,r?r(d,t,3):t,s),_=!0}h=_&&b,g+=2}if(Qn[u]=g,1===f.length||!a)return e(t,n,i,s,l,r,o,a,u+1,c)}var d;return h}(e,t,n,i,s,l,r,o||null,0,a||null)),h&&function(){for(let e=0;e<Qn.length;e++)Qn[e]=1}()}return u};function Xn(e,t,n){let i=e;return t||4&e||!(n||1&e)?(i|=4,i&=-3):(i|=2,i&=-5),i}function Zn(e,t){let n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}const Qn=[];function ei(e,t,n,i){for(let s=1;s<e.length;s+=2){const l=Ft(e,s);if(t<=l){let r=!1;if(l===t){const t=e[s];!i&&zt(t)||(r=!0,Vt(e,s,n))}else r=!0,e.splice(s,0,t,n);return r}}return e.push(t,n),!0}let ti=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ni(),e})();const ni=(...e)=>{},ii=new be("The presence of this token marks an injector as being the root injector."),si=function(e,t,n){return new hi(e,t,n)};let li=(()=>{class e{static create(e,t){return Array.isArray(e)?si(e,t,""):si(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=ve,e.NULL=new Ie,e.ngInjectableDef=le({token:e,providedIn:"any",factory:()=>Ae(ye)}),e.__NG_ELEMENT_ID__=-1,e})();const ri=function(e){return e},oi=[],ai=ri,ui=function(){return Array.prototype.slice.call(arguments)},ci="\u0275";class hi{constructor(e,t=li.NULL,n=null){this.parent=t,this.source=n;const i=this._records=new Map;i.set(li,{token:li,fn:ri,deps:oi,value:this,useNew:!1}),i.set(ye,{token:ye,fn:ri,deps:oi,value:this,useNew:!1}),function e(t,n){if(n)if((n=he(n))instanceof Array)for(let i=0;i<n.length;i++)e(t,n[i]);else{if("function"==typeof n)throw pi("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw pi("Unexpected provider",n);{let e=he(n.provide);const i=function(e){const t=function(e){let t=oi;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let i=6,s=he(n[e]);if(s instanceof Array)for(let e=0,t=s;e<t.length;e++){const n=t[e];n instanceof ee||n==ee?i|=1:n instanceof ne||n==ne?i&=-3:n instanceof te||n==te?i&=-5:s=n instanceof Q?n.token:he(n)}t.push({token:s,options:i})}}else if(e.useExisting)t=[{token:he(e.useExisting),options:6}];else if(!(n||Ee in e))throw pi("'deps' required",e);return t}(e);let n=ri,i=oi,s=!1,l=he(e.provide);if(Ee in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)s=!0,n=he(e.useClass);else{if("function"!=typeof l)throw pi("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);s=!0,n=l}return{deps:t,fn:n,useNew:s,value:i}}(n);if(!0===n.multi){let i=t.get(e);if(i){if(i.fn!==ui)throw di(e)}else t.set(e,i={token:n.provide,deps:[],useNew:!1,fn:ui,value:oi});i.deps.push({token:e=n,options:6})}const s=t.get(e);if(s&&s.fn==ui)throw di(e);t.set(e,i)}}}(i,e)}get(e,t,n=ie.Default){const i=this._records.get(e);try{return function e(t,n,i,s,l,r){try{return function(t,n,i,s,l,r){let o;if(!n||r&ie.SkipSelf)r&ie.Self||(o=s.get(t,l,ie.Default));else{if((o=n.value)==ai)throw Error(ci+"Circular dependency");if(o===oi){n.value=ai;let t=void 0,l=n.useNew,r=n.fn,a=n.deps,u=oi;if(a.length){u=[];for(let t=0;t<a.length;t++){const n=a[t],l=n.options,r=2&l?i.get(n.token):void 0;u.push(e(n.token,r,i,r||4&l?s:li.NULL,1&l?null:li.THROW_IF_NOT_FOUND,ie.Default))}}n.value=o=l?new r(...u):r.apply(t,u)}}return o}(t,n,i,s,l,r)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[_e]=o[_e]||[]).unshift(t),n&&n.value==ai&&(n.value=oi),o}}(e,i,this._records,this.parent,t,n)}catch(s){return function(e,t,n,i){const s=e[_e];throw t[ke]&&s.unshift(t[ke]),e.message=Oe("\n"+e.message,s,"StaticInjectorError",i),e[we]=s,e[_e]=null,e}(s,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(ae(n))),`StaticInjector[${e.join(", ")}]`}}function di(e){return pi("Cannot mix multi providers and regular providers",e)}function pi(e,t){return new Error(Oe(e,t,"StaticInjectorError"))}function fi(e){const t=ut(),n=t[Je];n.firstTemplatePass&&(function(e,t,n){const i=e.expandoInstructions,s=i.length;s>=2&&i[s-2]===t.hostBindings?i[s-1]=i[s-1]+n:i.push(t.hostBindings,n)}(n,at,e),function(e,t,n){for(let i=0;i<n;i++)t.push(Yn),e.blueprint.push(Yn),e.data.push(null)}(n,t,e))}let gi=null;function mi(){if(!gi){const e=me.Symbol;if(e&&e.iterator)gi=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(gi=n)}}}return gi}function bi(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function yi(e,t){const n=_i(e),i=_i(t);if(n&&i)return function(e,t,n){const i=e[mi()](),s=t[mi()]();for(;;){const e=i.next(),t=s.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,yi);{const s=e&&("object"==typeof e||"function"==typeof e),l=t&&("object"==typeof t||"function"==typeof t);return!(n||!s||i||!l)||bi(e,t)}}class vi{constructor(e){this.wrapped=e}static wrap(e){return new vi(e)}static unwrap(e){return vi.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof vi}}function _i(e){return!!wi(e)&&(Array.isArray(e)||!(e instanceof Map)&&mi()in e)}function wi(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xi(){var e,t;ut()[Je].firstTemplatePass&&(e=ct,t=Mi(),xt(Ai(e),t),xt(Pi(e),t))}function Ci(e){const t=bt(),n=ut(),i=ot(t,n),s=Pi(i),l=Mi(),r=n[Xe]++;!l&&function(e){return 0!=(16&e.flags)}(i)&&e!==Yn&&(Si(s,n,i,r,e,!1),e=Yn),Ei(t,s,r,e,!1,Oi())}function ki(e){!function(e,t){const n=ut(),i=ot(e,n),s=Ai(i),l=Mi(),r=n[Xe]++;!l&&function(e){return 0!=(8&e.flags)}(i)&&t!==Yn&&(Si(s,n,i,r,t,!0),t=Yn),Ei(e,s,r,t,!0,Oi())}(bt(),e)}function Ei(e,t,n,i,s,l){qn=Jn;const r=ut();let o=!1;if(i!==Yn){const a=rt(ot(e,r),r),u=r[n];o=jt(u,i);const c=function(e,t,n){const i=Array.isArray(e)?e:[null];i[0]=t||null;for(let o=1;o<i.length;o+=2)Vt(i,o,null);let s,l=null,r=!1;if("string"==typeof t?t.length&&(l=t.split(/\s+/),r=!0):(l=t?Object.keys(t):null,s=t),l)for(let o=0;o<l.length;o++){const e=l[o];ei(i,n?Ut(e):e,!!r||s[e],!0)}return i}(u,i,!s);s?function(e,t,n,i,s,l,r,o){const a=lt(n,Nt(e)),u=jn;!Hn(e,t,u,null,s,l,r,o,!1)&&!o||(a.classesBitMask|=1<<u)}(t,r,a,0,n,c,l,o):function(e,t,n,i,s,l,r,o,a){const u=lt(n,Nt(e)),c=jn;!Hn(e,t,c,null,s,l,o,a,!0)&&!a||(u.stylesBitMask|=1<<c)}(t,r,a,0,n,c,yt(),l,o)}return o}function Si(e,t,n,i,s,l){t[i]!==s&&((s||Dt(e))&&function(e,t,n){const i=e[Je];for(let s=0;s<t.length;){const l=t[s++],r=t[s++],o=t[s++],a=e[l],u=i.data[l];u.setInput?u.setInput(a,n,r,o):a[o]=n}}(t,n.inputs[l?"class":"style"],function(e,t,n){let i=t;var s;return e.length>0&&(i=n?Lt(e,((s=t)&&"string"!=typeof s&&(s=Object.keys(s).join(" ")),s||"")):Lt(e,function(e){let t="";if(e){const n=Object.keys(e);for(let i=0;i<n.length;i++){const s=n[i];t=Lt(t,`${s}:${e[s]}`,";")}}return t}(t),";")),i}(function(e){const t=Ht(e);return t&&t[0]||""}(e),s,l)),t[i]=s)}function Ti(){const e=bt(),t=ut(),n=ot(e,t),i=function(e,t){return 3===e.type?t[Ze]:null}(n,t),s=rt(n,t),l=Mi(),r=yt();(function(e,t,n,i,s,l,r){const o=n?Nt(n):!!i&&Nt(i),a=Ot(n,l),u=Ot(i,l);Un.length&&(a||u)&&Bn();const c=lt(s,o),h=Wn(e,s,t,n,a,c.classesBitMask,Kn,null),d=Wn(e,s,t,i,u,c.stylesBitMask,Gn,r);h&&d?(et=null,nt=null,o&&function(e){tt.delete(e)}(s)):o&&function(e,t){tt.set(e,t)}(s,c)})(i,t,Ai(n),Pi(n),s,l,r),dt=null}function Mi(){return pt+ft}function Pi(e){return Ii(e,!1)}function Ai(e){return Ii(e,!0)}function Ii(e,t){let n=t?e.classes:e.styles;return Bt(n)||(n=[n||[""],0,wt,1,0,_t],t?e.classes=n:e.styles=n),n}function Oi(){return gt>0}function Di(e){return!!e&&"function"==typeof e.then}function Ni(e){return!!e&&"function"==typeof e.subscribe}class Ri{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class ji{}class zi{}function Li(e){const t=Error(`No component factory found for ${ae(e)}. Did you add it to @NgModule.entryComponents?`);return t[Ui]=e,t}const Ui="ngComponent";class Hi{resolveComponentFactory(e){throw Li(e)}}let Bi=(()=>{class e{}return e.NULL=new Hi,e})();class Fi{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let i=0;i<e.length;i++){const t=e[i];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Li(e);return new Vi(t,this._ngModule)}}class Vi extends zi{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}function $i(...e){}let Wi=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>qi(e),e})();const qi=$i;class Gi{}class Ki{}const Yi=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Ji=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Xi(),e})();const Xi=$i;class Zi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Qi=new Zi("8.2.14");class es{constructor(){}supports(e){return _i(e)}create(e){return new ns(e)}}const ts=(e,t)=>t;class ns{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ts}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,s=null;for(;t||n;){const l=!n||t&&t.currentIndex<rs(n,i,s)?t:n,r=rs(l,i,s),o=l.currentIndex;if(l===n)i--,n=n._nextRemoved;else if(t=t._next,null==l.previousIndex)i++;else{s||(s=[]);const e=r-i,t=o-i;if(e!=t){for(let n=0;n<e;n++){const i=n<s.length?s[n]:s[n]=0,l=i+n;t<=l&&l<e&&(s[n]=i+1)}s[l.previousIndex]=t-e}}r!==o&&e(l,r,o)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!_i(e))throw new Error(`Error trying to diff '${ae(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,s=this._itHead,l=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=this._trackByFn(t,n=e[t]),null!==s&&bi(s.trackById,i)?(l&&(s=this._verifyReinsertion(s,n,i,t)),bi(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,i,t),l=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[mi()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==s&&bi(s.trackById,i)?(l&&(s=this._verifyReinsertion(s,e,i,t)),bi(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,i,t),l=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(bi(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(bi(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):e=this._addAfter(new is(t,n),s,i),e}_verifyReinsertion(e,t,n,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ls),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ls),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class is{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ss{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&bi(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ls{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ss,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rs(e,t,n){const i=e.previousIndex;if(null===i)return i;let s=0;return n&&i<n.length&&(s=n[i]),i+t+s}class os{constructor(){}supports(e){return e instanceof Map||wi(e)}create(){return new as}}class as{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||wi(e)))throw new Error(`Error trying to diff '${ae(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,s=n._next;return i&&(i._next=s),s&&(s._prev=i),n._next=null,n._prev=null,n}const n=new us(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){bi(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class us{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let cs=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ne,new ee]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=le({token:e,providedIn:"root",factory:()=>new e([new es])}),e})(),hs=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ne,new ee]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=le({token:e,providedIn:"root",factory:()=>new e([new os])}),e})();const ds=[new os],ps=new cs([new es]),fs=new hs(ds);let gs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ms(e,Wi),e})();const ms=$i;let bs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ys(e,Wi),e})();const ys=$i;function vs(e,t,n,i){let s=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return i&&(s+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return _s(n,t),n}(s,e)}function _s(e,t){e[Gt]=t,e[Yt]=t.logError.bind(t)}function ws(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function xs(e,t,n){const i=e.state,s=1792&i;return s===t?(e.state=-1793&i|n,e.initIndex=-1,!0):s===n}function Cs(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function ks(e,t){return e.nodes[t]}function Es(e,t){return e.nodes[t]}function Ss(e,t){return e.nodes[t]}function Ts(e,t){return e.nodes[t]}function Ms(e,t){return e.nodes[t]}const Ps={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},As=()=>{},Is=new Map;function Os(e){let t=Is.get(e);return t||(t=ae(e)+"_"+Is.size,Is.set(e,t)),t}const Ds="$$undefined",Ns="$$empty";function Rs(e){return{id:Ds,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let js=0;function zs(e,t,n,i){return!(!(2&e.state)&&bi(e.oldValues[t.bindingIndex+n],i))}function Ls(e,t,n,i){return!!zs(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function Us(e,t,n,i){const s=e.oldValues[t.bindingIndex+n];if(1&e.state||!yi(s,i)){const l=t.bindings[n].name;throw vs(Ps.createDebugContext(e,t.nodeIndex),`${l}: ${s}`,`${l}: ${i}`,0!=(1&e.state))}}function Hs(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Bs(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Fs(e,t,n,i){try{return Hs(33554432&e.def.nodes[t].flags?Es(e,t).componentView:e),Ps.handleEvent(e,t,n,i)}catch(s){e.root.errorHandler.handleError(s)}}function Vs(e){return e.parent?Es(e.parent,e.parentNodeDef.nodeIndex):null}function $s(e){return e.parent?e.parentNodeDef.parent:null}function Ws(e,t){switch(201347067&t.flags){case 1:return Es(e,t.nodeIndex).renderElement;case 2:return ks(e,t.nodeIndex).renderText}}function qs(e,t){return e?`${e}:${t}`:t}function Gs(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Ks(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ys(e){const t={};let n=0;const i={};return e&&e.forEach(([e,s])=>{"number"==typeof e?(t[e]=s,n|=function(e){return 1<<e%32}(e)):i[e]=s}),{matchedQueries:t,references:i,matchedQueryIds:n}}function Js(e,t){return e.map(e=>{let n,i;return Array.isArray(e)?[i,n]=e:(i=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,ke,{value:t,configurable:!0}),{flags:i,token:n,tokenKey:Os(n)}})}function Xs(e,t,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Le.Native?Es(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Zs=new WeakMap;function Qs(e){let t=Zs.get(e);return t||((t=e(()=>As)).factory=e,Zs.set(e,t)),t}function el(e,t,n,i,s){3===t&&(n=e.renderer.parentNode(Ws(e,e.def.lastRenderRootNode))),tl(e,t,0,e.def.nodes.length-1,n,i,s)}function tl(e,t,n,i,s,l,r){for(let o=n;o<=i;o++){const n=e.def.nodes[o];11&n.flags&&il(e,n,t,s,l,r),o+=n.childCount}}function nl(e,t,n,i,s,l){let r=e;for(;r&&!Gs(r);)r=r.parent;const o=r.parent,a=$s(r),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const e=o.def.nodes[c];e.ngContentIndex===t&&il(o,e,n,i,s,l),c+=e.childCount}if(!o.parent){const r=e.root.projectableNodes[t];if(r)for(let t=0;t<r.length;t++)sl(e,r[t],n,i,s,l)}}function il(e,t,n,i,s,l){if(8&t.flags)nl(e,t.ngContent.index,n,i,s,l);else{const r=Ws(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&sl(e,r,n,i,s,l),32&t.bindingFlags&&sl(Es(e,t.nodeIndex).componentView,r,n,i,s,l)):sl(e,r,n,i,s,l),16777216&t.flags){const r=Es(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<r.length;e++)el(r[e],n,i,s,l)}1&t.flags&&!t.element.name&&tl(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,s,l)}}function sl(e,t,n,i,s,l){const r=e.renderer;switch(n){case 1:r.appendChild(i,t);break;case 2:r.insertBefore(i,t,s);break;case 3:r.removeChild(i,t);break;case 0:l.push(t)}}const ll=/^:([^:]+):(.+)$/;function rl(e){if(":"===e[0]){const t=e.match(ll);return[t[1],t[2]]}return["",e]}function ol(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}const al=new Object,ul=Os(li),cl=Os(ye),hl=Os(De);function dl(e,t,n,i){return n=he(n),{index:-1,deps:Js(i,ae(t)),flags:e,token:t,value:n}}function pl(e){const t={},n=[];let i=!1;for(let s=0;s<e.length;s++){const l=e[s];l.token===ii&&!0===l.value&&(i=!0),1073741824&l.flags&&n.push(l.token),l.index=s,t[Os(l.token)]=l}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:i}}function fl(e,t,n=li.THROW_IF_NOT_FOUND){const i=Me(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const r=t.tokenKey;switch(r){case ul:case cl:case hl:return e}const o=e._def.providersByKey[r];let a;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=gl(e,o)),t===al?void 0:t}if((a=re(t.token))&&(s=e,null!=(l=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(s,l.providedIn)||"root"===l.providedIn&&s._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:t.token},e._providers[n]=al,e._providers[n]=gl(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Me(i)}var s,l}function gl(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const i=n.length;switch(i){case 0:return new t;case 1:return new t(fl(e,n[0]));case 2:return new t(fl(e,n[0]),fl(e,n[1]));case 3:return new t(fl(e,n[0]),fl(e,n[1]),fl(e,n[2]));default:const s=new Array(i);for(let t=0;t<i;t++)s[t]=fl(e,n[t]);return new t(...s)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const i=n.length;switch(i){case 0:return t();case 1:return t(fl(e,n[0]));case 2:return t(fl(e,n[0]),fl(e,n[1]));case 3:return t(fl(e,n[0]),fl(e,n[1]),fl(e,n[2]));default:const s=Array(i);for(let t=0;t<i;t++)s[t]=fl(e,n[t]);return t(...s)}}(e,t.value,t.deps);break;case 2048:n=fl(e,t.deps[0]);break;case 256:n=t.value}return n===al||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?al:n}function ml(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const i=n[t];return i.viewContainerParent=null,je(n,t),Ps.dirtyParentQueries(i),yl(i),i}function bl(e,t,n){const i=t?Ws(t,t.def.lastRenderRootNode):e.renderElement,s=n.renderer.parentNode(i),l=n.renderer.nextSibling(i);el(n,2,s,l,void 0)}function yl(e){el(e,3,null,null,void 0)}const vl=new Object;function _l(e,t,n,i,s,l){return new wl(e,t,n,i,s,l)}class wl extends zi{constructor(e,t,n,i,s,l){super(),this.selector=e,this.componentType=t,this._inputs=i,this._outputs=s,this.ngContentSelectors=l,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,i){if(!i)throw new Error("ngModule should be provided");const s=Qs(this.viewDefFactory),l=s.nodes[0].element.componentProvider.nodeIndex,r=Ps.createRootView(e,t||[],n,s,i,vl),o=Ss(r,l).instance;return n&&r.renderer.setAttribute(Es(r,0).renderElement,"ng-version",Qi.full),new xl(r,new Sl(r),o)}}class xl extends ji{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Wi(Es(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Al(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Cl(e,t,n){return new kl(e,t,n)}class kl{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Wi(this._data.renderElement)}get injector(){return new Al(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=$s(e),e=e.parent;return e?new Al(e,t):new Al(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=ml(this._data,e);Ps.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Sl(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,s){const l=n||this.parentInjector;s||e instanceof Vi||(s=l.get(De));const r=e.create(l,i,void 0,s);return this.insert(r.hostView,t),r}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,i){let s=t.viewContainer._embeddedViews;null==n&&(n=s.length),i.viewContainerParent=e,Re(s,n,i),function(e,t){const n=Vs(t);if(!n||n===e||16&t.state)return;t.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,i),Ps.dirtyParentQueries(i),bl(t,n>0?s[n-1]:null,i)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const i=e.viewContainer._embeddedViews,s=i[t];je(i,t),null==n&&(n=i.length),Re(i,n,s),Ps.dirtyParentQueries(s),yl(s),bl(e,n>0?i[n-1]:null,s)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=ml(this._data,e);t&&Ps.destroyView(t)}detach(e){const t=ml(this._data,e);return t?new Sl(t):null}}function El(e){return new Sl(e)}class Sl{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return el(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Hs(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Ps.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Ps.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ps.destroyView(this._view)}detachFromAppRef(){this._appRef=null,yl(this._view),Ps.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Tl(e,t){return new Ml(e,t)}class Ml extends gs{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Sl(Ps.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Wi(Es(this._parentView,this._def.nodeIndex).renderElement)}}function Pl(e,t){return new Al(e,t)}class Al{constructor(e,t){this.view=e,this.elDef=t}get(e,t=li.THROW_IF_NOT_FOUND){return Ps.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Os(e)},t)}}function Il(e){return new Ol(e.renderer)}class Ol{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,i]=rl(t),s=this.delegate.createElement(i,n);return e&&this.delegate.appendChild(e,s),s}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),i=this.delegate.nextSibling(e);for(let s=0;s<t.length;s++)this.delegate.insertBefore(n,t[s],i)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[i,s]=rl(t);null!=n?this.delegate.setAttribute(e,s,n,i):this.delegate.removeAttribute(e,s,i)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Dl(e,t,n,i){return new Nl(e,t,n,i)}class Nl{constructor(e,t,n,i){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let i=0;i<t.providers.length;i++){const s=t.providers[i];4096&s.flags||void 0===n[i]&&(n[i]=gl(e,s))}}(this)}get(e,t=li.THROW_IF_NOT_FOUND,n=ie.Default){let i=0;return n&ie.SkipSelf?i|=1:n&ie.Self&&(i|=4),fl(this,{token:e,tokenKey:Os(e),flags:i},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Bi)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ae(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,i=new Set;for(let s=0;s<n.providers.length;s++)if(131072&n.providers[s].flags){const t=e._providers[s];if(t&&t!==al){const e=t.ngOnDestroy;"function"!=typeof e||i.has(t)||(e.apply(t),i.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Rl=Os(Gi),jl=Os(Ji),zl=Os(Wi),Ll=Os(bs),Ul=Os(gs),Hl=Os(ti),Bl=Os(li),Fl=Os(ye);function Vl(e,t,n,i,s,l,r,o){const a=[];if(r)for(let c in r){const[e,t]=r[c];a[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(o)for(let c in o)u.push({type:1,propName:c,target:null,eventName:o[c]});return function(e,t,n,i,s,l,r,o,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=Ys(n);a||(a=[]),o||(o=[]),l=he(l);const d=Js(r,ae(s));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:o,bindingFlags:ol(o),outputs:a,element:null,provider:{token:s,value:l,deps:d},text:null,query:null,ngContent:null}}(e,t|=16384,n,i,s,s,l,a,u)}function $l(e,t){return Kl(e,t)}function Wl(e,t){let n=e;for(;n.parent&&!Gs(n);)n=n.parent;return Yl(n.parent,$s(n),!0,t.provider.value,t.provider.deps)}function ql(e,t){const n=Yl(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const s=t.outputs[i],l=n[s.propName];if(!Ni(l))throw new Error(`@Output ${s.propName} not initialized in '${n.constructor.name}'.`);{const n=l.subscribe(Gl(e,t.parent.nodeIndex,s.eventName));e.disposables[t.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function Gl(e,t,n){return i=>Fs(e,t,n,i)}function Kl(e,t){const n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return Yl(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,s){const l=s.length;switch(l){case 0:return i();case 1:return i(Xl(e,t,n,s[0]));case 2:return i(Xl(e,t,n,s[0]),Xl(e,t,n,s[1]));case 3:return i(Xl(e,t,n,s[0]),Xl(e,t,n,s[1]),Xl(e,t,n,s[2]));default:const r=Array(l);for(let i=0;i<l;i++)r[i]=Xl(e,t,n,s[i]);return i(...r)}}(e,t.parent,n,i.value,i.deps);case 2048:return Xl(e,t.parent,n,i.deps[0]);case 256:return i.value}}function Yl(e,t,n,i,s){const l=s.length;switch(l){case 0:return new i;case 1:return new i(Xl(e,t,n,s[0]));case 2:return new i(Xl(e,t,n,s[0]),Xl(e,t,n,s[1]));case 3:return new i(Xl(e,t,n,s[0]),Xl(e,t,n,s[1]),Xl(e,t,n,s[2]));default:const r=new Array(l);for(let i=0;i<l;i++)r[i]=Xl(e,t,n,s[i]);return new i(...r)}}const Jl={};function Xl(e,t,n,i,s=li.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const l=e;2&i.flags&&(s=null);const r=i.tokenKey;r===Hl&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);let o=e;for(;o;){if(t)switch(r){case Rl:return Il(Zl(o,t,n));case jl:return Zl(o,t,n).renderer;case zl:return new Wi(Es(o,t.nodeIndex).renderElement);case Ll:return Es(o,t.nodeIndex).viewContainer;case Ul:if(t.element.template)return Es(o,t.nodeIndex).template;break;case Hl:return El(Zl(o,t,n));case Bl:case Fl:return Pl(o,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[r];if(e){let t=Ss(o,e.nodeIndex);return t||(t={instance:Kl(o,e)},o.nodes[e.nodeIndex]=t),t.instance}}n=Gs(o),t=$s(o),o=o.parent,4&i.flags&&(o=null)}const a=l.root.injector.get(i.token,Jl);return a!==Jl||s===Jl?a:l.root.ngModule.injector.get(i.token,s)}function Zl(e,t,n){let i;if(n)i=Es(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!Gs(i);)i=i.parent;return i}function Ql(e,t,n,i,s,l){if(32768&n.flags){const t=Es(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[i].name]=s,524288&n.flags){l=l||{};const t=vi.unwrap(e.oldValues[n.bindingIndex+i]);l[n.bindings[i].nonMinifiedName]=new Ri(t,s,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=s,l}function er(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let i=0;for(let s=0;s<n.length;s++){const l=n[s];let r=l.parent;for(!r&&l.flags&t&&nr(e,s,l.flags&t,i++),0==(l.childFlags&t)&&(s+=l.childCount);r&&1&r.flags&&s===r.nodeIndex+r.childCount;)r.directChildFlags&t&&(i=tr(e,r,t,i)),r=r.parent}}function tr(e,t,n,i){for(let s=t.nodeIndex+1;s<=t.nodeIndex+t.childCount;s++){const t=e.def.nodes[s];t.flags&n&&nr(e,s,t.flags&n,i++),s+=t.childCount}return i}function nr(e,t,n,i){const s=Ss(e,t);if(!s)return;const l=s.instance;l&&(Ps.setCurrentNode(e,t),1048576&n&&Cs(e,512,i)&&l.ngAfterContentInit(),2097152&n&&l.ngAfterContentChecked(),4194304&n&&Cs(e,768,i)&&l.ngAfterViewInit(),8388608&n&&l.ngAfterViewChecked(),131072&n&&l.ngOnDestroy())}const ir=new be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vt}),sr={},lr=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),rr=void 0;var or=["en",[["a","p"],["AM","PM"],rr],[["AM","PM"],rr,rr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rr,"{1} 'at' {0}",rr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function ar(e){return ur(e)[lr.PluralCase]}function ur(e){const t=e.toLowerCase().replace(/_/g,"-");let n=sr[t];if(n)return n;const i=t.split("-")[0];if(n=sr[i])return n;if("en"===i)return or;throw new Error(`Missing locale data for the locale "${e}".`)}const cr="en-US";let hr=cr;function dr(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(hr=e.toLowerCase().replace(/_/g,"-"))}class pr extends E{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,s=e=>null,l=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(l=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(l=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const r=super.subscribe(i,s,l);return e instanceof d&&e.add(r),r}}function fr(){return this._results[mi()]()}class gr{constructor(){this.dirty=!0,this._results=[],this.changes=new pr,this.length=0;const e=mi(),t=gr.prototype;t[e]||(t[e]=fr)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?(n===t&&(n=t.slice(0,i)),e(s,n)):n!==t&&n.push(s)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const mr=new be("Application Initializer");class br{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Di(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const yr=new be("AppId");function vr(){return`${_r()}${_r()}${_r()}`}function _r(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wr=new be("Platform Initializer"),xr=new be("Platform ID"),Cr=new be("appBootstrapListener");class kr{log(e){console.log(e)}warn(e){console.warn(e)}}const Er=new be("LocaleId"),Sr=!1;function Tr(){throw new Error("Runtime compiler is not loaded")}const Mr=Tr,Pr=Tr,Ar=Tr,Ir=Tr;class Or{constructor(){this.compileModuleSync=Mr,this.compileModuleAsync=Pr,this.compileModuleAndAllComponentsSync=Ar,this.compileModuleAndAllComponentsAsync=Ir}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class Dr{}let Nr,Rr;function jr(){const e=me.wtf;return!(!e||!(Nr=e.trace)||(Rr=Nr.events,0))}const zr=jr();function Lr(e,t){return null}const Ur=zr?function(e,t=null){return Rr.createScope(e,t)}:(e,t)=>Lr,Hr=zr?function(e,t){return Nr.leaveScope(e,t),t}:(e,t)=>t,Br=(()=>Promise.resolve(0))();function Fr(e){"undefined"==typeof Zone?Br.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Vr{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pr(!1),this.onMicrotaskEmpty=new pr(!1),this.onStable=new pr(!1),this.onError=new pr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,i,s,l,r)=>{try{return Gr(t),e.invokeTask(i,s,l,r)}finally{Kr(t)}},onInvoke:(e,n,i,s,l,r,o)=>{try{return Gr(t),e.invoke(i,s,l,r,o)}finally{Kr(t)}},onHasTask:(e,n,i,s)=>{e.hasTask(i,s),n===i&&("microTask"==s.change?(t.hasPendingMicrotasks=s.microTask,qr(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+i,e,Wr,$r,$r);try{return s.runTask(l,t,n)}finally{s.cancelTask(l)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function $r(){}const Wr={};function qr(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Gr(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Kr(e){e._nesting--,qr(e)}class Yr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pr,this.onMicrotaskEmpty=new pr,this.onStable=new pr,this.onError=new pr}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Jr{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vr.assertNotInAngularZone(),Fr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fr(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class Xr{constructor(){this._applications=new Map,to.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return to.findTestabilityInTree(this,e,t)}}class Zr{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Qr(e){to=e}let eo,to=new Zr,no=function(e,t,n){return e.get(Dr).createCompiler([t]).compileModuleAsync(n)},io=function(e){return e instanceof Vi};const so=new be("AllowMultipleToken");class lo{constructor(e,t){this.name=e,this.token=t}}function ro(e,t,n=[]){const i=`Platform: ${t}`,s=new be(i);return(t=[])=>{let l=oo();if(!l||l.injector.get(so,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0});!function(e){if(eo&&!eo.destroyed&&!eo.injector.get(so,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");eo=e.get(ao);const t=e.get(wr,null);t&&t.forEach(e=>e())}(li.create({providers:e,name:i}))}return function(e){const t=oo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function oo(){return eo&&!eo.destroyed?eo:null}class ao{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(s=t?t.ngZone:void 0)?new Yr:("zone.js"===s?void 0:s)||new Vr({enableLongStackTrace:nn()}),i=[{provide:Vr,useValue:n}];var s;return n.run(()=>{const t=li.create({providers:i,parent:this.injector,name:e.moduleType.name}),s=e.create(t),l=s.injector.get(Qt,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Sr&&dr(s.injector.get(Er,cr)||cr),s.onDestroy(()=>ho(this._modules,s)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{l.handleError(e)}})),function(e,t,n){try{const i=n();return Di(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,n,()=>{const e=s.injector.get(br);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=uo({},t);return no(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(co);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ae(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function uo(e,t){return Array.isArray(t)?t.reduce(uo,e):Object.assign({},e,t)}let co=(()=>{class e{constructor(e,t,n,i,s,l){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=nn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new v(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),o=new v(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Vr.assertNotInAngularZone(),Fr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Vr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];var s;return(s=i)&&"function"==typeof s.schedule?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof v?e[0]:function(e=Number.POSITIVE_INFINITY){return function e(t,n,i=Number.POSITIVE_INFINITY){return"function"==typeof n?s=>s.pipe(e((e,i)=>(function(e,t){return e instanceof v?e:new v(j(e))})(t(e,i)).pipe(function(e,t){return function(t){return t.lift(new L(e,void 0))}}((t,s)=>n(e,t,i,s))),i)):("number"==typeof n&&(i=n),e=>e.lift(new B(t,i)))}(V,e)}(t)(H(e,n))}(r,o.pipe(e=>$()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,K);return i.source=t,i.subjectFactory=n,i}}(J)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof zi?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=io(n)?null:this._injector.get(De),s=n.create(li.NULL,[],t||n.selector,i);s.onDestroy(()=>{this._unloadComponent(s)});const l=s.injector.get(Jr,null);return l&&s.injector.get(Xr).registerApplication(s.location.nativeElement,l),this._loadComponent(s),nn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Hr(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;ho(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Cr,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),ho(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Ur("ApplicationRef#tick()"),e})();function ho(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class po{constructor(e,t){this.name=e,this.callback=t}}class fo{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof go&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class go extends fo{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,i){t.childNodes.forEach(t=>{t instanceof go&&(n(t)&&i.push(t),e(t,n,i))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,i){t instanceof go&&t.childNodes.forEach(t=>{n(t)&&i.push(t),t instanceof go&&e(t,n,i)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof go)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const mo=new Map,bo=function(e){return mo.get(e)||null};function yo(e){mo.set(e.nativeNode,e)}const vo=ro(null,"core",[{provide:xr,useValue:"unknown"},{provide:ao,deps:[li]},{provide:Xr,deps:[]},{provide:kr,deps:[]}]);function _o(){return ps}function wo(){return fs}function xo(e){return e?(Sr&&dr(e),e):cr}function Co(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class ko{constructor(e){}}function Eo(e,t,n,i,s,l,r=[],o,a,u,c,h){u||(u=As);const{matchedQueries:d,references:p,matchedQueryIds:f}=Ys(n);let g=null,m=null;l&&([g,m]=rl(l)),o=o||[];const b=new Array(o.length);for(let _=0;_<o.length;_++){const[e,t,n]=o[_],[i,s]=rl(t);let l=void 0,r=void 0;switch(15&e){case 4:r=n;break;case 1:case 8:l=n}b[_]={flags:e,ns:i,name:s,nonMinifiedName:s,securityContext:l,suffix:r}}a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[e,t]=a[_];y[_]={type:0,target:e,eventName:t,propName:null}}const v=(r=r||[]).map(([e,t])=>{const[n,i]=rl(e);return[n,i,t]});return h=function(e){if(e&&e.id===Ds){const t=null!=e.encapsulation&&e.encapsulation!==Le.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${js++}`:Ns}return e&&e.id===Ns&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:s,bindings:b,bindingFlags:ol(b),outputs:y,element:{ns:g,name:m,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||As},provider:null,text:null,query:null,ngContent:null}}function So(e,t,n){const i=n.element,s=e.root.selectorOrNode,l=e.renderer;let r;if(e.parent||!s){r=i.name?l.createElement(i.name,i.ns):l.createComment("");const s=Xs(e,t,n);s&&l.appendChild(s,r)}else r=l.selectRootElement(s,!!i.componentRendererType&&i.componentRendererType.encapsulation===Le.ShadowDom);if(i.attrs)for(let o=0;o<i.attrs.length;o++){const[e,t,n]=i.attrs[o];l.setAttribute(r,t,n,e)}return r}function To(e,t,n,i){for(let s=0;s<n.outputs.length;s++){const l=n.outputs[s],r=Mo(e,n.nodeIndex,qs(l.target,l.eventName));let o=l.target,a=e;"component"===l.target&&(o=null,a=t);const u=a.renderer.listen(o||i,l.eventName,r);e.disposables[n.outputIndex+s]=u}}function Mo(e,t,n){return i=>Fs(e,t,n,i)}function Po(e,t,n,i){if(!Ls(e,t,n,i))return!1;const s=t.bindings[n],l=Es(e,t.nodeIndex),r=l.renderElement,o=s.name;switch(15&s.flags){case 1:!function(e,t,n,i,s,l){const r=t.securityContext;let o=r?e.root.sanitizer.sanitize(r,l):l;o=null!=o?o.toString():null;const a=e.renderer;null!=l?a.setAttribute(n,s,o,i):a.removeAttribute(n,s,i)}(e,s,r,s.ns,o,i);break;case 2:!function(e,t,n,i){const s=e.renderer;i?s.addClass(t,n):s.removeClass(t,n)}(e,r,o,i);break;case 4:!function(e,t,n,i,s){let l=e.root.sanitizer.sanitize(Tn.STYLE,s);if(null!=l){l=l.toString();const e=t.suffix;null!=e&&(l+=e)}else l=null;const r=e.renderer;null!=l?r.setStyle(n,i,l):r.removeStyle(n,i)}(e,s,r,o,i);break;case 8:!function(e,t,n,i,s){const l=t.securityContext;let r=l?e.root.sanitizer.sanitize(l,s):s;e.renderer.setProperty(n,i,r)}(33554432&t.flags&&32&s.flags?l.componentView:e,s,r,o,i)}return!0}function Ao(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Ks(e);){let n=e.parentNodeDef;e=e.parent;const i=n.nodeIndex+n.childCount;for(let s=0;s<=i;s++){const i=e.def.nodes[s];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&Ms(e,s).setDirty(),!(1&i.flags&&s+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(s+=i.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Ms(e,n).setDirty(),n+=t.childCount}}function Io(e,t){const n=Ms(e,t.nodeIndex);if(!n.dirty)return;let i,s=void 0;if(67108864&t.flags){const n=t.parent.parent;s=Oo(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),i=Ss(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(s=Oo(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(s);const l=t.query.bindings;let r=!1;for(let o=0;o<l.length;o++){const e=l[o];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,r=!0}i[e.propName]=t}r&&n.notifyOnChanges()}function Oo(e,t,n,i,s){for(let l=t;l<=n;l++){const t=e.def.nodes[l],n=t.matchedQueries[i.id];if(null!=n&&s.push(Do(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=Es(e,l);if((t.childMatchedQueries&i.filterId)===i.filterId&&(Oo(e,l+1,l+t.childCount,i,s),l+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const l=e[t],r=Vs(l);r&&r===n&&Oo(l,0,l.def.nodes.length-1,i,s)}}const r=n.template._projectedViews;if(r)for(let e=0;e<r.length;e++){const t=r[e];Oo(t,0,t.def.nodes.length-1,i,s)}}(t.childMatchedQueries&i.filterId)!==i.filterId&&(l+=t.childCount)}return s}function Do(e,t,n){if(null!=n)switch(n){case 1:return Es(e,t.nodeIndex).renderElement;case 0:return new Wi(Es(e,t.nodeIndex).renderElement);case 2:return Es(e,t.nodeIndex).template;case 3:return Es(e,t.nodeIndex).viewContainer;case 4:return Ss(e,t.nodeIndex).instance}}function No(e,t,n){const i=Xs(e,t,n);i&&nl(e,n.ngContent.index,1,i,null,void 0)}function Ro(e,t,n){const i=new Array(n.length-1);for(let s=1;s<n.length;s++)i[s-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[s]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function jo(e,t,n){let i;const s=e.renderer;i=s.createText(n.text.prefix);const l=Xs(e,t,n);return l&&s.appendChild(l,i),{renderText:i}}function zo(e,t){return(null!=e?e.toString():"")+t.suffix}function Lo(e,t,n,i){let s=0,l=0,r=0,o=0,a=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=u,e.bindingIndex=s,e.outputIndex=l,e.renderParent=c,r|=e.flags,a|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(a|=e.element.template.nodeMatchedQueries)}if(Ho(u,e,t.length),s+=e.bindings.length,l+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[Os(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Os(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):o|=e.flags,e.childCount>0)u=e,Uo(e)||(c=e);else for(;u&&f===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),c=(u=e)&&Uo(u)?u.renderParent:u}}return{factory:null,nodeFlags:r,rootNodeFlags:o,nodeMatchedQueries:a,flags:e,nodes:t,updateDirectives:n||As,updateRenderer:i||As,handleEvent:(e,n,i,s)=>t[n].element.handleEvent(e,i,s),bindingCount:s,outputCount:l,lastRenderRootNode:p}}function Uo(e){return 0!=(1&e.flags)&&null===e.element.name}function Ho(e,t,n){const i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function Bo(e,t,n,i){const s=$o(e.root,e.renderer,e,t,n);return Wo(s,e.component,i),qo(s),s}function Fo(e,t,n){const i=$o(e,e.renderer,null,null,t);return Wo(i,n,n),qo(i),i}function Vo(e,t,n,i){const s=t.element.componentRendererType;let l;return l=s?e.root.rendererFactory.createRenderer(i,s):e.root.renderer,$o(e.root,l,e,t.element.componentProvider,n)}function $o(e,t,n,i,s){const l=new Array(s.nodes.length),r=s.outputCount?new Array(s.outputCount):null;return{def:s,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:l,state:13,root:e,renderer:t,oldValues:new Array(s.bindingCount),disposables:r,initIndex:-1}}function Wo(e,t,n){e.component=t,e.context=n}function qo(e){let t;Gs(e)&&(t=Es(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,i=e.nodes;for(let s=0;s<n.nodes.length;s++){const l=n.nodes[s];let r;switch(Ps.setCurrentNode(e,s),201347067&l.flags){case 1:const n=So(e,t,l);let o=void 0;if(33554432&l.flags){const t=Qs(l.element.componentView);o=Ps.createComponentView(e,l,t,n)}To(e,o,l,n),r={renderElement:n,componentView:o,viewContainer:null,template:l.element.template?Tl(e,l):void 0},16777216&l.flags&&(r.viewContainer=Cl(e,l,r));break;case 2:r=jo(e,t,l);break;case 512:case 1024:case 2048:case 256:(r=i[s])||4096&l.flags||(r={instance:$l(e,l)});break;case 16:r={instance:Wl(e,l)};break;case 16384:(r=i[s])||(r={instance:ql(e,l)}),32768&l.flags&&Wo(Es(e,l.parent.nodeIndex).componentView,r.instance,r.instance);break;case 32:case 64:case 128:r={value:void 0};break;case 67108864:case 134217728:r=new gr;break;case 8:No(e,t,l),r=void 0}i[s]=r}ta(e,ea.CreateViewNodes),la(e,201326592,268435456,0)}function Go(e){Jo(e),Ps.updateDirectives(e,1),na(e,ea.CheckNoChanges),Ps.updateRenderer(e,1),ta(e,ea.CheckNoChanges),e.state&=-97}function Ko(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,xs(e,0,256),Jo(e),Ps.updateDirectives(e,0),na(e,ea.CheckAndUpdate),la(e,67108864,536870912,0);let t=xs(e,256,512);er(e,2097152|(t?1048576:0)),Ps.updateRenderer(e,0),ta(e,ea.CheckAndUpdate),la(e,134217728,536870912,0),er(e,8388608|((t=xs(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,xs(e,768,1024)}function Yo(e,t,n,i,s,l,r,o,a,u,c,h,d){return 0===n?function(e,t,n,i,s,l,r,o,a,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,i,s,l,r,o,a,u,c,h){const d=t.bindings.length;let p=!1;return d>0&&Po(e,t,0,n)&&(p=!0),d>1&&Po(e,t,1,i)&&(p=!0),d>2&&Po(e,t,2,s)&&(p=!0),d>3&&Po(e,t,3,l)&&(p=!0),d>4&&Po(e,t,4,r)&&(p=!0),d>5&&Po(e,t,5,o)&&(p=!0),d>6&&Po(e,t,6,a)&&(p=!0),d>7&&Po(e,t,7,u)&&(p=!0),d>8&&Po(e,t,8,c)&&(p=!0),d>9&&Po(e,t,9,h)&&(p=!0),p}(e,t,n,i,s,l,r,o,a,u,c,h);case 2:return function(e,t,n,i,s,l,r,o,a,u,c,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&Ls(e,t,0,n)&&(d=!0),f>1&&Ls(e,t,1,i)&&(d=!0),f>2&&Ls(e,t,2,s)&&(d=!0),f>3&&Ls(e,t,3,l)&&(d=!0),f>4&&Ls(e,t,4,r)&&(d=!0),f>5&&Ls(e,t,5,o)&&(d=!0),f>6&&Ls(e,t,6,a)&&(d=!0),f>7&&Ls(e,t,7,u)&&(d=!0),f>8&&Ls(e,t,8,c)&&(d=!0),f>9&&Ls(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=zo(n,p[0])),f>1&&(d+=zo(i,p[1])),f>2&&(d+=zo(s,p[2])),f>3&&(d+=zo(l,p[3])),f>4&&(d+=zo(r,p[4])),f>5&&(d+=zo(o,p[5])),f>6&&(d+=zo(a,p[6])),f>7&&(d+=zo(u,p[7])),f>8&&(d+=zo(c,p[8])),f>9&&(d+=zo(h,p[9]));const g=ks(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,i,s,l,r,o,a,u,c,h);case 16384:return function(e,t,n,i,s,l,r,o,a,u,c,h){const d=Ss(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&zs(e,t,0,n)&&(f=!0,g=Ql(e,d,t,0,n,g)),m>1&&zs(e,t,1,i)&&(f=!0,g=Ql(e,d,t,1,i,g)),m>2&&zs(e,t,2,s)&&(f=!0,g=Ql(e,d,t,2,s,g)),m>3&&zs(e,t,3,l)&&(f=!0,g=Ql(e,d,t,3,l,g)),m>4&&zs(e,t,4,r)&&(f=!0,g=Ql(e,d,t,4,r,g)),m>5&&zs(e,t,5,o)&&(f=!0,g=Ql(e,d,t,5,o,g)),m>6&&zs(e,t,6,a)&&(f=!0,g=Ql(e,d,t,6,a,g)),m>7&&zs(e,t,7,u)&&(f=!0,g=Ql(e,d,t,7,u,g)),m>8&&zs(e,t,8,c)&&(f=!0,g=Ql(e,d,t,8,c,g)),m>9&&zs(e,t,9,h)&&(f=!0,g=Ql(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&Cs(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,i,s,l,r,o,a,u,c,h);case 32:case 64:case 128:return function(e,t,n,i,s,l,r,o,a,u,c,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&Ls(e,t,0,n)&&(p=!0),f>1&&Ls(e,t,1,i)&&(p=!0),f>2&&Ls(e,t,2,s)&&(p=!0),f>3&&Ls(e,t,3,l)&&(p=!0),f>4&&Ls(e,t,4,r)&&(p=!0),f>5&&Ls(e,t,5,o)&&(p=!0),f>6&&Ls(e,t,6,a)&&(p=!0),f>7&&Ls(e,t,7,u)&&(p=!0),f>8&&Ls(e,t,8,c)&&(p=!0),f>9&&Ls(e,t,9,h)&&(p=!0),p){const p=Ts(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=i),f>2&&(g[2]=s),f>3&&(g[3]=l),f>4&&(g[4]=r),f>5&&(g[5]=o),f>6&&(g[6]=a),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=i),f>2&&(g[d[2].name]=s),f>3&&(g[d[3].name]=l),f>4&&(g[d[4].name]=r),f>5&&(g[d[5].name]=o),f>6&&(g[d[6].name]=a),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(i);break;case 3:g=e.transform(i,s);break;case 4:g=e.transform(i,s,l);break;case 5:g=e.transform(i,s,l,r);break;case 6:g=e.transform(i,s,l,r,o);break;case 7:g=e.transform(i,s,l,r,o,a);break;case 8:g=e.transform(i,s,l,r,o,a,u);break;case 9:g=e.transform(i,s,l,r,o,a,u,c);break;case 10:g=e.transform(i,s,l,r,o,a,u,c,h)}}p.value=g}return p}(e,t,n,i,s,l,r,o,a,u,c,h);default:throw"unreachable"}}(e,t,i,s,l,r,o,a,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let i=!1;for(let s=0;s<n.length;s++)Po(e,t,s,n[s])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){const i=t.bindings;let s=!1;for(let l=0;l<n.length;l++)Ls(e,t,l,n[l])&&(s=!0);if(s){let s="";for(let e=0;e<n.length;e++)s+=zo(n[e],i[e]);s=t.text.prefix+s;const l=ks(e,t.nodeIndex).renderText;e.renderer.setValue(l,s)}return s}(e,t,n);case 16384:return function(e,t,n){const i=Ss(e,t.nodeIndex),s=i.instance;let l=!1,r=void 0;for(let o=0;o<n.length;o++)zs(e,t,o,n[o])&&(l=!0,r=Ql(e,i,t,o,n[o],r));return r&&s.ngOnChanges(r),65536&t.flags&&Cs(e,256,t.nodeIndex)&&s.ngOnInit(),262144&t.flags&&s.ngDoCheck(),l}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const i=t.bindings;let s=!1;for(let l=0;l<n.length;l++)Ls(e,t,l,n[l])&&(s=!0);if(s){const s=Ts(e,t.nodeIndex);let l;switch(201347067&t.flags){case 32:l=n;break;case 64:l={};for(let s=0;s<n.length;s++)l[i[s].name]=n[s];break;case 128:const e=n[0],t=n.slice(1);l=e.transform(...t)}s.value=l}return s}(e,t,n);default:throw"unreachable"}}(e,t,i)}function Jo(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const i=t.nodes[n];if(4&i.flags){const t=Es(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const i=t[n];i.state|=32,Bs(i,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Xo(e,t,n,i,s,l,r,o,a,u,c,h,d){return 0===n?function(e,t,n,i,s,l,r,o,a,u,c,h){const d=t.bindings.length;d>0&&Us(e,t,0,n),d>1&&Us(e,t,1,i),d>2&&Us(e,t,2,s),d>3&&Us(e,t,3,l),d>4&&Us(e,t,4,r),d>5&&Us(e,t,5,o),d>6&&Us(e,t,6,a),d>7&&Us(e,t,7,u),d>8&&Us(e,t,8,c),d>9&&Us(e,t,9,h)}(e,t,i,s,l,r,o,a,u,c,h,d):function(e,t,n){for(let i=0;i<n.length;i++)Us(e,t,i,n[i])}(e,t,i),!1}function Zo(e,t){if(Ms(e,t.nodeIndex).dirty)throw vs(Ps.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Qo(e){if(!(128&e.state)){if(na(e,ea.Destroy),ta(e,ea.Destroy),er(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Vs(e);if(t){const n=t.template._projectedViews;n&&(je(n,n.indexOf(e)),Ps.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Es(e,n).renderElement):2&t.flags?e.renderer.destroyNode(ks(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Ms(e,n).destroy()}}(e),Gs(e)&&e.renderer.destroy(),e.state|=128}}const ea=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function ta(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];33554432&s.flags?ia(Es(e,i).componentView,t):0==(33554432&s.childFlags)&&(i+=s.childCount)}}function na(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];if(16777216&s.flags){const n=Es(e,i).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)ia(n[e],t)}else 0==(16777216&s.childFlags)&&(i+=s.childCount)}}function ia(e,t){const n=e.state;switch(t){case ea.CheckNoChanges:0==(128&n)&&(12==(12&n)?Go(e):64&n&&sa(e,ea.CheckNoChangesProjectedViews));break;case ea.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Go(e):64&n&&sa(e,t));break;case ea.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ko(e):64&n&&sa(e,ea.CheckAndUpdateProjectedViews));break;case ea.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ko(e):64&n&&sa(e,t));break;case ea.Destroy:Qo(e);break;case ea.CreateViewNodes:qo(e)}}function sa(e,t){na(e,t),ta(e,t)}function la(e,t,n,i){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const s=e.def.nodes.length;for(let l=0;l<s;l++){const s=e.def.nodes[l];if(s.flags&t&&s.flags&n)switch(Ps.setCurrentNode(e,s.nodeIndex),i){case 0:Io(e,s);break;case 1:Zo(e,s)}s.childFlags&t&&s.childFlags&n||(l+=s.childCount)}}let ra=!1;function oa(e,t,n,i,s,l){const r=s.injector.get(Ki);return Fo(ua(e,s,r,t,n),i,l)}function aa(e,t,n,i,s,l){const r=s.injector.get(Ki),o=ua(e,s,new Ba(r),t,n),a=va(i);return Ua(Ea.create,Fo,null,[o,a,l])}function ua(e,t,n,i,s){const l=t.injector.get(Mn),r=t.injector.get(Qt),o=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:s,sanitizer:l,rendererFactory:n,renderer:o,errorHandler:r}}function ca(e,t,n,i){const s=va(n);return Ua(Ea.create,Bo,null,[e,t,s,i])}function ha(e,t,n,i){return n=ga.get(t.element.componentProvider.provider.token)||va(n),Ua(Ea.create,Vo,null,[e,t,n,i])}function da(e,t,n,i){return Dl(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===pa.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const i=pa.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)}),e.modules.forEach(e=>{fa.forEach((i,s)=>{re(s).providedIn===e&&(t=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const i=e.providers[t];n&&(i.flags|=4096);const s=pa.get(i.token);s&&(i.flags=-3841&i.flags|s.flags,i.deps=Js(s.deps),i.value=s.value)}if(fa.size>0){let t=new Set(e.modules);fa.forEach((i,s)=>{if(t.has(re(s).providedIn)){let t={token:s,flags:i.flags|(n?4096:0),deps:Js(i.deps),value:i.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Os(s)]=t}})}}(e=e.factory(()=>As)),e):e}(i))}const pa=new Map,fa=new Map,ga=new Map;function ma(e){let t;pa.set(e.token,e),"function"==typeof e.token&&(t=re(e.token))&&"function"==typeof t.providedIn&&fa.set(e.token,e)}function ba(e,t){const n=Qs(t.viewDefFactory),i=Qs(n.nodes[0].element.componentView);ga.set(e,i)}function ya(){pa.clear(),fa.clear(),ga.clear()}function va(e){if(0===pa.size)return e;const t=function(e){const t=[];let n=null;for(let i=0;i<e.nodes.length;i++){const s=e.nodes[i];1&s.flags&&(n=s),n&&3840&s.flags&&pa.has(s.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>As);for(let i=0;i<t.length;i++)n(e,t[i]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=pa.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Js(n.deps),e.value=n.value)}}}}function _a(e,t,n,i,s,l,r,o,a,u,c,h,d){const p=e.def.nodes[t];return Yo(e,p,n,i,s,l,r,o,a,u,c,h,d),224&p.flags?Ts(e,t).value:void 0}function wa(e,t,n,i,s,l,r,o,a,u,c,h,d){const p=e.def.nodes[t];return Xo(e,p,n,i,s,l,r,o,a,u,c,h,d),224&p.flags?Ts(e,t).value:void 0}function xa(e){return Ua(Ea.detectChanges,Ko,null,[e])}function Ca(e){return Ua(Ea.checkNoChanges,Go,null,[e])}function ka(e){return Ua(Ea.destroy,Qo,null,[e])}const Ea=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Sa,Ta,Ma;function Pa(e,t){Ta=e,Ma=t}function Aa(e,t,n,i){return Pa(e,t),Ua(Ea.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function Ia(e,t){if(128&e.state)throw ws(Ea[Sa]);return Pa(e,Ra(e,0)),e.def.updateDirectives((function(e,n,i,...s){const l=e.def.nodes[n];return 0===t?Da(e,l,i,s):Na(e,l,i,s),16384&l.flags&&Pa(e,Ra(e,n)),224&l.flags?Ts(e,l.nodeIndex).value:void 0}),e)}function Oa(e,t){if(128&e.state)throw ws(Ea[Sa]);return Pa(e,ja(e,0)),e.def.updateRenderer((function(e,n,i,...s){const l=e.def.nodes[n];return 0===t?Da(e,l,i,s):Na(e,l,i,s),3&l.flags&&Pa(e,ja(e,n)),224&l.flags?Ts(e,l.nodeIndex).value:void 0}),e)}function Da(e,t,n,i){if(Yo(e,t,n,...i)){const s=1===n?i[0]:i;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const i=t.bindings[e],l=s[e];8&i.flags&&(n[On(i.nonMinifiedName)]=Nn(l))}const i=t.parent,l=Es(e,i.nodeIndex).renderElement;if(i.element.name)for(let t in n){const i=n[t];null!=i?e.renderer.setAttribute(l,t,i):e.renderer.removeAttribute(l,t)}else e.renderer.setValue(l,`bindings=${JSON.stringify(n,null,2)}`)}}}function Na(e,t,n,i){Xo(e,t,n,...i)}function Ra(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function ja(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class za{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,i=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=$s(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return Es(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Pl(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){La(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&La(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Gs(e);)e=e.parent;return e.parent?Es(e.parent,$s(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ws(this.view,this.nodeDef):Ws(this.elView,this.elDef)}logError(e,...t){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const s=function(e,t){let n=-1;for(let i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(n,i);let l=-1;n.factory(()=>++l===s?e.error.bind(e,...t):As),l<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function La(e,t,n){for(let i in t.references)n[i]=Do(e,t,t.references[i])}function Ua(e,t,n,i){const s=Sa,l=Ta,r=Ma;try{Sa=e;const o=t.apply(n,i);return Ta=l,Ma=r,Sa=s,o}catch(u){if(Jt(u)||!Ta)throw u;throw o=u,a=Ha(),o instanceof Error||(o=new Error(o.toString())),_s(o,a),o}var o,a}function Ha(){return Ta?new za(Ta,Ma):null}class Ba{constructor(e){this.delegate=e}createRenderer(e,t){return new Fa(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Fa{constructor(e){this.delegate=e,this.debugContextFactory=Ha,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=bo(e);!function(e){mo.delete(e.nativeNode)}(t),t instanceof fo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),i=this.createDebugContext(n);if(i){const t=new go(n,null,i);t.name=e,yo(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&yo(new fo(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&yo(new fo(t,null,n)),t}appendChild(e,t){const n=bo(e),i=bo(t);n&&i&&n instanceof go&&n.addChild(i),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const i=bo(e),s=bo(t),l=bo(n);i&&s&&i instanceof go&&i.insertBefore(l,s),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=bo(e),i=bo(t);n&&i&&n instanceof go&&n.removeChild(i),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),i=Ha();return i&&yo(new go(n,null,i)),n}setAttribute(e,t,n,i){const s=bo(e);s&&s instanceof go&&(s.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){const i=bo(e);i&&i instanceof go&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=bo(e);n&&n instanceof go&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=bo(e);n&&n instanceof go&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,i){const s=bo(e);s&&s instanceof go&&(s.styles[t]=n),this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){const i=bo(e);i&&i instanceof go&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const i=bo(e);i&&i instanceof go&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const i=bo(e);i&&i.listeners.push(new po(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function Va(e,t,n){return new $a(e,t,n)}class $a extends Ne{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(ra)return;ra=!0;const e=nn()?{setCurrentNode:Pa,createRootView:aa,createEmbeddedView:ca,createComponentView:ha,createNgModuleRef:da,overrideProvider:ma,overrideComponentView:ba,clearOverrides:ya,checkAndUpdateView:xa,checkNoChangesView:Ca,destroyView:ka,createDebugContext:(e,t)=>new za(e,t),handleEvent:Aa,updateDirectives:Ia,updateRenderer:Oa}:{setCurrentNode:()=>{},createRootView:oa,createEmbeddedView:Bo,createComponentView:Vo,createNgModuleRef:Dl,overrideProvider:As,overrideComponentView:As,clearOverrides:As,checkAndUpdateView:Ko,checkNoChangesView:Go,destroyView:Qo,createDebugContext:(e,t)=>new za(e,t),handleEvent:(e,t,n,i)=>e.def.handleEvent(e,t,n,i),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?_a:wa,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?_a:wa,e)};Ps.setCurrentNode=e.setCurrentNode,Ps.createRootView=e.createRootView,Ps.createEmbeddedView=e.createEmbeddedView,Ps.createComponentView=e.createComponentView,Ps.createNgModuleRef=e.createNgModuleRef,Ps.overrideProvider=e.overrideProvider,Ps.overrideComponentView=e.overrideComponentView,Ps.clearOverrides=e.clearOverrides,Ps.checkAndUpdateView=e.checkAndUpdateView,Ps.checkNoChangesView=e.checkNoChangesView,Ps.destroyView=e.destroyView,Ps.resolveDep=Xl,Ps.createDebugContext=e.createDebugContext,Ps.handleEvent=e.handleEvent,Ps.updateDirectives=e.updateDirectives,Ps.updateRenderer=e.updateRenderer,Ps.dirtyParentQueries=Ao}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),i={};for(const s in e.providersByKey)i[s]=e.providersByKey[s];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:i}}(Qs(this._ngModuleDefFactory));return Ps.createNgModuleRef(this.moduleType,e||li.NULL,this._bootstrapComponents,t)}}},"9An1":function(e,t,n){var i,s,l;s=[n("EVdn")],void 0===(l="function"==typeof(i=function(e){function t(t,i){var s,l,r,o=t.nodeName.toLowerCase();return"area"===o?(l=(s=t.parentNode).name,!(!t.href||!l||"map"!==s.nodeName.toLowerCase())&&!!(r=e("img[usemap='#"+l+"']")[0])&&n(r)):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o&&t.href||i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}var i,s,l,r;e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,l=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&l.length?l:e(this[0].ownerDocument||document)},uniqueId:(i=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++i)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),s=isNaN(i);return(s||i>=0)&&t(n,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),l={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function r(t,n,s,l){return e.each(i,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,s&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),l&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+n]=function(t){return void 0===t?l["inner"+n].call(this):this.each((function(){e(this).css(s,r(this,t)+"px")}))},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?l["outer"+n].call(this,t):this.each((function(){e(this).css(s,r(this,t,!0,i)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(s=e.fn.removeData,function(t){return arguments.length?s.call(this,e.camelCase(t)):s.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(r=e.fn.focus,function(t,n){return"number"==typeof t?this.each((function(){var i=this;setTimeout((function(){e(i).focus(),n&&n.call(i)}),t)})):r.apply(this,arguments)}),disableSelection:(l="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(l+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,s=e(this[0]);s.length&&s[0]!==document;){if(("absolute"===(n=s.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var s,l=e.ui[t].prototype;for(s in i)l.plugins[s]=l.plugins[s]||[],l.plugins[s].push([n,i[s]])},call:function(e,t,n,i){var s,l=e.plugins[t];if(l&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<l.length;s++)e.options[l[s][0]]&&l[s][1].apply(e.element,n)}};var o=0,a=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,s,l;for(l=0;null!=(s=n[l]);l++)try{(i=e._data(s,"events"))&&i.remove&&e(s).triggerHandler("remove")}catch(r){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var s,l,r,o,a={},u=t.split(".")[0];return t=t.split(".")[1],i||(i=n,n=e.Widget),e.expr[":"][(s=u+"-"+t).toLowerCase()]=function(t){return!!e.data(t,s)},e[u]=e[u]||{},l=e[u][t],r=e[u][t]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,l,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(o=new n).options=e.widget.extend({},o.options),e.each(i,(function(t,i){var s,l;a[t]=e.isFunction(i)?(s=function(){return n.prototype[t].apply(this,arguments)},l=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=s,this._superApply=l,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):i})),r.prototype=e.widget.extend(o,{widgetEventPrefix:l&&o.widgetEventPrefix||t},a,{constructor:r,namespace:u,widgetName:t,widgetFullName:s}),l?(e.each(l._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)})),delete l._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var n,i,s=a.call(arguments,1),l=0,r=s.length;l<r;l++)for(n in s[l])i=s[l][n],s[l].hasOwnProperty(n)&&void 0!==i&&(t[n]=e.isPlainObject(i)?e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(s){var l="string"==typeof s,r=a.call(arguments,1),o=this;return s=!l&&r.length?e.widget.extend.apply(null,[s].concat(r)):s,this.each(l?function(){var n,l=e.data(this,i);return"instance"===s?(o=l,!1):l?e.isFunction(l[s])&&"_"!==s.charAt(0)?(n=l[s].apply(l,r))!==l&&void 0!==n?(o=n&&n.jquery?o.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}:function(){var t=e.data(this,i);t?(t.option(s||{}),t._init&&t._init()):e.data(this,i,new n(s,this))}),o}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,s,l,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},i=t.split("."),t=i.shift(),i.length){for(s=r[t]=e.widget.extend({},this.options[t]),l=0;l<i.length-1;l++)s[i[l]]=s[i[l]]||{},s=s[i[l]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var s,l=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=s=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,s=this.widget()),e.each(i,(function(i,r){function o(){if(t||!0!==l.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?l[r]:r).apply(l,arguments)}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||e.guid++);var a=i.match(/^([\w:-]*)\s*(.*)$/),u=a[1]+l.eventNamespace,c=a[2];c?s.delegate(c,u,o):n.bind(u,o)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var s,l,r=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],l=n.originalEvent)for(s in l)s in n||(n[s]=l[s]);return this.element.trigger(n,i),!(e.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,s,l){"string"==typeof s&&(s={effect:s});var r,o=s?!0===s||"number"==typeof s?n:s.effect||n:t;"number"==typeof(s=s||{})&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=l,s.delay&&i.delay(s.delay),r&&e.effects&&e.effects.effect[o]?i[t](s):o!==t&&i[o]?i[o](s.duration,s.easing,l):i.queue((function(n){e(this)[t](),l&&l.call(i[0]),n()}))}}));var u=!1;e(document).mouseup((function(){u=!1})),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!u){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!s&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,0)))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),u=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){e.ui=e.ui||{};var t,n,i=Math.max,s=Math.abs,l=Math.round,r=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,h=e.fn.position;function d(e,t,n){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function f(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=s.children()[0];return e("body").append(s),n=l.offsetWidth,s.css("overflow","scroll"),n===(i=l.offsetWidth)&&(i=s[0].clientWidth),s.remove(),t=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),s=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:s,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||s?n.width():n.outerWidth(),height:i||s?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return h.apply(this,arguments);t=e.extend({},t);var c,g,m,b,y,v,_=e(t.of),w=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(w),C=(t.collision||"flip").split(" "),k={};return v=f(_),_[0].preventDefault&&(t.at="left top"),g=v.width,m=v.height,y=e.extend({},b=v.offset),e.each(["my","at"],(function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",e=a.exec(i[0]),n=a.exec(i[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]})),1===C.length&&(C[1]=C[0]),"right"===t.at[0]?y.left+=g:"center"===t.at[0]&&(y.left+=g/2),"bottom"===t.at[1]?y.top+=m:"center"===t.at[1]&&(y.top+=m/2),c=d(k.at,g,m),y.left+=c[0],y.top+=c[1],this.each((function(){var r,o,a=e(this),u=a.outerWidth(),h=a.outerHeight(),f=p(this,"marginLeft"),v=p(this,"marginTop"),E=u+f+p(this,"marginRight")+x.width,S=h+v+p(this,"marginBottom")+x.height,T=e.extend({},y),M=d(k.my,a.outerWidth(),a.outerHeight());"right"===t.my[0]?T.left-=u:"center"===t.my[0]&&(T.left-=u/2),"bottom"===t.my[1]?T.top-=h:"center"===t.my[1]&&(T.top-=h/2),T.left+=M[0],T.top+=M[1],n||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:f,marginTop:v},e.each(["left","top"],(function(n,i){e.ui.position[C[n]]&&e.ui.position[C[n]][i](T,{targetWidth:g,targetHeight:m,elemWidth:u,elemHeight:h,collisionPosition:r,collisionWidth:E,collisionHeight:S,offset:[c[0]+M[0],c[1]+M[1]],my:t.my,at:t.at,within:w,elem:a})})),t.using&&(o=function(e){var n=b.left-T.left,l=n+g-u,r=b.top-T.top,o=r+m-h,c={target:{element:_,left:b.left,top:b.top,width:g,height:m},element:{element:a,left:T.left,top:T.top,width:u,height:h},horizontal:l<0?"left":n>0?"right":"center",vertical:o<0?"top":r>0?"bottom":"middle"};g<u&&s(n+l)<g&&(c.horizontal="center"),m<h&&s(r+o)<m&&(c.vertical="middle"),c.important=i(s(n),s(l))>i(s(r),s(o))?"horizontal":"vertical",t.using.call(this,e,c)}),a.offset(e.extend(T,{using:o}))}))},e.ui.position={fit:{left:function(e,t){var n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,l=n.width,r=e.left-t.collisionPosition.marginLeft,o=s-r,a=r+t.collisionWidth-l-s;t.collisionWidth>l?o>0&&a<=0?e.left+=o-(e.left+o+t.collisionWidth-l-s):e.left=a>0&&o<=0?s:o>a?s+l-t.collisionWidth:s:o>0?e.left+=o:a>0?e.left-=a:e.left=i(e.left-r,e.left)},top:function(e,t){var n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,l=t.within.height,r=e.top-t.collisionPosition.marginTop,o=s-r,a=r+t.collisionHeight-l-s;t.collisionHeight>l?o>0&&a<=0?e.top+=o-(e.top+o+t.collisionHeight-l-s):e.top=a>0&&o<=0?s:o>a?s+l-t.collisionHeight:s:o>0?e.top+=o:a>0?e.top-=a:e.top=i(e.top-r,e.top)}},flip:{left:function(e,t){var n,i,l=t.within,r=l.width,o=l.isWindow?l.scrollLeft:l.offset.left,a=e.left-t.collisionPosition.marginLeft,u=a-o,c=a+t.collisionWidth-r-o,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];u<0?((n=e.left+h+d+p+t.collisionWidth-r-(l.offset.left+l.scrollLeft))<0||n<s(u))&&(e.left+=h+d+p):c>0&&((i=e.left-t.collisionPosition.marginLeft+h+d+p-o)>0||s(i)<c)&&(e.left+=h+d+p)},top:function(e,t){var n,i,l=t.within,r=l.height,o=l.isWindow?l.scrollTop:l.offset.top,a=e.top-t.collisionPosition.marginTop,u=a-o,c=a+t.collisionHeight-r-o,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];u<0?(i=e.top+h+d+p+t.collisionHeight-r-(l.offset.top+l.scrollTop),e.top+h+d+p>u&&(i<0||i<s(u))&&(e.top+=h+d+p)):c>0&&(n=e.top-t.collisionPosition.marginTop+h+d+p-o,e.top+h+d+p>c&&(n>0||s(n)<c)&&(e.top+=h+d+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,l,r,o=document.getElementsByTagName("body")[0],a=document.createElement("div");for(r in t=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"}),s)t.style[r]=s[r];t.appendChild(a),(i=o||document.documentElement).insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",l=e(a).offset().left,n=l>10&&l<11,t.innerHTML="",i.removeChild(t)}()}(),e.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))):this._activate(t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,s=this.headers.index(t.target),l=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:l=this.headers[(s+1)%i];break;case n.LEFT:case n.UP:l=this.headers[(s-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:l=this.headers[0];break;case n.END:l=this.headers[i-1]}l&&(e(t.target).attr("tabIndex",-1),e(l).attr("tabIndex",0),l.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,n=this.options,i=n.heightStyle,s=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each((function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),s=i.uniqueId().attr("id");t.attr("aria-controls",s),i.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=s.height(),this.element.siblings(":visible").each((function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each((function(){t=Math.max(t,e(this).css("height","").height())})).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&this._eventHandler({target:n=n||this.active[0],currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,s=e(t.currentTarget),l=s[0]===i[0],r=l&&n.collapsible,o=r?e():s.next(),a=i.next(),u={oldHeader:i,oldPanel:a,newHeader:r?e():s,newPanel:o};t.preventDefault(),l&&!n.collapsible||!1===this._trigger("beforeActivate",t,u)||(n.active=!r&&this.headers.index(s),this.active=l?e():s,this._toggle(u),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),l||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&s.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,n){var i,s,l,r=this,o=0,a=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},c=a&&u.down||u,h=function(){r._toggleComplete(n)};return"number"==typeof c&&(l=c),"string"==typeof c&&(s=c),s=s||c.easing||u.easing,l=l||c.duration||u.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:l,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:l,easing:s,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?o+=n.now:"content"!==r.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-o),o=0)}})):t.animate(this.hideProps,l,s,h):e.animate(this.showProps,l,s,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,i,s,l,r,o=!0;function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,i=this.previousFilter||"",s=String.fromCharCode(t.keyCode),l=!1,clearTimeout(this.filterTimer),s===i?l=!0:s=i+s,r=new RegExp("^"+a(s),"i"),n=this.activeMenu.find(this.options.items).filter((function(){return r.test(e(this).text())})),(n=l&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(s=String.fromCharCode(t.keyCode),r=new RegExp("^"+a(s),"i"),n=this.activeMenu.find(this.options.items).filter((function(){return r.test(e(this).text())}))),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n=this,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",n.attr("id"))})),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")})),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,s,l,r,o;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-n-i,l=this.activeMenu.scrollTop(),r=this.activeMenu.height(),o=t.outerHeight(),s<0?this.activeMenu.scrollTop(l+s):s+o>r&&this.activeMenu.scrollTop(l+s-r+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,s;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i-s<0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,i,s;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i+s>0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}}),e.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,s=this.element[0].nodeName.toLowerCase(),l="textarea"===s,r="input"===s;this.isMultiLine=!!l||!r&&this.element.prop("isContentEditable"),this.valueMethod=this.element[l||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var l=e.ui.keyCode;switch(s.keyCode){case l.PAGE_UP:t=!0,this._move("previousPage",s);break;case l.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case l.UP:t=!0,this._keyEvent("previous",s);break;case l.DOWN:t=!0,this._keyEvent("next",s);break;case l.ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case l.TAB:this.menu.active&&this.menu.select(s);break;case l.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:n=!0,this._searchTimeout(s)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:this._move("previousPage",i);break;case s.PAGE_DOWN:this._move("nextPage",i);break;case s.UP:this._keyEvent("previous",i);break;case s.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()}))}))},menufocus:function(t,n){var i,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));s=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(i=n.item.attr("aria-label")||s.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,s){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible");t&&(!t||n||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,(function(e,n){i._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return i.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});var c,h,d="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this);setTimeout((function(){t.find(":ui-button").button("refresh")}),1)},g=function(t){var n=t.name,i=t.form,s=e([]);return n&&(n=n.replace(/'/g,"\\'"),s=i?e(i).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter((function(){return!this.form}))),s};function m(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=b(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function b(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(n,"mouseover",y)}function y(){e.datepicker._isDisabledDatepicker(h.inline?h.dpDiv.parent()[0]:h.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function v(t,n){for(var i in e.extend(t,n),n)null==n[i]&&(t[i]=n[i]);return t}e.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,s=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){n.disabled||this===c&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){n.disabled||e(this).removeClass(s)})).bind("click"+this.eventNamespace,(function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,(function(){t.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];g(i).not(i).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",(function(){c=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(n.disabled)return!1;e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){if(n.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(p),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,s=i.primary&&i.secondary,l=[];i.primary||i.secondary?(this.options.text&&l.push("ui-button-text-icon"+(s?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(l.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):l.push("ui-button-text-only"),t.addClass(l.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.extend(e.ui,{datepicker:{version:"1.11.1"}}),e.extend(m.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return v(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,s,l;s="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(l=this._newInst(e(t),s)).settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,l):s&&this._inlineDatepicker(t,l)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?b(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,s,l,r=this._get(n,"appendText"),o=this._get(n,"isRTL");n.append&&n.append.remove(),r&&(n.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||t.focus(this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(n,"buttonText"),l=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:l,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(l?e("<img/>").attr({src:l,alt:s,title:s}):s)),t[o?"before":"after"](n.trigger),n.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,s,l=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(l.setMonth((t=function(e){for(n=0,i=0,s=0;s<e.length;s++)e[s].length>n&&(n=e[s].length,i=s);return i})(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),l.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-l.getDay())),e.input.attr("size",this._formatDate(e,l).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,s,l){var r,o,a,u,c=this._dialogInst;return c||(this.uuid+=1,this._dialogInput=e("<input type='text' id='dp"+this.uuid+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",c)),v(c.settings,s||{}),n=n&&n.constructor===Date?this._formatDate(c,n):n,this._dialogInput.val(n),this._pos=l?l.length?l:[l.pageX,l.pageY]:null,this._pos||(r=document.documentElement.clientWidth,o=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+a,o/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var n,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,i,s=e(t),l=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,l.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,i,s=e(t),l=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,l.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var s,l,r,o,a=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):a?"all"===n?e.extend({},a.settings):this._get(a,n):null;s=n||{},"string"==typeof n&&((s={})[n]=i),a&&(this._curInst===a&&this._hideDatepicker(),l=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max"),v(a.settings,s),null!==r&&void 0!==s.dateFormat&&void 0===s.minDate&&(a.settings.minDate=this._formatDate(a,r)),null!==o&&void 0!==s.dateFormat&&void 0===s.maxDate&&(a.settings.maxDate=this._formatDate(a,o)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),a),this._autoSize(a),this._setDate(a,l),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,s,l=e.datepicker._getInst(t.target),r=!0,o=l.dpDiv.is(".ui-datepicker-rtl");if(l._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return(s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",l.dpDiv))[0]&&e.datepicker._selectDay(t.target,l.selectedMonth,l.selectedYear,s[0]),(n=e.datepicker._get(l,"onSelect"))?(i=e.datepicker._formatDate(l),n.apply(l.input?l.input[0]:null,[i,l])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(l,"stepBigMonths"):-e.datepicker._get(l,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(l,"stepBigMonths"):+e.datepicker._get(l,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(l,"stepBigMonths"):-e.datepicker._get(l,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(l,"stepBigMonths"):+e.datepicker._get(l,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,s=e.datepicker._getInst(t.target);if(e.datepicker._get(s,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(i){}return!0},_showDatepicker:function(t){var n,i,s,l,r,o,a;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(s=(i=e.datepicker._get(n,"beforeShow"))?i.apply(t,[t,n]):{})&&(v(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),l=!1,e(t).parents().each((function(){return!(l|="fixed"===e(this).css("position"))})),r={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),r=e.datepicker._checkOffset(n,r,l),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":l?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),n.inline||(o=e.datepicker._get(n,"showAnim"),a=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[o]?n.dpDiv.show(o,e.datepicker._get(n,"showOptions"),a):n.dpDiv[o||"show"](o?a:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,h=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),s=i[1],l=t.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&y.apply(l.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var s=t.dpDiv.outerWidth(),l=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?s-r:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+o?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+s>a&&a>s?Math.abs(n.left+s-a):0),n.top-=Math.min(n.top,n.top+l>u&&u>l?Math.abs(l+o):0),n},_findPos:function(t){for(var n,i=this._getInst(t),s=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,s,l,r=this._curInst;!r||t&&r!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(r,"showAnim"),i=this._get(r,"duration"),s=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[n]||e.effects[n])?r.dpDiv.hide(n,e.datepicker._get(r,"showOptions"),i,s):r.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,s),n||s(),this._datepickerShowing=!1,(l=this._get(r,"onClose"))&&l.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var s=e(t),l=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(l,n+("M"===i?this._get(l,"showCurrentAtPos"):0),i),this._updateDatepicker(l))},_gotoToday:function(t){var n,i=e(t),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(n=new Date,s.selectedDay=n.getDate(),s.drawMonth=s.selectedMonth=n.getMonth(),s.drawYear=s.selectedYear=n.getFullYear()),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var s=e(t),l=this._getInst(s[0]);l["selected"+("M"===i?"Month":"Year")]=l["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(l),this._adjustDate(s)},_selectDay:function(t,n,i,s){var l,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((l=this._getInst(r[0])).selectedDay=l.currentDay=e("a",s).html(),l.selectedMonth=l.currentMonth=n,l.selectedYear=l.currentYear=i,this._selectDate(t,this._formatDate(l,l.currentDay,l.currentMonth,l.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,s=e(t),l=this._getInst(s[0]);n=null!=n?n:this._formatDate(l),l.input&&l.input.val(n),this._updateAlternate(l),(i=this._get(l,"onSelect"))?i.apply(l.input?l.input[0]:null,[n,l]):l.input&&l.input.trigger("change"),l.inline?this._updateDatepicker(l):(this._hideDatepicker(),this._lastInput=l.input[0],"object"!=typeof l.input[0]&&l.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,s,l=this._get(t,"altField");l&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),s=this.formatDate(n,i,this._getFormatConfig(t)),e(l).each((function(){e(this).val(s)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var s,l,r,o,a=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,b=-1,y=-1,v=!1,_=function(e){var n=s+1<t.length&&t.charAt(s+1)===e;return n&&s++,n},w=function(e){var t=_(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),l=n.substring(a).match(s);if(!l)throw"Missing number at position "+a;return a+=l[0].length,parseInt(l[0],10)},x=function(t,i,s){var l=-1,r=e.map(_(t)?s:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(r,(function(e,t){var i=t[1];if(n.substr(a,i.length).toLowerCase()===i.toLowerCase())return l=t[0],a+=i.length,!1})),-1!==l)return l+1;throw"Unknown name at position "+a},C=function(){if(n.charAt(a)!==t.charAt(s))throw"Unexpected literal at position "+a;a++};for(s=0;s<t.length;s++)if(v)"'"!==t.charAt(s)||_("'")?C():v=!1;else switch(t.charAt(s)){case"d":b=w("d");break;case"D":x("D",h,d);break;case"o":y=w("o");break;case"m":m=w("m");break;case"M":m=x("M",p,f);break;case"y":g=w("y");break;case"@":g=(o=new Date(w("@"))).getFullYear(),m=o.getMonth()+1,b=o.getDate();break;case"!":g=(o=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=o.getMonth()+1,b=o.getDate();break;case"'":_("'")?C():v=!0;break;default:C()}if(a<n.length&&(r=n.substr(a),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,b=y;!(b<=(l=this._getDaysInMonth(g,m-1)));)m++,b-=l;if((o=this._daylightSavingAdjust(new Date(g,m-1,b))).getFullYear()!==g||o.getMonth()+1!==m||o.getDate()!==b)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,s=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,l=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},u=function(e,t,n){var i=""+t;if(a(e))for(;i.length<n;)i="0"+i;return i},c=function(e,t,n,i){return a(e)?i[t]:n[t]},h="",d=!1;if(t)for(i=0;i<e.length;i++)if(d)"'"!==e.charAt(i)||a("'")?h+=e.charAt(i):d=!1;else switch(e.charAt(i)){case"d":h+=u("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),s,l);break;case"o":h+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),r,o);break;case"y":h+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?h+="'":d=!0;break;default:h+=e.charAt(i)}return h},_possibleChars:function(e){var t,n="",i=!1,s=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||s("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":s("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),l=s,r=this._getFormatConfig(e);try{l=this.parseDate(n,i,r)||s}catch(o){i=t?"":i}e.selectedDay=l.getDate(),e.drawMonth=e.selectedMonth=l.getMonth(),e.drawYear=e.selectedYear=l.getFullYear(),e.currentDay=i?l.getDate():0,e.currentMonth=i?l.getMonth():0,e.currentYear=i?l.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var s=null==n||""===n?i:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(u){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),l=i.getMonth(),r=i.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(n);a;){switch(a[2]||"d"){case"d":case"D":r+=parseInt(a[1],10);break;case"w":case"W":r+=7*parseInt(a[1],10);break;case"m":case"M":l+=parseInt(a[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,l));break;case"y":case"Y":s+=parseInt(a[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,l))}a=o.exec(n)}return new Date(s,l,r)}(n):"number"==typeof n?isNaN(n)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return(s=s&&"Invalid Date"===s.toString()?i:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,s=e.selectedMonth,l=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&l===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,i,s,l,r,o,a,u,c,h,d,p,f,g,m,b,y,v,_,w,x,C,k,E,S,T,M,P,A,I,O,D,N,R,j,z,L,U,H=new Date,B=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),F=this._get(e,"isRTL"),V=this._get(e,"showButtonPanel"),$=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),Y=1!==q[0]||1!==q[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),Q=e.drawMonth-G,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-K,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+n+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+n+"</span></a>",s=this._get(e,"nextText"),s=W?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,Q+K,1)),this._getFormatConfig(e)):s,l=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+s+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?J:B,r=W?this.formatDate(r,o,this._getFormatConfig(e)):r,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(F?a:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(F?"":a)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),b=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),v=this._getDefaultDate(e),_="",x=0;x<q[0];x++){for(C="",this.maxRows=4,k=0;k<q[1];k++){if(E=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),S=" ui-corner-all",T="",Y){if(T+="<div class='ui-datepicker-group",q[1]>1)switch(k){case 0:T+=" ui-datepicker-group-first",S=" ui-corner-"+(F?"right":"left");break;case q[1]-1:T+=" ui-datepicker-group-last",S=" ui-corner-"+(F?"left":"right");break;default:T+=" ui-datepicker-group-middle",S=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===x?F?l:i:"")+(/all|right/.test(S)&&0===x?F?i:l:"")+this._generateMonthYearHeader(e,Q,ee,X,Z,x>0||k>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)M+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[P=(w+c)%7]+"'>"+p[P]+"</span></th>";for(T+=M+"</tr></thead><tbody>",A=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),I=(this._getFirstDayOfMonth(ee,Q)-c+7)%7,O=Math.ceil((I+A)/7),this.maxRows=D=Y&&this.maxRows>O?this.maxRows:O,N=this._daylightSavingAdjust(new Date(ee,Q,1-I)),R=0;R<D;R++){for(T+="<tr>",j=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)z=m?m.apply(e.input?e.input[0]:null,[N]):[!0,""],U=(L=N.getMonth()!==Q)&&!y||!z[0]||X&&N<X||Z&&N>Z,j+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(N.getTime()===E.getTime()&&Q===e.selectedMonth&&e._keyEvent||v.getTime()===N.getTime()&&v.getTime()===E.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!b?"":" "+z[1]+(N.getTime()===J.getTime()?" "+this._currentClass:"")+(N.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(L&&!b||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(L&&!b?"&#xa0;":U?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===B.getTime()?" ui-state-highlight":"")+(N.getTime()===J.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);T+=j+"</tr>"}++Q>11&&(Q=0,ee++),C+=T+="</tbody></table>"+(Y?"</div>"+(q[0]>0&&k===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=C}return _+=u,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,s,l,r,o){var a,u,c,h,d,p,f,g,m=this._get(e,"changeMonth"),b=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),v="<div class='ui-datepicker-title'>",_="";if(l||!m)_+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(a=i&&i.getFullYear()===n,u=s&&s.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!a||c>=i.getMonth())&&(!u||c<=s.getMonth())&&(_+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+o[c]+"</option>");_+="</select>"}if(y||(v+=_+(!l&&m&&b?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",l||!b)v+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(h[0]),g=Math.max(f,p(h[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=s?Math.min(g,s.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",v+=e.yearshtml,e.yearshtml=null}return v+=this._get(e,"yearSuffix"),y&&(v+=(!l&&m&&b?"":"&#xa0;")+_),v+"</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),s=e.drawMonth+("M"===n?t:0),l=Math.min(e.selectedDay,this._getDaysInMonth(i,s))+("D"===n?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,s,l)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),s=n&&t<n?n:t;return i&&s>i?i:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var s=this._getNumberOfMonths(e),l=this._daylightSavingAdjust(new Date(n,i+(t<0?t:s[0]*s[1]),1));return t<0&&l.setDate(this._getDaysInMonth(l.getFullYear(),l.getMonth())),this._isInRange(e,l)},_isInRange:function(e,t){var n,i,s=this._getMinMaxDate(e,"min"),l=this._getMinMaxDate(e,"max"),r=null,o=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),i=(new Date).getFullYear(),r=parseInt(n[0],10),o=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=i),n[1].match(/[+\-].*/)&&(o+=i)),(!s||t.getTime()>=s.getTime())&&(!l||t.getTime()<=l.getTime())&&(!r||t.getFullYear()>=r)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new m,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.1",e.widget("ui.draggable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.document[0],i=this.options;try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(s){}return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(e(!0===i.iframeFix?"iframe":i.iframeFix).each((function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})),0)))},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,s=this.options,l=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(i=(n=e(s.containment))[0])&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=s.containment:this.containment=[0,0,e(l).width()-this.helperProportions.width-this.margins.left,(e(l).height()||l.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||l.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,s,l,r=this.options,o=this._isRootNode(this.scrollParent[0]),a=e.pageX,u=e.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,u=n?s-this.offset.click.top>=n[1]||s-this.offset.click.top>n[3]?s:s-this.offset.click.top>=n[1]?s-r.grid[1]:s+r.grid[1]:s,l=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=n?l-this.offset.click.left>=n[0]||l-this.offset.click.left>n[2]?l:l-this.offset.click.left>=n[0]?l-r.grid[0]:l+r.grid[0]:l),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var s=i.options,l=e.extend({},n,{item:i.element});i.sortables=[],e(s.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,l))}))},stop:function(t,n,i){var s=e.extend({},n,{item:i.element});e.each(i.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))}))},drag:function(t,n,i){var s=this;e.each(i.sortables,(function(){var l=!1,r=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(l=!0,e.each(i.sortables,(function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(l=!1),l}))),l?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var s=e("body"),l=i.options;s.css("cursor")&&(l._cursor=s.css("cursor")),s.css("cursor",l.cursor)},stop:function(t,n,i){var s=i.options;s._cursor&&e("body").css("cursor",s._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var s=e(n.helper),l=i.options;s.css("opacity")&&(l._opacity=s.css("opacity")),s.css("opacity",l.opacity)},stop:function(t,n,i){var s=i.options;s._opacity&&e(n.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var s=i.options,l=!1,r=i.scrollParentNotHidden[0],o=i.document[0];r!==o&&"HTML"!==r.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+r.offsetHeight-t.pageY<s.scrollSensitivity?r.scrollTop=l=r.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(r.scrollTop=l=r.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+r.offsetWidth-t.pageX<s.scrollSensitivity?r.scrollLeft=l=r.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(r.scrollLeft=l=r.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(o).scrollTop()<s.scrollSensitivity?l=e(o).scrollTop(e(o).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(o).scrollTop())<s.scrollSensitivity&&(l=e(o).scrollTop(e(o).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-e(o).scrollLeft()<s.scrollSensitivity?l=e(o).scrollLeft(e(o).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(o).scrollLeft())<s.scrollSensitivity&&(l=e(o).scrollLeft(e(o).scrollLeft()+s.scrollSpeed)))),!1!==l&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var s=i.options;i.snapElements=[],e(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each((function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,i){var s,l,r,o,a,u,c,h,d,p,f=i.options,g=f.snapTolerance,m=n.offset.left,b=m+i.helperProportions.width,y=n.offset.top,v=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)u=(a=i.snapElements[d].left)+i.snapElements[d].width,h=(c=i.snapElements[d].top)+i.snapElements[d].height,b<a-g||m>u+g||v<c-g||y>h+g||!e.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(c-v)<=g,l=Math.abs(h-y)<=g,r=Math.abs(a-b)<=g,o=Math.abs(u-m)<=g,s&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top-i.margins.top),l&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left-i.margins.left),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left-i.margins.left)),p=s||l||r||o,"outer"!==f.snapMode&&(s=Math.abs(c-y)<=g,l=Math.abs(h-v)<=g,r=Math.abs(a-m)<=g,o=Math.abs(u-b)<=g,s&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top-i.margins.top),l&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:a}).left-i.margins.left),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(s||l||r||o||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=s||l||r||o||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var s,l=e.makeArray(e(i.options.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));l.length&&(s=parseInt(e(l[0]).css("zIndex"),10)||0,e(l).each((function(t){e(this).css("zIndex",s+t)})),this.css("zIndex",s+l.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var s=e(n.helper),l=i.options;s.css("zIndex")&&(l._zIndex=s.css("zIndex")),s.css("zIndex",l.zIndex)},stop:function(t,n,i){var s=i.options;s._zIndex&&e(n.helper).css("zIndex",s._zIndex)}}),e.widget("ui.resizable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i,s=n&&"left"===n?"scrollLeft":"scrollTop";return t[s]>0||(t[s]=1,i=t[s]>0,t[s]=0,i)},_create:function(){var t,n,i,s,l=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),(s=e("<div class='ui-resizable-handle ui-resizable-"+i+"'></div>")).css({zIndex:r.zIndex}),"se"===i&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(s);this._renderAxis=function(t){var n,i,s,l;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[n],this.element),l=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(s,l),this._proportionallyResize()),e(this.handles[n])},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){l.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=s&&s[1]?s[1]:"se")})),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),l._handles.show())})).mouseleave((function(){r.disabled||l.resizing||(e(this).addClass("ui-resizable-autohide"),l._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),this.originalElement.css({position:(t=this.element).css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,s=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var n,i,s,l=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),l.containment&&(n+=e(l.containment).scrollLeft()||0,i+=e(l.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof l.aspectRatio?l.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,s=this.originalMousePosition,l=t.pageX-s.left||0,r=t.pageY-s.top||0,o=this._change[this.axis];return this._updatePrevProperties(),!!o&&(n=o.apply(this,[t,l,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,s,l,r,o,a,u=this.options;return this._helper&&(s=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,l=i?0:this.sizeDiff.width,r={width:this.helper.width()-l,height:this.helper.height()-s},o=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,a=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,u.animate||this.element.css(e.extend(r,{top:a,left:o})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,s,l,r=this.options;l={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(i=l.minWidth/this.aspectRatio,n=l.maxHeight*this.aspectRatio,s=l.maxWidth/this.aspectRatio,(t=l.minHeight*this.aspectRatio)>l.minWidth&&(l.minWidth=t),i>l.minHeight&&(l.minHeight=i),n<l.maxWidth&&(l.maxWidth=n),s<l.maxHeight&&(l.maxHeight=s)),this._vBoundaries=l},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,l=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,o=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return l&&(e.width=t.minWidth),r&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),l&&u&&(e.left=o-t.minWidth),i&&u&&(e.left=o-t.maxWidth),r&&c&&(e.top=a-t.minHeight),s&&c&&(e.top=a-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],s=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(s[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(e,t,n){return{top:this.originalPosition.top+n,height:this.originalSize.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,s=n._proportionallyResizeElements,l=s.length&&/textarea/i.test(s[0].nodeName),r=l&&n._hasScroll(s[0],"left")?0:n.sizeDiff.height,o={width:n.size.width-(l?0:n.sizeDiff.width),height:n.size.height-r},a=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(o,u&&a?{top:u,left:a}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,s,l,r,o,a=e(this).resizable("instance"),u=a.element,c=a.options.containment,h=c instanceof e?c.get(0):/parent/.test(c)?u.parent().get(0):c;h&&(a.containerElement=e(h),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,i){n[e]=a._num(t.css("padding"+i))})),a.containerOffset=t.offset(),a.containerPosition=t.position(),a.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=a.containerOffset,s=a.containerSize.height,l=a.containerSize.width,r=a._hasScroll(h,"left")?h.scrollWidth:l,o=a._hasScroll(h)?h.scrollHeight:s,a.parentData={element:h,left:i.left,top:i.top,width:r,height:o}))},resize:function(t){var n,i,s,l,r=e(this).resizable("instance"),o=r.options,a=r.containerOffset,u=r.position,c=r._aspectRatio||t.shiftKey,h={top:0,left:0},d=r.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=a),u.left<(r._helper?a.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-a.left:r.position.left-h.left),c&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=o.helper?a.left:0),u.top<(r._helper?a.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-a.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?a.top:0),s=r.containerElement.get(0)===r.element.parent().get(0),l=/relative|absolute/.test(r.containerElement.css("position")),s&&l?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),n=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-h.left:r.offset.left-a.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-h.top:r.offset.top-a.top)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,c&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,c&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,s=t.containerPosition,l=t.containerElement,r=e(t.helper),o=r.offset(),a=r.outerWidth()-t.sizeDiff.width,u=r.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(l.css("position"))&&e(this).css({left:o.left-s.left-i.left,width:a,height:u}),t._helper&&!n.animate&&/static/.test(l.css("position"))&&e(this).css({left:o.left-s.left-i.left,width:a,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options,n=function(t){e(t).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?n(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],n(t.alsoResize)):e.each(t.alsoResize,(function(e){n(e)}))},resize:function(t,n){var i=e(this).resizable("instance"),s=i.options,l=i.originalSize,r=i.originalPosition,o={height:i.size.height-l.height||0,width:i.size.width-l.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0},a=function(t,i){e(t).each((function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),l={},r=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,(function(e,t){var n=(s[t]||0)+(o[t]||0);n&&n>=0&&(l[t]=n||null)})),t.css(l)}))};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?a(s.alsoResize):e.each(s.alsoResize,(function(e,t){a(e,t)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,s=n.size,l=n.originalSize,r=n.originalPosition,o=n.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=a[0]||1,c=a[1]||1,h=Math.round((s.width-l.width)/u)*u,d=Math.round((s.height-l.height)/c)*c,p=l.width+h,f=l.height+d,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,b=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=a,b&&(p+=u),y&&(f+=c),g&&(p-=u),m&&(f-=c),/^(se|s|e)$/.test(o)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(o)?(n.size.width=p,n.size.height=f,n.position.top=r.top-d):/^(sw)$/.test(o)?(n.size.width=p,n.size.height=f,n.position.left=r.left-h):((f-c<=0||p-u<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-c>0?(n.size.height=f,n.position.top=r.top-d):(n.size.height=f=c-t.height,n.position.top=r.top+l.height-f),p-u>0?(n.size.width=p,n.position.left=r.left-h):(n.size.width=p=c-t.height,n.position.left=r.left+l.width-p))}}),e.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(s){}this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,s=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),l=Math.max.apply(null,s);return l>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",l+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),s=n.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){s.focus()})),t.preventDefault()):(this._delay((function(){i.focus()})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,(function(n,i){var s,l;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),s=i.click,i.click=function(){s.apply(t.element[0],arguments)},l={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(l).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,n=this.options;function i(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){e(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",n,i(s))},drag:function(e,n){t._trigger("drag",e,i(n))},stop:function(s,l){var r=l.offset.left-t.document.scrollLeft(),o=l.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(o>=0?"+":"")+o,of:t.window},e(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",s,i(l))}})},_makeResizable:function(){var t=this,n=this.options,i=n.resizable,s=this.uiDialog.css("position"),l="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function r(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:l,start:function(n,i){e(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",n,r(i))},resize:function(e,n){t._trigger("resize",e,r(n))},stop:function(i,s){var l=t.uiDialog.offset(),o=l.left-t.document.scrollLeft(),a=l.top-t.document.scrollTop();n.height=t.uiDialog.height(),n.width=t.uiDialog.width(),n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:t.window},e(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",i,r(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||this.document.data("ui-dialog-instances",e=[]),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,s={};e.each(t,(function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(s[e]=t)})),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var n,i,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=s.is(":data(ui-draggable)"))&&!t&&s.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((i=s.is(":data(ui-resizable)"))&&!t&&s.resizable("destroy"),i&&"string"==typeof t&&s.resizable("option","handles",t),i||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){this._splice(e.ui.ddmanager.droppables[this.options.scope]),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t?this.accept=e.isFunction(n)?n:function(e){return e.is(n)}:"scope"===t&&(this._splice(e.ui.ddmanager.droppables[this.options.scope]),this._addToManager(n)),this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return s=!0,!1})),!s&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,s){if(!n.offset)return!1;var l=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,o=l+t.helperProportions.width,a=r+t.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,d=c+n.proportions().height;switch(i){case"fit":return u<=l&&o<=h&&c<=r&&a<=d;case"intersect":return u<l+t.helperProportions.width/2&&o-t.helperProportions.width/2<h&&c<r+t.helperProportions.height/2&&a-t.helperProportions.height/2<d;case"pointer":return e(s.pageY,c,n.proportions().height)&&e(s.pageX,u,n.proportions().width);case"touch":return(r>=c&&r<=d||a>=c&&a<=d||r<c&&a>d)&&(l>=u&&l<=h||o>=u&&o<=h||l<u&&o>h);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,s,l=e.ui.ddmanager.droppables[t.options.scope]||[],r=n?n.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<l.length;i++)if(!(l[i].options.disabled||t&&!l[i].accept.call(l[i].element[0],t.currentItem||t.element))){for(s=0;s<o.length;s++)if(o[s]===l[i].element[0]){l[i].proportions().height=0;continue e}l[i].visible="none"!==l[i].element.css("display"),l[i].visible&&("mousedown"===r&&l[i]._activate.call(l[i],n),l[i].offset=l[i].element.offset(),l[i].proportions({width:l[i].element[0].offsetWidth,height:l[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,s,l,r=e.ui.intersect(t,this,this.options.tolerance,n),o=!r&&this.isover?"isout":r&&!this.isover?"isover":null;o&&(this.options.greedy&&(s=this.options.scope,(l=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===s}))).length&&((i=e(l[0]).droppable("instance")).greedyChild="isover"===o)),i&&"isover"===o&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,n),i&&"isout"===o&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};var _,w,x=e;function C(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.effects={effect:{}},function(e,t){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,i,s){return new e.Color.fn.parse(t,n,i,s)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},o={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=l.support={},u=e("<p>")[0],c=e.each;function h(e,t,n){var i=o[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function d(t){var i=l(),o=i._rgba=[];return t=t.toLowerCase(),c(s,(function(e,n){var s,l=n.re.exec(t),a=l&&n.parse(l),u=n.space||"rgba";if(a)return s=i[u](a),i[r[u].cache]=s[r[u].cache],o=i._rgba=s._rgba,!1})),o.length?("0,0,0,0"===o.join()&&e.extend(o,n.transparent),i):n[t]}function p(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}u.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=u.style.backgroundColor.indexOf("rgba")>-1,c(r,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),l.fn=e.extend(l.prototype,{parse:function(t,i,s,o){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(i),i=void 0);var a=this,u=e.type(t),p=this._rgba=[];return void 0!==i&&(t=[t,i,s,o],u="array"),"string"===u?this.parse(d(t)||n._default):"array"===u?(c(r.rgba.props,(function(e,n){p[n.idx]=h(t[n.idx],n)})),this):"object"===u?(c(r,t instanceof l?function(e,n){t[n.cache]&&(a[n.cache]=t[n.cache].slice())}:function(n,i){var s=i.cache;c(i.props,(function(e,n){if(!a[s]&&i.to){if("alpha"===e||null==t[e])return;a[s]=i.to(a._rgba)}a[s][n.idx]=h(t[e],n,!0)})),a[s]&&e.inArray(null,a[s].slice(0,3))<0&&(a[s][3]=1,i.from&&(a._rgba=i.from(a[s])))}),this):void 0},is:function(e){var t=l(e),n=!0,i=this;return c(r,(function(e,s){var l,r=t[s.cache];return r&&(l=i[s.cache]||s.to&&s.to(i._rgba)||[],c(s.props,(function(e,t){if(null!=r[t.idx])return n=r[t.idx]===l[t.idx]}))),n})),n},_space:function(){var e=[],t=this;return c(r,(function(n,i){t[i.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=l(e),i=n._space(),s=r[i],a=0===this.alpha()?l("transparent"):this,u=a[s.cache]||s.to(a._rgba),d=u.slice();return n=n[s.cache],c(s.props,(function(e,i){var s=i.idx,l=u[s],r=n[s],a=o[i.type]||{};null!==r&&(null===l?d[s]=r:(a.mod&&(r-l>a.mod/2?l+=a.mod:l-r>a.mod/2&&(l-=a.mod)),d[s]=h((r-l)*t+l,i)))})),this[i](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),s=l(t)._rgba;return l(e.map(n,(function(e,t){return(1-i)*s[t]+i*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,r.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n=e[0]/255,i=e[1]/255,s=e[2]/255,l=e[3],r=Math.max(n,i,s),o=Math.min(n,i,s),a=r-o,u=r+o,c=.5*u;return t=0===a?0:c<=.5?a/u:a/(2-u),[Math.round(o===r?0:n===r?60*(i-s)/a+360:i===r?60*(s-n)/a+120:60*(n-i)/a+240)%360,t,c,null==l?1:l]},r.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],s=e[3],l=i<=.5?i*(1+n):i+n-i*n,r=2*i-l;return[Math.round(255*p(r,l,t+1/3)),Math.round(255*p(r,l,t)),Math.round(255*p(r,l,t-1/3)),s]},c(r,(function(t,n){var s=n.props,r=n.cache,o=n.to,a=n.from;l.fn[t]=function(t){if(o&&!this[r]&&(this[r]=o(this._rgba)),void 0===t)return this[r].slice();var n,i=e.type(t),u="array"===i||"object"===i?t:arguments,d=this[r].slice();return c(s,(function(e,t){var n=u["object"===i?e:t.idx];null==n&&(n=d[t.idx]),d[t.idx]=h(n,t)})),a?((n=l(a(d)))[r]=d,n):l(d)},c(s,(function(n,s){l.fn[n]||(l.fn[n]=function(l){var r,o=e.type(l),a="alpha"===n?this._hsla?"hsla":"rgba":t,u=this[a](),c=u[s.idx];return"undefined"===o?c:("function"===o&&(l=l.call(this,c),o=e.type(l)),null==l&&s.empty?this:("string"===o&&(r=i.exec(l))&&(l=c+parseFloat(r[2])*("+"===r[1]?1:-1)),u[s.idx]=l,this[a](u)))})}))})),l.hook=function(t){var n=t.split(" ");c(n,(function(t,n){e.cssHooks[n]={set:function(t,i){var s,r,o="";if("transparent"!==i&&("string"!==e.type(i)||(s=d(i)))){if(i=l(s||i),!a.rgba&&1!==i._rgba[3]){for(r="backgroundColor"===n?t.parentNode:t;(""===o||"transparent"===o)&&r&&r.style;)try{o=e.css(r,"backgroundColor"),r=r.parentNode}catch(u){}i=i.blend(o&&"transparent"!==o?o:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(u){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return c(["Top","Right","Bottom","Left"],(function(n,i){t["border"+i+"Color"]=e})),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(x),function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(t){var n,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,l={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[n=s[i]]&&(l[e.camelCase(n)]=s[n]);else for(n in s)"string"==typeof s[n]&&(l[n]=s[n]);return l}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(x.style(e.elem,n,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(s,l,r,o){var a=e.speed(l,r,o);return this.queue((function(){var l,r=e(this),o=r.attr("class")||"",u=a.children?r.find("*").addBack():r;u=u.map((function(){return{el:e(this),start:i(this)}})),(l=function(){e.each(t,(function(e,t){s[t]&&r[t+"Class"](s[t])}))})(),u=u.map((function(){return this.end=i(this.el[0]),this.diff=function(t,i){var s,l,r={};for(s in i)t[s]!==(l=i[s])&&(n[s]||!e.fx.step[s]&&isNaN(parseFloat(l))||(r[s]=l));return r}(this.start,this.end),this})),r.attr("class",o),u=u.map((function(){var t=this,n=e.Deferred(),i=e.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()})),e.when.apply(e,u.get()).done((function(){l(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),a.complete.call(r[0])}))}))},e.fn.extend({addClass:function(t){return function(n,i,s,l){return i?e.effects.animateClass.call(this,{add:n},i,s,l):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,s,l){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,s,l):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,s,l,r){return"boolean"==typeof i||void 0===i?s?e.effects.animateClass.call(this,i?{add:n}:{remove:n},s,l,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,s,l)}}(e.fn.toggleClass),switchClass:function(t,n,i,s,l){return e.effects.animateClass.call(this,{add:n,remove:t},i,s,l)}})}(),function(){function t(t,n,i,s){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(s=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(s=i,i=n,n={}),e.isFunction(i)&&(s=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=s||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]||!!e.isFunction(t)||"object"==typeof t&&!t.effect}e.extend(e.effects,{version:"1.11.1",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;i<t.length;i++)null!==t[i]&&(void 0===(n=e.data("ui-effects-"+t[i]))&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},l=document.activeElement;return t.wrap(i),(t[0]===l||e.contains(t[0],l))&&e(l).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,s){return s=s||{},e.each(n,(function(e,n){var l=t.cssUnit(n);l[0]>0&&(s[n]=l[0]*i+l[1])})),s}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),i=n.mode,s=n.queue,l=e.effects.effect[n.effect];if(e.fx.off||!l)return i?this[i](n.duration,n.complete):this.each((function(){n.complete&&n.complete.call(this)}));function r(t){var i=e(this),s=n.complete,r=n.mode;function o(){e.isFunction(s)&&s.call(i[0]),e.isFunction(t)&&t()}(i.is(":hidden")?"hide"===r:"show"===r)?(i[r](),o()):l.call(i[0],n,o)}return!1===s?this.each(r):this.queue(s||"fx",r)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var s=t.apply(this,arguments);return s.mode="show",this.effect.call(this,s)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var s=t.apply(this,arguments);return s.mode="hide",this.effect.call(this,s)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var s=t.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])})),i}})}(),_={},e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,t){_[t]=function(t){return Math.pow(t,e+2)}})),e.extend(_,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(_,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})),e.effects.effect.blind=function(t,n){var i,s,l,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"hide"),u=t.direction||"up",c=/up|down|vertical/.test(u),h=c?"height":"width",d=c?"top":"left",p=/up|left|vertical|horizontal/.test(u),f={},g="show"===a;r.parent().is(".ui-effects-wrapper")?e.effects.save(r.parent(),o):e.effects.save(r,o),r.show(),s=(i=e.effects.createWrapper(r).css({overflow:"hidden"}))[h](),l=parseFloat(i.css(d))||0,f[h]=g?s:0,p||(r.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[d]=g?l:s+l),g&&(i.css(h,0),p||i.css(d,l+s)),i.animate(f,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.bounce=function(t,n){var i,s,l,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"effect"),u="hide"===a,c="show"===a,h=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(c||u?1:0),g=t.duration/f,m=t.easing,b="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,v=r.queue(),_=v.length;for((c||u)&&o.push("opacity"),e.effects.save(r,o),r.show(),e.effects.createWrapper(r),d||(d=r["top"===b?"outerHeight":"outerWidth"]()/3),c&&((l={opacity:1})[b]=0,r.css("opacity",0).css(b,y?2*-d:2*d).animate(l,g,m)),u&&(d/=Math.pow(2,p-1)),(l={})[b]=0,i=0;i<p;i++)(s={})[b]=(y?"-=":"+=")+d,r.animate(s,g,m).animate(l,g,m),d=u?2*d:d/2;u&&((s={opacity:0})[b]=(y?"-=":"+=")+d,r.animate(s,g,m)),r.queue((function(){u&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()})),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,f+1))),r.dequeue()},e.effects.effect.clip=function(t,n){var i,s,l,r=e(this),o=["position","top","bottom","left","right","height","width"],a="show"===e.effects.setMode(r,t.mode||"hide"),u="vertical"===(t.direction||"vertical"),c=u?"height":"width",h=u?"top":"left",d={};e.effects.save(r,o),r.show(),i=e.effects.createWrapper(r).css({overflow:"hidden"}),l=(s="IMG"===r[0].tagName?i:r)[c](),a&&(s.css(c,0),s.css(h,l/2)),d[c]=a?l:0,d[h]=a?0:l/2,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){a||r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.drop=function(t,n){var i,s=e(this),l=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(s,t.mode||"hide"),o="show"===r,a=t.direction||"left",u="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"pos":"neg",h={opacity:o?1:0};e.effects.save(s,l),s.show(),e.effects.createWrapper(s),i=t.distance||s["top"===u?"outerHeight":"outerWidth"](!0)/2,o&&s.css("opacity",0).css(u,"pos"===c?-i:i),h[u]=(o?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,s.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,l),e.effects.removeWrapper(s),n()}})},e.effects.effect.explode=function(t,n){var i,s,l,r,o,a,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=u,h=e(this),d="show"===e.effects.setMode(h,t.mode||"hide"),p=h.show().css("visibility","hidden").offset(),f=Math.ceil(h.outerWidth()/c),g=Math.ceil(h.outerHeight()/u),m=[];function b(){m.push(this),m.length===u*c&&(h.css({visibility:"visible"}),e(m).remove(),d||h.hide(),n())}for(i=0;i<u;i++)for(r=p.top+i*g,a=i-(u-1)/2,s=0;s<c;s++)l=p.left+s*f,o=s-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*f,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:g,left:l+(d?o*f:0),top:r+(d?a*g:0),opacity:d?0:1}).animate({left:l+(d?0:o*f),top:r+(d?0:a*g),opacity:d?1:0},t.duration||500,t.easing,b)},e.effects.effect.fade=function(t,n){var i=e(this),s=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var i,s,l=e(this),r=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(l,t.mode||"hide"),a="show"===o,u="hide"===o,c=t.size||15,h=/([0-9]+)%/.exec(c),d=!!t.horizFirst,p=a!==d,f=p?["width","height"]:["height","width"],g=t.duration/2,m={},b={};e.effects.save(l,r),l.show(),i=e.effects.createWrapper(l).css({overflow:"hidden"}),s=p?[i.width(),i.height()]:[i.height(),i.width()],h&&(c=parseInt(h[1],10)/100*s[u?0:1]),a&&i.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=a?s[0]:c,b[f[1]]=a?s[1]:0,i.animate(m,g,t.easing).animate(b,g,t.easing,(function(){u&&l.hide(),e.effects.restore(l,r),e.effects.removeWrapper(l),n()}))},e.effects.effect.highlight=function(t,n){var i=e(this),s=["backgroundImage","backgroundColor","opacity"],l=e.effects.setMode(i,t.mode||"show"),r={backgroundColor:i.css("backgroundColor")};"hide"===l&&(r.opacity=0),e.effects.save(i,s),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===l&&i.hide(),e.effects.restore(i,s),n()}})},e.effects.effect.size=function(t,n){var i,s,l,r=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=e.effects.setMode(r,t.mode||"effect"),p=t.restore||"effect"!==d,f=t.scale||"both",g=t.origin||["middle","center"],m=r.css("position"),b=p?o:["position","top","bottom","left","right","overflow","opacity"],y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&r.show(),i={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===d?(r.from=t.to||y,r.to=t.from||i):(r.from=t.from||("show"===d?y:i),r.to=t.to||("hide"===d?y:i)),l={from:{y:r.from.height/i.height,x:r.from.width/i.width},to:{y:r.to.height/i.height,x:r.to.width/i.width}},"box"!==f&&"both"!==f||(l.from.y!==l.to.y&&(b=b.concat(c),r.from=e.effects.setTransition(r,c,l.from.y,r.from),r.to=e.effects.setTransition(r,c,l.to.y,r.to)),l.from.x!==l.to.x&&(b=b.concat(h),r.from=e.effects.setTransition(r,h,l.from.x,r.from),r.to=e.effects.setTransition(r,h,l.to.x,r.to))),"content"!==f&&"both"!==f||l.from.y!==l.to.y&&(b=b.concat(u).concat(a),r.from=e.effects.setTransition(r,u,l.from.y,r.from),r.to=e.effects.setTransition(r,u,l.to.y,r.to)),e.effects.save(r,b),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(s=e.effects.getBaseline(g,i),r.from.top=(i.outerHeight-r.outerHeight())*s.y,r.from.left=(i.outerWidth-r.outerWidth())*s.x,r.to.top=(i.outerHeight-r.to.outerHeight)*s.y,r.to.left=(i.outerWidth-r.to.outerWidth)*s.x),r.css(r.from),"content"!==f&&"both"!==f||(c=c.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),a=o.concat(c).concat(h),r.find("*[width]").each((function(){var n=e(this),i=n.height(),s=n.width(),r=n.outerHeight(),o=n.outerWidth();p&&e.effects.save(n,a),n.from={height:i*l.from.y,width:s*l.from.x,outerHeight:r*l.from.y,outerWidth:o*l.from.x},n.to={height:i*l.to.y,width:s*l.to.x,outerHeight:i*l.to.y,outerWidth:s*l.to.x},l.from.y!==l.to.y&&(n.from=e.effects.setTransition(n,c,l.from.y,n.from),n.to=e.effects.setTransition(n,c,l.to.y,n.to)),l.from.x!==l.to.x&&(n.from=e.effects.setTransition(n,h,l.from.x,n.from),n.to=e.effects.setTransition(n,h,l.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,(function(){p&&e.effects.restore(n,a)}))}))),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===d&&r.hide(),e.effects.restore(r,b),p||("static"===m?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],(function(e,t){r.css(t,(function(t,n){var i=parseInt(n,10),s=e?r.to.left:r.to.top;return"auto"===n?s+"px":i+s+"px"}))}))),e.effects.removeWrapper(r),n()}})},e.effects.effect.scale=function(t,n){var i=e(this),s=e.extend(!0,{},t),l=e.effects.setMode(i,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===l?0:100),o=t.direction||"both",a=t.origin,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c="horizontal"!==o?r/100:1,h="vertical"!==o?r/100:1;s.effect="size",s.queue=!1,s.complete=n,"effect"!==l&&(s.origin=a||["middle","center"],s.restore=!0),s.from=t.from||("show"===l?{height:0,width:0,outerHeight:0,outerWidth:0}:u),s.to={height:u.height*c,width:u.width*h,outerHeight:u.outerHeight*c,outerWidth:u.outerWidth*h},s.fade&&("show"===l&&(s.from.opacity=0,s.to.opacity=1),"hide"===l&&(s.from.opacity=1,s.to.opacity=0)),i.effect(s)},e.effects.effect.puff=function(t,n){var i=e(this),s=e.effects.setMode(i,t.mode||"hide"),l="hide"===s,r=parseInt(t.percent,10)||150,o=r/100,a={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:n,percent:l?r:100,from:l?a:{height:a.height*o,width:a.width*o,outerHeight:a.outerHeight*o,outerWidth:a.outerWidth*o}}),i.effect(t)},e.effects.effect.pulsate=function(t,n){var i,s=e(this),l=e.effects.setMode(s,t.mode||"show"),r="show"===l,o="hide"===l,a=2*(t.times||5)+(r||"hide"===l?1:0),u=t.duration/a,c=0,h=s.queue(),d=h.length;for(!r&&s.is(":visible")||(s.css("opacity",0).show(),c=1),i=1;i<a;i++)s.animate({opacity:c},u,t.easing),c=1-c;s.animate({opacity:c},u,t.easing),s.queue((function(){o&&s.hide(),n()})),d>1&&h.splice.apply(h,[1,0].concat(h.splice(d,a+1))),s.dequeue()},e.effects.effect.shake=function(t,n){var i,s=e(this),l=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"effect"),o=t.direction||"left",a=t.distance||20,u=t.times||3,c=2*u+1,h=Math.round(t.duration/c),d="up"===o||"down"===o?"top":"left",p="up"===o||"left"===o,f={},g={},m={},b=s.queue(),y=b.length;for(e.effects.save(s,l),s.show(),e.effects.createWrapper(s),f[d]=(p?"-=":"+=")+a,g[d]=(p?"+=":"-=")+2*a,m[d]=(p?"-=":"+=")+2*a,s.animate(f,h,t.easing),i=1;i<u;i++)s.animate(g,h,t.easing).animate(m,h,t.easing);s.animate(g,h,t.easing).animate(f,h/2,t.easing).queue((function(){"hide"===r&&s.hide(),e.effects.restore(s,l),e.effects.removeWrapper(s),n()})),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,c+1))),s.dequeue()},e.effects.effect.slide=function(t,n){var i,s=e(this),l=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(s,t.mode||"show"),o="show"===r,a=t.direction||"left",u="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,h={};e.effects.save(s,l),s.show(),i=t.distance||s["top"===u?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),o&&s.css(u,c?isNaN(i)?"-"+i:-i:i),h[u]=(o?c?"+=":"-=":c?"-=":"+=")+i,s.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,l),e.effects.removeWrapper(s),n()}})},e.effects.effect.transfer=function(t,n){var i=e(this),s=e(t.to),l="fixed"===s.css("position"),r=e("body"),o=l?r.scrollTop():0,a=l?r.scrollLeft():0,u=s.offset(),c={top:u.top-o,left:u.left-a,height:s.innerHeight(),width:s.innerWidth()},h=i.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-o,left:h.left-a,height:i.innerHeight(),width:i.innerWidth(),position:l?"fixed":"absolute"}).animate(c,t.duration,t.easing,(function(){d.remove(),n()}))},e.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))})),e(t.target).parents().addBack().each((function(){var i,s=e.data(this,"selectable-item");if(s)return i=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),s.unselecting=!i,s.selecting=i,s.selected=i,i?n._trigger("selecting",t,{selecting:s.element}):n._trigger("unselecting",t,{unselecting:s.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,s=this.options,l=this.opos[0],r=this.opos[1],o=t.pageX,a=t.pageY;return l>o&&(n=o,o=l,l=n),r>a&&(n=a,a=r,r=n),this.helper.css({left:l,top:r,width:o-l,height:a-r}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),u=!1;n&&n.element!==i.element[0]&&("touch"===s.tolerance?u=!(n.left>o||n.right<l||n.top>a||n.bottom<r):"fit"===s.tolerance&&(u=n.left>l&&n.right<o&&n.top>r&&n.bottom<a),u?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})})),e(".ui-selecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,n=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:n||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){t.menuItems||t._refreshMenu()})),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var i=this,s="";e.each(n,(function(n,l){l.optgroup!==s&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(l.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:l.optgroup}).appendTo(t),s=l.optgroup),i._renderItemData(t,l)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,s=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),s+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](s).eq(-1):n[e+"All"](s).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(e){e.preventDefault()},click:"_toggle",keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each((function(t,i){var s=e(i),l=s.parent("optgroup");n.push({element:s,index:t,value:s.attr("value"),label:s.text(),optgroup:l.attr("label")||"",disabled:l.prop("disabled")||s.prop("disabled")})})),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),l=[];for(s.length>(n=i.values&&i.values.length||1)&&(s.slice(n).remove(),s=s.slice(0,n)),t=s.length;t<n;t++)l.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=s.add(e(l.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,n="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,s,l,r,o,a=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n=this._normValueFromMouse({x:t.pageX,y:t.pageY}),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var r=Math.abs(n-a.values(t));(i>r||i===r&&(t===a._lastChangedValue||a.values(t)===u.min))&&(i=r,s=e(this),l=t)})),!1!==this._start(t,l)&&(this._mouseSliding=!0,this._handleIndex=l,s.addClass("ui-state-active").focus(),r=s.offset(),o=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=o?{left:0,top:0}:{left:t.pageX-r.left-s.width()/2,top:t.pageY-r.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,l,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t=this._normValueFromMouse({x:e.pageX,y:e.pageY});return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,s,l;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),s=this._valueMax()-this._valueMin(),l=this._valueMin()+i*s,this._trimAlignValue(l)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,s,l;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>i||1===t&&n<i)&&(n=i),n!==this.values(t)&&((s=this.values())[t]=n,l=this._trigger("slide",e,{handle:this.handles[t],value:n,values:s}),i=this.values(t?0:1),!1!==l&&this.values(t,n))):n!==this.value()&&!1!==(l=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,s,l;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,s=arguments[0],l=0;l<i.length;l+=1)i[l]=this._trimAlignValue(s[l]),this._change(null,l);this._refreshValue()},_setOption:function(t,n){var i,s=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(s=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<s;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(e){var t,n;if(arguments.length)return this._trimAlignValue(this.options.values[e]);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),n=0;n<t.length;n+=1)t[n]=this._trimAlignValue(t[n]);return t}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,s,l,r=this.options.range,o=this.options,a=this,u=!this._animateOff&&o.animate,c={};this.options.values&&this.options.values.length?this.handles.each((function(i){n=(a.values(i)-a._valueMin())/(a._valueMax()-a._valueMin())*100,c["horizontal"===a.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[u?"animate":"css"](c,o.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===i&&a.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},o.animate),1===i&&a.range[u?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:o.animate})):(0===i&&a.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},o.animate),1===i&&a.range[u?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:o.animate}))),t=n})):(i=this.value(),s=this._valueMin(),l=this._valueMax(),c["horizontal"===this.orientation?"left":"bottom"]=(n=l!==s?(i-s)/(l-s)*100:0)+"%",this.handle.stop(1,1)[u?"animate":"css"](c,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(t){var n,i,s,l=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,l)))return}switch(s=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(l):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-s)}this._slide(t,l,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,s=!1,l=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,l.widgetName+"-item")===l)return i=e(this),!1})),e.data(t.target,l.widgetName+"-item")===l&&(i=e(t.target)),!i||this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each((function(){this===t.target&&(s=!0)})),!s)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,n,i){var s,l,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(l=this.document.find("body"),this.storedCursor=l.css("cursor"),l.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(l)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,s,l,r=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-e(document).scrollTop()<r.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)),t.pageX-e(document).scrollLeft()<r.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(s=(i=this.items[n]).item[0],(l=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===l?"next":"prev"]()[0]===s||e.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],s))){if(this.direction=1===l?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,s=this.placeholder.offset(),l=this.options.axis,r={};l&&"x"!==l||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),l&&"y"!==l||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,(function(){i._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each((function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")})),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=this.positionAbs.top,i=e.left,s=i+e.width,l=e.top,r=l+e.height,o=this.offset.click.top,a=this.offset.click.left;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?("x"===this.options.axis||n+o>l&&n+o<r)&&("y"===this.options.axis||t+a>i&&t+a<s):i<t+this.helperProportions.width/2&&t+this.helperProportions.width-this.helperProportions.width/2<s&&l<n+this.helperProportions.height/2&&n+this.helperProportions.height-this.helperProportions.height/2<r},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,s=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();return!!i&&(this.floating?l&&"right"===l||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,s,l,r=[],o=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--)for(i=(s=e(a[n])).length-1;i>=0;i--)(l=e.data(s[i],this.widgetFullName))&&l!==this&&!l.options.disabled&&o.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l]);function u(){r.push(this)}for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=o.length-1;n>=0;n--)o[n][0].each(u);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,s,l,r,o,a,u,c=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(s=e(d[n])).length-1;i>=0;i--)(l=e.data(s[i],this.widgetFullName))&&l!==this&&!l.options.disabled&&(h.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l));for(n=h.length-1;n>=0;n--)for(r=h[n][1],i=0,u=(o=h[n][0]).length;i<u;i++)(a=e(o[i])).data(this.widgetName+"-item",r),c.push({item:a,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,i,s,l;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=s.outerWidth(),i.height=s.outerHeight()),l=s.offset(),i.left=l.left,i.top=l.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)l=this.containers[n].element.offset(),this.containers[n].containerCache.left=l.left,this.containers[n].containerCache.top=l.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each((function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(s)})):"img"===i&&s.attr("src",t.currentItem.attr("src")),n||s.css("visibility","hidden"),s},update:function(e,s){n&&!i.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n,i,s,l,r,o,a,u,c,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&e.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,l=null,r=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",o=c?"width":"height",h=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[r],u=!1,t[h]-a>this.items[i][o]/2&&(u=!0),Math.abs(t[h]-a)<s&&(s=Math.abs(t[h]-a),l=this.items[i],this.direction=u?"up":"down"));if(!l&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;l?this._rearrange(t,l,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],n=e(s.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())*i}},_generatePosition:function(t){var n,i,s=this.options,l=t.pageX,r=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(l=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(l=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(n=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-s.grid[1]:n+s.grid[1]:n,i=this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0],l=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-s.grid[0]:i+s.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:o.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:o.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay((function(){s===this.counter&&this.refreshPositions(!i)}))},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function s(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}for(this.fromOutside&&!t&&i.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(i.push((function(e){this._trigger("remove",e,this._uiHash())})),i.push((function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}).call(this,this.currentContainer)),i.push((function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}).call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(s("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(s("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],(function(e,i){var s=n.attr(i);void 0!==s&&s.length&&(t[i]=s)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var n;function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n})))}n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,n)}),e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return n=e-(t=null!==i.min?i.min:0),e=t+(n=Math.round(n/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:C((function(e){this._super(e)})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:C((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:C((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:C((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:C((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());C(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(w=/#.*$/,function(e){var t,n;t=(e=e.cloneNode(!1)).href.replace(w,""),n=location.href.replace(w,"");try{t=decodeURIComponent(t)}catch(i){}try{n=decodeURIComponent(n)}catch(i){}return e.hash.length>1&&t===n}),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each((function(n,s){if(e(s).attr("aria-controls")===i)return t=n,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:s=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,s),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){for(var i=this.tabs.length-1;-1!==e.inArray((t>i&&(t=0),t<0&&(t=i),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),(function(e){return n.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(n,i){var s,l,r,o=e(i).uniqueId().attr("id"),a=e(i).closest("li"),u=a.attr("aria-controls");t._isLocal(i)?(r=(s=i.hash).substring(1),l=t.element.find(t._sanitizeSelector(s))):(r=a.attr("aria-controls")||e({}).uniqueId()[0].id,(l=t.element.find(s="#"+r)).length||(l=t._createPanel(r)).insertAfter(t.panels[n-1]||t.tablist),l.attr("aria-live","polite")),l.length&&(t.panels=t.panels.add(l)),u&&a.data("ui-tabs-aria-controls",u),a.attr({"aria-controls":r,"aria-labelledby":o}),l.attr("aria-labelledby",o)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)!0===t||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each((function(){n=Math.max(n,e(this).height("").height())})).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,s=e(t.currentTarget).closest("li"),l=s[0]===i[0],r=l&&n.collapsible,o=r?e():this._getPanelForTab(s),a=i.length?this._getPanelForTab(i):e(),u={oldTab:i,oldPanel:a,newTab:r?e():s,newPanel:o};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||l&&!n.collapsible||!1===this._trigger("beforeActivate",t,u)||(n.active=!r&&this.tabs.index(s),this.active=l?e():s,this.xhr&&this.xhr.abort(),a.length||o.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(s),t),this._toggle(t,u))},_toggle:function(t,n){var i=this,s=n.newPanel,l=n.oldPanel;function r(){i.running=!1,i._trigger("activate",t,n)}function o(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&i.options.show?i._show(s,i.options.show,r):(s.show(),r())}this.running=!0,l.length&&this.options.hide?this._hide(l,this.options.hide,(function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()})):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),l.hide(),o()),l.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&l.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,n){return n!==t?n:null}))),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,s=this.tabs.eq(t),l=s.find(".ui-tabs-anchor"),r=this._getPanelForTab(s),o={tab:s,panel:r};this._isLocal(l[0])||(this.xhr=e.ajax(this._ajaxSettings(l,n,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success((function(e){setTimeout((function(){r.html(e),i._trigger("load",n,o)}),1)})).complete((function(e,t){setTimeout((function(){"abort"===t&&i.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr}),1)}))))},_ajaxSettings:function(t,n,i){var s=this;return{url:t.attr("href"),beforeSend:function(t,l){return s._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:l},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),s=e.inArray(n,i);-1!==s&&i.splice(s,1),t.removeData("ui-tooltip-id"),(i=e.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var i=this;if("disabled"===t)return this[n?"_disable":"_enable"](),void(this.options[t]=n);this._super(t,n),"content"===t&&e.each(this.tooltips,(function(e,t){i._updateContent(t)}))},_disable:function(){var t=this;e.each(this.tooltips,(function(n,i){var s=e.Event("blur");s.target=s.currentTarget=i[0],t.close(s,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each((function(){var t,i=e(this);i.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,s=this,l=t?t.type:null;if("string"==typeof i)return this._open(t,e,i);(n=i.call(e[0],(function(n){e.data("ui-tooltip-open")&&s._delay((function(){t&&(t.type=l),this._open(t,e,n)}))})))&&this._open(t,e,n)},_open:function(t,n,i){var s,l,r,o,a=e.extend({},this.options.position);function u(e){a.of=e,s.is(":hidden")||s.position(a)}i&&((s=this._find(n)).length?s.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(o=i.clone()).removeAttr("id").find("[id]").removeAttr("id"):o=i,e("<div>").html(o).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:u}),u(t)):s.position(e.extend({of:n},this.options.position)),this.hiding=!1,this.closing=!1,s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval((function(){s.is(":visible")&&(u(a.of),clearInterval(r))}),e.fx.interval)),this._trigger("open",t,{tooltip:s}),l={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}},n[0]!==this.element[0]&&(l.remove=function(){this._removeTooltip(s)}),t&&"mouseover"!==t.type||(l.mouseleave="close"),t&&"focusin"!==t.type||(l.focusout="close"),this._on(!0,n,l)))},close:function(t){var n=this,i=e(t?t.currentTarget:this.element),s=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),this.hiding=!0,s.stop(!0),this._hide(s,this.options.hide,(function(){n._removeTooltip(e(this)),this.hiding=!1,this.closing=!1})),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]})),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.hiding||(this.closing=!1))},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=t,n},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,i){var s=e.Event("blur");s.target=s.currentTarget=i[0],t.close(s,!0),e("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}})})?i.apply(t,s):i)||(e.exports=l)},E4Z0:function(e,t,n){var i,s;void 0===(s="function"==typeof(i=function(e){"use strict";var t,n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};!function(e){e[e.EOS=0]="EOS",e[e.Text=1]="Text",e[e.Incomplete=2]="Incomplete",e[e.ESC=3]="ESC",e[e.Unknown=4]="Unknown",e[e.SGR=5]="SGR",e[e.OSCURL=6]="OSCURL"}(t||(t={}));var i=function(){function e(){this.VERSION="4.0.4",this.setup_palettes(),this._use_classes=!1,this._escape_for_html=!0,this.bold=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(e.prototype,"use_classes",{get:function(){return this._use_classes},set:function(e){this._use_classes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"escape_for_html",{get:function(){return this._escape_for_html},set:function(e){this._escape_for_html=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(e){this._url_whitelist=e},enumerable:!0,configurable:!0}),e.prototype.setup_palettes=function(){var e=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach((function(t){t.forEach((function(t){e.palette_256.push(t)}))}));for(var t=[0,95,135,175,215,255],n=0;n<6;++n)for(var i=0;i<6;++i)for(var s=0;s<6;++s)this.palette_256.push({rgb:[t[n],t[i],t[s]],class_name:"truecolor"});for(var l=8,r=0;r<24;++r,l+=10)this.palette_256.push({rgb:[l,l,l],class_name:"truecolor"})},e.prototype.escape_txt_for_html=function(e){return e.replace(/[&<>]/gm,(function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":void 0}))},e.prototype.append_buffer=function(e){this._buffer=this._buffer+e},e.prototype.get_next_packet=function(){var e={kind:t.EOS,text:"",url:""},i=this._buffer.length;if(0==i)return e;var l=this._buffer.indexOf("\x1b");if(-1==l)return e.kind=t.Text,e.text=this._buffer,this._buffer="",e;if(l>0)return e.kind=t.Text,e.text=this._buffer.slice(0,l),this._buffer=this._buffer.slice(l),e;if(0==l){if(1==i)return e.kind=t.Incomplete,e;var r=this._buffer.charAt(1);if("["!=r&&"]"!=r)return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;if("["==r)return this._csi_regex||(this._csi_regex=s(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \x1b[                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \x1b[                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-\x1f:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]))),null===(a=this._buffer.match(this._csi_regex))?(e.kind=t.Incomplete,e):a[4]?(e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e):(e.kind=""!=a[1]||"m"!=a[3]?t.Unknown:t.SGR,e.text=a[2],this._buffer=this._buffer.slice(a[0].length),e);if("]"==r){if(i<4)return e.kind=t.Incomplete,e;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_st||(this._osc_st=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,"");return new RegExp(i,"g")}(n(["\n                        (?:                         # legal sequence\n                          (\x1b\\)                    # ESC                           |                           # alternate\n                          (\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-\x06]                 # anything illegal\n                          |                           # alternate\n                          [\b-\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\x1c-\x1f]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var o=this._osc_st.exec(this._buffer);if(null===o)return e.kind=t.Incomplete,e;if(o[3])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;var a,u=this._osc_st.exec(this._buffer);return null===u?(e.kind=t.Incomplete,e):u[3]?(e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e):(this._osc_regex||(this._osc_regex=s(n(["\n                        ^                           # beginning of line\n                                                    #\n                        \x1b]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                        ([!-~]+)              # TEXT capture\n                        \x1b]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x21-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]))),null===(a=this._buffer.match(this._osc_regex))?(e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e):(e.kind=t.OSCURL,e.url=a[1],e.text=a[2],this._buffer=this._buffer.slice(a[0].length),e))}}},e.prototype.ansi_to_html=function(e){this.append_buffer(e);for(var n=[];;){var i=this.get_next_packet();if(i.kind==t.EOS||i.kind==t.Incomplete)break;i.kind!=t.ESC&&i.kind!=t.Unknown&&(i.kind==t.Text?n.push(this.transform_to_html(this.with_state(i))):i.kind==t.SGR?this.process_ansi(i):i.kind==t.OSCURL&&n.push(this.process_hyperlink(i)))}return n.join("")},e.prototype.with_state=function(e){return{bold:this.bold,fg:this.fg,bg:this.bg,text:e.text}},e.prototype.process_ansi=function(e){for(var t=e.text.split(";");t.length>0;){var n=t.shift(),i=parseInt(n,10);if(isNaN(i)||0===i)this.fg=this.bg=null,this.bold=!1;else if(1===i)this.bold=!0;else if(22===i)this.bold=!1;else if(39===i)this.fg=null;else if(49===i)this.bg=null;else if(i>=30&&i<38)this.fg=this.ansi_colors[0][i-30];else if(i>=40&&i<48)this.bg=this.ansi_colors[0][i-40];else if(i>=90&&i<98)this.fg=this.ansi_colors[1][i-90];else if(i>=100&&i<108)this.bg=this.ansi_colors[1][i-100];else if((38===i||48===i)&&t.length>0){var s=38===i,l=t.shift();if("5"===l&&t.length>0){var r=parseInt(t.shift(),10);r>=0&&r<=255&&(s?this.fg=this.palette_256[r]:this.bg=this.palette_256[r])}if("2"===l&&t.length>2){var o=parseInt(t.shift(),10),a=parseInt(t.shift(),10),u=parseInt(t.shift(),10);if(o>=0&&o<=255&&a>=0&&a<=255&&u>=0&&u<=255){var c={rgb:[o,a,u],class_name:"truecolor"};s?this.fg=c:this.bg=c}}}}},e.prototype.transform_to_html=function(e){var t=e.text;if(0===t.length)return t;if(this._escape_for_html&&(t=this.escape_txt_for_html(t)),!e.bold&&null===e.fg&&null===e.bg)return t;var n=[],i=[],s=e.fg,l=e.bg;e.bold&&n.push("font-weight:bold"),this._use_classes?(s&&("truecolor"!==s.class_name?i.push(s.class_name+"-fg"):n.push("color:rgb("+s.rgb.join(",")+")")),l&&("truecolor"!==l.class_name?i.push(l.class_name+"-bg"):n.push("background-color:rgb("+l.rgb.join(",")+")"))):(s&&n.push("color:rgb("+s.rgb.join(",")+")"),l&&n.push("background-color:rgb("+l.rgb+")"));var r="",o="";return i.length&&(r=' class="'+i.join(" ")+'"'),n.length&&(o=' style="'+n.join(";")+'"'),"<span"+o+r+">"+t+"</span>"},e.prototype.process_hyperlink=function(e){var t=e.url.split(":");return t.length<1?"":this._url_whitelist[t[0]]?'<a href="'+this.escape_txt_for_html(e.url)+'">'+this.escape_txt_for_html(e.text)+"</a>":""},e}();function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,"");return new RegExp(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i})?i.apply(t,[t]):i)||(e.exports=s)},EVdn:function(e,t,n){var i;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,s){"use strict";var l=[],r=n.document,o=Object.getPrototypeOf,a=l.slice,u=l.concat,c=l.push,h=l.indexOf,d={},p=d.toString,f=d.hasOwnProperty,g=f.toString,m=g.call(Object),b={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},_={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,s,l=(n=n||r).createElement("script");if(l.text=e,t)for(i in _)(s=t[i]||t.getAttribute&&t.getAttribute(i))&&l.setAttribute(i,s);n.head.appendChild(l).parentNode.removeChild(l)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[p.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!y(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:"3.4.1",constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:l.sort,splice:l.splice},C.extend=C.fn.extend=function(){var e,t,n,i,s,l,r=arguments[0]||{},o=1,a=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[o]||{},o++),"object"==typeof r||y(r)||(r={}),o===a&&(r=this,o--);o<a;o++)if(null!=(e=arguments[o]))for(t in e)i=e[t],"__proto__"!==t&&r!==i&&(u&&i&&(C.isPlainObject(i)||(s=Array.isArray(i)))?(n=r[t],l=s&&!Array.isArray(n)?[]:s||C.isPlainObject(n)?n:{},s=!1,r[t]=C.extend(u,l,i)):void 0!==i&&(r[t]=i));return r},C.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=o(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||g.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(E(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(k,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?C.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;i<n;i++)e[s++]=t[i];return e.length=s,e},grep:function(e,t,n){for(var i=[],s=0,l=e.length,r=!n;s<l;s++)!t(e[s],s)!==r&&i.push(e[s]);return i},map:function(e,t,n){var i,s,l=0,r=[];if(E(e))for(i=e.length;l<i;l++)null!=(s=t(e[l],l,n))&&r.push(s);else for(l in e)null!=(s=t(e[l],l,n))&&r.push(s);return u.apply([],r)},guid:1,support:b}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=l[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var S=function(e){var t,n,i,s,l,r,o,a,u,c,h,d,p,f,g,m,b,y,v,_="sizzle"+1*new Date,w=e.document,x=0,C=0,k=ae(),E=ae(),S=ae(),T=ae(),M=function(e,t){return e===t&&(h=!0),0},P={}.hasOwnProperty,A=[],I=A.pop,O=A.push,D=A.push,N=A.slice,R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+z+"*("+L+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+z+"*\\]",H=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",B=new RegExp(z+"+","g"),F=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),V=new RegExp("^"+z+"*,"+z+"*"),$=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),W=new RegExp(z+"|>"),q=new RegExp(H),G=new RegExp("^"+L+"$"),K={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,se=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},le=function(){d()},re=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(A=N.call(w.childNodes),w.childNodes)}catch(Ee){D={apply:A.length?function(e,t){O.apply(e,N.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,s){var l,o,u,c,h,f,b,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!s&&((t?t.ownerDocument||t:w)!==p&&d(t),t=t||p,g)){if(11!==x&&(h=Q.exec(e)))if(l=h[1]){if(9===x){if(!(u=t.getElementById(l)))return i;if(u.id===l)return i.push(u),i}else if(y&&(u=y.getElementById(l))&&v(t,u)&&u.id===l)return i.push(u),i}else{if(h[2])return D.apply(i,t.getElementsByTagName(e)),i;if((l=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(i,t.getElementsByClassName(l)),i}if(n.qsa&&!T[e+" "]&&(!m||!m.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(b=e,y=t,1===x&&W.test(e)){for((c=t.getAttribute("id"))?c=c.replace(ie,se):t.setAttribute("id",c=_),o=(f=r(e)).length;o--;)f[o]="#"+c+" "+ve(f[o]);b=f.join(","),y=ee.test(e)&&be(t.parentNode)||t}try{return D.apply(i,y.querySelectorAll(b)),i}catch(C){T(e,!0)}finally{c===_&&t.removeAttribute("id")}}}return a(e.replace(F,"$1"),t,i,s)}function ae(){var e=[];return function t(n,s){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=s}}function ue(e){return e[_]=!0,e}function ce(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Ee){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),s=n.length;s--;)i.attrHandle[n[s]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue((function(t){return t=+t,ue((function(n,i){for(var s,l=e([],n.length,t),r=l.length;r--;)n[s=l[r]]&&(n[s]=!(i[s]=n[s]))}))}))}function be(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},l=oe.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!Y.test(e.namespaceURI||t&&t.nodeName||"HTML")},d=oe.setDocument=function(e){var t,s,r=e?e.ownerDocument||e:w;return r!==p&&9===r.nodeType&&r.documentElement?(f=(p=r).documentElement,g=!l(p),w!==p&&(s=p.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",le,!1):s.attachEvent&&s.attachEvent("onunload",le)),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=ce((function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,s,l=t.getElementById(e);if(l){if((n=l.getAttributeNode("id"))&&n.value===e)return[l];for(s=t.getElementsByName(e),i=0;l=s[i++];)if((n=l.getAttributeNode("id"))&&n.value===e)return[l]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],s=0,l=t.getElementsByTagName(e);if("*"===e){for(;n=l[s++];)1===n.nodeType&&i.push(n);return i}return l},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},b=[],m=[],(n.qsa=Z.test(p.querySelectorAll))&&(ce((function(e){f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+z+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+_+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+z+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),b.push("!=",H)})),m=m.length&&new RegExp(m.join("|")),b=b.length&&new RegExp(b.join("|")),t=Z.test(f.compareDocumentPosition),v=t||Z.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===p||e.ownerDocument===w&&v(w,e)?-1:t===p||t.ownerDocument===w&&v(w,t)?1:c?R(c,e)-R(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,s=e.parentNode,l=t.parentNode,r=[e],o=[t];if(!s||!l)return e===p?-1:t===p?1:s?-1:l?1:c?R(c,e)-R(c,t):0;if(s===l)return de(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;r[i]===o[i];)i++;return i?de(r[i],o[i]):r[i]===w?-1:o[i]===w?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),n.matchesSelector&&g&&!T[t+" "]&&(!b||!b.test(t))&&(!m||!m.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Ee){T(t,!0)}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),v(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var s=i.attrHandle[t.toLowerCase()],l=s&&P.call(i.attrHandle,t.toLowerCase())?s(e,t,!g):void 0;return void 0!==l?l:n.attributes||!g?e.getAttribute(t):(l=e.getAttributeNode(t))&&l.specified?l.value:null},oe.escape=function(e){return(e+"").replace(ie,se)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],s=0,l=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(M),h){for(;t=e[l++];)t===e[l]&&(s=i.push(l));for(;s--;)e.splice(i[s],1)}return c=null,e},s=oe.getText=function(e){var t,n="",i=0,l=e.nodeType;if(l){if(1===l||9===l||11===l){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===l||4===l)return e.nodeValue}else for(;t=e[i++];)n+=s(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:ue,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=r(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var s=oe.attr(i,e);return null==s?"!="===t:!t||(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&s.indexOf(n)>-1:"$="===t?n&&s.slice(-n.length)===n:"~="===t?(" "+s.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,s){var l="nth"!==e.slice(0,3),r="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===s?function(e){return!!e.parentNode}:function(t,n,a){var u,c,h,d,p,f,g=l!==r?"nextSibling":"previousSibling",m=t.parentNode,b=o&&t.nodeName.toLowerCase(),y=!a&&!o,v=!1;if(m){if(l){for(;g;){for(d=t;d=d[g];)if(o?d.nodeName.toLowerCase()===b:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?m.firstChild:m.lastChild],r&&y){for(v=(p=(u=(c=(h=(d=m)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===x&&u[1])&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(v=p=0)||f.pop();)if(1===d.nodeType&&++v&&d===t){c[e]=[x,p,v];break}}else if(y&&(v=p=(u=(c=(h=(d=t)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===x&&u[1]),!1===v)for(;(d=++p&&d&&d[g]||(v=p=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==b:1!==d.nodeType)||!++v||(y&&((c=(h=d[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[x,v]),d!==t)););return(v-=s)===i||v%i==0&&v/i>=0}}},PSEUDO:function(e,t){var n,s=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return s[_]?s(t):s.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var i,l=s(e,t),r=l.length;r--;)e[i=R(e,l[r])]=!(n[i]=l[r])})):function(e){return s(e,0,n)}):s}},pseudos:{not:ue((function(e){var t=[],n=[],i=o(e.replace(F,"$1"));return i[_]?ue((function(e,t,n,s){for(var l,r=i(e,null,s,[]),o=e.length;o--;)(l=r[o])&&(e[o]=!(t[o]=l))})):function(e,s,l){return t[0]=e,i(t,null,l,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return oe(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||s(t)).indexOf(e)>-1}})),lang:ue((function(e){return G.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:me((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function ye(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function _e(e,t,n){var i=t.dir,s=t.next,l=s||i,r=n&&"parentNode"===l,o=C++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s);return!1}:function(t,n,a){var u,c,h,d=[x,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=(h=t[_]||(t[_]={}))[t.uniqueID]||(h[t.uniqueID]={}),s&&s===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[l])&&u[0]===x&&u[1]===o)return d[2]=u[2];if(c[l]=d,d[2]=e(t,n,a))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var s=e.length;s--;)if(!e[s](t,n,i))return!1;return!0}:e[0]}function xe(e,t,n,i,s){for(var l,r=[],o=0,a=e.length,u=null!=t;o<a;o++)(l=e[o])&&(n&&!n(l,i,s)||(r.push(l),u&&t.push(o)));return r}function Ce(e,t,n,i,s,l){return i&&!i[_]&&(i=Ce(i)),s&&!s[_]&&(s=Ce(s,l)),ue((function(l,r,o,a){var u,c,h,d=[],p=[],f=r.length,g=l||function(e,t,n){for(var i=0,s=t.length;i<s;i++)oe(e,t[i],n);return n}(t||"*",o.nodeType?[o]:o,[]),m=!e||!l&&t?g:xe(g,d,e,o,a),b=n?s||(l?e:f||i)?[]:r:m;if(n&&n(m,b,o,a),i)for(u=xe(b,p),i(u,[],o,a),c=u.length;c--;)(h=u[c])&&(b[p[c]]=!(m[p[c]]=h));if(l){if(s||e){if(s){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(m[c]=h);s(null,b=[],u,a)}for(c=b.length;c--;)(h=b[c])&&(u=s?R(l,h):d[c])>-1&&(l[u]=!(r[u]=h))}}else b=xe(b===r?b.splice(f,b.length):b),s?s(null,r,b,a):D.apply(r,b)}))}function ke(e){for(var t,n,s,l=e.length,r=i.relative[e[0].type],o=r||i.relative[" "],a=r?1:0,c=_e((function(e){return e===t}),o,!0),h=_e((function(e){return R(t,e)>-1}),o,!0),d=[function(e,n,i){var s=!r&&(i||n!==u)||((t=n).nodeType?c(e,n,i):h(e,n,i));return t=null,s}];a<l;a++)if(n=i.relative[e[a].type])d=[_e(we(d),n)];else{if((n=i.filter[e[a].type].apply(null,e[a].matches))[_]){for(s=++a;s<l&&!i.relative[e[s].type];s++);return Ce(a>1&&we(d),a>1&&ve(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(F,"$1"),n,a<s&&ke(e.slice(a,s)),s<l&&ke(e=e.slice(s)),s<l&&ve(e))}d.push(n)}return we(d)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,r=oe.tokenize=function(e,t){var n,s,l,r,o,a,u,c=E[e+" "];if(c)return t?0:c.slice(0);for(o=e,a=[],u=i.preFilter;o;){for(r in n&&!(s=V.exec(o))||(s&&(o=o.slice(s[0].length)||o),a.push(l=[])),n=!1,(s=$.exec(o))&&(n=s.shift(),l.push({value:n,type:s[0].replace(F," ")}),o=o.slice(n.length)),i.filter)!(s=K[r].exec(o))||u[r]&&!(s=u[r](s))||(n=s.shift(),l.push({value:n,type:r,matches:s}),o=o.slice(n.length));if(!n)break}return t?o.length:o?oe.error(e):E(e,a).slice(0)},o=oe.compile=function(e,t){var n,s=[],l=[],o=S[e+" "];if(!o){for(t||(t=r(e)),n=t.length;n--;)(o=ke(t[n]))[_]?s.push(o):l.push(o);(o=S(e,function(e,t){var n=t.length>0,s=e.length>0,l=function(l,r,o,a,c){var h,f,m,b=0,y="0",v=l&&[],_=[],w=u,C=l||s&&i.find.TAG("*",c),k=x+=null==w?1:Math.random()||.1,E=C.length;for(c&&(u=r===p||r||c);y!==E&&null!=(h=C[y]);y++){if(s&&h){for(f=0,r||h.ownerDocument===p||(d(h),o=!g);m=e[f++];)if(m(h,r||p,o)){a.push(h);break}c&&(x=k)}n&&((h=!m&&h)&&b--,l&&v.push(h))}if(b+=y,n&&y!==b){for(f=0;m=t[f++];)m(v,_,r,o);if(l){if(b>0)for(;y--;)v[y]||_[y]||(_[y]=I.call(a));_=xe(_)}D.apply(a,_),c&&!l&&_.length>0&&b+t.length>1&&oe.uniqueSort(a)}return c&&(x=k,u=w),v};return n?ue(l):l}(l,s))).selector=e}return o},a=oe.select=function(e,t,n,s){var l,a,u,c,h,d="function"==typeof e&&e,p=!s&&r(e=d.selector||e);if(n=n||[],1===p.length){if((a=p[0]=p[0].slice(0)).length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&g&&i.relative[a[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(l=K.needsContext.test(e)?0:a.length;l--&&!i.relative[c=(u=a[l]).type];)if((h=i.find[c])&&(s=h(u.matches[0].replace(te,ne),ee.test(a[0].type)&&be(t.parentNode)||t))){if(a.splice(l,1),!(e=s.length&&ve(a)))return D.apply(n,s),n;break}}return(d||o(e,p))(s,t,!g,n,!t||ee.test(e)&&be(t.parentNode)||t),n},n.sortStable=_.split("").sort(M).join("")===_,n.detectDuplicates=!!h,d(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||he(j,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),oe}(n);C.find=S,C.expr=S.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=S.uniqueSort,C.text=S.getText,C.isXMLDoc=S.isXML,C.contains=S.contains,C.escapeSelector=S.escape;var T=function(e,t,n){for(var i=[],s=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&C(e).is(n))break;i.push(e)}return i},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},P=C.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return y(t)?C.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?C.grep(e,(function(e){return h.call(t,e)>-1!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,i=this.length,s=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<i;t++)if(C.contains(s[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,s[t],n);return i>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&P.test(e)?C(e):e||[],!1).length}});var D,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var i,s;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(C.merge(this,C.parseHTML(i[1],(t=t instanceof C?t[0]:t)&&t.nodeType?t.ownerDocument||t:r,!0)),I.test(i[1])&&C.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(s=r.getElementById(i[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,D=C(r);var R=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function z(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,s=this.length,l=[],r="string"!=typeof e&&C(e);if(!P.test(e))for(;i<s;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){l.push(n);break}return this.pushStack(l.length>1?C.uniqueSort(l):l)},index:function(e){return e?"string"==typeof e?h.call(C(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return z(e,"nextSibling")},prev:function(e){return z(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,i){var s=C.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(s=C.filter(i,s)),this.length>1&&(j[e]||C.uniqueSort(s),R.test(e)&&s.reverse()),this.pushStack(s)}}));var L=/[^\x20\t\r\n\f]+/g;function U(e){return e}function H(e){throw e}function B(e,t,n,i){var s;try{e&&y(s=e.promise)?s.call(e).done(t).fail(n):e&&y(s=e.then)?s.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):C.extend({},e);var t,n,i,s,l=[],r=[],o=-1,a=function(){for(s=s||e.once,i=t=!0;r.length;o=-1)for(n=r.shift();++o<l.length;)!1===l[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=l.length,n=!1);e.memory||(n=!1),t=!1,s&&(l=n?[]:"")},u={add:function(){return l&&(n&&!t&&(o=l.length-1,r.push(n)),function t(n){C.each(n,(function(n,i){y(i)?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==x(i)&&t(i)}))}(arguments),n&&!t&&a()),this},remove:function(){return C.each(arguments,(function(e,t){for(var n;(n=C.inArray(t,l,n))>-1;)l.splice(n,1),n<=o&&o--})),this},has:function(e){return e?C.inArray(e,l)>-1:l.length>0},empty:function(){return l&&(l=[]),this},disable:function(){return s=r=[],l=n="",this},disabled:function(){return!l},lock:function(){return s=r=[],n||t||(l=n=""),this},locked:function(){return!!s},fireWith:function(e,n){return s||(n=[e,(n=n||[]).slice?n.slice():n],r.push(n),t||a()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(n){C.each(t,(function(t,i){var s=y(e[i[4]])&&e[i[4]];l[i[1]]((function(){var e=s&&s.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,s?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,s){var l=0;function r(e,t,i,s){return function(){var o=this,a=arguments,u=function(){var n,u;if(!(e<l)){if((n=i.apply(o,a))===t.promise())throw new TypeError("Thenable self-resolution");y(u=n&&("object"==typeof n||"function"==typeof n)&&n.then)?s?u.call(n,r(l,t,U,s),r(l,t,H,s)):u.call(n,r(++l,t,U,s),r(l,t,H,s),r(l,t,U,t.notifyWith)):(i!==U&&(o=void 0,a=[n]),(s||t.resolveWith)(o,a))}},c=s?u:function(){try{u()}catch(n){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(n,c.stackTrace),e+1>=l&&(i!==H&&(o=void 0,a=[n]),t.rejectWith(o,a))}};e?c():(C.Deferred.getStackHook&&(c.stackTrace=C.Deferred.getStackHook()),n.setTimeout(c))}}return C.Deferred((function(n){t[0][3].add(r(0,n,y(s)?s:U,n.notifyWith)),t[1][3].add(r(0,n,y(e)?e:U)),t[2][3].add(r(0,n,y(i)?i:H))})).promise()},promise:function(e){return null!=e?C.extend(e,s):s}},l={};return C.each(t,(function(e,n){var r=n[2],o=n[5];s[n[1]]=r.add,o&&r.add((function(){i=o}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),r.add(n[3].fire),l[n[0]]=function(){return l[n[0]+"With"](this===l?void 0:this,arguments),this},l[n[0]+"With"]=r.fireWith})),s.promise(l),e&&e.call(l,l),l},when:function(e){var t=arguments.length,n=t,i=Array(n),s=a.call(arguments),l=C.Deferred(),r=function(e){return function(n){i[e]=this,s[e]=arguments.length>1?a.call(arguments):n,--t||l.resolveWith(i,s)}};if(t<=1&&(B(e,l.done(r(n)).resolve,l.reject,!t),"pending"===l.state()||y(s[n]&&s[n].then)))return l.then();for(;n--;)B(s[n],r(n),l.reject);return l.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&F.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){n.setTimeout((function(){throw e}))};var V=C.Deferred();function $(){r.removeEventListener("DOMContentLoaded",$),n.removeEventListener("load",$),C.ready()}C.fn.ready=function(e){return V.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||V.resolveWith(r,[C]))}}),C.ready.then=V.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?n.setTimeout(C.ready):(r.addEventListener("DOMContentLoaded",$),n.addEventListener("load",$));var W=function(e,t,n,i,s,l,r){var o=0,a=e.length,u=null==n;if("object"===x(n))for(o in s=!0,n)W(e,t,o,n[o],!0,l,r);else if(void 0!==i&&(s=!0,y(i)||(r=!0),u&&(r?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(C(e),n)})),t))for(;o<a;o++)t(e[o],n,r?i:i.call(e[o],o,t(e[o],n)));return s?e:u?t.call(e):a?t(e[0],n):l},q=/^-ms-/,G=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function Y(e){return e.replace(q,"ms-").replace(G,K)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,s=this.cache(e);if("string"==typeof t)s[Y(t)]=n;else for(i in t)s[Y(i)]=t[i];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in i?[t]:t.match(L)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||C.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var Z=new X,Q=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(s){}Q.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return Q.hasData(e)||Z.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,i,s,l=this[0],r=l&&l.attributes;if(void 0===e){if(this.length&&(s=Q.get(l),1===l.nodeType&&!Z.get(l,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=Y(i.slice(5)),ne(l,i,s[i]));Z.set(l,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each((function(){Q.set(this,e)})):W(this,(function(t){var n;if(l&&void 0===t)return void 0!==(n=Q.get(l,e))?n:void 0!==(n=ne(l,e))?n:void 0;this.each((function(){Q.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Q.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var i;if(e)return i=Z.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=Z.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=C.queue(e,t=t||"fx"),i=n.length,s=n.shift(),l=C._queueHooks(e,t);"inprogress"===s&&(s=n.shift(),i--),s&&("fx"===t&&n.unshift("inprogress"),delete l.stop,s.call(e,(function(){C.dequeue(e,t)}),l)),!i&&l&&l.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:C.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,s=C.Deferred(),l=this,r=this.length,o=function(){--i||s.resolveWith(l,[l])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=Z.get(l[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),s.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),le=["Top","Right","Bottom","Left"],re=r.documentElement,oe=function(e){return C.contains(e.ownerDocument,e)},ae={composed:!0};re.getRootNode&&(oe=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===C.css(e,"display")},ce=function(e,t,n,i){var s,l,r={};for(l in t)r[l]=e.style[l],e.style[l]=t[l];for(l in s=n.apply(e,i||[]),t)e.style[l]=r[l];return s};function he(e,t,n,i){var s,l,r=20,o=i?function(){return i.cur()}:function(){return C.css(e,t,"")},a=o(),u=n&&n[3]||(C.cssNumber[t]?"":"px"),c=e.nodeType&&(C.cssNumber[t]||"px"!==u&&+a)&&se.exec(C.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(a/=2)||1;r--;)C.style(e,t,c+u),(1-l)*(1-(l=o()/a||.5))<=0&&(r=0),c/=l;C.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+a||0,s=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=s)),s}var de={};function pe(e){var t,n=e.ownerDocument,i=e.nodeName,s=de[i];return s||(t=n.body.appendChild(n.createElement(i)),s=C.css(t,"display"),t.parentNode.removeChild(t),"none"===s&&(s="block"),de[i]=s,s)}function fe(e,t){for(var n,i,s=[],l=0,r=e.length;l<r;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(s[l]=Z.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&ue(i)&&(s[l]=pe(i))):"none"!==n&&(s[l]="none",Z.set(i,"display",n)));for(l=0;l<r;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}C.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?C(this).show():C(this).hide()}))}});var ge=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?C.merge([e],n):n}function _e(e,t){for(var n=0,i=e.length;n<i;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var we,xe,Ce=/<|&#?\w+;/;function ke(e,t,n,i,s){for(var l,r,o,a,u,c,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((l=e[p])||0===l)if("object"===x(l))C.merge(d,l.nodeType?[l]:l);else if(Ce.test(l)){for(r=r||h.appendChild(t.createElement("div")),o=(me.exec(l)||["",""])[1].toLowerCase(),r.innerHTML=(a=ye[o]||ye._default)[1]+C.htmlPrefilter(l)+a[2],c=a[0];c--;)r=r.lastChild;C.merge(d,r.childNodes),(r=h.firstChild).textContent=""}else d.push(t.createTextNode(l));for(h.textContent="",p=0;l=d[p++];)if(i&&C.inArray(l,i)>-1)s&&s.push(l);else if(u=oe(l),r=ve(h.appendChild(l),"script"),u&&_e(r),n)for(c=0;l=r[c++];)be.test(l.type||"")&&n.push(l);return h}we=r.createDocumentFragment().appendChild(r.createElement("div")),(xe=r.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),we.appendChild(xe),b.checkClone=we.cloneNode(!0).cloneNode(!0).lastChild.checked,we.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!we.cloneNode(!0).lastChild.defaultValue;var Ee=/^key/,Se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Me(){return!0}function Pe(){return!1}function Ae(e,t){return e===function(){try{return r.activeElement}catch(e){}}()==("focus"===t)}function Ie(e,t,n,i,s,l){var r,o;if("object"==typeof t){for(o in"string"!=typeof n&&(i=i||n,n=void 0),t)Ie(e,o,n,i,t[o],l);return e}if(null==i&&null==s?(s=n,i=n=void 0):null==s&&("string"==typeof n?(s=i,i=void 0):(s=i,i=n,n=void 0)),!1===s)s=Pe;else if(!s)return e;return 1===l&&(r=s,(s=function(e){return C().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),e.each((function(){C.event.add(this,t,s,i,n)}))}function Oe(e,t,n){n?(Z.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var i,s,l=Z.get(this,t);if(1&e.isTrigger&&this[t]){if(l.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(l=a.call(arguments),Z.set(this,t,l),i=n(this,t),this[t](),l!==(s=Z.get(this,t))||i?Z.set(this,t,!1):s={},l!==s)return e.stopImmediatePropagation(),e.preventDefault(),s.value}else l.length&&(Z.set(this,t,{value:C.event.trigger(C.extend(l[0],C.Event.prototype),l.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,t)&&C.event.add(e,t,Me)}C.event={global:{},add:function(e,t,n,i,s){var l,r,o,a,u,c,h,d,p,f,g,m=Z.get(e);if(m)for(n.handler&&(n=(l=n).handler,s=l.selector),s&&C.find.matchesSelector(re,s),n.guid||(n.guid=C.guid++),(a=m.events)||(a=m.events={}),(r=m.handle)||(r=m.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(L)||[""]).length;u--;)p=g=(o=Te.exec(t[u])||[])[1],f=(o[2]||"").split(".").sort(),p&&(h=C.event.special[p]||{},h=C.event.special[p=(s?h.delegateType:h.bindType)||p]||{},c=C.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&C.expr.match.needsContext.test(s),namespace:f.join(".")},l),(d=a[p])||((d=a[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,r)||e.addEventListener&&e.addEventListener(p,r)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),s?d.splice(d.delegateCount++,0,c):d.push(c),C.event.global[p]=!0)},remove:function(e,t,n,i,s){var l,r,o,a,u,c,h,d,p,f,g,m=Z.hasData(e)&&Z.get(e);if(m&&(a=m.events)){for(u=(t=(t||"").match(L)||[""]).length;u--;)if(p=g=(o=Te.exec(t[u])||[])[1],f=(o[2]||"").split(".").sort(),p){for(h=C.event.special[p]||{},d=a[p=(i?h.delegateType:h.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=l=d.length;l--;)c=d[l],!s&&g!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(l,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));r&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,m.handle)||C.removeEvent(e,p,m.handle),delete a[p])}else for(p in a)C.event.remove(e,p+t[u],n,i,!0);C.isEmptyObject(a)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,i,s,l,r,o=C.event.fix(e),a=new Array(arguments.length),u=(Z.get(this,"events")||{})[o.type]||[],c=C.event.special[o.type]||{};for(a[0]=o,t=1;t<arguments.length;t++)a[t]=arguments[t];if(o.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,o)){for(r=C.event.handlers.call(this,o,u),t=0;(s=r[t++])&&!o.isPropagationStopped();)for(o.currentTarget=s.elem,n=0;(l=s.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!1!==l.namespace&&!o.rnamespace.test(l.namespace)||(o.handleObj=l,o.data=l.data,void 0!==(i=((C.event.special[l.origType]||{}).handle||l.handler).apply(s.elem,a))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,i,s,l,r,o=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(l=[],r={},n=0;n<a;n++)void 0===r[s=(i=t[n]).selector+" "]&&(r[s]=i.needsContext?C(s,this).index(u)>-1:C.find(s,this,null,[u]).length),r[s]&&l.push(i);l.length&&o.push({elem:u,handlers:l})}return u=this,a<t.length&&o.push({elem:u,handlers:t.slice(a)}),o},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&A(t,"input")&&Oe(t,"click",Me),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&A(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&A(t,"input")&&Z.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Me:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ee.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Se.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return Oe(this,e,Ae),!1},trigger:function(){return Oe(this,e),!0},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,s=e.relatedTarget,l=e.handleObj;return s&&(s===i||C.contains(i,s))||(e.type=l.origType,n=l.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,i){return Ie(this,e,t,n,i)},one:function(e,t,n,i){return Ie(this,e,t,n,i,1)},off:function(e,t,n){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each((function(){C.event.remove(this,e,n,t)}))}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ze(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ue(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,i,s,l,r,o,a,u;if(1===t.nodeType){if(Z.hasData(e)&&(l=Z.access(e),r=Z.set(t,l),u=l.events))for(s in delete r.handle,r.events={},u)for(n=0,i=u[s].length;n<i;n++)C.event.add(t,s,u[s][n]);Q.hasData(e)&&(o=Q.access(e),a=C.extend({},o),Q.set(t,a))}}function Be(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,i){t=u.apply([],t);var s,l,r,o,a,c,h=0,d=e.length,p=d-1,f=t[0],g=y(f);if(g||d>1&&"string"==typeof f&&!b.checkClone&&Re.test(f))return e.each((function(s){var l=e.eq(s);g&&(t[0]=f.call(this,s,l.html())),Fe(l,t,n,i)}));if(d&&(l=(s=ke(t,e[0].ownerDocument,!1,e,i)).firstChild,1===s.childNodes.length&&(s=l),l||i)){for(o=(r=C.map(ve(s,"script"),Le)).length;h<d;h++)a=s,h!==p&&(a=C.clone(a,!0,!0),o&&C.merge(r,ve(a,"script"))),n.call(e[h],a,h);if(o)for(c=r[r.length-1].ownerDocument,C.map(r,Ue),h=0;h<o;h++)be.test((a=r[h]).type||"")&&!Z.access(a,"globalEval")&&C.contains(c,a)&&(a.src&&"module"!==(a.type||"").toLowerCase()?C._evalUrl&&!a.noModule&&C._evalUrl(a.src,{nonce:a.nonce||a.getAttribute("nonce")}):w(a.textContent.replace(je,""),a,c))}return e}function Ve(e,t,n){for(var i,s=t?C.filter(t,e):e,l=0;null!=(i=s[l]);l++)n||1!==i.nodeType||C.cleanData(ve(i)),i.parentNode&&(n&&oe(i)&&_e(ve(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e.replace(De,"<$1></$2>")},clone:function(e,t,n){var i,s,l,r,o=e.cloneNode(!0),a=oe(e);if(!(b.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(r=ve(o),i=0,s=(l=ve(e)).length;i<s;i++)Be(l[i],r[i]);if(t)if(n)for(l=l||ve(e),r=r||ve(o),i=0,s=l.length;i<s;i++)He(l[i],r[i]);else He(e,o);return(r=ve(o,"script")).length>0&&_e(r,!a&&ve(e,"script")),o},cleanData:function(e){for(var t,n,i,s=C.event.special,l=0;void 0!==(n=e[l]);l++)if(J(n)){if(t=n[Z.expando]){if(t.events)for(i in t.events)s[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[Z.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return W(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ze(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ze(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ye[(me.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(ve(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,i=[],s=C(e),l=s.length-1,r=0;r<=l;r++)n=r===l?this:this.clone(!0),C(s[r])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var $e=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},qe=new RegExp(le.join("|"),"i");function Ge(e,t,n){var i,s,l,r,o=e.style;return(n=n||We(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||oe(e)||(r=C.style(e,t)),!b.pixelBoxStyles()&&$e.test(r)&&qe.test(t)&&(i=o.width,s=o.minWidth,l=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=s,o.maxWidth=l)),void 0!==r?r+"":r}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(c);var e=n.getComputedStyle(c);i="1%"!==e.top,a=12===t(e.marginLeft),c.style.right="60%",o=36===t(e.right),s=36===t(e.width),c.style.position="absolute",l=12===t(c.offsetWidth/3),re.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var i,s,l,o,a,u=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===c.style.backgroundClip,C.extend(b,{boxSizingReliable:function(){return e(),s},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),l}}))}();var Ye=["Webkit","Moz","ms"],Je=r.createElement("div").style,Xe={};function Ze(e){return C.cssProps[e]||Xe[e]||(e in Je?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ye.length;n--;)if((e=Ye[n]+t)in Je)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function it(e,t,n){var i=se.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function st(e,t,n,i,s,l){var r="width"===t?1:0,o=0,a=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(a+=C.css(e,n+le[r],!0,s)),i?("content"===n&&(a-=C.css(e,"padding"+le[r],!0,s)),"margin"!==n&&(a-=C.css(e,"border"+le[r]+"Width",!0,s))):(a+=C.css(e,"padding"+le[r],!0,s),"padding"!==n?a+=C.css(e,"border"+le[r]+"Width",!0,s):o+=C.css(e,"border"+le[r]+"Width",!0,s));return!i&&l>=0&&(a+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-l-a-o-.5))||0),a}function lt(e,t,n){var i=We(e),s=(!b.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,i),l=s,r=Ge(e,t,i),o="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(r)){if(!n)return r;r="auto"}return(!b.boxSizingReliable()&&s||"auto"===r||!parseFloat(r)&&"inline"===C.css(e,"display",!1,i))&&e.getClientRects().length&&(s="border-box"===C.css(e,"boxSizing",!1,i),(l=o in e)&&(r=e[o])),(r=parseFloat(r)||0)+st(e,t,n||(s?"border":"content"),l,i,r)+"px"}function rt(e,t,n,i,s){return new rt.prototype.init(e,t,n,i,s)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,l,r,o=Y(t),a=et.test(t),u=e.style;if(a||(t=Ze(o)),r=C.cssHooks[t]||C.cssHooks[o],void 0===n)return r&&"get"in r&&void 0!==(s=r.get(e,!1,i))?s:u[t];"string"==(l=typeof n)&&(s=se.exec(n))&&s[1]&&(n=he(e,t,s),l="number"),null!=n&&n==n&&("number"!==l||a||(n+=s&&s[3]||(C.cssNumber[o]?"":"px")),b.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(a?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var s,l,r,o=Y(t);return et.test(t)||(t=Ze(o)),(r=C.cssHooks[t]||C.cssHooks[o])&&"get"in r&&(s=r.get(e,!0,n)),void 0===s&&(s=Ge(e,t,i)),"normal"===s&&t in nt&&(s=nt[t]),""===n||n?(l=parseFloat(s),!0===n||isFinite(l)?l||0:s):s}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,i){if(n)return!Qe.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,i):ce(e,tt,(function(){return lt(e,t,i)}))},set:function(e,n,i){var s,l=We(e),r=!b.scrollboxSize()&&"absolute"===l.position,o=(r||i)&&"border-box"===C.css(e,"boxSizing",!1,l),a=i?st(e,t,i,o,l):0;return o&&r&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(l[t])-st(e,t,"border",!1,l)-.5)),a&&(s=se.exec(n))&&"px"!==(s[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),it(0,n,a)}}})),C.cssHooks.marginLeft=Ke(b.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-ce(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var i=0,s={},l="string"==typeof n?n.split(" "):[n];i<4;i++)s[e+le[i]+t]=l[i]||l[i-2]||l[0];return s}},"margin"!==e&&(C.cssHooks[e+t].set=it)})),C.fn.extend({css:function(e,t){return W(this,(function(e,t,n){var i,s,l={},r=0;if(Array.isArray(t)){for(i=We(e),s=t.length;r<s;r++)l[t[r]]=C.css(e,t[r],!1,i);return l}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=rt,(rt.prototype={constructor:rt,init:function(e,t,n,i,s,l){this.elem=e,this.prop=n,this.easing=s||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=l||(C.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.pos=t=this.options.duration?C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}}).init.prototype=rt.prototype,(rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=rt.prototype.init,C.fx.step={};var ot,at,ut=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ht(){at&&(!1===r.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ht):n.setTimeout(ht,C.fx.interval),C.fx.tick())}function dt(){return n.setTimeout((function(){ot=void 0})),ot=Date.now()}function pt(e,t){var n,i=0,s={height:e};for(t=t?1:0;i<4;i+=2-t)s["margin"+(n=le[i])]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function ft(e,t,n){for(var i,s=(gt.tweeners[t]||[]).concat(gt.tweeners["*"]),l=0,r=s.length;l<r;l++)if(i=s[l].call(n,t,e))return i}function gt(e,t,n){var i,s,l=0,r=gt.prefilters.length,o=C.Deferred().always((function(){delete a.elem})),a=function(){if(s)return!1;for(var t=ot||dt(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),l=0,r=u.tweens.length;l<r;l++)u.tweens[l].run(i);return o.notifyWith(e,[u,i,n]),i<1&&r?n:(r||o.notifyWith(e,[u,1,0]),o.resolveWith(e,[u]),!1)},u=o.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=C.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(s)return this;for(s=!0;n<i;n++)u.tweens[n].run(1);return t?(o.notifyWith(e,[u,1,0]),o.resolveWith(e,[u,t])):o.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,i,s,l,r;for(n in e)if(s=t[i=Y(n)],l=e[n],Array.isArray(l)&&(s=l[1],l=e[n]=l[0]),n!==i&&(e[i]=l,delete e[n]),(r=C.cssHooks[i])&&"expand"in r)for(n in l=r.expand(l),delete e[i],l)n in e||(e[n]=l[n],t[n]=s);else t[i]=s}(c,u.opts.specialEasing);l<r;l++)if(i=gt.prefilters[l].call(u,e,c,u.opts))return y(i.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return C.map(c,ft,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(a,{elem:e,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(gt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return he(n.elem,e,se.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(L);for(var n,i=0,s=e.length;i<s;i++)(gt.tweeners[n=e[i]]=gt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var i,s,l,r,o,a,u,c,h="width"in t||"height"in t,d=this,p={},f=e.style,g=e.nodeType&&ue(e),m=Z.get(e,"fxshow");for(i in n.queue||(null==(r=C._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,o=r.empty.fire,r.empty.fire=function(){r.unqueued||o()}),r.unqueued++,d.always((function(){d.always((function(){r.unqueued--,C.queue(e,"fx").length||r.empty.fire()}))}))),t)if(ut.test(s=t[i])){if(delete t[i],l=l||"toggle"===s,s===(g?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||C.style(e,i)}if((a=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(i in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=Z.get(e,"display")),"none"===(c=C.css(e,"display"))&&(u?c=u:(fe([e],!0),u=e.style.display||u,c=C.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===C.css(e,"float")&&(a||(d.done((function(){f.display=u})),null==u&&(u="none"===(c=f.display)?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),a=!1,p)a||(m?"hidden"in m&&(g=m.hidden):m=Z.access(e,"fxshow",{display:u}),l&&(m.hidden=!g),g&&fe([e],!0),d.done((function(){for(i in g||fe([e]),Z.remove(e,"fxshow"),p)C.style(e,i,p[i])}))),a=ft(g?m[i]:0,i,d),i in m||(m[i]=a.start,g&&(a.end=a.start,a.start=0))}],prefilter:function(e,t){t?gt.prefilters.unshift(e):gt.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var s=C.isEmptyObject(e),l=C.speed(t,n,i),r=function(){var t=gt(this,C.extend({},e),l);(s||Z.get(this,"finish"))&&t.stop(!0)};return r.finish=r,s||!1===l.queue?this.each(r):this.queue(l.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,s=null!=e&&e+"queueHooks",l=C.timers,r=Z.get(this);if(s)r[s]&&r[s].stop&&i(r[s]);else for(s in r)r[s]&&r[s].stop&&ct.test(s)&&i(r[s]);for(s=l.length;s--;)l[s].elem!==this||null!=e&&l[s].queue!==e||(l[s].anim.stop(n),t=!1,l.splice(s,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),i=n[e+"queue"],s=n[e+"queueHooks"],l=C.timers,r=i?i.length:0;for(n.finish=!0,C.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=l.length;t--;)l[t].elem===this&&l[t].queue===e&&(l[t].anim.stop(!0),l.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,i,s){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(pt(t,!0),e,i,s)}})),C.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),ot=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){at||(at=!0,ht())},C.fx.stop=function(){at=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,this.queue(t=t||"fx",(function(t,i){var s=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(s)}}))},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",b.checkOn=""!==e.value,b.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",b.radioValue="t"===e.value}();var mt,bt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return W(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var i,s,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return void 0===e.getAttribute?C.prop(e,t,n):(1===l&&C.isXMLDoc(e)||(s=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:(e.setAttribute(t,n+""),n):s&&"get"in s&&null!==(i=s.get(e,t))?i:null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!b.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,s=t&&t.match(L);if(s&&1===e.nodeType)for(;n=s[i++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=bt[t]||C.find.attr;bt[t]=function(e,t,i){var s,l,r=t.toLowerCase();return i||(l=bt[r],bt[r]=s,s=null!=n(e,t,i)?r:null,bt[r]=l),s}}));var yt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function _t(e){return(e.match(L)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}C.fn.extend({prop:function(e,t){return W(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var i,s,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return 1===l&&C.isXMLDoc(e)||(s=C.propHooks[t=C.propFix[t]||t]),void 0!==n?s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:e[t]=n:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(C.propHooks.selected={get:function(e){return null},set:function(e){}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,i,s,l,r,o,a=0;if(y(e))return this.each((function(t){C(this).addClass(e.call(this,t,wt(this)))}));if((t=xt(e)).length)for(;n=this[a++];)if(s=wt(n),i=1===n.nodeType&&" "+_t(s)+" "){for(r=0;l=t[r++];)i.indexOf(" "+l+" ")<0&&(i+=l+" ");s!==(o=_t(i))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,i,s,l,r,o,a=0;if(y(e))return this.each((function(t){C(this).removeClass(e.call(this,t,wt(this)))}));if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)for(;n=this[a++];)if(s=wt(n),i=1===n.nodeType&&" "+_t(s)+" "){for(r=0;l=t[r++];)for(;i.indexOf(" "+l+" ")>-1;)i=i.replace(" "+l+" "," ");s!==(o=_t(i))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,wt(this),t),t)})):this.each((function(){var t,s,l,r;if(i)for(s=0,l=C(this),r=xt(e);t=r[s++];)l.hasClass(t)?l.removeClass(t):l.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+_t(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;C.fn.extend({val:function(e){var t,n,i,s=this[0];return arguments.length?(i=y(e),this.each((function(n){var s;1===this.nodeType&&(null==(s=i?e.call(this,n,C(this).val()):e)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=C.map(s,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))}))):s?(t=C.valHooks[s.type]||C.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(s,"value"))?n:"string"==typeof(n=s.value)?n.replace(Ct,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:_t(C.text(e))}},select:{get:function(e){var t,n,i,s=e.options,l=e.selectedIndex,r="select-one"===e.type,o=r?null:[],a=r?l+1:s.length;for(i=l<0?a:r?l:0;i<a;i++)if(((n=s[i]).selected||i===l)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=C(n).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,s=e.options,l=C.makeArray(t),r=s.length;r--;)((i=s[r]).selected=C.inArray(C.valHooks.option.get(i),l)>-1)&&(n=!0);return n||(e.selectedIndex=-1),l}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},b.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),b.focusin="onfocusin"in n;var kt=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,i,s){var l,o,a,u,c,h,d,p,g=[i||r],m=f.call(e,"type")?e.type:e,b=f.call(e,"namespace")?e.namespace.split("."):[];if(o=p=a=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!kt.test(m+C.event.triggered)&&(m.indexOf(".")>-1&&(b=m.split("."),m=b.shift(),b.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[C.expando]?e:new C.Event(m,"object"==typeof e&&e)).isTrigger=s?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),d=C.event.special[m]||{},s||!d.trigger||!1!==d.trigger.apply(i,t))){if(!s&&!d.noBubble&&!v(i)){for(kt.test((u=d.delegateType||m)+m)||(o=o.parentNode);o;o=o.parentNode)g.push(o),a=o;a===(i.ownerDocument||r)&&g.push(a.defaultView||a.parentWindow||n)}for(l=0;(o=g[l++])&&!e.isPropagationStopped();)p=o,e.type=l>1?u:d.bindType||m,(h=(Z.get(o,"events")||{})[e.type]&&Z.get(o,"handle"))&&h.apply(o,t),(h=c&&o[c])&&h.apply&&J(o)&&(e.result=h.apply(o,t),!1===e.result&&e.preventDefault());return e.type=m,s||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),t)||!J(i)||c&&y(i[m])&&!v(i)&&((a=i[c])&&(i[c]=null),C.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,Et),i[m](),e.isPropagationStopped()&&p.removeEventListener(m,Et),C.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(e,t,n){var i=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(i,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),b.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var i=this.ownerDocument||this,s=Z.access(i,t);s||i.addEventListener(e,n,!0),Z.access(i,t,(s||0)+1)},teardown:function(){var i=this.ownerDocument||this,s=Z.access(i,t)-1;s?Z.access(i,t,s):(i.removeEventListener(e,n,!0),Z.remove(i,t))}}}));var St=n.location,Tt=Date.now(),Mt=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(i){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var Pt=/\[\]$/,At=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,i){var s;if(Array.isArray(t))C.each(t,(function(t,s){n||Pt.test(e)?i(e,s):Dt(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,n,i)}));else if(n||"object"!==x(t))i(e,t);else for(s in t)Dt(e+"["+s+"]",t[s],n,i)}C.param=function(e,t){var n,i=[],s=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){s(this.name,this.value)}));else for(n in e)Dt(n,e[n],t,s);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Ot.test(this.nodeName)&&!It.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:n.replace(At,"\r\n")}})).get()}});var Nt=/%20/g,Rt=/#.*$/,jt=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ut=/^\/\//,Ht={},Bt={},Ft="*/".concat("*"),Vt=r.createElement("a");function $t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,s=0,l=t.toLowerCase().match(L)||[];if(y(n))for(;i=l[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Wt(e,t,n,i){var s={},l=e===Bt;function r(o){var a;return s[o]=!0,C.each(e[o]||[],(function(e,o){var u=o(t,n,i);return"string"!=typeof u||l||s[u]?l?!(a=u):void 0:(t.dataTypes.unshift(u),r(u),!1)})),a}return r(t.dataTypes[0])||!s["*"]&&r("*")}function qt(e,t){var n,i,s=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&C.extend(!0,e,i),e}Vt.href=St.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,C.ajaxSettings),t):qt(C.ajaxSettings,e)},ajaxPrefilter:$t(Ht),ajaxTransport:$t(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var i,s,l,o,a,u,c,h,d,p,f=C.ajaxSetup({},t=t||{}),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?C(g):C.event,b=C.Deferred(),y=C.Callbacks("once memory"),v=f.statusCode||{},_={},w={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=zt.exec(l);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?l:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),E(0,t),this}};if(b.promise(k),f.url=((e||f.url||St.href)+"").replace(Ut,St.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(L)||[""],null==f.crossDomain){u=r.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Vt.protocol+"//"+Vt.host!=u.protocol+"//"+u.host}catch(S){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Wt(Ht,f,t,k),c)return k;for(d in(h=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),s=f.url.replace(Rt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Nt,"+")):(p=f.url.slice(s.length),f.data&&(f.processData||"string"==typeof f.data)&&(s+=(Mt.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(jt,"$1"),p=(Mt.test(s)?"&":"?")+"_="+Tt+++p),f.url=s+p),f.ifModified&&(C.lastModified[s]&&k.setRequestHeader("If-Modified-Since",C.lastModified[s]),C.etag[s]&&k.setRequestHeader("If-None-Match",C.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ft+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,k,f)||c))return k.abort();if(x="abort",y.add(f.complete),k.done(f.success),k.fail(f.error),i=Wt(Bt,f,t,k)){if(k.readyState=1,h&&m.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(a=n.setTimeout((function(){k.abort("timeout")}),f.timeout));try{c=!1,i.send(_,E)}catch(S){if(c)throw S;E(-1,S)}}else E(-1,"No Transport");function E(e,t,r,o){var u,d,p,_,w,x=t;c||(c=!0,a&&n.clearTimeout(a),i=void 0,l=o||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,r&&(_=function(e,t,n){for(var i,s,l,r,o=e.contents,a=e.dataTypes;"*"===a[0];)a.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in o)if(o[s]&&o[s].test(i)){a.unshift(s);break}if(a[0]in n)l=a[0];else{for(s in n){if(!a[0]||e.converters[s+" "+a[0]]){l=s;break}r||(r=s)}l=l||r}if(l)return l!==a[0]&&a.unshift(l),n[l]}(f,k,r)),_=function(e,t,n,i){var s,l,r,o,a,u={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)u[r.toLowerCase()]=e.converters[r];for(l=c.shift();l;)if(e.responseFields[l]&&(n[e.responseFields[l]]=t),!a&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=l,l=c.shift())if("*"===l)l=a;else if("*"!==a&&a!==l){if(!(r=u[a+" "+l]||u["* "+l]))for(s in u)if((o=s.split(" "))[1]===l&&(r=u[a+" "+o[0]]||u["* "+o[0]])){!0===r?r=u[s]:!0!==u[s]&&(l=o[0],c.unshift(o[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(S){return{state:"parsererror",error:r?S:"No conversion from "+a+" to "+l}}}return{state:"success",data:t}}(f,_,k,u),u?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(C.lastModified[s]=w),(w=k.getResponseHeader("etag"))&&(C.etag[s]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=_.state,d=_.data,u=!(p=_.error))):(p=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(t||x)+"",u?b.resolveWith(g,[d,x,k]):b.rejectWith(g,[k,x,p]),k.statusCode(v),v=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,f,u?d:p]),y.fireWith(g,[k,x]),h&&(m.trigger("ajaxComplete",[k,f]),--C.active||C.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,i,s){return y(n)&&(s=s||i,i=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:s,data:n,success:i},C.isPlainObject(e)&&e))}})),C._evalUrl=function(e,t){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Kt=C.ajaxSettings.xhr();b.cors=!!Kt&&"withCredentials"in Kt,b.ajax=Kt=!!Kt,C.ajaxTransport((function(e){var t,i;if(b.cors||Kt&&!e.crossDomain)return{send:function(s,l){var r,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];for(r in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)o.setRequestHeader(r,s[r]);t=function(e){return function(){t&&(t=i=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?l(0,"error"):l(o.status,o.statusText):l(Gt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),i=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,s){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Yt,Jt=[],Xt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||C.expando+"_"+Tt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,i){var s,l,r,o=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return s=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Xt,"$1"+s):!1!==e.jsonp&&(e.url+=(Mt.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return r||C.error(s+" was not called"),r[0]},e.dataTypes[0]="json",l=n[s],n[s]=function(){r=arguments},i.always((function(){void 0===l?C(n).removeProp(s):n[s]=l,e[s]&&(e.jsonpCallback=t.jsonpCallback,Jt.push(s)),r&&y(l)&&l(r[0]),r=l=void 0})),"script"})),b.createHTMLDocument=((Yt=r.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Yt.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(b.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),l=!n&&[],(s=I.exec(e))?[t.createElement(s[1])]:(s=ke([e],t,l),l&&l.length&&C(l).remove(),C.merge([],s.childNodes)));var i,s,l},C.fn.load=function(e,t,n){var i,s,l,r=this,o=e.indexOf(" ");return o>-1&&(i=_t(e.slice(o)),e=e.slice(0,o)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),r.length>0&&C.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done((function(e){l=arguments,r.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)})).always(n&&function(e,t){r.each((function(){n.apply(this,l||[e.responseText,t,e])}))}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var i,s,l,r,o,a,u=C.css(e,"position"),c=C(e),h={};"static"===u&&(e.style.position="relative"),o=c.offset(),l=C.css(e,"top"),a=C.css(e,"left"),("absolute"===u||"fixed"===u)&&(l+a).indexOf("auto")>-1?(r=(i=c.position()).top,s=i.left):(r=parseFloat(l)||0,s=parseFloat(a)||0),y(t)&&(t=t.call(e,n,C.extend({},o))),null!=t.top&&(h.top=t.top-o.top+r),null!=t.left&&(h.left=t.left-o.left+s),"using"in t?t.using.call(e,h):c.css(h)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],s={top:0,left:0};if("fixed"===C.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((s=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),s.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-s.top-C.css(i,"marginTop",!0),left:t.left-s.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||re}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(i){return W(this,(function(e,i,s){var l;if(v(e)?l=e:9===e.nodeType&&(l=e.defaultView),void 0===s)return l?l[t]:e[i];l?l.scrollTo(n?l.pageXOffset:s,n?s:l.pageYOffset):e[i]=s}),e,i,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=Ke(b.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),$e.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){C.fn[i]=function(s,l){var r=arguments.length&&(n||"boolean"!=typeof s),o=n||(!0===s||!0===l?"margin":"border");return W(this,(function(t,n,s){var l;return v(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(l=t.documentElement,Math.max(t.body["scroll"+e],l["scroll"+e],t.body["offset"+e],l["offset"+e],l["client"+e])):void 0===s?C.css(t,n,o):C.style(t,n,s,o)}),t,r?s:void 0,r)}}))})),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.proxy=function(e,t){var n,i,s;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=a.call(arguments,2),(s=function(){return e.apply(t||this,i.concat(a.call(arguments)))}).guid=e.guid=e.guid||C.guid++,s},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=A,C.isFunction=y,C.isWindow=v,C.camelCase=Y,C.type=x,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=(function(){return C}).apply(t,[]))||(e.exports=i);var Zt=n.jQuery,Qt=n.$;return C.noConflict=function(e){return n.$===C&&(n.$=Qt),e&&n.jQuery===C&&(n.jQuery=Zt),C},s||(n.jQuery=n.$=C),C}))},KKCa:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},MCLT:function(e,t,n){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},s=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,l=i.length,r=String(e).replace(s,(function(e){if("%%"===e)return"%";if(n>=l)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}})),a=i[n];n<l;a=i[++n])g(a)||!_(a)?r+=" "+a:r+=" "+o(a);return r},t.deprecate=function(e,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return e.apply(this,arguments)}};var l,r={};function o(e,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&t._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),c(i,e,i.depth)}function a(e,t){var n=o.styles[t];return n?"\x1b["+o.colors[n][0]+"m"+e+"\x1b["+o.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,i){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var s=n.inspect(i,e);return b(s)||(s=c(e,s,i)),s}var l=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(l)return l;var r=Object.keys(n),o=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(n)),x(n)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return h(n);if(0===r.length){if(C(n))return e.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var a,u="",_=!1,k=["{","}"];return p(n)&&(_=!0,k=["[","]"]),C(n)&&(u=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(u=" "+RegExp.prototype.toString.call(n)),w(n)&&(u=" "+Date.prototype.toUTCString.call(n)),x(n)&&(u=" "+h(n)),0!==r.length||_&&0!=n.length?i<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),a=_?function(e,t,n,i,s){for(var l=[],r=0,o=t.length;r<o;++r)M(t,String(r))?l.push(d(e,t,n,i,String(r),!0)):l.push("");return s.forEach((function(s){s.match(/^\d+$/)||l.push(d(e,t,n,i,s,!0))})),l}(e,n,i,o,r):r.map((function(t){return d(e,n,i,o,t,_)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(a,u,k)):k[0]+u+k[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,s,l){var r,o,a;if((a=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]}).get?o=e.stylize(a.set?"[Getter/Setter]":"[Getter]","special"):a.set&&(o=e.stylize("[Setter]","special")),M(i,s)||(r="["+s+"]"),o||(e.seen.indexOf(a.value)<0?(o=g(n)?c(e,a.value,null):c(e,a.value,n-1)).indexOf("\n")>-1&&(o=l?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),y(r)){if(l&&s.match(/^\d+$/))return o;(r=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=e.stylize(r,"string"))}return r+": "+o}function p(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function x(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function C(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(l)&&(l=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!r[e])if(new RegExp("\\b"+e+"\\b","i").test(l)){var n=process.pid;r[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else r[e]=function(){};return r[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=_,t.isDate=w,t.isError=x,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("1gqn");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n("KKCa"),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),s=[],l=0;l<arguments.length;l++)s.push(arguments[l]);s.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,s)}catch(r){n(r)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=P,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,l=function(){return i.apply(s,arguments)};e.apply(this,t).then((function(e){process.nextTick(l,null,e)}),(function(e){process.nextTick(A,e,l)}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},WSPs:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("2/r/");let s=(()=>{class e{constructor(){this.html=null,this.$html=null,this.$html=$("#damContextMenuTemplateContainer"),this.html=this.$html[0],$(document).off("click.hideContextMenu").on("click.hideContextMenu",e=>this.checkIfHide(e)),this.$vertexcontext=this.$html.find("ul.vertex"),this.$edgecontext=this.$html.find("ul.edge"),this.$extedgecontext=this.$html.find("ul.extedge"),this.vertexcontext=this.$vertexcontext[0],this.edgecontext=this.$edgecontext[0],this.extedgecontext=this.$extedgecontext[0],this.$html.on("contextmenu",e=>(e.preventDefault(),e.stopPropagation(),!1))}static staticInit(){e.contextMenu=new e}ngOnInit(){}show(e,t,n){i.ub.pe(!n,"target is null."),this.clickTarget=n,this.html.style.display="none",this.$html.slideDown();const s=i.N.getvertexByHtml(n);let l=i.F.getByHtml(n),r=null;l instanceof i.z&&(r=l,l=null),console.log("contextmenu target:",this.clickTarget);const o=i.ub.sizeof(this.html),a=new i.ob(0,0,window.innerWidth,window.innerHeight);e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(a.w-o.w,e.x),console.log("vp.w:",a.w," - t.w:",o.w,", loc.x",e.x,", t.size:",o,this.html),e.y=Math.min(a.h-o.h,e.y),this.html.style.position="absolute",this.html.style.zIndex="1000",this.html.style.left=e.x+"px",this.html.style.top=e.y+"px",this.extedgecontext.style.display="none",this.edgecontext.style.display="none",this.vertexcontext.style.display="none",this.edgecontext.style.display=l?"":"none",this.extedgecontext.style.display=r?"":"none",this.vertexcontext.style.display=s?"":"none",this.$vertexcontext.find(".Reference").hide(),this.$vertexcontext.find(".refli.dynamic").remove();const u=i.hb.getLogic(n),c=u.getModelRoot();if(s){if(c.isM1()?(this.$vertexcontext.find(".m1hide").hide(),this.$vertexcontext.find(".m2hide").show()):(this.$vertexcontext.find(".m1hide").show(),this.$vertexcontext.find(".m2hide").hide()),u instanceof i.E)this.$vertexcontext.find(".Feature").hide(),this.$vertexcontext.find(".Vertex").show();else{if(u instanceof i.db){let e;const t=this.$vertexcontext.find(".refli.template");for(e=0;e<u.mtarget.length;e++){const n=u.mtarget[e],s=i.ub.cloneHtml(t[0],!0);s.classList.remove("template"),s.classList.add("dynamic"),s.dataset.index=""+e;const l=$(s);l.find(".index").text(""+e),l.find(".text").text(n?n.printableNameshort():"Empty"),t[0].parentNode.appendChild(s)}this.$vertexcontext.find(".Reference").show()}this.$vertexcontext.find(".Feature").show(),this.$vertexcontext.find(".Vertex").hide()}const e=u instanceof i.db?u:null,t=this.$vertexcontext.find("input.byindex"),n=e?e.metaParent.upperbound:null;e?-1===n?t[0].removeAttribute("max"):t[0].setAttribute("max",""+n):t[0].setAttribute("max","-999")}this.addEventListeners(e)}hide(){this.$html.slideUp()}addEventListeners(e){const t=i.pb.status.getActiveModel().graph.toGraphCoord(e),n=$(this.html),s=i.N.getvertexByHtml(this.clickTarget),l=i.hb.getLogic(this.clickTarget);console.log("contextMenu target:",this.clickTarget,"modelPiece:",l);const r=l instanceof i.db?l:null,o=+n.find("input.byindex"),a=r?r.metaParent.upperbound:null;i.ub.pe(!s,"vertex null:",s),n.find(".refli .firstempty").off("click.setref").on("click.setref",e=>{let n=r.getfirstEmptyTarget();if(-1===n)return i.ub.pw(!0,"This reference is already filled to his upperbound."),e.preventDefault(),void e.stopPropagation();i.N.linkVertexMouseDown(null,r.edges[n],t)}),n.find(".refli button.byindex").off("click.setref").on("click.setref",e=>{let n=+o[0].value;n<0||n>=a?i.ub.pw(!0,"invalid reference index. It must be a value inside the [0,"+a+"] interval."):i.N.linkVertexMouseDown(null,r.edges[n],t)}),n.find("li.refli.dynamic").off("click.setref").on("click.setref",e=>{const n=+e.currentTarget.dataset.index;console.log("setting reference["+n+"] = ",r.mtarget[n],r);const l=r.edges[n]?r.edges[n]:new i.F(r,n,s);i.N.linkVertexMouseDown(null,l,t)}),n.find("button.refli.delete").off("click.setref").on("click.setref",e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.parentNode,n=t.dataset.index;i.ub.pe(!n||i.ub.isNumber(n),"failed to get index."),r.setTarget(n,null),$(t).find(".text").text("Empty")}),n.find(".Vertex.duplicate").off("click.ctxMenu").on("click.ctxMenu",e=>{l.duplicate("_Copy",l.parent)}),n.find(".Vertex.delete").off("click.ctxMenu").on("click.ctxMenu",e=>{l.delete()}),n.find(".Vertex.minimize").off("click.ctxMenu").on("click.ctxMenu",e=>{s.minimize()}),n.find(".Vertex.up").off("click.ctxMenu").on("click.ctxMenu",e=>{l.pushDown(),s.pushUp()}),n.find(".Vertex.down").off("click.ctxMenu").on("click.ctxMenu",e=>{l.pushUp(),s.pushDown()}),n.find(".Vertex.editStyle").off("click.ctxMenu").on("click.ctxMenu",e=>{i.ub.pw(!0,"deprecato")}),n.find(".Feature.autofix").off("click.ctxMenu").on("click.ctxMenu",e=>{alert("autofix conformity: todo.")}),n.find(".Feature.autofixinstances").off("click.ctxMenu").on("click.ctxMenu",e=>{alert("autofix instances: todo.")}),n.find(".Feature.duplicate").off("click.ctxMenu").on("click.ctxMenu",e=>{l.duplicate("_Copy",l.parent)}),n.find(".Feature.delete").off("click.ctxMenu").on("click.ctxMenu",e=>{l.delete()}),n.find(".Feature.minimize").off("click.ctxMenu").on("click.ctxMenu",e=>{s.minimize()}),n.find(".Feature.up").off("click.ctxMenu").on("click.ctxMenu",e=>{l.pushUp(),s.refreshGUI()}),n.find(".Feature.down").off("click.ctxMenu").on("click.ctxMenu",e=>{l.pushDown(),s.refreshGUI()}),n.find(".Feature.link").off("click.ctxMenu").on("click.ctxMenu",e=>{let n=e.currentTarget.dataset.edgeindex,s=l.edges[n];s||new i.F(l,n,null,null),i.N.linkVertexMouseDown(null,s,t)})}checkIfHide(e){this.hide()}}return e.contextMenu=null,e})()},ZAI4:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("jl55"),s=n("2/r/"),l=n("WSPs");class r{}let o=(()=>{class e{constructor(){this.mm=null,this.m=null,this.typeAliasDictionary={},this.aliasTypeDictionary={},this.debug=!1,this.loadedLogic=!1,this.loadedGUI=!1,this.XMLinlineMarker="@",this.refreshModeAll=!0,this.refreshModelAndInstances=!1,this.refreshModelAndParent=!1,this.refreshInstancesToo=!1,this.refreshModel=!1,this.refreshMetaParentToo=!1,this.refreshParentToo=!1}save(){return"TO DO: SERIALIZE"}getActiveModel(){return 1===$('.UtabHeader.main[data-target="1"][selected="true"]').length?e.status.mm:1===$('.UtabHeader.main[data-target="2"][selected="true"]').length?e.status.m:(s.ub.pe(!0,"modello attivo non trovato."),null)}isM(){return this.getActiveModel()===this.m}isMM(){return this.getActiveModel()===this.mm}enableAutosave(e){$(window).off("beforeunload.unload_autosave").on("beforeunload.unload_autosave",()=>{this.autosave()}),localStorage.setItem("autosave","true"),setInterval(()=>{this.autosave()},e)}autosave(){this.mm.save(!0,null),this.m.save(!0,null),console.log("autosave completed.")}}return e.status=null,e})();function a(e,t=0){if(o.status=new o,window.global=window,null===document.getElementById("MM_INPUT"))return t++>=10&&s.ub.pe(!0,"failed to load MM_INPUT"),setTimeout(()=>a(0,t),100),void console.log("main0 wait(100)");!function(){let e,t,n;window.U=s.ub,window.status=o.status,s.ub.tabSetup(),$("app-mm-graph-html .propertyBarContainer .UtabHeader").on("click",e=>{"Style"===e.currentTarget.innerText?o.status.mm.graph.propertyBar.styleEditor.onShow():"Structured"===e.currentTarget.innerText?o.status.mm.graph.propertyBar.onShow():"Raw"===e.currentTarget.innerText?o.status.mm.graph.propertyBar.onShow(!0):s.ub.pe(!0,"unrecognized right-side tab:",e.currentTarget)}),$("app-m-graph-html .propertyBarContainer .UtabHeader").on("click",e=>{"Style"===e.currentTarget.innerText?o.status.m.graph.propertyBar.styleEditor.onShow():"Structured"===e.currentTarget.innerText?o.status.m.graph.propertyBar.onShow():"Raw"===e.currentTarget.innerText?o.status.m.graph.propertyBar.onShow(!0):s.ub.pe(!0,"unrecognized right-side tab:",e.currentTarget)}),s.ub.resizableBorderSetup(),s.n.initializeAllECoreEnums(),function(){const e=$(document);e.unbind("keydown").bind("keydown",s.ub.preventBackSlashHistoryNavigation),e.on("keydown",e=>{console.log("documentKeyDown: ",e.key,e.keyCode),"Escape"===e.key&&o.status.getActiveModel().graph.edgeChangingAbort(e)}),window.U=s.ub,window.ModelPiece=s.hb,window.IModel=s.J,window.Status=o,window.M3Model=s.eb,window.M2Model=s.fb,window.MModel=s.gb,window.IPackage=s.K,window.M3Package=s.Y,window.M2Package=s.U,window.MPackage=s.cb,window.Enum=s.o,window.ELiteral=s.p,window.IClassifier=s.D,window.IClass=s.D,window.M3Class=s.X,window.M2Class=s.T,window.MClass=s.bb,window.Typedd=s.tb,window.EOperation=s.q,window.EParameter=s.r,window.IReference=s.L,window.M3Reference=s.Z,window.M2Reference=s.V,window.MReference=s.db,window.IAttribute=s.C,window.M3Attribute=s.W,window.M2Attribute=s.S,window.MAttribute=s.ab,window.help=["setBackup (backup <= saveToDB)","backupSave (saveToDB <= backup)","destroy (the backup)","discardSave (stop autosave)"],window.destroy=()=>{localStorage.setItem("m1_"+s.mb.model.lastopened,null),localStorage.setItem("m2_"+s.mb.model.lastopened,null),localStorage.setItem("m1_"+s.mb.view.lastopened,null),localStorage.setItem("m2_"+s.mb.view.lastopened,null),localStorage.setItem("m1_"+s.mb.vertexPos.lastopened,null),localStorage.setItem("m2_"+s.mb.vertexPos.lastopened,null),localStorage.setItem("backupMM",null),localStorage.setItem("backupGUI",null),localStorage.setItem("backupM",null),localStorage.setItem("autosave","false")},window.discardSave=()=>{localStorage.setItem("autosave","false"),$(window).off("beforeunload.unload_autosave"),window.location.href+=""},window.backupSave=()=>{window.discardSave(),window.backupSaveMM(),window.backupSaveM(),window.backupSaveGUI()},window.backupSaveGUI=()=>{localStorage.setItem("modelGraphSave_GUI_Damiano",localStorage.getItem("backupGUI"))},window.backupSaveMM=()=>{localStorage.setItem("LastOpenedMM",localStorage.getItem("backupMM"))},window.backupSaveM=()=>{localStorage.setItem("LastOpenedM",localStorage.getItem("backupM"))},window.setBackup=()=>{window.setBackupM(),window.setBackupMM(),window.setBackupGUI()},window.setBackupGUI=()=>{localStorage.setItem("backupGUI",localStorage.getItem("modelGraphSave_GUI_Damiano"))},window.setBackupMM=()=>{localStorage.setItem("backupMM",localStorage.getItem("LastOpenedMM"))},window.setBackupM=()=>{localStorage.setItem("backupM",localStorage.getItem("LastOpenedM"))}}(),s.F.staticInit(),new s.ib($(".mmconsole")[0]),new s.ib($(".mconsole")[0]),s.ub.pw(1!=(e=+s.d.device()),"Current zoom level is different from 100%.","The graph part of this website may be graphically misplaced due to a bug with Svg's <foreignObject> content.","current zoom:"+100*+e+"%","The bug happens in: Chrome.","The bug does NOT happen in: Firefox.","Behaviour is unknown for other browsers."),o.status.typeAliasDictionary[s.nb.void]="void",o.status.typeAliasDictionary[s.nb.EChar]="char",o.status.typeAliasDictionary[s.nb.EString]="string",o.status.typeAliasDictionary[s.nb.EDate]="date",o.status.typeAliasDictionary[s.nb.EFloat]="float",o.status.typeAliasDictionary[s.nb.EDouble]="double",o.status.typeAliasDictionary[s.nb.EBoolean]="bool",o.status.typeAliasDictionary[s.nb.EByte]="byte",o.status.typeAliasDictionary[s.nb.EShort]="short",o.status.typeAliasDictionary[s.nb.EInt]="int",o.status.typeAliasDictionary[s.nb.ELong]="long",s.s.staticInit(),l.a.staticInit();const r=s.R.getLastOpened(2),a=s.R.getLastOpened(1),u=(t,n)=>e&&""!==e&&"null"!==e&&"undefined"!==e?t:n;r.model=u(r.model,s.fb.emptyModel),a.model=u(a.model,s.gb.emptyModel),console.log("loading MM:",r),console.log("loading M:",a),o.status.mmm=new s.eb(null),t=new i.a;try{o.status.mm=new s.fb(JSON.parse(r.model),o.status.mmm)}catch(f){s.ub.pw(!0,"Failed to load the metamodel."),console.log(f),o.status.mm=new s.fb(JSON.parse(s.fb.emptyModel),o.status.mmm)}s.sb.linkAll(),s.T.updateSuperClasses();try{o.status.m=new s.gb(JSON.parse(a.model),o.status.mm)}catch(f){s.ub.pw(!0,"Failed to load the model. Does it conform to the metamodel?"),console.log(f),o.status.m=new s.gb(JSON.parse(s.gb.emptyModel),o.status.mm)}if(console.log("m3:",o.status.mmm,"m2:",o.status.mm,"m1:",o.status.m),o.status.loadedLogic=!0,t=new s.M(o.status.mmm,document.getElementById("metamodel_sidebar")),t=new s.M(o.status.mm,document.getElementById("model_sidebar")),t=new s.I(o.status.mm,document.getElementById("metamodel_editor")),t=new s.I(o.status.m,document.getElementById("model_editor")),o.status.loadedGUI=!0,o.status.mm.graph.propertyBar.show(o.status.mm,null,null),o.status.m.graph.propertyBar.show(o.status.m,null,null),s.sb.updateTypeSelectors(null,!0,!0,!0),!r.vertexpos||!r.view){const e=o.status.mm.storage.getViewPoints();r.view=r.view||e.view,r.vertexpos=r.vertexpos||e.vertexPos}if(!a.vertexpos||!a.view){const e=o.status.m.storage.getViewPoints();a.view=a.view||e.view,a.vertexpos=a.vertexpos||e.vertexPos}r.view=u(r.view,"[]"),r.vertexpos=u(r.vertexpos,"{}"),a.view=u(a.view,"[]"),a.vertexpos=u(a.vertexpos,"{}");let c=[o.status.mm,o.status.m],h=[JSON.parse(r.view||"[]"),JSON.parse(a.view||"[]")];const d=[JSON.parse(r.vertexpos),JSON.parse(a.vertexpos)];let p;for(p=0;p<d.length;p++){const e=d[p];for(let t in e){console.log("key:",t,"varr:",e);const n=s.hb.getByKeyStr(t),i=(new s.B).clone(e[t]);n&&n instanceof s.E?n.getVertex().setSize(i):(s.ub.cclear(),s.ub.pw(!0,"invalid vertexposition save, failed to get classifier:",t,e))}}for(p=0;p<h.length;p++){const e=h[p],t=c[p];let i;for(n=0;n<e.length;n++){const l=e[n];(i=new s.wb(t)).clone(l),i.updateTarget(t),t.graph.viewPointShell.add(i,!1),i.isApplied=!1}0===e.length&&((i=new s.wb(t)).isApplied=!0,t.graph.viewPointShell.add(i,!1),i.isApplied=!1),t.graph.viewPointShell.refreshApplied()}setTimeout(()=>{o.status.mm.graph.ShowGrid(),o.status.m.graph.ShowGrid()},1)}()}window.main=a,document.addEventListener("DOMContentLoaded",a)},h9Ux:function(e,t,n){var i;!function(s,l,r){"use strict";e.exports?e.exports=r():void 0===(i=(function(){return r()}).call(t,n,t,e))||(e.exports=i)}(window,0,(function(){var e,t=function(){return window.devicePixelRatio||1},n=function(){var e=i("min--moz-device-pixel-ratio","",0,10,20,1e-4);return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e}},i=function(e,t,n,i,s,l){var r,o,a,u;window.matchMedia?r=window.matchMedia:(o=document.getElementsByTagName("head")[0],a=document.createElement("style"),o.appendChild(a),(u=document.createElement("div")).className="mediaQueryBinarySearch",u.style.display="none",document.body.appendChild(u),r=function(e){a.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(u,null).textDecoration;return a.sheet.deleteRule(0),{matches:t}});var c=function n(i,s,o){var a=(i+s)/2;return o<=0||s-i<l?a:r("("+e+":"+a+t+")").matches?n(a,s,o-1):n(i,a,o-1)}(n,i,s);return u&&(o.removeChild(a),document.body.removeChild(u)),c},s=(e=function(){return{zoom:1,devicePxPerCssPx:1}},isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?e=function(){var e=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:e,devicePxPerCssPx:e*t()}}:"ontouchstart"in window&&"string"==typeof document.body.style.webkitTextSizeAdjust?e=function(){var e=(90==Math.abs(window.orientation)?screen.height:screen.width)/window.innerWidth;return{zoom:e,devicePxPerCssPx:e*t()}}:"string"==typeof document.body.style.webkitTextSizeAdjust?e=function(){var e=function(e){return e.replace(/;/g," !important;")},n=document.createElement("div");n.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",n.setAttribute("style",e("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var i=document.createElement("div");i.setAttribute("style",e("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),i.appendChild(n),document.body.appendChild(i);var s=1e3/n.clientHeight;return s=Math.round(100*s)/100,document.body.removeChild(i),{zoom:s,devicePxPerCssPx:s*t()}}:navigator.userAgent.indexOf("Opera")>=0?e=function(){var e=window.top.outerWidth/window.top.innerWidth;return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e*t()}}:window.devicePixelRatio?e=function(){return{zoom:n().zoom,devicePxPerCssPx:t()}}:n().zoom>.001&&(e=n):e=function(){var e=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:e,devicePxPerCssPx:e*t()}},e);return{zoom:function(){return s().zoom},device:function(){return s().devicePxPerCssPx}}}))},jl55:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("2/r/");class s{constructor(){}ngOnInit(){}}let l=(()=>{class e{constructor(){this.$html=null,this.$topbar=null,this.html=null,this.topbar=null,i.ub.pe(!!e.topbar,"top bar instantiated twice, but it is a singleton."),e.topbar=this,this.$html=$("#topbarShell"),this.html=this.$html[0],this.$topbar=this.$html.find("#topbar"),this.topbar=this.$topbar[0],e.topbar.updateRecents(),this.addEventListeners()}static load_empty(t,n){e.load("m"===n?i.gb.emptyModel:i.fb.emptyModel,n)}static load_XMI_File(t,n){const s=i.pb.status.getActiveModel().isM1()?"."+i.pb.status.mm.fullname():".ecore";let l="";i.ub.fileRead((t,s,r)=>{if(i.ub.pe(!r||!s||r.length!==s.length,"Failed to get file contents:",s,r),i.ub.pe(r.length>1,"should not be possible to input multiple files."),0==r.length)return;l=r[0],console.log("xmistr input: ",l);const o=(new DOMParser).parseFromString(l,"text/xml");console.log("xml:",o);let a=i.Bb.xml2json(o,"    ");console.log("jsonstr input: ",a),e.load(a,n)},[s],!0)}static load(e,t){const n="m"===t?i.pb.status.m:i.pb.status.mm,s="m"===t?1:2;window.discardSave(),n.name&&n.save(!1),n.isM2()&&(i.pb.status.m.save(!1),i.R.deleteLastOpened(1)),i.R.setLastOpened(s,e,null,null),i.ub.refreshPage()}static load_JSON_Text(t,n){const s=e=>{l()},l=()=>{const t=r.getInputNode()[0];r.destroy(),e.load(t.value,n)},r=new i.P("paste JSON/string data","","",[["input",s],["change",s]],"paste data here.","","textarea");r.addOkButton("Load",l),r.show()}static download_JSON_String(e,t){const n=i.pb.status[t];i.ub.pe(!n,"invalid modelStr in export-save_str: |"+t+"|, status:",status);const s=n.generateModelString();i.ub.pe(!s||""===s,"empty str"),i.ub.clipboardCopy(s),new i.P((n.isM()?"Model":"Metamodel")+" eCore/JSON","","<br>Already copied to clipboard.",[],null,""+s,"textarea").show()}static download_JSON_File(e,t){const n=i.pb.status[t];i.ub.pe(!n,"invalid modelStr in export-save_json_file: |"+t+"|, status:",status);const s=n.generateModelString();i.ub.download(n.name,s)}static download_XMI_File(t,n){const s=i.pb.status[n];i.ub.pe(!s,"invalid modelStr in export-save_xmi_file: |"+n+"|, status:",status);let l=s.generateModelString();const r=JSON.parse(l);let o,a;if(l=""+i.Ab.json2xml(r," "),l=e.formatXml(l).trim(),s.isM()){const e=s.classRoot;o=s.name||(e?e.metaParent.name:"M1_unnamed"),a="."+i.pb.status.mm.childrens[0].name.toLowerCase()}else o=s.name||s.getDefaultPackage().name||"M2_unnamed",a=".ecore";i.ub.download(o+a,l)}static formatXml(e){let t="";const n=(e=e.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n");let i=0,s="other";const l={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};let r=0;for(r=0;r<n.length;r++){const e=n[r];if(e.match(/\s*<\?xml/)){t+=e+"\n";continue}const o=Boolean(e.match(/<.+\/>/)),a=Boolean(e.match(/<\/.+>/)),u=Boolean(e.match(/<[^!].*>/)),c=o?"single":a?"closing":u?"opening":"other",h=s+"->"+c;s=c;let d,p="";for(i+=l[h],d=0;d<i;d++)p+="\t";"opening->closing"===h?t=t.substr(0,t.length-1)+e+"\n":t+=p+e+"\n"}return t}updateRecents(){let e;(e=localStorage.getItem("MM_SaveList"))&&""!==e&&"null"!==e&&"undefined"!==e||(e=JSON.stringify([]));const t=JSON.parse(e);(e=localStorage.getItem("M_SaveList"))&&""!==e&&"null"!==e&&"undefined"!==e||(e=JSON.stringify([]));const n=JSON.parse(e),s=this.$html.find(".metamodel"),l=this.$html.find(".model"),r=s.find(".recentSaveContainer")[0],o=l.find(".recentSaveContainer")[0];console.log(o,r);const a=[r.childNodes[0],o.childNodes[0]];i.ub.clear(r),i.ub.clear(o);let u,c=-1,h=-1;const d=["MM_","M_"],p=[r,o],f=[t,n];for(;++h<d.length;)for(c=-1;++c<f[h].length;)u=i.ub.cloneHtml(a[h]),$(u).find(".recentsave")[0].innerText=f[h][c],p[h].appendChild(u);s.find(".recentsave").off("click.load").on("click.load",e=>{this.loadRecent(e.currentTarget.innerText,!0)}),l.find(".recentsave").off("click.load").on("click.load",e=>{this.loadRecent(e.currentTarget.innerText,!1)})}loadRecent(e,t){const n=t?"MM":"M",s=localStorage.getItem(n+"_"+e);i.ub.pe(!s||""===s||"null"===s||"undefined"===s,"uncorrect savename: |"+n+"_"+e+"|"),localStorage.setItem("LastOpened"+n,s),i.ub.refreshPage()}addEventListeners(){const t=this.$topbar,n=t.find(".metamodel"),s=t.find(".model");t.find(".TypeMapping").off("click.btn").on("click.btn",t=>{e.topbar.showTypeMap()}),n.find(".save").off("click.btn").on("click.btn",e=>{i.pb.status.mm.save(!1,null)}),s.find(".save").off("click.btn").on("click.btn",e=>{i.pb.status.m.save(!1,null)}),n.find(".download_JSON_String").off("click.btn").on("click.btn",t=>{e.download_JSON_String(t,"mm")}),n.find(".download_JSON").off("click.btn").on("click.btn",t=>{e.download_JSON_File(t,"mm")}),n.find(".download_XMI").off("click.btn").on("click.btn",t=>{e.download_XMI_File(t,"mm")}),s.find(".download_JSON_String").off("click.btn").on("click.btn",t=>{e.download_JSON_String(t,"m")}),s.find(".download_JSON").off("click.btn").on("click.btn",t=>{e.download_JSON_File(t,"m")}),s.find(".download_XMI").off("click.btn").on("click.btn",t=>{e.download_XMI_File(t,"m")}),n.find(".loadEmpty").off("click.btn").on("click.btn",t=>{e.load_empty(t,"mm")}),n.find(".loadFile").off("click.btn").on("click.btn",t=>{e.load_XMI_File(t,"mm")}),n.find(".loadTxt").off("click.btn").on("click.btn",t=>{e.load_JSON_Text(t,"mm")}),s.find(".loadEmpty").off("click.btn").on("click.btn",t=>{e.load_empty(t,"m")}),s.find(".loadFile").off("click.btn").on("click.btn",t=>{e.load_XMI_File(t,"m")}),s.find(".loadTxt").off("click.btn").on("click.btn",t=>{e.load_JSON_Text(t,"m")})}showTypeMap(){const t=this.$html.find("#TypeMapper"),n=t.find(".TypeList"),s=n[0];i.ub.clear(s);const l=i.ub.toHtml('<table class="typeTable"><tbody></tbody></table>'),r=l.firstChild;for(const e in i.nb){if(!i.nb[e])continue;const t=i.s.get(i.nb[e]),n=i.ub.toHtmlRow('<tr class="typeRow"><td class="typeName" data-m3name="'+t.short+'">'+t.short+'</td><td class="alias">is aliased to</td><td><input class="AliasName form-control" placeholder="Not aliased" value="'+t.name+'" aria-label="Small" aria-describedby="inputGroup-sizing-sm"></td></tr>');r.appendChild(n),console.log("row:",n,", tbody:",r)}s.appendChild(l),n.find("input.AliasName").off("change").on("change",t=>{e.topbar.aliasChange(t)}),t.show(),i.ub.closeButtonSetup(t)}aliasChange(e){const t=e.target;let n=t;for(;!n.classList.contains("typeRow");)n=n.parentNode;const s=$(n).find(".typeName")[0].dataset.m3name;i.s.get(s).changeAlias(t.value)}}return e.topbar=null,e})()},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("8Y7J"),s=n("ZAI4");class l{constructor(){this.title="untitled"}}class r{constructor(){}ngOnInit(){}}var o=n("WSPs"),a=n("jl55"),u=n("/WQJ");class c{constructor(){}ngOnInit(){}}var h=i.Y({encapsulation:0,styles:[[":root{--topbarH:40px;--sidebarW:20vw;--mainFontColor:whiteSmoke;--mainBackgroundColor:#1a1a1c;--mainBorderWidth:5px;--mainBorderColor:#2e2f34;--secondaryBorderColor:#3c3c44;--mainBorder:var(--mainBorderColor) solid var(--mainBorderWidth);--scrollbarW:0px;--tabH:30px}  *{box-sizing:border-box;scrollbar-base-color:transparent;scrollbar-3dlight-color:transparent;scrollbar-highlight-color:rgba(93,95,104,0);scrollbar-track-color:rgba(93,95,104,0);scrollbar-arrow-color:#000;scrollbar-shadow-color:rgba(93,95,104,0);scrollbar-darkshadow-color:rgba(93,95,104,0)}[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}input[type=checkbox][_ngcontent-%COMP%]{-moz-appearance:checkbox!important}input[type=radio][_ngcontent-%COMP%]{-moz-appearance:radio!important}input[_ngcontent-%COMP%]:disabled{opacity:.75;filter:alpha(opacity=75)}  .styleEditorSelected{outline:red dashed 3px!important}.attributeEditor[_ngcontent-%COMP%], .styleEditor[_ngcontent-%COMP%]{position:absolute;width:-moz-fit-content;padding:8px;background-color:var(--mainBackgroundColor);border:var(--mainBorder);max-width:100vw;max-height:100vh;overflow:auto}.styleEditor[_ngcontent-%COMP%]{left:var(--sidebarW);top:calc(var(--topbarH) + var(--tabH));max-height:calc(100vh - calc(var(--topbarH) + var(--tabH)))}button.attributeEditorConfirm[_ngcontent-%COMP%], button.styleEditorConfirm[_ngcontent-%COMP%]{margin-left:calc(50% - 50px)}table.attributeTable[_ngcontent-%COMP%]   .attributeEditorFieldName[_ngcontent-%COMP%], table.styleTable[_ngcontent-%COMP%]   .styleEditorFieldName[_ngcontent-%COMP%]{max-width:150px;max-height:150px;overflow:auto}.styleTable[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.styleTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{max-width:300px}.attributeEditorTitle[_ngcontent-%COMP%], .styleEditorTitle[_ngcontent-%COMP%]{text-align:center}.edgeRow[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.edgeRow[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;text-align:center;padding:4px;flex-basis:0px;-webkit-box-flex:0;flex-grow:0;white-space:nowrap}.isCompoundEdge[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:auto}.styleCompoundWrapper[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}.compoundEdgeEnd[_ngcontent-%COMP%], .compoundEdgeStart[_ngcontent-%COMP%]{text-align:center;width:100%}.GraphStyleHtml[_ngcontent-%COMP%], .SidebarStyleHtml[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.attributeEditorTitle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .styleEditorTitle[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin:4px}.ReferenceSelector[_ngcontent-%COMP%]{float:right}.rowModelDetail[_ngcontent-%COMP%], .vertexModelDetail[_ngcontent-%COMP%]{float:right;border-radius:50%;width:33px;height:33px;padding-top:2px}.vertexModelDetail[_ngcontent-%COMP%]{margin-left:10px;float:none}#metamodel_tab[_ngcontent-%COMP%], #model_tab[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:start;align-items:flex-start;align-content:flex-start;width:100vw}#metamodel_editor[_ngcontent-%COMP%], #model_editor[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-basis:0px;-webkit-box-flex:1;flex-grow:1;height:calc(100vh - calc(var(--topbarH) + var(--tabH)));background-color:#44444c}#input[_ngcontent-%COMP%]{display:none;width:100vw;height:300px;overflow-y:scroll}table.noBorder[_ngcontent-%COMP%]{border:none}"]],data:{}});function d(e){return i.mb(0,[],null,null)}function p(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,1,"app-root",[],null,null,null,d,h)),i.Z(1,49152,null,0,l,[],null,null)],null,null)}var f=i.W("app-root",l,p,{},{},[]),g=i.Y({encapsulation:0,styles:[["#MM_INPUT[_ngcontent-%COMP%]{width:100vw}"]],data:{}});function m(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,0,"input",[["id","MM_INPUT"],["value",'{\n  "ecore:EPackage": {\n    "@xmlns:xmi": "http://www.omg.org/XMI",\n    "@xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance",\n    "@xmlns:ecore": "http://www.eclipse.org/emf/2002/Ecore",\n    "@xmi:version": "2.0",\n    "@name": "bowling",\n    "@nsURI": "http://org/eclipse/example/bowling",\n    "@nsPrefix": "org.eclipse.example.bowling",\n    "eClassifiers": [\n      {\n        "@xsi:type": "ecore:EClass",\n        "@name": "Player",\n        "eStructuralFeatures": {\n          "@xsi:type": "ecore:EAttribute",\n          "@name": "name",\n          "@eType": "ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"\n        }\n      },\n      {\n        "@xsi:type": "ecore:EClass",\n        "@name": "League",\n        "eStructuralFeatures": [\n          {\n            "@xsi:type": "ecore:EAttribute",\n            "@name": "name",\n            "@eType": "ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"\n          },\n          {\n            "@xsi:type": "ecore:EReference",\n            "@name": "players",\n            "@upperBound": "@1",\n            "@eType": "#//Player",\n            "@containment": "true"\n          }\n        ]\n      }\n    ]\n  }\n}']],null,null,null,null,null))],null,null)}function b(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,1,"app-mminput",[],null,null,null,m,g)),i.Z(1,114688,null,0,r,[],null,null)],(function(e,t){e(t,1,0)}),null)}var y=i.W("app-mminput",r,b,{},{},[]),v=i.Y({encapsulation:0,styles:[["#damContextMenuTemplateContainer[_ngcontent-%COMP%]{display:none}.contextMenuRoot[_ngcontent-%COMP%]{position:absolute;display:inline-block;max-height:100vh;max-width:100vw;overflow:visible}.reflist[_ngcontent-%COMP%]{display:none}.reflistparent[_ngcontent-%COMP%]:hover > .reflist[_ngcontent-%COMP%]{display:block}.refli[_ngcontent-%COMP%]{white-space:nowrap;flex-wrap:nowrap;display:-webkit-box;display:flex;padding-right:10px}.refli[_ngcontent-%COMP%]   .firstempty[_ngcontent-%COMP%]{width:100%}.refli[_ngcontent-%COMP%]   .byindex[_ngcontent-%COMP%]{width:35px}.reflistparent[_ngcontent-%COMP%]{position:relative}.refli[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{padding-left:3px;color:orange}.refli[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}button.refli.delete[_ngcontent-%COMP%]{padding:0 4px;margin-left:auto;display:-webkit-box;display:flex}.reflist[_ngcontent-%COMP%]{left:calc(100%);position:absolute;background:#fff;border:1px solid #000;border-left:none;padding:2px 0 2px 5px;top:0}ul.contextMenu[_ngcontent-%COMP%]{border:1px solid #000;background-color:#fff;padding:6px 0 8px 10px}li[_ngcontent-%COMP%]:first-child{padding-top:0}li.separator[_ngcontent-%COMP%]{margin-top:2px;height:1px;padding:0;background-color:gray}li[_ngcontent-%COMP%]:last-child{border-bottom:none}li[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]:hover{padding-left:5px;padding-right:5px;color:#1e90ff}li[_ngcontent-%COMP%]{display:block;cursor:default;font-size:.75rem;padding-top:2px;padding-right:10px;color:#b2b2ba}li[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]{display:-webkit-box;display:flex;cursor:default;font-size:.75rem;padding-top:2px;padding-right:10px;color:#b2b2ba}"]],data:{}});function _(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,50,"div",[["class","contextMenuRoot"],["id","damContextMenuTemplateContainer"]],null,null,null,null,null)),(e()(),i.ab(1,0,null,null,39,"ul",[["class","vertex contextMenu"]],null,null,null,null,null)),(e()(),i.ab(2,0,null,null,1,"li",[["class","Vertex delete"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Delete Vertex"])),(e()(),i.ab(4,0,null,null,1,"li",[["class","Vertex duplicate"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Duplicate Vertex"])),(e()(),i.ab(6,0,null,null,1,"li",[["class","m1hide Vertex extend"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Extend"])),(e()(),i.ab(8,0,null,null,1,"li",[["class","Feature delete"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Delete Feature"])),(e()(),i.ab(10,0,null,null,1,"li",[["class","Feature duplicate"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Duplicate Feature"])),(e()(),i.ab(12,0,null,null,15,"li",[["class","Reference reflistparent"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["References "])),(e()(),i.ab(14,0,null,null,13,"ul",[["class","reflist"]],null,null,null,null,null)),(e()(),i.ab(15,0,null,null,4,"li",[["class","refli template"],["data-index","-1"]],null,null,null,null,null)),(e()(),i.ab(16,0,null,null,0,"span",[["class","index"]],null,null,null,null,null)),(e()(),i.ab(17,0,null,null,0,"span",[["class","text"]],null,null,null,null,null)),(e()(),i.ab(18,0,null,null,1,"button",[["class","refli delete btn btn-sm btn-danger"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["X"])),(e()(),i.ab(20,0,null,null,2,"li",[["class","refli todo"]],null,null,null,null,null)),(e()(),i.ab(21,0,null,null,1,"button",[["class","firstempty btn btn-sm btn-outline-primary"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Select first empty"])),(e()(),i.ab(23,0,null,null,4,"li",[["class","refli todo"]],null,null,null,null,null)),(e()(),i.ab(24,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(25,0,null,null,0,"input",[["class","byindex"],["max","-10"],["min","0"],["step","1"],["type","number"],["value","0"]],null,null,null,null,null)),(e()(),i.ab(26,0,null,null,1,"button",[["class","byindex btn btn-sm btn-outline-primary"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Select by index"])),(e()(),i.ab(28,0,null,null,0,"li",[["class","separator"]],null,null,null,null,null)),(e()(),i.ab(29,0,null,null,1,"li",[["class","Vertex up"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Push vertex Up (Z-order)"])),(e()(),i.ab(31,0,null,null,1,"li",[["class","Vertex down"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Push vertex Down (Z-order)"])),(e()(),i.ab(33,0,null,null,1,"li",[["class","todo Feature autofixinstances m2hide"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Autofix instances"])),(e()(),i.ab(35,0,null,null,1,"li",[["class","todo Feature autofix"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Autofix conformity"])),(e()(),i.ab(37,0,null,null,1,"li",[["class","Feature up"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Move feature Up"])),(e()(),i.ab(39,0,null,null,1,"li",[["class","Feature down"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Move feature Down"])),(e()(),i.ab(41,0,null,null,4,"ul",[["class","extedge contextMenu"]],null,null,null,null,null)),(e()(),i.ab(42,0,null,null,1,"li",[["class","edge delete"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Delete generalization"])),(e()(),i.ab(44,0,null,null,1,"li",[["class","edge change"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Edit generalization"])),(e()(),i.ab(46,0,null,null,4,"ul",[["class","edge contextMenu"]],null,null,null,null,null)),(e()(),i.ab(47,0,null,null,1,"li",[["class","edge delete"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Delete reference"])),(e()(),i.ab(49,0,null,null,1,"li",[["class","edge change"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Edit reference"]))],null,null)}function w(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,1,"app-dam-context-menu",[],null,null,null,_,v)),i.Z(1,114688,null,0,o.a,[],null,null)],(function(e,t){e(t,1,0)}),null)}var x=i.W("app-dam-context-menu",o.a,w,{},{},[]),C=i.Y({encapsulation:0,styles:[["#topbarShell[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-basis:100vw;background-color:var(--mainBackgroundColor);width:100vw;height:var(--topbarH);max-height:var(--topbarH)}#topbar[_ngcontent-%COMP%], #topbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:-webkit-box;display:flex}#topbar[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:calc(var(--topbarH) - 10px);flex-basis:100px;min-width:100px;max-width:100px}.closeButton[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;height:40px;width:40px;border:2px solid #000;background-color:transparent}.closeButton[_ngcontent-%COMP%]:hover{right:5px;top:5px;height:50px;width:50px;background-color:red}.screenWideShadow[_ngcontent-%COMP%]{position:absolute;display:none;top:0;z-index:2;background-color:rgba(0,0,0,.5);border:none;height:100vh;width:100vw}.popupContent[_ngcontent-%COMP%]{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);position:absolute;display:block;width:auto;height:auto;padding:30px 60px;border:4px solid var(--mainBorderColor);background-color:#44444c}  .typeRow{height:20px;width:600px;margin-bottom:5px}  .typeRow>*{margin-top:auto;margin-bottom:auto}  .alias{padding-left:10px;padding-right:10px}  .typeName{color:#ff8c00}.dropdownTitle[_ngcontent-%COMP%]{background-color:inherit;color:unset;font-size:16px;border:none;padding:12px 16px;cursor:inherit}.dropdownContainer[_ngcontent-%COMP%]{position:relative;display:inline-block;width:auto;cursor:pointer}.dropdownContainer.right[_ngcontent-%COMP%]{min-width:100%}ul.dropdownContent[_ngcontent-%COMP%]{display:none;position:absolute;background-color:var(--mainBackgroundColor);min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1;border:3px solid var(--secondaryBorderColor);padding:0;margin:0;top:100%;min-height:100%}ul.dropdownContent.right[_ngcontent-%COMP%]{margin:0;top:0;left:100%}li.dropdownContent[_ngcontent-%COMP%]{padding:0;text-decoration:none;display:block}ul.dropdownContent[_ngcontent-%COMP%]:not(:empty){border-bottom-left-radius:33px}.dropdownTitle.right[_ngcontent-%COMP%], .dropdownpadding[_ngcontent-%COMP%]{font-size:inherit;padding:12px 16px}.dropdownContainer.right[_ngcontent-%COMP%]:hover, .dropdownTitle.right[_ngcontent-%COMP%]:hover, .dropdownpadding[_ngcontent-%COMP%]:hover{border-bottom-left-radius:23px}.dropdownTitle.right.todo[_ngcontent-%COMP%], .dropdownpadding.todo[_ngcontent-%COMP%]{border-bottom-left-radius:0}li.dropdownContent[_ngcontent-%COMP%]:hover{background-color:var(--secondaryBorderColor);border-left:8px solid #ff0000a0;border-bottom-left-radius:30px}#topbar[_ngcontent-%COMP%] > .dropdownContainer[_ngcontent-%COMP%]:hover > .dropdownTitle[_ngcontent-%COMP%]{border-top-left-radius:30px;border-top-right-radius:30px;background-color:var(--secondaryBorderColor)}.buttonGridContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;width:min(25vw,calc(40px * 5 + 10px * 5 - 1px))}.buttonGridMinMargin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex-grow:0;flex-shrink:0;margin:auto;padding:5px}.buttonGrid[_ngcontent-%COMP%]{width:45px;height:45px}.dropdownContainer[_ngcontent-%COMP%]:hover > ul.dropdownContent[_ngcontent-%COMP%]{display:block}.dropdownContainer[_ngcontent-%COMP%]:hover > ul.dropdownContent[_ngcontent-%COMP%]:empty{display:-webkit-box;display:flex}ul.dropdownContent[_ngcontent-%COMP%]:empty:before{content:'... Empty ...';margin:auto;display:-webkit-box;display:flex}ul.dropdownContent[_ngcontent-%COMP%]:empty:hover{background-color:#8b0000!important;cursor:not-allowed!important}"]],data:{}});function k(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,180,"div",[["id","topbarShell"]],null,null,null,null,null)),(e()(),i.ab(1,0,null,null,171,"div",[["id","topbar"]],null,null,null,null,null)),(e()(),i.ab(2,0,null,null,12,"div",[["class","dropdownContainer"]],null,null,null,null,null)),(e()(),i.ab(3,0,null,null,1,"button",[["class","todo dropdownTitle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["User"])),(e()(),i.ab(5,0,null,null,9,"ul",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(6,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(7,0,null,null,1,"div",[["class","todo dropdownpadding"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Logout"])),(e()(),i.ab(9,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(10,0,null,null,1,"div",[["class","todo dropdownpadding"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Preferences"])),(e()(),i.ab(12,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(13,0,null,null,1,"div",[["class","todo dropdownpadding"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Account"])),(e()(),i.ab(15,0,null,null,12,"div",[["class","dropdownContainer"]],null,null,null,null,null)),(e()(),i.ab(16,0,null,null,1,"button",[["class","dropdownTitle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Meta-Metamodel"])),(e()(),i.ab(18,0,null,null,9,"ul",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(19,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(20,0,null,null,1,"div",[["class","dropdownpadding TypeMapping"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Type mapping"])),(e()(),i.ab(22,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(23,0,null,null,1,"div",[["class","todo dropdownpadding VertexStyle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Vertex Style"])),(e()(),i.ab(25,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(26,0,null,null,1,"div",[["class","todo dropdownpadding EdgeStyle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Edge Style"])),(e()(),i.ab(28,0,null,null,51,"div",[["class","dropdownContainer metamodel"]],null,null,null,null,null)),(e()(),i.ab(29,0,null,null,1,"button",[["class","dropdownTitle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Metamodel"])),(e()(),i.ab(31,0,null,null,48,"ul",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(32,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(33,0,null,null,1,"div",[["class","dropdownpadding save"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Save"])),(e()(),i.ab(35,0,null,null,16,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(36,0,null,null,15,"div",[["class","dropdownContainer right"]],null,null,null,null,null)),(e()(),i.ab(37,0,null,null,1,"div",[["class","dropdownTitle right"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Recent"])),(e()(),i.ab(39,0,null,null,12,"ul",[["class","dropdownContent right recentSaveContainer"]],null,null,null,null,null)),(e()(),i.ab(40,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(41,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 1"])),(e()(),i.ab(43,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(44,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 2"])),(e()(),i.ab(46,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(47,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 3"])),(e()(),i.ab(49,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(50,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 4"])),(e()(),i.ab(52,0,null,null,13,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(53,0,null,null,12,"div",[["class","dropdownContainer right"]],null,null,null,null,null)),(e()(),i.ab(54,0,null,null,1,"div",[["class","dropdownTitle right"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Export"])),(e()(),i.ab(56,0,null,null,9,"ul",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(57,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(58,0,null,null,1,"div",[["class","dropdownpadding download_JSON_String"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["To eCore/JSON string"])),(e()(),i.ab(60,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(61,0,null,null,1,"div",[["class","dropdownpadding download_JSON"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Download eCore/JSON file"])),(e()(),i.ab(63,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(64,0,null,null,1,"div",[["class","dropdownpadding download_XMI"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Download eCore/XMI file"])),(e()(),i.ab(66,0,null,null,13,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(67,0,null,null,12,"div",[["class","dropdownContainer right"]],null,null,null,null,null)),(e()(),i.ab(68,0,null,null,1,"div",[["class","dropdownTitle right"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Import"])),(e()(),i.ab(70,0,null,null,9,"ul",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(71,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(72,0,null,null,1,"div",[["class","dropdownpadding loadEmpty"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["New empty metamodel"])),(e()(),i.ab(74,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(75,0,null,null,1,"div",[["class","dropdownpadding loadFile"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["From file (eCore/XMI)"])),(e()(),i.ab(77,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(78,0,null,null,1,"div",[["class","dropdownpadding loadTxt"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["From text (eCore/JSON)"])),(e()(),i.ab(80,0,null,null,51,"div",[["class","dropdownContainer model"]],null,null,null,null,null)),(e()(),i.ab(81,0,null,null,1,"button",[["class","dropdownTitle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Model"])),(e()(),i.ab(83,0,null,null,48,"ul",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(84,0,null,null,2,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(85,0,null,null,1,"div",[["class","dropdownpadding save"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Save"])),(e()(),i.ab(87,0,null,null,16,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(88,0,null,null,15,"div",[["class","dropdownContainer right"]],null,null,null,null,null)),(e()(),i.ab(89,0,null,null,1,"div",[["class","dropdownTitle right"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Recent"])),(e()(),i.ab(91,0,null,null,12,"ul",[["class","dropdownContent right recentSaveContainer"]],null,null,null,null,null)),(e()(),i.ab(92,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(93,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 1"])),(e()(),i.ab(95,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(96,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 2"])),(e()(),i.ab(98,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(99,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 3"])),(e()(),i.ab(101,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(102,0,null,null,1,"div",[["class","dropdownpadding recentsave"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["example 4"])),(e()(),i.ab(104,0,null,null,13,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(105,0,null,null,12,"div",[["class","dropdownContainer right"]],null,null,null,null,null)),(e()(),i.ab(106,0,null,null,1,"div",[["class","dropdownTitle right"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Export"])),(e()(),i.ab(108,0,null,null,9,"ul",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(109,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(110,0,null,null,1,"div",[["class","dropdownpadding download_JSON_String"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["To eCore/JSON string"])),(e()(),i.ab(112,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(113,0,null,null,1,"div",[["class","dropdownpadding download_JSON"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Download eCore/JSON file"])),(e()(),i.ab(115,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(116,0,null,null,1,"div",[["class","dropdownpadding download_XMI"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Download eCore/XMI file"])),(e()(),i.ab(118,0,null,null,13,"li",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(119,0,null,null,12,"div",[["class","dropdownContainer right"]],null,null,null,null,null)),(e()(),i.ab(120,0,null,null,1,"div",[["class","dropdownTitle right"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Import"])),(e()(),i.ab(122,0,null,null,9,"ul",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(123,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(124,0,null,null,1,"div",[["class","dropdownpadding loadEmpty"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["New empty model"])),(e()(),i.ab(126,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(127,0,null,null,1,"div",[["class","dropdownpadding loadFile"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["From file (eCore/XMI)"])),(e()(),i.ab(129,0,null,null,2,"li",[["class","dropdownContent right"]],null,null,null,null,null)),(e()(),i.ab(130,0,null,null,1,"div",[["class","dropdownpadding loadTxt"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["From text (eCore/JSON)"])),(e()(),i.ab(132,0,null,null,40,"div",[["class","dropdownContainer graph"]],null,null,null,null,null)),(e()(),i.ab(133,0,null,null,1,"button",[["class","dropdownTitle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Graph"])),(e()(),i.ab(135,0,null,null,37,"ul",[["class","dropdownContent"]],null,null,null,null,null)),(e()(),i.ab(136,0,null,null,36,"li",[["class","buttonGridContainer"]],null,null,null,null,null)),(e()(),i.ab(137,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(138,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Mono-Select"])),(e()(),i.ab(140,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(141,0,null,null,1,"div",[["class","buttonGrid todo"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Multi-Select"])),(e()(),i.ab(143,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(144,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Drag"])),(e()(),i.ab(146,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(147,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Mono-Select"])),(e()(),i.ab(149,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(150,0,null,null,1,"div",[["class","buttonGrid todo"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Multi-Select"])),(e()(),i.ab(152,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(153,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Drag"])),(e()(),i.ab(155,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(156,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Mono-Select"])),(e()(),i.ab(158,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(159,0,null,null,1,"div",[["class","buttonGrid todo"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Multi-Select"])),(e()(),i.ab(161,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(162,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Drag"])),(e()(),i.ab(164,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(165,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Mono-Select"])),(e()(),i.ab(167,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(168,0,null,null,1,"div",[["class","buttonGrid todo"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Multi-Select"])),(e()(),i.ab(170,0,null,null,2,"div",[["class","dropdownpadding buttonGridMinMargin"]],null,null,null,null,null)),(e()(),i.ab(171,0,null,null,1,"div",[["class","buttonGrid"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Drag"])),(e()(),i.ab(173,0,null,null,7,"div",[["class","screenWideShadow"],["data-closebuttontarget","1"],["id","TypeMapper"]],null,null,null,null,null)),(e()(),i.ab(174,0,null,null,6,"div",[["class","popupContent"],["id","TypeMapperContent"]],null,null,null,null,null)),(e()(),i.ab(175,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["M3 Type mapping"])),(e()(),i.ab(177,0,null,null,1,"button",[["class","closeButton"],["data-closebuttontarget","1"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["X"])),(e()(),i.ab(179,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i.ab(180,0,null,null,0,"div",[["class","TypeList"]],null,null,null,null,null))],null,null)}function E(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,1,"app-top-bar",[],null,null,null,k,C)),i.Z(1,114688,null,0,a.b,[],null,null)],(function(e,t){e(t,1,0)}),null)}var S=i.W("app-top-bar",a.b,E,{},{},[]),T=i.Y({encapsulation:0,styles:[[".consoleRoot[_ngcontent-%COMP%]{color:var(--mainFontColor);background-color:var(--mainBackgroundColor);font-family:monospace,monospace;position:relative;max-width:100%;max-height:100%;width:100%;height:100%;overflow-y:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column}.consoleContent[_ngcontent-%COMP%]{width:100%}.inputLine[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:auto}.input[_ngcontent-%COMP%], .inputEcho[_ngcontent-%COMP%], .output[_ngcontent-%COMP%], .suggestion[_ngcontent-%COMP%]{width:100%;padding-top:.5em;padding-bottom:.5em;padding-left:5em;line-height:1.5}.input[_ngcontent-%COMP%]{-webkit-box-flex:0;flex-grow:0;flex-shrink:0;width:auto}.suggestion[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;width:auto;padding-left:0;color:gray}.inputEcho[_ngcontent-%COMP%]{font-style:italic}.input[_ngcontent-%COMP%]:before, .inputEcho[_ngcontent-%COMP%]:before, .output[_ngcontent-%COMP%]:before{content:'> ';color:#db7093;vertical-align:top}.input[_ngcontent-%COMP%]:before{color:#fc3565}.output[_ngcontent-%COMP%]:before{color:#5f8787;font-weight:600!important}.error[_ngcontent-%COMP%]{color:#db7093}"]],data:{}});function M(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,1,"p",[["style","display:none;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["test console"]))],null,null)}function P(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,1,"app-console",[],null,null,null,M,T)),i.Z(1,114688,null,0,u.a,[],null,null)],(function(e,t){e(t,1,0)}),null)}var A=i.W("app-console",u.a,P,{},{},[]),I=n("6Kg9"),O=i.Y({encapsulation:0,styles:[[".template[_ngcontent-%COMP%]{display:none}.StyleEditorDisplay[_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]{display:unset}.preview[_ngcontent-%COMP%]{position:relative;display:block;width:100%;min-height:10px;border:1px solid red;background-color:transparent;margin-bottom:10px;margin-top:10px}.preview[_ngcontent-%COMP%]:blank{background-color:gray}.separatorShell.top[_ngcontent-%COMP%]{margin-top:30px}div[contenteditable=true][_ngcontent-%COMP%]:focus{max-height:unset}div[contenteditable=false][_ngcontent-%COMP%], div[contenteditable=true][_ngcontent-%COMP%]{overflow:auto;display:-webkit-box;display:flex;color:#000;border:1px solid #000;min-height:100px;max-height:100px;margin-top:5px;margin-bottom:5px}div[contenteditable=true][_ngcontent-%COMP%]{background-color:#fff;cursor:text}div[contenteditable=false][_ngcontent-%COMP%]{background-color:gray;cursor:no-drop}label.allowEdit[_ngcontent-%COMP%]{color:#daa520}button[_ngcontent-%COMP%]{margin:5px}.helpButton[_ngcontent-%COMP%]{width:35px;height:35px}.style.instances[_ngcontent-%COMP%], .style.own[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-flow:wrap}.detail[_ngcontent-%COMP%]{border:3px solid #0084ff;background:#252525}button.detail[_ngcontent-%COMP%]{margin:0 auto;display:-webkit-box;display:flex;height:auto;border-top-left-radius:17px;border-top-right-radius:17px;z-index:1}button.detail[_ngcontent-%COMP%]:first-child:not(:only-child){-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;margin-right:0;border-top-right-radius:0;border-bottom-right-radius:0}button.detail[_ngcontent-%COMP%]:last-child:not(:only-child){margin-left:-3px;border-top-left-radius:0;border-bottom-left-radius:0}button.detail[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0!important}div.detail[_ngcontent-%COMP%]{padding:5px;margin-top:-3px;width:calc(100%)}.saveasrow[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}button.delete[_ngcontent-%COMP%], button.saveas[_ngcontent-%COMP%]{margin:auto auto 5px;font-size:.8rem}input.saveas[_ngcontent-%COMP%]{margin:auto auto 5px;flex-basis:100px;-webkit-box-flex:.6;flex-grow:.6;width:0}.compatibleRow[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;display:-webkit-inline-box;display:inline-flex;margin:auto auto auto 0;-webkit-box-ordinal-group:3;order:2}.compatibleRow[_ngcontent-%COMP%], .saveasrow[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;flex-flow:wrap}.compatibleRow[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;order:1;margin-left:0;margin-right:5px}.detail[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;margin:auto;flex-wrap:nowrap}button.detail[_ngcontent-%COMP%] > .closed[_ngcontent-%COMP%], button.detail[_ngcontent-%COMP%] > .opened[_ngcontent-%COMP%]{margin:auto}table[_ngcontent-%COMP%]{width:100%}td.title[_ngcontent-%COMP%]{font-weight:700;padding-top:10px;text-align:center}h1[_ngcontent-%COMP%]{text-align:center}select[_ngcontent-%COMP%]{flex-shrink:1;-webkit-box-flex:.9;flex-grow:.9;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;min-width:0}label[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1}h6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], label[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:auto;flex-wrap:wrap}h6[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;margin:auto}.separator[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{text-align:center}input[type=number][_ngcontent-%COMP%]{width:40px;margin-right:5px}.gridX[_ngcontent-%COMP%], .gridY[_ngcontent-%COMP%], .zoomX[_ngcontent-%COMP%], .zoomY[_ngcontent-%COMP%]{margin-left:5px;margin-right:15px}input[type=color][_ngcontent-%COMP%]{width:22px;height:22px;margin-right:5px;padding:0;vertical-align:middle}input[type=color][_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:2px}input[type=color][_ngcontent-%COMP%]::-webkit-color-swatch{border:none}input[type=checkbox][_ngcontent-%COMP%]{width:24px;height:24px;margin:0 5px 0 0;vertical-align:middle}label[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%], label[_ngcontent-%COMP%] > input[type=color][_ngcontent-%COMP%]{margin-bottom:3px}#primary_color[_ngcontent-%COMP%]{border-radius:100%;height:60px;width:60px;border:none;outline:0;-webkit-appearance:none}[contenteditable=true][_ngcontent-%COMP%]:empty:before{content:attr(placeholder);display:block;cursor:text;vertical-align:middle;color:#a9a9a9;text-align:center;margin:auto}.separatorShell[_ngcontent-%COMP%]{min-height:33px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row;flex-wrap:nowrap;margin:10px auto;width:100%}.roww[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;width:100%}.colContainer[_ngcontent-%COMP%], .columnContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-flow:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row}.colChild[_ngcontent-%COMP%], .columnChild[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;flex-flow:wrap;-webkit-box-flex:1;flex-grow:1;max-width:100%;min-width:0}.separator[_ngcontent-%COMP%]{margin:auto;display:inline-block}.stylelabel[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;margin:auto 5px auto auto}select.stylename[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:auto auto auto 0}.HorizontalContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row;flex-wrap:wrap;width:100%}.HorizontalChild[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;margin:auto}.opened[_ngcontent-%COMP%]{display:none}.helpButton[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;display:-webkit-box;display:flex;background:#003e7f;border-color:#003e7f}.expressionRoot[_ngcontent-%COMP%]{flex-wrap:nowrap!important;max-width:100%}input.fill[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;flex-basis:0;margin-left:7px}.leftside[_ngcontent-%COMP%]{-webkit-box-flex:3;flex-grow:3;flex-basis:0;min-width:0;max-width:150px}.rightside[_ngcontent-%COMP%]{-webkit-box-flex:7;flex-grow:7;flex-basis:0;min-width:0}.arrowContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-bottom:10px}button.arrow[_ngcontent-%COMP%]{display:-webkit-box;display:flex;line-height:unset;padding:0 6px}.tsclass[_ngcontent-%COMP%]{margin:auto;display:inline;text-align:center}.addHeader[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.addHeader[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-left:0;-webkit-box-ordinal-group:3;order:2}select.attributetypeadd[_ngcontent-%COMP%]{flex-basis:0;-webkit-box-flex:1;flex-grow:1;min-width:0;margin-right:10px}.previewselector[_ngcontent-%COMP%]{height:23px;outline:0;border:2px dashed #666}.showAsEdge[_ngcontent-%COMP%]{margin-right:5px!important}.showAsEdgeText[_ngcontent-%COMP%]{margin-left:0!important}button.deleteRule[_ngcontent-%COMP%]{-webkit-box-flex:0;flex-grow:0;flex-basis:auto;min-width:auto;margin-top:0;margin-bottom:0;padding:5px}.nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap}._root[_ngcontent-%COMP%]{margin-bottom:5px}div.detail.measurable[_ngcontent-%COMP%] > div.template[_ngcontent-%COMP%]{display:none}.graphColor[_ngcontent-%COMP%], .showGrid[_ngcontent-%COMP%]{margin-left:0}select.operator[_ngcontent-%COMP%]{-moz-text-align-last:center;text-align-last:center;margin-left:5px;margin-right:5px;width:25px}span.operatortext[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}select.operator[_ngcontent-%COMP%]:disabled{display:none}span.nameprefix[_ngcontent-%COMP%]{margin-left:7px;background:#fff;border:2px inset #eee;height:21px;border-right:none;color:#000;line-height:16px}input.name[_ngcontent-%COMP%]{margin-left:0;border-left:none;padding-left:0}label[_ngcontent-%COMP%]:focus > input.name[_ngcontent-%COMP%]{outline:0;box-shadow:0 2px 2px 2px #4d90fe}input.name[_ngcontent-%COMP%]:focus{outline:0;box-shadow:2px 2px 0 0 #4d90fe,2px -2px 0 0 #4d90fe}"]],data:{}});function D(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,394,"div",[["class","styleContainer"]],null,null,null,null,null)),(e()(),i.ab(1,0,null,null,0,"div",[["class","StyleEditorDisplay"]],null,null,null,null,null)),(e()(),i.ab(2,0,null,null,392,"div",[["class","styleTemplates styleEditor"]],null,null,null,null,null)),(e()(),i.ab(3,0,null,null,30,"div",[["class","template model"]],null,null,null,null,null)),(e()(),i.ab(4,0,null,null,29,"table",[],null,null,null,null,null)),(e()(),i.ab(5,0,null,null,28,"tbody",[],null,null,null,null,null)),(e()(),i.ab(6,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),i.ab(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Grid"])),(e()(),i.ab(9,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["X: "])),(e()(),i.ab(11,0,null,null,0,"input",[["class","gridX"],["min","0"],["placeholder","off"],["step","1"],["type","number"]],null,null,null,null,null)),(e()(),i.lb(-1,null,[" Y: "])),(e()(),i.ab(13,0,null,null,0,"input",[["class","gridY"],["min","0"],["placeholder","off"],["step","1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(14,0,null,null,9,"tr",[],null,null,null,null,null)),(e()(),i.ab(15,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Zoom"])),(e()(),i.ab(17,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(18,0,null,null,0,"input",[["class","zoomX"],["min","0.0001"],["placeholder","1"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(19,0,null,null,4,"td",[["style","display: none"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["X: "])),(e()(),i.ab(21,0,null,null,0,"input",[["class","zoomXOLD"],["min","0.0001"],["placeholder","1"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.lb(-1,null,[" Y: "])),(e()(),i.ab(23,0,null,null,0,"input",[["class","zoomY"],["min","0.0001"],["placeholder","1"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(24,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(25,0,null,null,3,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),i.ab(26,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),i.ab(27,0,null,null,0,"input",[["class","showGrid"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Show grid"])),(e()(),i.ab(29,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(30,0,null,null,3,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),i.ab(31,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),i.ab(32,0,null,null,0,"input",[["class","graphColor"],["type","color"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Background color"])),(e()(),i.ab(34,0,null,null,183,"div",[["class","template htmlstyle"]],null,null,null,null,null)),(e()(),i.ab(35,0,null,null,9,"div",[["class","top"]],null,null,null,null,null)),(e()(),i.ab(36,0,null,null,6,"label",[["class","colChild"]],null,null,null,null,null)),(e()(),i.ab(37,0,null,null,1,"div",[["class","roww"]],null,null,null,null,null)),(e()(),i.ab(38,0,null,null,0,"h6",[["class","vertexStyle separator htmllevel"]],null,null,null,null,null)),(e()(),i.ab(39,0,null,null,3,"div",[["class","colChild"]],null,null,null,null,null)),(e()(),i.ab(40,0,null,null,1,"span",[["class","stylelabel"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Applied view:"])),(e()(),i.ab(42,0,null,null,0,"select",[["class","stylename"]],null,null,null,null,null)),(e()(),i.ab(43,0,null,null,1,"button",[["class","helpButton btn btn-info"],["matTooltip","todo: explain .EndPoint, .TypeSelector, .ClassSelector..."]],null,null,null,null,null)),(e()(),i.lb(-1,null,["?"])),(e()(),i.ab(45,0,null,null,5,"label",[["class","allowEdit"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["This style is being inherited and cannot be modified here."])),(e()(),i.ab(47,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["You need a local copy to allow Edit."])),(e()(),i.ab(49,0,null,null,1,"button",[["class","allowEdit btn btn-secondary"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Make it"])),(e()(),i.ab(51,0,null,null,0,"div",[["class","html"],["contenteditable","true"],["placeholder","Html for $##name$ (m2 class)."]],null,null,null,null,null)),(e()(),i.ab(52,0,null,null,32,"div",[["class","roww nowrap detailButtonContainer"]],null,null,null,null,null)),(e()(),i.ab(53,0,null,null,20,"button",[["class","detail measurable btn btn-primary"],["target","div.detail.measurable"]],null,null,null,null,null)),(e()(),i.ab(54,0,null,null,11,"span",[["class","closed"]],null,null,null,null,null)),(e()(),i.ab(55,0,null,null,3,"label",[["class","measurable"]],null,null,null,null,null)),(e()(),i.ab(56,0,null,null,0,"input",[["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(57,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Measurable"])),(e()(),i.ab(59,0,null,null,6,"div",[["class","HorizontalContainer"]],null,null,null,null,null)),(e()(),i.ab(60,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9f"])),(e()(),i.ab(62,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9f"])),(e()(),i.ab(64,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9f"])),(e()(),i.ab(66,0,null,null,7,"span",[["class","opened"]],null,null,null,null,null)),(e()(),i.ab(67,0,null,null,6,"div",[["class","HorizontalContainer"]],null,null,null,null,null)),(e()(),i.ab(68,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(70,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(72,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(74,0,null,null,10,"button",[["class","detail save btn btn-primary"],["target","div.detail.save"]],null,null,null,null,null)),(e()(),i.ab(75,0,null,null,1,"span",[["class","closed"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Save detail"])),(e()(),i.ab(77,0,null,null,7,"span",[["class","opened"]],null,null,null,null,null)),(e()(),i.ab(78,0,null,null,6,"div",[["class","HorizontalContainer"]],null,null,null,null,null)),(e()(),i.ab(79,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(81,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(83,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(85,0,null,null,91,"div",[["class","detail measurable"],["style","display: none"]],null,null,null,null,null)),(e()(),i.ab(86,0,null,null,35,"div",[["class","template measurable _root roww columnContainer"]],null,null,null,null,null)),(e()(),i.ab(87,0,null,null,1,"button",[["class","deleteRule columnChild btn btn-danger"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["X"])),(e()(),i.ab(89,0,null,null,32,"div",[["class","columnChild"]],null,null,null,null,null)),(e()(),i.ab(90,0,null,null,6,"div",[["class","roww hideOn r_ d_"]],null,null,null,null,null)),(e()(),i.ab(91,0,null,null,5,"label",[],null,null,null,null,null)),(e()(),i.ab(92,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Name"])),(e()(),i.ab(94,0,null,null,1,"span",[["class","nameprefix"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_"])),(e()(),i.ab(96,0,null,null,0,"input",[["class","fill name"],["pattern","[.]+"],["placeholder","attribute name"],["type","text"]],null,null,null,null,null)),(e()(),i.ab(97,0,null,null,12,"label",[["class","expressionRoot"]],null,null,null,null,null)),(e()(),i.ab(98,0,null,null,0,"input",[["class","leftside hideOn _ _dstyle _chain _chainFinal"],["placeholder","Left side"],["type","text"]],null,null,null,null,null)),(e()(),i.ab(99,0,null,null,1,"span",[["class","operatortext hideOn _constraint _ _dstyle operator"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["="])),(e()(),i.ab(101,0,null,null,7,"select",[["class","hideOn _ _dstyle operator"]],null,null,null,null,null)),(e()(),i.ab(102,0,null,null,6,"optgroup",[["label","operator"]],null,null,null,null,null)),(e()(),i.ab(103,0,null,null,1,"option",[["value","<="]],null,null,null,null,null)),(e()(),i.lb(-1,null,["<="])),(e()(),i.ab(105,0,null,null,1,"option",[["value","="]],null,null,null,null,null)),(e()(),i.lb(-1,null,["="])),(e()(),i.ab(107,0,null,null,1,"option",[["value",">="]],null,null,null,null,null)),(e()(),i.lb(-1,null,[">="])),(e()(),i.ab(109,0,null,null,0,"input",[["class","rightside hideon_chain _chainFinal "],["placeholder","Right side"],["type","text"]],null,null,null,null,null)),(e()(),i.ab(110,0,null,null,4,"div",[["class","roww hideOn r_ d_"]],null,null,null,null,null)),(e()(),i.ab(111,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(112,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Relative target"])),(e()(),i.ab(114,0,null,null,0,"input",[["class","fill relativetarget"],["placeholder","jQuery selector"],["type","text"]],null,null,null,null,null)),(e()(),i.ab(115,0,null,null,4,"div",[["class","roww hideOn r_ d_"]],null,null,null,null,null)),(e()(),i.ab(116,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(117,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Evaluation (debug)"])),(e()(),i.ab(119,0,null,null,0,"input",[["class","fill evaluation"],["placeholder","empty string"],["readonly",""],["type","text"]],null,null,null,null,null)),(e()(),i.ab(120,0,null,null,0,"a",[["class","roww outputerror left"]],null,null,null,null,null)),(e()(),i.ab(121,0,null,null,0,"a",[["class","roww outputerror right"]],null,null,null,null,null)),(e()(),i.ab(122,0,null,null,24,"h6",[["class","addHeader"]],null,null,null,null,null)),(e()(),i.ab(123,0,null,null,1,"button",[["class","btn btn-secondary addmeasurable"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Add"])),(e()(),i.ab(125,0,null,null,21,"select",[["class","attributetypeadd"]],null,null,null,null,null)),(e()(),i.ab(126,0,null,null,20,"optgroup",[["label","Attribute type"]],null,null,null,null,null)),(e()(),i.ab(127,0,null,null,1,"option",[["value","d_"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["jQueryUI drag option"])),(e()(),i.ab(129,0,null,null,1,"option",[["value","r_"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["jQueryUI resize option"])),(e()(),i.ab(131,0,null,null,1,"option",[["value","_rule"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_rule"])),(e()(),i.ab(133,0,null,null,1,"option",[["value","_dstyle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_dstyle"])),(e()(),i.ab(135,0,null,null,1,"option",[["value","_export"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_export"])),(e()(),i.ab(137,0,null,null,1,"option",[["value","_constraint"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_constraint"])),(e()(),i.ab(139,0,null,null,1,"option",[["value","_import"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_import"])),(e()(),i.ab(141,0,null,null,1,"option",[["value","_chain"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_chain"])),(e()(),i.ab(143,0,null,null,1,"option",[["value","_chainFinal"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_chainFinal"])),(e()(),i.ab(145,0,null,null,1,"option",[["value","_"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["_ (Pseudo-variable)"])),(e()(),i.ab(147,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_D"])),(e()(),i.ab(149,0,null,null,0,"div",[["class","d_Container"]],null,null,null,null,null)),(e()(),i.ab(150,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_R"])),(e()(),i.ab(152,0,null,null,0,"div",[["class","r_Container"]],null,null,null,null,null)),(e()(),i.ab(153,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_ (Pseudo-variables)"])),(e()(),i.ab(155,0,null,null,0,"div",[["class","_Container"]],null,null,null,null,null)),(e()(),i.ab(156,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_Rule"])),(e()(),i.ab(158,0,null,null,0,"div",[["class","_ruleContainer"]],null,null,null,null,null)),(e()(),i.ab(159,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_Export"])),(e()(),i.ab(161,0,null,null,0,"div",[["class","_exportContainer"]],null,null,null,null,null)),(e()(),i.ab(162,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_Constraint"])),(e()(),i.ab(164,0,null,null,0,"div",[["class","_constraintContainer"]],null,null,null,null,null)),(e()(),i.ab(165,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_Dstyle"])),(e()(),i.ab(167,0,null,null,0,"div",[["class","_dstyleContainer"]],null,null,null,null,null)),(e()(),i.ab(168,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_Import"])),(e()(),i.ab(170,0,null,null,0,"div",[["class","_importContainer"]],null,null,null,null,null)),(e()(),i.ab(171,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_Chain"])),(e()(),i.ab(173,0,null,null,0,"div",[["class","_chainContainer"]],null,null,null,null,null)),(e()(),i.ab(174,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["_ChainFinal"])),(e()(),i.ab(176,0,null,null,0,"div",[["class","_chainFinalContainer"]],null,null,null,null,null)),(e()(),i.ab(177,0,null,null,40,"div",[["class","detail save"],["style","display: none"]],null,null,null,null,null)),(e()(),i.ab(178,0,null,null,5,"div",[["class","saveasrow"]],null,null,null,null,null)),(e()(),i.ab(179,0,null,null,1,"button",[["class","delete btn btn-secondary"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Delete"])),(e()(),i.ab(181,0,null,null,1,"button",[["class","saveas btn btn-secondary"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Save as"])),(e()(),i.ab(183,0,null,null,0,"input",[["class","saveas form-control"],["placeholder","new style name"]],null,null,null,null,null)),(e()(),i.ab(184,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Style is compatible with:"])),(e()(),i.ab(186,0,null,null,8,"div",[["class","compatibleRow"]],null,null,null,null,null)),(e()(),i.ab(187,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(188,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["M2 Elements"])),(e()(),i.ab(190,0,null,null,0,"input",[["class","metamodel"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(191,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(192,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["M1 Elements"])),(e()(),i.ab(194,0,null,null,0,"input",[["class","model"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(195,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["And appliable to:"])),(e()(),i.ab(197,0,null,null,20,"div",[["class","compatibleRow"]],null,null,null,null,null)),(e()(),i.ab(198,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(199,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Class"])),(e()(),i.ab(201,0,null,null,0,"input",[["class","class"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(202,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(203,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Attributes"])),(e()(),i.ab(205,0,null,null,0,"input",[["class","attribute"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(206,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(207,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["References"])),(e()(),i.ab(209,0,null,null,0,"input",[["class","reference"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(210,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(211,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Operations"])),(e()(),i.ab(213,0,null,null,0,"input",[["class","operation"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(214,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.ab(215,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Parameters"])),(e()(),i.ab(217,0,null,null,0,"input",[["class","parameter"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(218,0,null,null,38,"div",[["class","template modelpiece"]],null,null,null,null,null)),(e()(),i.ab(219,0,null,null,6,"div",[["class","arrowContainer"]],null,null,null,null,null)),(e()(),i.ab(220,0,null,null,1,"button",[["class","arrow up btn btn-primary"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u21ea"])),(e()(),i.ab(222,0,null,null,1,"h6",[["class","tsclass"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["TS_Class"])),(e()(),i.ab(224,0,null,null,1,"button",[["class","arrow down btn btn-primary"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u21e9"])),(e()(),i.ab(226,0,null,null,3,"label",[["class","m1 iclass"]],null,null,null,null,null)),(e()(),i.ab(227,0,null,null,0,"input",[["class","showAsEdge"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(228,0,null,null,1,"span",[["class","showAsEdgeText"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["#####"])),(e()(),i.ab(230,0,null,null,0,"div",[["class","style own colContainer"]],null,null,null,null,null)),(e()(),i.ab(231,0,null,null,0,"div",[["class","separatorShell"]],null,null,null,null,null)),(e()(),i.ab(232,0,null,null,22,"div",[["class","roww nowrap detailButtonContainer"]],null,null,null,null,null)),(e()(),i.ab(233,0,null,null,10,"button",[["class","detail inherited btn btn-primary"],["target","div.detail.style.inherited"]],null,null,null,null,null)),(e()(),i.ab(234,0,null,null,1,"span",[["class","closed"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Inherited Style"])),(e()(),i.ab(236,0,null,null,7,"span",[["class","opened"]],null,null,null,null,null)),(e()(),i.ab(237,0,null,null,6,"div",[["class","HorizontalContainer"]],null,null,null,null,null)),(e()(),i.ab(238,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(240,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(242,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(244,0,null,null,10,"button",[["class","detail inheritable btn btn-primary"],["target","div.detail.style.inheritable"]],null,null,null,null,null)),(e()(),i.ab(245,0,null,null,1,"span",[["class","closed"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Inheritable Style"])),(e()(),i.ab(247,0,null,null,7,"span",[["class","opened"]],null,null,null,null,null)),(e()(),i.ab(248,0,null,null,6,"div",[["class","HorizontalContainer"]],null,null,null,null,null)),(e()(),i.ab(249,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(251,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(253,0,null,null,1,"span",[["class","HorizontalChild"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["\u2b9d"])),(e()(),i.ab(255,0,null,null,0,"div",[["class","detail style inheritable colContainer"]],null,null,null,null,null)),(e()(),i.ab(256,0,null,null,0,"div",[["class","detail style inherited colContainer"]],null,null,null,null,null)),(e()(),i.ab(257,0,null,null,137,"div",[["class","template edge"]],null,null,null,null,null)),(e()(),i.ab(258,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Edge style"])),(e()(),i.ab(260,0,null,null,54,"table",[],null,null,null,null,null)),(e()(),i.ab(261,0,null,null,53,"tbody",[],null,null,null,null,null)),(e()(),i.ab(262,0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),i.ab(263,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Style"])),(e()(),i.ab(265,0,null,null,10,"td",[],null,null,null,null,null)),(e()(),i.ab(266,0,null,null,9,"select",[["class","edgeStyle"]],null,null,null,null,null)),(e()(),i.ab(267,0,null,null,8,"optgroup",[["label","Edge style"]],null,null,null,null,null)),(e()(),i.ab(268,0,null,null,1,"option",[["title","./img/icons/edge/straight.jpg"],["value","straight"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Straight"])),(e()(),i.ab(270,0,null,null,1,"option",[["title","./img/icons/edge/angular23.jpg"],["value","angular23Auto"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Angulated (auto)"])),(e()(),i.ab(272,0,null,null,1,"option",[["title","./img/icons/edge/angular2.jpg"],["value","angular2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Angulated (2)"])),(e()(),i.ab(274,0,null,null,1,"option",[["title","./img/icons/edge/angular3.jpg"],["value","angular3"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Angulated (3)"])),(e()(),i.ab(276,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),i.ab(277,0,null,null,1,"td",[["class","title"],["colspan","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["On normal status"])),(e()(),i.ab(279,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(280,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Color"])),(e()(),i.ab(282,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(283,0,null,null,0,"input",[["class","edgeColor common"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(284,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(285,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Width"])),(e()(),i.ab(287,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(288,0,null,null,0,"input",[["class","edgeWidth common"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(289,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),i.ab(290,0,null,null,1,"td",[["class","title"],["colspan","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["On highlight preview"])),(e()(),i.ab(292,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(293,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Color"])),(e()(),i.ab(295,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(296,0,null,null,0,"input",[["class","edgeColor highlight"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(297,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(298,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Width"])),(e()(),i.ab(300,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(301,0,null,null,0,"input",[["class","edgeWidth highlight"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(302,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),i.ab(303,0,null,null,1,"td",[["class","title"],["colspan","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["On selection"])),(e()(),i.ab(305,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(306,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Color"])),(e()(),i.ab(308,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(309,0,null,null,0,"input",[["class","edgeColor selected"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(310,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(311,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Width"])),(e()(),i.ab(313,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(314,0,null,null,0,"input",[["class","edgeWidth selected"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(315,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["EdgePoint style"])),(e()(),i.ab(317,0,null,null,70,"table",[],null,null,null,null,null)),(e()(),i.ab(318,0,null,null,69,"tbody",[],null,null,null,null,null)),(e()(),i.ab(319,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),i.ab(320,0,null,null,1,"td",[["class","title"],["colspan","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["On normal status"])),(e()(),i.ab(322,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(323,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Radius"])),(e()(),i.ab(325,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(326,0,null,null,0,"input",[["class","edgePoint radius"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(327,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(328,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Border Width"])),(e()(),i.ab(330,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(331,0,null,null,0,"input",[["class","edgePoint strokeW"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(332,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(333,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Border Color"])),(e()(),i.ab(335,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(336,0,null,null,0,"input",[["class","edgePoint stroke"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(337,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(338,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Fill Color"])),(e()(),i.ab(340,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(341,0,null,null,0,"input",[["class","edgePoint fill"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(342,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),i.ab(343,0,null,null,1,"td",[["class","title"],["colspan","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["On bounding preview"])),(e()(),i.ab(345,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(346,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Radius"])),(e()(),i.ab(348,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(349,0,null,null,0,"input",[["class","edgePointPreview radius"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(350,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(351,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Border Width"])),(e()(),i.ab(353,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(354,0,null,null,0,"input",[["class","edgePointPreview strokeW"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(355,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(356,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Border Color"])),(e()(),i.ab(358,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(359,0,null,null,0,"input",[["class","edgePointPreview stroke"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(360,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(361,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Fill Color"])),(e()(),i.ab(363,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(364,0,null,null,0,"input",[["class","edgePointPreview fill"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(365,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),i.ab(366,0,null,null,1,"td",[["class","title"],["colspan","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["While moving"])),(e()(),i.ab(368,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(369,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Radius"])),(e()(),i.ab(371,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(372,0,null,null,0,"input",[["class","edgePointSelected radius"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(373,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(374,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Border Width"])),(e()(),i.ab(376,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(377,0,null,null,0,"input",[["class","edgePointSelected strokeW"],["min","0"],["placeholder","0"],["step","0.1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(378,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(379,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Border Color"])),(e()(),i.ab(381,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(382,0,null,null,0,"input",[["class","edgePointSelected stroke"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(383,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i.ab(384,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Fill Color"])),(e()(),i.ab(386,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i.ab(387,0,null,null,0,"input",[["class","edgePointSelected fill"],["type","color"]],null,null,null,null,null)),(e()(),i.ab(388,0,null,null,0,"div",[["class","edgeStyle label html"],["contenteditable","true"],["placeholder","Label of link. Not filled means without label."]],null,null,null,null,null)),(e()(),i.ab(389,0,null,null,4,"div",[["class","separatorShell"]],null,null,null,null,null)),(e()(),i.ab(390,0,null,null,1,"h6",[["class","edgeStyle separator"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Preview:"])),(e()(),i.ab(392,0,null,null,1,"button",[["class","helpButton edgeLabel"],["matTooltip","todo: explain .EndPoint, .TypeSelector, .ClassSelector..."]],null,null,null,null,null)),(e()(),i.lb(-1,null,["?"])),(e()(),i.ab(394,0,null,null,0,"div",[["class","edgeStyle preview"]],null,null,null,null,null))],null,null)}class N{constructor(){}ngOnInit(){}}var R=i.Y({encapsulation:0,styles:[["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:21px;border-radius:5px 5px 12px}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:hover{outline:0;border:2px solid #1e90ff;height:22px}input[disabled][_ngcontent-%COMP%]:hover, select[disabled][_ngcontent-%COMP%]:hover{outline:0;border:2px solid gray}#attributeTemplate[_ngcontent-%COMP%], #classTemplate[_ngcontent-%COMP%], #modelTemplate[_ngcontent-%COMP%], #packageTemplate[_ngcontent-%COMP%], #referenceTemplate[_ngcontent-%COMP%]{width:100%}.propertySidebarTemplates[_ngcontent-%COMP%]{display:none}.wastemplate[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;height:100%}.wastemplate[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-bottom:8px;width:100%}.minimizer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;border-left:2px dashed #1e90ff;border-bottom:2px dashed #1e90ff;min-width:8px!important;height:auto;width:8px!important}.wastemplate.minimized[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:none}.wastemplate.minimized[_ngcontent-%COMP%]:hover{display:-webkit-box;display:flex;border-color:var(--secondary)}.wastemplate.minimized[_ngcontent-%COMP%]:before{color:#1e90ff;content:'+';font-size:20px;margin:auto;line-height:0}.wastemplate.minimized[_ngcontent-%COMP%]:hover:before{color:var(--secondary)}.attributeMinimizer[_ngcontent-%COMP%]:hover, .minimizer[_ngcontent-%COMP%]:hover{border-left:2px dashed var(--secondary);border-bottom:2px dashed var(--secondary)}.wastemplate.minimized[_ngcontent-%COMP%]{border:2px solid #1e90ff;height:20px;margin-bottom:8px}.wastemplate.minimized.list[_ngcontent-%COMP%]{border-style:dashed}.minimizer.single[_ngcontent-%COMP%]{border-style:solid;border-right:none;border-top:none}.content[_ngcontent-%COMP%]{margin-left:8px;width:100%;height:-webkit-min-content;height:-moz-min-content;height:min-content;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column}label[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;height:24px;line-height:24px;white-space:nowrap}label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], label[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:auto 0 auto 20px;width:inherit;min-width:60px}label[_ngcontent-%COMP%] > input[type=number][_ngcontent-%COMP%]{min-width:30px}"]],data:{}});function j(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,103,"div",[["class","property_sidebar"]],null,null,null,null,null)),(e()(),i.ab(1,0,null,null,0,"div",[["class","propertySidebarCurrentContent"]],null,null,null,null,null)),(e()(),i.ab(2,0,null,null,101,"div",[["class","propertySidebarTemplates template"]],null,null,null,null,null)),(e()(),i.ab(3,0,null,null,0,"div",[["class","minimizer single"]],null,null,null,null,null)),(e()(),i.ab(4,0,null,null,99,"div",[["class","content"]],null,null,null,null,null)),(e()(),i.ab(5,0,null,null,2,"label",[["class","model"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["URI:"])),(e()(),i.ab(7,0,null,null,0,"input",[["class","uri m1disable"],["pattern","^[a-zA-Z_$][a-zA-Z_$0-9]*$"]],null,null,null,null,null)),(e()(),i.ab(8,0,null,null,2,"label",[["class","model"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Namespace:"])),(e()(),i.ab(10,0,null,null,0,"input",[["class","namespace m1disable"],["pattern","^[a-zA-Z_$][a-zA-Z_$0-9]*$"]],null,null,null,null,null)),(e()(),i.ab(11,0,null,null,2,"label",[["class","class m2hide"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Is Root"])),(e()(),i.ab(13,0,null,null,0,"input",[["class","isRoot"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(14,0,null,null,2,"label",[["class","operation"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Access modifier:"])),(e()(),i.ab(16,0,null,null,0,"select",[["class","specialjs visibilitySelector m1disable"]],null,null,null,null,null)),(e()(),i.ab(17,0,null,null,2,"label",[["class","literal"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Ordinal:"])),(e()(),i.ab(19,0,null,null,0,"input",[["class","value"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(20,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Name:"])),(e()(),i.ab(22,0,null,null,0,"input",[["class","name m1disable"],["pattern","^[a-zA-Z_$][a-zA-Z_$0-9]*$"],["placeholder","nameless"]],null,null,null,null,null)),(e()(),i.ab(23,0,null,null,2,"label",[["class","literal"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Literal:"])),(e()(),i.ab(25,0,null,null,0,"input",[["class","literal"],["pattern","^[a-zA-Z_$][a-zA-Z_$0-9]*$"],["placeholder","will inherit from name"]],null,null,null,null,null)),(e()(),i.ab(26,0,null,null,2,"label",[["class","parameter"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Type:"])),(e()(),i.ab(28,0,null,null,0,"select",[["class","m1disable"],["data-class","true"],["data-enum","true"],["data-primitive","true"]],null,null,null,null,null)),(e()(),i.ab(29,0,null,null,2,"label",[["class","attribute"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Type:"])),(e()(),i.ab(31,0,null,null,0,"select",[["class","m1disable"],["data-enum","true"],["data-primitive","true"]],null,null,null,null,null)),(e()(),i.ab(32,0,null,null,2,"label",[["class","reference"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Target Type:"])),(e()(),i.ab(34,0,null,null,0,"select",[["class","m1disable"],["data-class","true"]],null,null,null,null,null)),(e()(),i.ab(35,0,null,null,2,"label",[["class","attribute m2hide"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Value:"])),(e()(),i.ab(37,0,null,null,0,"input",[["class","attributeValue"],["placeholder","[ empty ]"],["type","text"]],null,null,null,null,null)),(e()(),i.ab(38,0,null,null,2,"label",[["class","reference"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Is containment:"])),(e()(),i.ab(40,0,null,null,0,"input",[["class","referenceContainment m1disable"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(41,0,null,null,2,"label",[["class","parameter"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Is ordered:"])),(e()(),i.ab(43,0,null,null,0,"input",[["class","ordered m1disable"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(44,0,null,null,2,"label",[["class","parameter"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Values are unique:"])),(e()(),i.ab(46,0,null,null,0,"input",[["class","unique m1disable"],["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(47,0,null,null,2,"label",[["class","attribute reference parameter"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["LowerBound:"])),(e()(),i.ab(49,0,null,null,0,"input",[["class","lowerbound m1disable"],["min","-1"],["placeholder","-1"],["step","1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(50,0,null,null,2,"label",[["class","attribute reference parameter"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["UpperBound:"])),(e()(),i.ab(52,0,null,null,0,"input",[["class","upperbound m1disable"],["min","-1"],["placeholder","-1"],["step","1"],["type","number"]],null,null,null,null,null)),(e()(),i.ab(53,0,null,null,2,"label",[["class","operation"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Exceptions:"])),(e()(),i.ab(55,0,null,null,0,"input",[["class","exceptions"],["placeholder","throwable exceptions, comma-separated."]],null,null,null,null,null)),(e()(),i.ab(56,0,null,null,5,"div",[["class","replaceVarOn model"]],null,null,null,null,null)),(e()(),i.ab(57,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Packages: ($##childrens.length$)"])),(e()(),i.ab(59,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(60,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(61,0,null,null,0,"div",[["class","content list packageList"]],null,null,null,null,null)),(e()(),i.ab(62,0,null,null,5,"div",[["class","replaceVarOn package"]],null,null,null,null,null)),(e()(),i.ab(63,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Classes: ($##classes.length$)"])),(e()(),i.ab(65,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(66,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(67,0,null,null,0,"div",[["class","content classList"]],null,null,null,null,null)),(e()(),i.ab(68,0,null,null,5,"div",[["class","replaceVarOn package"]],null,null,null,null,null)),(e()(),i.ab(69,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Enumerations: ($##enums.length$)"])),(e()(),i.ab(71,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(72,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(73,0,null,null,0,"div",[["class","content enumList"]],null,null,null,null,null)),(e()(),i.ab(74,0,null,null,5,"div",[["class","replaceVarOn class"]],null,null,null,null,null)),(e()(),i.ab(75,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Attributes: ($##attributes.length$)"])),(e()(),i.ab(77,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(78,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(79,0,null,null,0,"div",[["class","content attributeList"]],null,null,null,null,null)),(e()(),i.ab(80,0,null,null,5,"div",[["class","replaceVarOn class"]],null,null,null,null,null)),(e()(),i.ab(81,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["References: ($##references.length$)"])),(e()(),i.ab(83,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(84,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(85,0,null,null,0,"div",[["class","content referenceList"]],null,null,null,null,null)),(e()(),i.ab(86,0,null,null,5,"div",[["class","replaceVarOn class"]],null,null,null,null,null)),(e()(),i.ab(87,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Operations: ($##operations.length$)"])),(e()(),i.ab(89,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(90,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(91,0,null,null,0,"div",[["class","content operationList"]],null,null,null,null,null)),(e()(),i.ab(92,0,null,null,5,"div",[["class","replaceVarOn operation"]],null,null,null,null,null)),(e()(),i.ab(93,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Parameters: ($##childrens.length$ + 1)"])),(e()(),i.ab(95,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(96,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(97,0,null,null,0,"div",[["class","content parameterList"]],null,null,null,null,null)),(e()(),i.ab(98,0,null,null,5,"div",[["class","replaceVarOn enum"]],null,null,null,null,null)),(e()(),i.ab(99,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Literals: ($##childrens.length$)"])),(e()(),i.ab(101,0,null,null,2,"div",[["class","wastemplate list"]],null,null,null,null,null)),(e()(),i.ab(102,0,null,null,0,"div",[["class","minimizer"]],null,null,null,null,null)),(e()(),i.ab(103,0,null,null,0,"div",[["class","content literalList"]],null,null,null,null,null))],null,null)}var z=n("2/r/");class L{constructor(){}static graphMain(){null!==z.pb.status||setTimeout(L.graphMain,1e3)}ngOnInit(){L.graphMain()}}var U=i.Y({encapsulation:0,styles:[".addFieldButtonContainer[_ngcontent-%COMP%]{ display: flex; max-height: 20px; min-height: 20px; overflow: hidden;}\n            .addFieldButtonContainer[_ngcontent-%COMP%]{ opacity: 0; padding-top: 20px; }\n            .Vertex[_ngcontent-%COMP%]:hover   .addFieldButtonContainer[_ngcontent-%COMP%]{ opacity: 1; padding-top: 0; }",".addFieldButtonContainer[_ngcontent-%COMP%]{ display: flex; max-height: 20px; min-height: 20px; overflow: hidden;}\n            .addFieldButtonContainer[_ngcontent-%COMP%]{ opacity: 0; padding-top: 20px; }\n            .Vertex[_ngcontent-%COMP%]:hover   .addFieldButtonContainer[_ngcontent-%COMP%]{ opacity: 1; padding-top: 0; }",["foreignObject.Class *{cursor:default}  foreignObject.Class input, foreignObject.Class[_ngcontent-%COMP%]   [contenteditable=true][_ngcontent-%COMP%], foreignObject.Class[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{cursor:text}  foreignObject.Class select{cursor:pointer}  .viewpointShell{max-width:107px;overflow:visible;position:absolute;right:10px;top:10px}  .viewpointrow.template{display:none}  .viewpointrow button{display:none;height:21px;width:21px;min-width:21px;float:right}  .viewpointrow:hover button{display:inline-block}  .viewpointrow{background-color:transparent;display:-webkit-box;display:flex;position:relative}  .viewpointrow:hover .buttons{z-index:1;position:absolute;display:-webkit-box;display:flex;top:100%;right:0}  .viewpointrow>label{display:-webkit-inline-box;display:inline-flex;margin:auto auto auto 0}  .viewpointrow>label.name{-webkit-box-flex:1;flex-grow:1;flex-basis:0;min-width:0}  .viewpointrow input[type=text]{min-width:0;height:21px;background:0 0;border:none}  .viewpointrow input[type=checkbox],   .viewpointrow input[type=radio]{width:17px;min-width:17px;height:17px}  .viewpointrow button{margin:auto;background-color:transparent}  .viewpointrow input[readonly]{background-color:transparent;border:none}  .viewpointrow input.name{opacity:.75}  .viewpointrow[islastvp=true] input.name{opacity:1}.MMDefaultStyles[_ngcontent-%COMP%], .template[_ngcontent-%COMP%]{display:none}.tabContent[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-flow:nowrap}.HiddenStructures[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:none}.editorShell[_ngcontent-%COMP%], .propertyBarContainer[_ngcontent-%COMP%], .property_sidebar[_ngcontent-%COMP%]{flex-basis:0;-webkit-box-flex:1;flex-grow:1;background-color:var(--mainBackgroundColor);width:calc(var(--sidebarW));overflow:hidden}.sidebarShell[_ngcontent-%COMP%]{border-right:var(--mainBorder)}.propertyBarContainer[_ngcontent-%COMP%]{border-left:var(--mainBorder)}.editorShell[_ngcontent-%COMP%]{-webkit-box-flex:3;flex-grow:3}#metamodel_sidebar[_ngcontent-%COMP%], #model_sidebar[_ngcontent-%COMP%], .property_sidebar[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:start;align-items:flex-start;align-content:flex-start;padding-right:5px}#metamodel_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child, #model_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child, #sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{background-color:var(--mainBorderColor);width:var(--mainBorderWidth);right:0}#metamodel_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child), #model_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child), #sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){padding:2px;max-width:200px;min-width:75px;flex-basis:75px;-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.sidebarVertex[_ngcontent-%COMP%]:hover{background-color:var(--mainBorderColor);border:2px solid var(--secondaryBorderColor);padding:0}.sidebarVertex[_ngcontent-%COMP%]{min-width:50px;min-height:50px;flex-basis:50px}@media all and (min-width:200px){.sidebarVertex[_ngcontent-%COMP%]{-webkit-box-flex:0;flex-grow:0}}#metamodel_editor[_ngcontent-%COMP%], #model_editor[_ngcontent-%COMP%]{width:100%;height:100%}  .propertyBarContainer .mat-tab-label{display:-webkit-box;display:flex;height:20px;-webkit-box-flex:1;flex-grow:1;flex-basis:0;min-width:0!important;max-width:50%!important}  .propertyBarContainer .mat-tab-header-pagination{display:none!important}.rawContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;height:100%}h2.rawTitle[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-left:auto;margin-right:auto}.rawecore[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;flex-shrink:1}"]],data:{}});function H(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,115,"div",[["class","verticalFillingContainer"]],null,null,null,null,null)),(e()(),i.ab(1,0,null,null,45,"div",[["class","verticalFiller horizontalFillingContainer"]],null,null,null,null,null)),(e()(),i.ab(2,0,null,null,1,"div",[["class","sidebarShell resizableBorder"],["data-resizableRight","true"]],null,null,null,null,null)),(e()(),i.ab(3,0,null,null,0,"div",[["id","metamodel_sidebar"]],null,null,null,null,null)),(e()(),i.ab(4,0,null,null,22,"div",[["class","editorShell horizontalFiller"]],null,null,null,null,null)),(e()(),i.ab(5,0,null,null,16,"ul",[["class","viewpointShell"]],null,null,null,null,null)),(e()(),i.ab(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Viewpoints"])),(e()(),i.ab(8,0,null,null,4,"li",[["class","viewpointrow default"]],null,null,null,null,null)),(e()(),i.ab(9,0,null,null,3,"label",[["class","name"]],null,null,null,null,null)),(e()(),i.ab(10,0,null,null,0,"input",[["checked",""],["type","radio"]],null,null,null,null,null)),(e()(),i.ab(11,0,null,null,0,"input",[["class","name form-control-sm"],["readonly",""],["type","text"],["value","Default"]],null,null,null,null,null)),(e()(),i.ab(12,0,null,null,0,"button",[["class","duplicate"]],null,null,null,null,null)),(e()(),i.ab(13,0,null,null,8,"li",[["class","viewpointrow template"]],null,null,null,null,null)),(e()(),i.ab(14,0,null,null,1,"label",[["class","checkbox"]],null,null,null,null,null)),(e()(),i.ab(15,0,null,null,0,"input",[["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(16,0,null,null,5,"label",[["class","name"]],null,null,null,null,null)),(e()(),i.ab(17,0,null,null,0,"input",[["class","name form-control-sm"],["type","text"]],null,null,null,null,null)),(e()(),i.ab(18,0,null,null,3,"span",[["class","buttons"]],null,null,null,null,null)),(e()(),i.ab(19,0,null,null,0,"button",[["class","duplicate"]],null,null,null,null,null)),(e()(),i.ab(20,0,null,null,0,"button",[["class","edit"]],null,null,null,null,null)),(e()(),i.ab(21,0,null,null,0,"button",[["class","remove"]],null,null,null,null,null)),(e()(),i.ab(22,0,null,null,3,":svg:svg",[["class","graph"],["id","metamodel_editor"]],null,null,null,null,null)),(e()(),i.ab(23,0,null,null,2,":svg:g",[["class","gridContainer"]],null,null,null,null,null)),(e()(),i.ab(24,0,null,null,0,":svg:defs",[],null,null,null,null,null)),(e()(),i.ab(25,0,null,null,0,":svg:rect",[["class","grid"]],null,null,null,null,null)),(e()(),i.ab(26,0,null,null,0,"div",[["id","metamodel_navigatorOutlineContainer"]],null,null,null,null,null)),(e()(),i.ab(27,0,null,null,19,"div",[["class","UtabContainer propertyBarContainer resizableBorder"],["data-resizableLeft","true"],["data-selectedTab","2"],["style","width:20%"]],null,null,null,null,null)),(e()(),i.ab(28,0,null,null,6,"ul",[["class","UtabHeaderContainer"]],null,null,null,null,null)),(e()(),i.ab(29,0,null,null,1,"li",[["class","UtabHeader"],["data-target","1"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Style"])),(e()(),i.ab(31,0,null,null,1,"li",[["class","UtabHeader"],["data-target","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Structured"])),(e()(),i.ab(33,0,null,null,1,"li",[["class","UtabHeader"],["data-target","3"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Raw"])),(e()(),i.ab(35,0,null,null,11,"div",[["class","UtabContentContainer"]],null,null,null,null,null)),(e()(),i.ab(36,0,null,null,2,"div",[["class","UtabContent"],["data-target","1"]],null,null,null,null,null)),(e()(),i.ab(37,0,null,null,1,"app-style-editor",[],null,null,null,D,O)),i.Z(38,114688,null,0,I.b,[],null,null),(e()(),i.ab(39,0,null,null,2,"div",[["class","UtabContent"],["data-target","2"]],null,null,null,null,null)),(e()(),i.ab(40,0,null,null,1,"app-property-barr",[],null,null,null,j,R)),i.Z(41,114688,null,0,N,[],null,null),(e()(),i.ab(42,0,null,null,4,"div",[["class","UtabContent"],["data-target","3"]],null,null,null,null,null)),(e()(),i.ab(43,0,null,null,3,"div",[["class","rawContainer"]],null,null,null,null,null)),(e()(),i.ab(44,0,null,null,1,"h2",[["class","rawTitle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Raw eCore fragment"])),(e()(),i.ab(46,0,null,null,0,"textarea",[["class","rawecore"]],null,null,null,null,null)),(e()(),i.ab(47,0,null,null,0,"div",[["class","mmconsole resizableBorder"],["data-resizableTop","true"]],null,null,null,null,null)),(e()(),i.ab(48,0,null,null,0,"div",[["class","MMDefaultStyles customized"]],null,null,null,null,null)),(e()(),i.ab(49,0,null,null,66,"div",[["class","MMDefaultStyles immutable"]],null,null,null,null,null)),(e()(),i.ab(50,0,null,null,23,"foreignobject",[["class","template Class"],["height","40"],["width","200"],["x","0"],["y","0"]],null,null,null,null,null)),(e()(),i.ab(51,0,null,null,22,"div",[["class","Class Vertex vertexShell"],["data-autosize","1"],["style","background:white; height:auto; width:100%; overflow: auto;"]],null,null,null,null,null)),(e()(),i.ab(52,0,null,null,3,"div",[["class","VertexHeader"],["style","height:20px; width:100%; text-align:center; display:flex;"]],null,null,null,null,null)),(e()(),i.ab(53,0,null,null,0,"input",[["pattern","[A-Za-z0-9_$]+"],["placeholder","Object name"],["style","border:none; text-align:right; order:1; flex-grow:1; flex-shrink:1; flex-basis:10px; min-width:10px; color:black; border:none; padding-right:4px;"],["value","$##name$"]],null,null,null,null,null)),(e()(),i.ab(54,0,null,null,1,"div",[["style","text-align:left; order:2; flex-grow:1; flex-shrink:1; flex-basis:10px; color:dodgerblue; margin:auto; padding-left:4px;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["(Class)"])),(e()(),i.ab(56,0,null,null,0,"div",[["class","specialjs AttributeContainer"],["style","display: flex; flex-direction: column;"]],null,null,null,null,null)),(e()(),i.ab(57,0,null,null,0,"div",[["class","specialjs ReferenceContainer"],["style","display: flex; flex-direction: column;"]],null,null,null,null,null)),(e()(),i.ab(58,0,null,null,0,"div",[["class","specialjs OperationContainer"],["style","display: flex; flex-direction: column;"]],null,null,null,null,null)),(e()(),i.ab(59,0,null,null,14,"div",[["class","addFieldButtonContainer"],["style","width: 100%; text-align: center;"]],null,null,null,null,null)),(e()(),i.ab(60,0,null,null,1,"span",[["style","display:flex; margin:auto;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Add"])),(e()(),i.ab(62,0,null,null,7,"select",[["class","AddFieldSelect"],["style","display:flex; margin:auto;"]],null,null,null,null,null)),(e()(),i.ab(63,0,null,null,6,"optgroup",[["label","FeatureType"]],null,null,null,null,null)),(e()(),i.ab(64,0,null,null,1,"option",[["selected",""],["value","Attribute"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Attribute"])),(e()(),i.ab(66,0,null,null,1,"option",[["value","Reference"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Reference"])),(e()(),i.ab(68,0,null,null,1,"option",[["value","Operation"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Operation"])),(e()(),i.ab(70,0,null,null,1,"span",[["style","display:flex; margin:auto;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["field"])),(e()(),i.ab(72,0,null,null,1,"button",[["class","addFieldButton"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Go"])),(e()(),i.ab(74,0,null,null,17,"foreignobject",[["class","template EEnum"],["height","40"],["width","200"],["x","0"],["y","0"]],null,null,null,null,null)),(e()(),i.ab(75,0,null,null,16,"div",[["class","Class Vertex vertexShell EEnum"],["data-autosize","1"],["style","background:white; height:auto; width:100%; overflow: auto;"]],null,null,null,null,null)),(e()(),i.ab(76,0,null,null,3,"div",[["class","VertexHeader"],["style","height:20px; width:100%; text-align:center; display:flex;"]],null,null,null,null,null)),(e()(),i.ab(77,0,null,null,0,"input",[["pattern","[A-Za-z0-9_$]+"],["placeholder","Object name"],["style","border:none; text-align:right; order:1; flex-grow:1; flex-shrink:1; flex-basis:10px; min-width:10px; color:black; border:none; padding-right:4px;"],["value","$##name$"]],null,null,null,null,null)),(e()(),i.ab(78,0,null,null,1,"div",[["style","text-align:left; order:2; flex-grow:1; flex-shrink:1; flex-basis:10px; color:red; margin:auto; padding-left:4px;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["(Enum)"])),(e()(),i.ab(80,0,null,null,0,"div",[["class","specialjs LiteralContainer"],["style","display: flex; flex-direction: column;"]],null,null,null,null,null)),(e()(),i.ab(81,0,null,null,10,"div",[["class","addFieldButtonContainer"],["style","width: 100%; text-align: center;"]],null,null,null,null,null)),(e()(),i.ab(82,0,null,null,1,"span",[["style","display:flex; margin:auto;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Add"])),(e()(),i.ab(84,0,null,null,3,"select",[["class","AddFieldSelect"],["disabled",""],["style","display:flex; margin:auto;"]],null,null,null,null,null)),(e()(),i.ab(85,0,null,null,2,"optgroup",[["label","FeatureType"]],null,null,null,null,null)),(e()(),i.ab(86,0,null,null,1,"option",[["selected",""],["value","Literal"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Literal"])),(e()(),i.ab(88,0,null,null,1,"span",[["style","display:flex; margin:auto;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["field"])),(e()(),i.ab(90,0,null,null,1,"button",[["class","addFieldButton"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Go"])),(e()(),i.ab(92,0,null,null,2,"div",[["class","template Reference"],["style","height: 22px; width: 100%; display:flex; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(93,0,null,null,0,"select",[["data-class","true"],["style","border:none; display:flex; order:3; flex-grow:1; flex-basis:0; min-width:0;"]],null,null,null,null,null)),(e()(),i.ab(94,0,null,null,0,"input",[["pattern","[A-Za-z0-9_$]+"],["placeholder","Reference Name"],["style","border:none; order: 1; flex-basis:10px; flex-grow:2; flex-shrink:2; min-width:3px;"],["type","text"],["value","$##name$"]],null,null,null,null,null)),(e()(),i.ab(95,0,null,null,2,"div",[["class","template Attribute EString EInteger"],["style","height:22px; width:100%; display:flex; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(96,0,null,null,0,"select",[["data-enum","true"],["data-primitive","true"],["style","border:none; display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;"]],null,null,null,null,null)),(e()(),i.ab(97,0,null,null,0,"input",[["pattern","[A-Za-z0-9_$]+"],["placeholder","Attribute Name"],["style","border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;"],["type","text"],["value","$##name$"]],null,null,null,null,null)),(e()(),i.ab(98,0,null,null,3,"div",[["class","template ELiteral"],["style","height:22px; width:100%; display:flex; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(99,0,null,null,0,"input",[["class","value"],["placeholder","auto"],["style","border:none; display: flex; width: 30px;"],["type","number"],["value","$##ordinal$"]],null,null,null,null,null)),(e()(),i.ab(100,0,null,null,0,"input",[["class","name"],["pattern","[A-Za-z0-9_$]+"],["placeholder","name"],["style","border:none; display:flex; flex-grow:1; flex-shrink:1; flex-basis:3px; min-width:3px;"],["type","text"],["value","$##name$"]],null,null,null,null,null)),(e()(),i.ab(101,0,null,null,0,"input",[["class","literal"],["placeholder","literal"],["style","border:none; display:flex; flex-grow:1; text-align: right; flex-basis:3px; min-width:3px;"],["type","text"],["value","$$#literal$"]],null,null,null,null,null)),(e()(),i.ab(102,0,null,null,8,"div",[["class","template Operation"],["style","width:100%; display:flex; box-sizing:content-box; flex-flow:column;"]],null,null,null,null,null)),(e()(),i.ab(103,0,null,null,0,"div",[["class","specialjs signature"],["data-maxargumentchars","10"],["data-maxarguments","2"],["style","height:21px; min-width:100%"]],null,null,null,null,null)),(e()(),i.ab(104,0,null,null,6,"div",[["class","specialjs operationDetail"],["style","margin:2px; padding:2px; order:2; border: 3px solid #28a745; border-top-color: transparent; margin-top:0;"]],null,null,null,null,null)),(e()(),i.ab(105,0,null,null,2,"div",[["style","display: flex; width: 100%;"]],null,null,null,null,null)),(e()(),i.ab(106,0,null,null,0,"select",[["data-class","true"],["data-enum","true"],["data-primitive","true"],["data-void","true"],["style","border:none; display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;"]],null,null,null,null,null)),(e()(),i.ab(107,0,null,null,0,"input",[["disabled",""],["pattern","[A-Za-z0-9_$]+"],["placeholder","Return Type"],["style","border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;"],["type","text"],["value","Return type"]],null,null,null,null,null)),(e()(),i.ab(108,0,null,null,2,"div",[["class","parameterList"],["style","display: flex; width: 100%; flex-flow:column;"]],null,null,null,null,null)),(e()(),i.ab(109,0,null,null,1,"button",[["class","addParameterButton btn btn-sm btn-success"],["style","width: 100%; height: 22px; padding:0; text-align: center"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["+"])),(e()(),i.ab(111,0,null,null,4,"div",[["class","template Parameter"],["style","height: 22px; width: 100%; border-bottom: 1px solid lightgray; display:flex; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(112,0,null,null,0,"select",[["data-class","true"],["data-enum","true"],["data-primitive","true"],["style","border:none; display:flex; order:2; flex-grow:1; flex-shrink:1; flex-basis:3px; min-width:3px; text-align: right;"]],null,null,null,null,null)),(e()(),i.ab(113,0,null,null,0,"input",[["pattern","[A-Za-z0-9_$]*"],["placeholder","Parameter Name"],["style","border:none; display: flex; order: 1; flex-basis:10px; flex-grow:1; flex-shrink:1; min-width:3px;"],["type","text"],["value","$##name$"]],null,null,null,null,null)),(e()(),i.ab(114,0,null,null,1,"button",[["style","order: 3; padding:0 5px;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["X"]))],(function(e,t){e(t,38,0),e(t,41,0)}),null)}class B{constructor(){}ngOnInit(){}}var F=i.Y({encapsulation:0,styles:[[".MDefaultStyles[_ngcontent-%COMP%], .template[_ngcontent-%COMP%]{display:none}.tabContent[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-flow:nowrap}#defaultMGraphHtmlVertex[_ngcontent-%COMP%], #defaultMSidebarHtmlVertex[_ngcontent-%COMP%], .HiddenStructures[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], replace[_ngcontent-%COMP%]{display:none}#mproperty_sidebar[_ngcontent-%COMP%], .editorShell[_ngcontent-%COMP%], .propertyBarContainer[_ngcontent-%COMP%], .sidebarShell[_ngcontent-%COMP%]{flex-basis:0;-webkit-box-flex:1;flex-grow:1;background-color:var(--mainBackgroundColor);width:calc(var(--sidebarW));overflow:hidden}.sidebarShell[_ngcontent-%COMP%]{border-right:var(--mainBorder)}.propertyBarContainer[_ngcontent-%COMP%]{border-left:var(--mainBorder)}.editorShell[_ngcontent-%COMP%]{-webkit-box-flex:3;flex-grow:3}#metamodel_sidebar[_ngcontent-%COMP%], #model_sidebar[_ngcontent-%COMP%], .property_sidebar[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:start;align-items:flex-start;align-content:flex-start;padding-right:5px}#metamodel_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child, #model_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child, #msidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{background-color:var(--mainBorderColor);width:var(--mainBorderWidth);right:0}#metamodel_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child), #model_sidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child), #msidebar[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){padding:2px;max-width:200px;min-width:75px;flex-basis:75px;-webkit-box-flex:1;flex-grow:1;flex-shrink:1}.sidebarVertex[_ngcontent-%COMP%]:hover{background-color:var(--mainBorderColor);border:2px solid var(--secondaryBorderColor);padding:0}.sidebarVertex[_ngcontent-%COMP%]{min-width:50px;min-height:50px;flex-basis:50px}@media all and (min-width:200px){.sidebarVertex[_ngcontent-%COMP%]{-webkit-box-flex:0;flex-grow:0}}#metamodel_editor[_ngcontent-%COMP%], #model_editor[_ngcontent-%COMP%]{width:100%;height:100%}.rawContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;height:100%}h2.rawTitle[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-left:auto;margin-right:auto}.rawecore[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;flex-shrink:1}"]],data:{}});function V(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,80,"div",[["class","verticalFillingContainer"]],null,null,null,null,null)),(e()(),i.ab(1,0,null,null,45,"div",[["class","verticalFiller horizontalFillingContainer"]],null,null,null,null,null)),(e()(),i.ab(2,0,null,null,1,"div",[["class","sidebarShell resizableBorder"],["data-resizableRight","true"]],null,null,null,null,null)),(e()(),i.ab(3,0,null,null,0,"div",[["id","model_sidebar"]],null,null,null,null,null)),(e()(),i.ab(4,0,null,null,22,"div",[["class","editorShell horizontalFiller"]],null,null,null,null,null)),(e()(),i.ab(5,0,null,null,16,"ul",[["class","viewpointShell"]],null,null,null,null,null)),(e()(),i.ab(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),i.lb(-1,null,["Viewpoints"])),(e()(),i.ab(8,0,null,null,4,"li",[["class","viewpointrow default"]],null,null,null,null,null)),(e()(),i.ab(9,0,null,null,3,"label",[["class","name"]],null,null,null,null,null)),(e()(),i.ab(10,0,null,null,0,"input",[["checked",""],["type","radio"]],null,null,null,null,null)),(e()(),i.ab(11,0,null,null,0,"input",[["class","name form-control-sm"],["readonly",""],["type","text"],["value","Default"]],null,null,null,null,null)),(e()(),i.ab(12,0,null,null,0,"button",[["class","duplicate"]],null,null,null,null,null)),(e()(),i.ab(13,0,null,null,8,"li",[["class","viewpointrow template"]],null,null,null,null,null)),(e()(),i.ab(14,0,null,null,1,"label",[["class","checkbox"]],null,null,null,null,null)),(e()(),i.ab(15,0,null,null,0,"input",[["type","checkbox"]],null,null,null,null,null)),(e()(),i.ab(16,0,null,null,5,"label",[["class","name"]],null,null,null,null,null)),(e()(),i.ab(17,0,null,null,0,"input",[["class","name form-control-sm"],["type","text"]],null,null,null,null,null)),(e()(),i.ab(18,0,null,null,3,"span",[["class","buttons"]],null,null,null,null,null)),(e()(),i.ab(19,0,null,null,0,"button",[["class","duplicate"]],null,null,null,null,null)),(e()(),i.ab(20,0,null,null,0,"button",[["class","edit"]],null,null,null,null,null)),(e()(),i.ab(21,0,null,null,0,"button",[["class","remove"]],null,null,null,null,null)),(e()(),i.ab(22,0,null,null,3,":svg:svg",[["class","graph"],["id","model_editor"]],null,null,null,null,null)),(e()(),i.ab(23,0,null,null,2,":svg:g",[["class","gridContainer"]],null,null,null,null,null)),(e()(),i.ab(24,0,null,null,0,":svg:defs",[],null,null,null,null,null)),(e()(),i.ab(25,0,null,null,0,":svg:rect",[["class","grid"]],null,null,null,null,null)),(e()(),i.ab(26,0,null,null,0,"div",[["id","model_navigatorOutlineContainer"]],null,null,null,null,null)),(e()(),i.ab(27,0,null,null,19,"div",[["class","UtabContainer propertyBarContainer resizableBorder"],["data-resizableLeft","true"],["data-selectedTab","2"],["style","width:20%"]],null,null,null,null,null)),(e()(),i.ab(28,0,null,null,6,"ul",[["class","UtabHeaderContainer"]],null,null,null,null,null)),(e()(),i.ab(29,0,null,null,1,"li",[["class","UtabHeader"],["data-target","1"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Style"])),(e()(),i.ab(31,0,null,null,1,"li",[["class","UtabHeader"],["data-target","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Structured"])),(e()(),i.ab(33,0,null,null,1,"li",[["class","UtabHeader"],["data-target","3"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Raw"])),(e()(),i.ab(35,0,null,null,11,"div",[["class","UtabContentContainer"]],null,null,null,null,null)),(e()(),i.ab(36,0,null,null,2,"div",[["class","UtabContent"],["data-target","1"]],null,null,null,null,null)),(e()(),i.ab(37,0,null,null,1,"app-style-editor",[],null,null,null,D,O)),i.Z(38,114688,null,0,I.b,[],null,null),(e()(),i.ab(39,0,null,null,2,"div",[["class","UtabContent"],["data-target","2"]],null,null,null,null,null)),(e()(),i.ab(40,0,null,null,1,"app-property-barr",[],null,null,null,j,R)),i.Z(41,114688,null,0,N,[],null,null),(e()(),i.ab(42,0,null,null,4,"div",[["class","UtabContent"],["data-target","3"]],null,null,null,null,null)),(e()(),i.ab(43,0,null,null,3,"div",[["class","rawContainer"]],null,null,null,null,null)),(e()(),i.ab(44,0,null,null,1,"h2",[["class","rawTitle"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Raw eCore fragment"])),(e()(),i.ab(46,0,null,null,0,"textarea",[["class","rawecore"]],null,null,null,null,null)),(e()(),i.ab(47,0,null,null,0,"div",[["class","mconsole resizableBorder"],["data-resizableTop","true"]],null,null,null,null,null)),(e()(),i.ab(48,0,null,null,0,"div",[["class","MDefaultStyles customized"]],null,null,null,null,null)),(e()(),i.ab(49,0,null,null,31,"div",[["class","MDefaultStyles immutable"]],null,null,null,null,null)),(e()(),i.ab(50,0,null,null,7,"foreignobject",[["class","template Class"],["height","40"],["width","200"],["x","0"],["y","0"]],null,null,null,null,null)),(e()(),i.ab(51,0,null,null,6,"div",[["class","Class Vertex vertexShell"],["data-autosize","1"],["style","background:white; height:auto; width:100%; overflow: auto;"]],null,null,null,null,null)),(e()(),i.ab(52,0,null,null,2,"div",[["class","VertexHeader"],["style","height:20px; width:100%; text-align:center; display:flex;"]],null,null,null,null,null)),(e()(),i.ab(53,0,null,null,1,"div",[["style","text-align:center; order:2; flex-grow:1; flex-shrink:1; flex-basis:10px; color:dodgerblue; margin:auto; padding-left:4px;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["($##metaParent.name$)"])),(e()(),i.ab(55,0,null,null,0,"div",[["class","specialjs AttributeContainer"],["style","display: flex; flex-direction: column;"]],null,null,null,null,null)),(e()(),i.ab(56,0,null,null,0,"div",[["class","specialjs ReferenceContainer"],["style","display: flex; flex-direction: column;"]],null,null,null,null,null)),(e()(),i.ab(57,0,null,null,0,"div",[["class","specialjs OperationContainer"],["style","display: flex; flex-direction: column;"]],null,null,null,null,null)),(e()(),i.ab(58,0,null,null,6,"div",[["class","template Reference"],["style","height:22px; width: 100%; display:flex; margin:auto; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(59,0,null,null,1,"span",[["style","display:flex; order:0; flex-grow:1; flex-shrink:1; margin:auto; color:darkorange;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["*$##metaParent.type.printablename$"])),(e()(),i.ab(61,0,null,null,1,"span",[["style","display:flex; order:1; flex-basis:10px; flex-grow:2; flex-shrink:2; min-width:3px; margin:auto;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["$##metaParent.name$"])),(e()(),i.ab(63,0,null,null,1,"button",[["class","LinkVertex"],["style","order:3; width:22px; height:22px; padding:0; margin:auto;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["->"])),(e()(),i.ab(65,0,null,null,5,"div",[["class","template Attribute"],["style","height:22px; width:100%; display:flex; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(66,0,null,null,1,"span",[["style","order:0; flex-basis:10px; flex-grow:2; flex-shrink:2; min-width:3px; margin:auto; color:darkorange;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["$##metaParent.type.printablename$"])),(e()(),i.ab(68,0,null,null,1,"span",[["style","order:1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px; margin:auto;"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["$##metaParent.name$\xa0=\xa0"])),(e()(),i.ab(70,0,null,null,0,"input",[["placeholder","empty string"],["style","border: none; order:2; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;"],["type","text"],["value","$##valuesStr$"]],null,null,null,null,null)),(e()(),i.ab(71,0,null,null,6,"div",[["class","template Operation"],["style","height: 22px; width: 100%; display:flex; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(72,0,null,null,0,"div",[["class","specialjs signature"],["data-maxargumentchars","10"],["data-maxarguments","2"],["style","min-width:100%"]],null,null,null,null,null)),(e()(),i.ab(73,0,null,null,4,"div",[["class","specialjs operationDetail"],["style","margin:2px; padding:2px; order:2; border: 3px solid #28a745; border-top-color: transparent; margin-top:0;"]],null,null,null,null,null)),(e()(),i.ab(74,0,null,null,2,"div",[["style","display: flex; width: 100%;"]],null,null,null,null,null)),(e()(),i.ab(75,0,null,null,0,"select",[["data-class","true"],["data-enum","true"],["data-primitive","true"],["data-void","true"],["disabled",""],["style","border:none; display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;"]],null,null,null,null,null)),(e()(),i.ab(76,0,null,null,0,"input",[["disabled",""],["pattern","[A-Za-z0-9_$]+"],["placeholder","Operation Name"],["style","border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;"],["type","text"],["value","$##name$"]],null,null,null,null,null)),(e()(),i.ab(77,0,null,null,0,"div",[["class","parameterList"],["style","display: flex; width: 100%;"]],null,null,null,null,null)),(e()(),i.ab(78,0,null,null,2,"div",[["class","template Parameter"],["style","height: 22px; width: 100%; display:flex; box-sizing:content-box;"]],null,null,null,null,null)),(e()(),i.ab(79,0,null,null,0,"select",[["data-class","true"],["data-enum","true"],["data-primitive","true"],["disabled",""],["style","border:none;display:flex; order:2; flex-grow:2; flex-shrink:2; flex-basis:3px; min-width:3px; text-align: right;"]],null,null,null,null,null)),(e()(),i.ab(80,0,null,null,0,"input",[["disabled",""],["pattern","[A-Za-z0-9_$]*"],["placeholder","Parameter Name"],["style","border:none; display: flex; order: 1; flex-basis:10px; flex-grow:3; flex-shrink:3; min-width:3px;"],["type","text"],["value","$##name$"]],null,null,null,null,null))],(function(e,t){e(t,38,0),e(t,41,0)}),null)}var $=i.Y({encapsulation:2,styles:[['.RatioBox{position:relative;width:50%}.RatioBox:before{content:"";display:block;padding-top:100%}.RatioContent{position:absolute;top:0;left:0;bottom:0;right:0}.sidebarClassContainer{padding-top:16px;padding-left:10px;padding-right:5px}.sidebarNode{cursor:pointer;margin-bottom:10px}.sidebarNodeName{display:-webkit-box;display:flex;margin:auto}.modelTab{background-color:var(--mainBackgroundColor);margin-top:-11px}.mat-tab-label{border-top-left-radius:20px;border-top-right-radius:20px;border:var(--mainBorder);border-bottom:unset;opacity:1!important;width:160px!important;background-color:var(--mainBackgroundColor)}.mat-tab-label.mat-tab-label-active{background-color:var(--mainBorderColor)}.mat-tab-label-container{background-color:var(--mainBackgroundColor);border-bottom:var(--mainBorder)}.propertyTab{display:-webkit-box;display:flex;height:40px}h2.rawTitle{display:-webkit-box;display:flex;margin-left:auto;margin-right:auto}.rawecore{display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;flex-shrink:1}']],data:{}});function W(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,12,"div",[["class","UtabContainer main"],["data-selectedTab","1"]],null,null,null,null,null)),(e()(),i.ab(1,0,null,null,4,"ul",[["class","UtabHeaderContainer main"]],null,null,null,null,null)),(e()(),i.ab(2,0,null,null,1,"li",[["class","UtabHeader main"],["data-target","1"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["MetaModel"])),(e()(),i.ab(4,0,null,null,1,"li",[["class","UtabHeader main"],["data-target","2"]],null,null,null,null,null)),(e()(),i.lb(-1,null,["Model"])),(e()(),i.ab(6,0,null,null,6,"div",[["class","UtabContentContainer"]],null,null,null,null,null)),(e()(),i.ab(7,0,null,null,2,"div",[["class","UtabContent main"],["data-target","1"]],null,null,null,null,null)),(e()(),i.ab(8,0,null,null,1,"app-mm-graph-html",[],null,null,null,H,U)),i.Z(9,114688,null,0,L,[],null,null),(e()(),i.ab(10,0,null,null,2,"div",[["class","UtabContent main"],["data-target","2"]],null,null,null,null,null)),(e()(),i.ab(11,0,null,null,1,"app-m-graph-html",[],null,null,null,V,F)),i.Z(12,114688,null,0,B,[],null,null)],(function(e,t){e(t,9,0),e(t,12,0)}),null)}function q(e){return i.mb(0,[(e()(),i.ab(0,0,null,null,1,"app-graph-tab-html",[],null,null,null,W,$)),i.Z(1,114688,null,0,c,[],null,null)],(function(e,t){e(t,1,0)}),null)}var G=i.W("app-graph-tab-html",c,q,{},{},[]);class K{}const Y=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),J=i.cb,X=new i.j("UseV4Plurals");class Z{}class Q extends Z{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):J(t||this.locale)(e)){case Y.Zero:return"zero";case Y.One:return"one";case Y.Two:return"two";case Y.Few:return"few";case Y.Many:return"many";default:return"other"}}}class ee{}const te=new i.j("DocumentToken"),ne="server";let ie=null;function se(){return ie}class le{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class re extends le{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const oe={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ae=3,ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ce={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},he=(()=>{if(i.db.Node)return i.db.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class de extends re{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new de,ie||(ie=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return oe}contains(e,t){return he.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[i];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(e,t),i}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const i=this.getStyle(e,t)||"";return n?i==n:i.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,i){e.setAttributeNS(t,n,i)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===ae&&ce.hasOwnProperty(t)&&(t=ce[t]))}return ue[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=fe||(fe=document.querySelector("base"))?fe.getAttribute("href"):null;return null==t?null:(n=t,pe||(pe=document.createElement("a")),pe.setAttribute("href",n),"/"===pe.pathname.charAt(0)?pe.pathname:"/"+pe.pathname);var n}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let pe,fe=null;function ge(){return!!window.history.pushState}const me=new i.j("TRANSITION_ID"),be=[{provide:i.b,useFactory:function(e,t,n){return()=>{n.get(i.c).donePromise.then(()=>{const n=se();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[me,te,i.k],multi:!0}];class ye{static init(){Object(i.H)(new ye)}addToWindow(e){i.db.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.db.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.db.getAllAngularRootElements=()=>e.getAllRootElements(),i.db.frameworkStabilizers||(i.db.frameworkStabilizers=[]),i.db.frameworkStabilizers.push(e=>{const t=i.db.getAllAngularTestabilities();let n=t.length,s=!1;const l=function(t){s=s||t,0==--n&&e(s)};t.forEach((function(e){e.whenStable(l)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?se().isShadowRoot(t)?this.findTestabilityInTree(e,se().getHost(t),!0):this.findTestabilityInTree(e,se().parentElement(t),!0):null}}function ve(e,t){"undefined"!=typeof COMPILED&&COMPILED||((i.db.ng=i.db.ng||{})[e]=t)}const _e=(()=>({ApplicationRef:i.e,NgZone:i.q}))();function we(e){return Object(i.E)(e)}const xe=new i.j("EventManagerPlugins");class Ce{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class ke{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=se().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}class Ee{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Se extends Ee{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>se().remove(e))}}const Te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Me=/%COMP%/g,Pe="_nghost-%COMP%",Ae="_ngcontent-%COMP%";function Ie(e,t,n){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Ie(e,s,n):(s=s.replace(Me,e),n.push(s))}return n}function Oe(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class De{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ne(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.A.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new ze(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case i.A.Native:case i.A.ShadowDom:return new Le(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Ie(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Ne{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Te[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const s=Te[i];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=Te[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&i.v.DashCase?e.style.setProperty(t,n,s&i.v.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.v.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){je(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return je(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Oe(n)):this.eventManager.addEventListener(e,t,Oe(n))}}const Re=(()=>"@".charCodeAt(0))();function je(e,t){if(e.charCodeAt(0)===Re)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class ze extends Ne{constructor(e,t,n,i){super(e),this.component=n;const s=Ie(i+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr=Ae.replace(Me,i+"-"+n.id),this.hostAttr=Pe.replace(Me,i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Le extends Ne{constructor(e,t,n,s){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=s,this.shadowRoot=s.encapsulation===i.A.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ie(s.id,s.styles,[]);for(let i=0;i<l.length;i++){const e=document.createElement("style");e.textContent=l[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Ue=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),He=Ue("addEventListener"),Be=Ue("removeEventListener"),Fe={},Ve="FALSE",$e="ANGULAR",We="addEventListener",qe="removeEventListener",Ge="__zone_symbol__propagationStopped",Ke="__zone_symbol__stopImmediatePropagation",Ye=(()=>{const e="undefined"!=typeof Zone&&Zone[Ue("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),Je=function(e){return!!Ye&&Ye.hasOwnProperty(e)},Xe=function(e){const t=Fe[e.type];if(!t)return;const n=this[t];if(!n)return;const i=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[Ge];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}}};class Ze extends ke{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return e===ne}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Ke])return;const e=Event.prototype[Ke]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ge]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let s=n;if(!e[He]||i.q.isInAngularZone()&&!Je(t))e[We](t,s,!1);else{let n=Fe[t];n||(n=Fe[t]=Ue($e+t+Ve));let i=e[n];const l=i&&i.length>0;i||(i=e[n]=[]);const r=Je(t)?Zone.root:Zone.current;if(0===i.length)i.push({zone:r,handler:s});else{let e=!1;for(let t=0;t<i.length;t++)if(i[t].handler===s){e=!0;break}e||i.push({zone:r,handler:s})}l||e[He](t,Xe,!1)}return()=>this.removeEventListener(e,t,s)}removeEventListener(e,t,n){let i=e[Be];if(!i)return e[qe].apply(e,[t,n,!1]);let s=Fe[t],l=s&&e[s];if(!l)return e[qe].apply(e,[t,n,!1]);let r=!1;for(let o=0;o<l.length;o++)if(l[o].handler===n){r=!0,l.splice(o,1);break}r?0===l.length&&i.apply(e,[t,Xe,!1]):e[qe].apply(e,[t,n,!1])}}const Qe={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},et=new i.j("HammerGestureConfig"),tt=new i.j("HammerLoader");class nt{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class it extends ke{constructor(e,t,n,i){super(e),this._config=t,this.console=n,this.loader=i}supports(e){return!(!Qe.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let i=!1,s=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=()=>{});i||(s=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),s=()=>{}}),()=>{s()}}return i.runOutsideAngular(()=>{const s=this._config.buildHammer(e),l=function(e){i.runGuarded((function(){n(e)}))};return s.on(t,l),()=>{s.off(t,l),"function"==typeof s.destroy&&s.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const st=["alt","control","meta","shift"],lt={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class rt extends ke{constructor(e){super(e)}supports(e){return null!=rt.parseEventName(e)}addEventListener(e,t,n){const i=rt.parseEventName(t),s=rt.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>se().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const i=rt._normalizeKey(t.pop());let s="";if(st.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),s+=e+".")}),s+=i,0!=t.length||0===i.length)return null;const l={};return l.domEventName=n,l.fullKey=s,l}static getEventFullKey(e){let t="",n=se().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),st.forEach(i=>{i!=n&&(0,lt[i])(e)&&(t+=i+".")}),t+=n}static eventCallback(e,t,n){return i=>{rt.getEventFullKey(i)===e&&n.runGuarded(()=>t(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class ot{}class at extends ot{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case i.x.NONE:return t;case i.x.HTML:return t instanceof ct?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(i.N)(this._doc,String(t)));case i.x.STYLE:return t instanceof ht?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(i.O)(t));case i.x.SCRIPT:if(t instanceof dt)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case i.x.URL:return t instanceof ft||t instanceof pt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(i.P)(String(t)));case i.x.RESOURCE_URL:if(t instanceof ft)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof ut)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new ct(e)}bypassSecurityTrustStyle(e){return new ht(e)}bypassSecurityTrustScript(e){return new dt(e)}bypassSecurityTrustUrl(e){return new pt(e)}bypassSecurityTrustResourceUrl(e){return new ft(e)}}class ut{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class ct extends ut{getTypeName(){return"HTML"}}class ht extends ut{getTypeName(){return"Style"}}class dt extends ut{getTypeName(){return"Script"}}class pt extends ut{getTypeName(){return"URL"}}class ft extends ut{getTypeName(){return"ResourceURL"}}const gt=[{provide:i.s,useValue:"browser"},{provide:i.t,useValue:function(){de.makeCurrent(),ye.init()},multi:!0},{provide:K,useClass:class extends K{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=se().getLocation(),this._history=se().getHistory()}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(e){se().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){se().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){ge()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){ge()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[te]},{provide:te,useFactory:function(){return document},deps:[]}],mt=Object(i.C)(i.G,"browser",gt);function bt(){return new i.h}class yt{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:yt,providers:[{provide:i.a,useValue:e.appId},{provide:me,useExisting:i.a},be]}}}"undefined"!=typeof window&&window;class vt{}class _t{}const wt="*";function xt(e,t=null){return{type:2,steps:e,options:t}}function Ct(e){return{type:6,styles:e,offset:null}}function kt(e){Promise.resolve(null).then(e)}class Et{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class St{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const s=this.players.length;0==s?kt(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==s&&this._onFinish()}),e.onDestroy(()=>{++n==s&&this._onDestroy()}),e.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const Tt="!";function Mt(){return"undefined"!=typeof process}function Pt(e){switch(e.length){case 0:return new Et;case 1:return e[0];default:return new St(e)}}function At(e,t,n,i,s={},l={}){const r=[],o=[];let a=-1,u=null;if(i.forEach(e=>{const n=e.offset,i=n==a,c=i&&u||{};Object.keys(e).forEach(n=>{let i=n,o=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,r),o){case Tt:o=s[n];break;case wt:o=l[n];break;default:o=t.normalizeStyleValue(n,i,o,r)}c[i]=o}),i||o.push(c),u=c,a=n}),r.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${r.join(e)}`)}return o}function It(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&Ot(n,"start",e)));break;case"done":e.onDone(()=>i(n&&Ot(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&Ot(n,"destroy",e)))}}function Ot(e,t,n){const i=n.totalTime,s=Dt(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),l=e._data;return null!=l&&(s._data=l),s}function Dt(e,t,n,i,s="",l=0,r){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:s,totalTime:l,disabled:!!r}}function Nt(e,t,n){let i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function Rt(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let jt=(e,t)=>!1,zt=(e,t)=>!1,Lt=(e,t,n)=>[];const Ut=Mt();(Ut||"undefined"!=typeof Element)&&(jt=(e,t)=>e.contains(t),zt=(()=>{if(Ut||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):zt}})(),Lt=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let Ht=null,Bt=!1;function Ft(e){Ht||(Ht=("undefined"!=typeof document?document.body:null)||{},Bt=!!Ht.style&&"WebkitAppearance"in Ht.style);let t=!0;return Ht.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in Ht.style)&&Bt&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Ht.style),t}const Vt=zt,$t=jt,Wt=Lt;function qt(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}class Gt{validateStyleProperty(e){return Ft(e)}matchesElement(e,t){return Vt(e,t)}containsElement(e,t){return $t(e,t)}query(e,t,n){return Wt(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,s,l=[],r){return new Et(n,i)}}let Kt=(()=>{class e{}return e.NOOP=new Gt,e})();const Yt=1e3,Jt="{{",Xt="ng-enter",Zt="ng-leave",Qt="ng-trigger",en=".ng-trigger",tn="ng-animating",nn=".ng-animating";function sn(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ln(parseFloat(t[1]),t[2])}function ln(e,t){switch(t){case"s":return e*Yt;default:return e}}function rn(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,s=0,l="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=ln(parseFloat(n[1]),n[2]);const r=n[3];null!=r&&(s=ln(parseFloat(r),n[4]));const o=n[5];o&&(l=o)}else i=e;if(!n){let n=!1,l=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(l,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:s,easing:l}}(e,t,n)}function on(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function an(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else on(e,n);return n}function un(e,t,n){return n?t+":"+n+";":""}function cn(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=un(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=un(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function hn(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const s=vn(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[s]),e.style[s]=t[i]}),Mt()&&cn(e))}function dn(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=vn(t);e.style[n]=""}),Mt()&&cn(e))}function pn(e){return Array.isArray(e)?1==e.length?e[0]:xt(e):e}const fn=new RegExp(`${Jt}\\s*(.+?)\\s*}}`,"g");function gn(e){let t=[];if("string"==typeof e){const n=e.toString();let i;for(;i=fn.exec(n);)t.push(i[1]);fn.lastIndex=0}return t}function mn(e,t,n){const i=e.toString(),s=i.replace(fn,(e,i)=>{let s=t[i];return t.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),s=""),s.toString()});return s==i?e:s}function bn(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const yn=/-+([a-z0-9])/g;function vn(e){return e.replace(yn,(...e)=>e[1].toUpperCase())}function _n(e,t){return 0===e||0===t}function wn(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let l=t[0],r=[];if(i.forEach(e=>{l.hasOwnProperty(e)||r.push(e),l[e]=n[e]}),r.length)for(var s=1;s<t.length;s++){let n=t[s];r.forEach((function(t){n[t]=Cn(e,t)}))}}return t}function xn(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Cn(e,t){return window.getComputedStyle(e)[t]}const kn="*";function En(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>(function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const s=i[1],l=i[2],r=i[3];t.push(Mn(s,r)),"<"!=l[0]||s==kn&&r==kn||t.push(Mn(r,s))})(e,n,t)):n.push(e),n}const Sn=new Set(["true","1"]),Tn=new Set(["false","0"]);function Mn(e,t){const n=Sn.has(e)||Tn.has(e),i=Sn.has(t)||Tn.has(t);return(s,l)=>{let r=e==kn||e==s,o=t==kn||t==l;return!r&&n&&"boolean"==typeof s&&(r=s?Sn.has(e):Tn.has(e)),!o&&i&&"boolean"==typeof l&&(o=l?Sn.has(t):Tn.has(t)),r&&o}}const Pn=":self",An=new RegExp(`s*${Pn}s*,?`,"g");function In(e,t,n){return new Dn(e).build(t,n)}const On="";class Dn{constructor(e){this._driver=e}build(e,t){const n=new Nn(t);return this._resetContextStyleTimingState(n),xn(this,pn(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=On,e.collectedStyles={},e.collectedStyles[On]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,s.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const s=this.visitTransition(e,t);n+=s.queryCount,i+=s.depCount,l.push(s)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:l,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const s=new Set,l=i||{};if(n.styles.forEach(e=>{if(Rn(e)){const t=e;Object.keys(t).forEach(e=>{gn(t[e]).forEach(e=>{l.hasOwnProperty(e)||s.add(e)})})}}),s.size){const n=bn(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=xn(this,pn(e.animation),t);return{type:1,matchers:En(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:jn(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>xn(this,e,t)),options:jn(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const s=e.steps.map(e=>{t.currentTime=n;const s=xn(this,e,t);return i=Math.max(i,t.currentTime),s});return t.currentTime=i,{type:3,steps:s,options:jn(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return zn(rn(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=zn(0,0,"");return e.dynamic=!0,e.strValue=i,e}return zn((n=n||rn(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let s=e.styles?e.styles:Ct({});if(5==s.type)i=this.visitKeyframes(s,t);else{let s=e.styles,l=!1;if(!s){l=!0;const e={};n.easing&&(e.easing=n.easing),s=Ct(e)}t.currentTime+=n.duration+n.delay;const r=this.visitStyle(s,t);r.isEmptyStep=l,i=r}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==wt?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,s=null;return n.forEach(e=>{if(Rn(e)){const t=e,n=t.easing;if(n&&(s=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf(Jt)>=0){i=!0;break}}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],r=l[n];let o=!0;r&&(s!=i&&s>=r.startTime&&i<=r.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${r.startTime}ms" and "${r.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),o=!1),s=r.startTime),o&&(l[n]={startTime:s,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},s=gn(e);s.length&&s.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const s=[];let l=!1,r=!1,o=0;const a=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let a=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Rn(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Rn(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),u=0;return null!=a&&(i++,u=n.offset=a),r=r||u<0||u>1,l=l||u<o,o=u,s.push(u),n});r&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");const u=e.steps.length;let c=0;i>0&&i<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return a.forEach((e,i)=>{const l=c>0?i==h?1:c*i:s[i],r=l*f;t.currentTime=d+p.delay+r,p.duration=r,this._validateStyleAst(e,t),e.offset=l,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:xn(this,pn(e.animation),t),options:jn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jn(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jn(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>e==Pn);return t&&(e=e.replace(An,"")),[e=e.replace(/@\*/g,en).replace(/@\w+/g,e=>en+"-"+e.substr(1)).replace(/:animating/g,nn),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,Nt(t.collectedStyles,t.currentQuerySelector,{});const r=xn(this,pn(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:r,originalSelector:e.selector,options:jn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:rn(e.timings,t.errors,!0);return{type:12,animation:xn(this,pn(e.animation),t),timings:n,options:null}}}class Nn{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Rn(e){return!Array.isArray(e)&&"object"==typeof e}function jn(e){var t;return e?(e=on(e)).params&&(e.params=(t=e.params)?on(t):null):e={},e}function zn(e,t,n){return{duration:e,delay:t,easing:n}}function Ln(e,t,n,i,s,l,r=null,o=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:s,delay:l,totalTime:s+l,easing:r,subTimeline:o}}class Un{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hn=1,Bn=new RegExp(":enter","g"),Fn=new RegExp(":leave","g");function Vn(e,t,n,i,s,l={},r={},o,a,u=[]){return(new $n).buildKeyframes(e,t,n,i,s,l,r,o,a,u)}class $n{buildKeyframes(e,t,n,i,s,l,r,o,a,u=[]){a=a||new Un;const c=new qn(e,t,a,i,s,u,[]);c.options=o,c.currentTimeline.setStyles([l],null,c.errors,o),xn(this,n,c);const h=c.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(r).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([r],null,c.errors,o)}return h.length?h.map(e=>e.buildKeyframes()):[Ln(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(n,i,i.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const s=null!=n.duration?sn(n.duration):null,l=null!=n.delay?sn(n.delay):null;return 0!==s&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,s,l);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),xn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&((i=t.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wn);const e=sn(s.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>xn(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?sn(e.options.delay):0;e.steps.forEach(l=>{const r=t.createSubContext(e.options);s&&r.delayNextStep(s),xn(this,l,r),i=Math.max(i,r.currentTimeline.currentTime),n.push(r.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return rn(t.params?mn(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,s=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,e.styles.forEach(e=>{l.forwardTime((e.offset||0)*s),l.setStyles(e.styles,e.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?sn(i.delay):0;s&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wn);let l=n;const r=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=r.length;let o=null;r.forEach((n,i)=>{t.currentQueryIndex=i;const r=t.createSubContext(e.options,n);s&&r.delayNextStep(s),n===t.element&&(o=r.currentTimeline),xn(this,e.animation,r),r.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,r.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),o&&(t.currentTimeline.mergeTimelineCollectedStyles(o),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),r=l*(t.currentQueryTotal-1);let o=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":o=r-o;break;case"full":o=n.currentStaggerTime}const a=t.currentTimeline;o&&a.delayNextStep(o);const u=a.currentTime;xn(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const Wn={};class qn{constructor(e,t,n,i,s,l,r,o){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new Gn(this._driver,t,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=sn(n.duration)),null!=n.delay&&(i.delay=sn(n.delay));const s=n.params;if(s){let e=i.params;e||(e=this.options.params={}),Object.keys(s).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=mn(s[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,s=new qn(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Wn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},s=new Kn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,s,l){let r=[];if(i&&r.push(this.element),e.length>0){e=(e=e.replace(Bn,"."+this._enterClassName)).replace(Fn,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),r.push(...t)}return s||0!=r.length||l.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),r}}class Gn{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Gn(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Hn,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||wt,this._currentKeyframe[e]=wt}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},l=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t)).forEach(e=>{n[e]=wt}):an(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(l).forEach(e=>{const t=mn(l[e],s,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:wt),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,l)=>{const r=an(s,!0);Object.keys(r).forEach(n=>{const i=r[n];i==Tt?e.add(n):i==wt&&t.add(n)}),n||(r.offset=l/this.duration),i.push(r)});const s=e.size?bn(e.values()):[],l=t.size?bn(t.values()):[];if(n){const e=i[0],t=on(e);e.offset=0,t.offset=1,i=[e,t]}return Ln(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class Kn extends Gn{constructor(e,t,n,i,s,l,r=!1){super(e,t,l.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=r,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=n+t,r=t/l,o=an(e[0],!1);o.offset=0,s.push(o);const a=an(e[0],!1);a.offset=Yn(r),s.push(a);const u=e.length-1;for(let i=1;i<=u;i++){let r=an(e[i],!1);r.offset=Yn((t+r.offset*n)/l),s.push(r)}n=l,t=0,i="",e=s}return Ln(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function Yn(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Jn{}class Xn extends Jn{normalizePropertyName(e,t){return vn(e)}normalizeStyleValue(e,t,n,i){let s="";const l=n.toString().trim();if(Zn[t]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return l+s}}const Zn=(()=>(function(e){const t={};return e.forEach(e=>t[e]=!0),t})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Qn(e,t,n,i,s,l,r,o,a,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:n,fromStyles:l,toState:i,toStyles:r,timelines:o,queriedElements:a,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const ei={};class ti{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,s){return e.some(e=>e(t,n,i,s))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],s=this._stateStyles[e],l=i?i.buildStyles(t,n):{};return s?s.buildStyles(t,n):l}build(e,t,n,i,s,l,r,o,a,u){const c=[],h=this.ast.options&&this.ast.options.params||ei,d=this.buildStyles(n,r&&r.params||ei,c),p=o&&o.params||ei,f=this.buildStyles(i,p,c),g=new Set,m=new Map,b=new Map,y="void"===i,v={params:Object.assign({},h,p)},_=u?[]:Vn(e,t,this.ast.animation,s,l,d,f,v,a,c);let w=0;if(_.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),c.length)return Qn(t,this._triggerName,n,i,y,d,f,[],[],m,b,w,c);_.forEach(e=>{const n=e.element,i=Nt(m,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const s=Nt(b,n,{});e.postStyleProps.forEach(e=>s[e]=!0),n!==t&&g.add(n)});const x=bn(g.values());return Qn(t,this._triggerName,n,i,y,d,f,_,x,m,b,w)}}class ni{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=on(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const s=e;Object.keys(s).forEach(e=>{let l=s[e];l.length>1&&(l=mn(l,i,t)),n[e]=l})}}),n}}class ii{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new ni(e.style,e.options&&e.options.params||{})}),si(this.states,"true","1"),si(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new ti(e,t,this.states))}),this.fallbackTransition=new ti(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(s=>s.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function si(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const li=new Un;class ri{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=In(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,s=At(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],s=this._animations[e];let l;const r=new Map;if(s?(l=Vn(this._driver,t,s,Xt,Zt,{},{},n,li,i)).forEach(e=>{const t=Nt(r,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)}):(i.push("The requested animation doesn't exist or has already been destroyed"),l=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);r.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,wt)})});const o=Pt(l.map(e=>{const t=r.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=o,o.onDestroy(()=>this.destroy(e)),this.players.push(o),o}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,i){const s=Dt(t,"","","");return It(this._getPlayer(e),n,s,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const oi="ng-animate-queued",ai=".ng-animate-queued",ui="ng-animate-disabled",ci=".ng-animate-disabled",hi="ng-star-inserted",di=".ng-star-inserted",pi=[],fi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mi="__ng_removed";class bi{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=on(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const yi="void",vi=new bi(yi);class _i{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mi(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(s=n)&&"done"!=s)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var s;const l=Nt(this._elementListeners,e,[]),r={name:t,phase:n,callback:i};l.push(r);const o=Nt(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(Mi(e,Qt),Mi(e,Qt+"-"+t),o[t]=vi),()=>{this._engine.afterFlush(()=>{const e=l.indexOf(r);e>=0&&l.splice(e,1),this._triggers[t]||delete o[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const s=this._getTrigger(t),l=new xi(this.id,t,e);let r=this._engine.statesByElement.get(e);r||(Mi(e,Qt),Mi(e,Qt+"-"+t),this._engine.statesByElement.set(e,r={}));let o=r[t];const a=new bi(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&o&&a.absorbOptions(o.options),r[t]=a,o||(o=vi),a.value!==yi&&o.value===a.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(o.params,a.params)){const t=[],n=s.matchStyles(o.value,o.params,t),i=s.matchStyles(a.value,a.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{dn(e,n),hn(e,i)})}return}const u=Nt(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=s.matchTransition(o.value,a.value,e,a.params),h=!1;if(!c){if(!i)return;c=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:o,toState:a,player:l,isFallbackTransition:h}),h||(Mi(e,oi),l.onStart(()=>{Pi(e,oi)})),l.onDone(()=>{let t=this.players.indexOf(l);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(l);e>=0&&n.splice(e,1)}}),this.players.push(l),u.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,en,!0).forEach(e=>{if(e[mi])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,i){const s=this._engine.statesByElement.get(e);if(s){const l=[];if(Object.keys(s).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,yi,i);n&&l.push(n)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Pt(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const s=this._triggers[i].fallbackTransition,l=this._engine.statesByElement.get(e)[i]||vi,r=new bi(yi),o=new xi(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:l,toState:r,player:o,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}this.prepareLeaveAnimationListeners(e),i?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){Mi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const s=n.element,l=this._elementListeners.get(s);l&&l.forEach(t=>{if(t.name==n.triggerName){const i=Dt(s,n.triggerName,n.fromState.value,n.toState.value);i._data=e,It(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(t=>t.element===e)||t}}class wi{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new _i(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=n[e[i]].namespaceId;if(s){const e=this._fetchNamespace(s);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(Ci(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Ci(t))return;const s=t[mi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mi(e,ui)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pi(e,ui))}removeNode(e,t,n,i){if(Ci(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t[mi]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,s){return Ci(t)?this._fetchNamespace(e).listen(t,n,i,s):()=>{}}_buildInstruction(e,t,n,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,en,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,nn,!0)).forEach(e=>this.finishActiveQueriedAnimationOnElement(e))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pt(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[mi];if(t&&t.setForRemoval){if(e[mi]=fi,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,ci)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ci,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Mi(this.collectedEnterElements[n],hi);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Pt(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new Un,i=[],s=new Map,l=[],r=new Map,o=new Map,a=new Map,u=new Set;this.disabledNodes.forEach(e=>{u.add(e);const t=this.driver.query(e,ai,!0);for(let n=0;n<t.length;n++)u.add(t[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Si(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=Xt+f++;p.set(t,n),e.forEach(e=>Mi(e,n))});const g=[],m=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const e=this.collectedLeaveElements[A],t=e[mi];t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,di,!0).forEach(e=>m.add(e)):b.add(e))}const y=new Map,v=Si(h,Array.from(m));v.forEach((e,t)=>{const n=Zt+f++;y.set(t,n),e.forEach(e=>Mi(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>Pi(e,n))}),v.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>Pi(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(e=>{const t=e.player,s=e.element;if(_.push(t),this.collectedEnterElements.length){const e=s[mi];if(e&&e.setForMove)return void t.destroy()}const u=!c||!this.driver.containsElement(c,s),h=y.get(s),d=p.get(s),f=this._buildInstruction(e,n,d,h,u);if(!f.errors||!f.errors.length)return u?(t.onStart(()=>dn(s,f.fromStyles)),t.onDestroy(()=>hn(s,f.toStyles)),void i.push(t)):e.isFallbackTransition?(t.onStart(()=>dn(s,f.fromStyles)),t.onDestroy(()=>hn(s,f.toStyles)),void i.push(t)):(f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(s,f.timelines),l.push({instruction:f,player:t,element:s}),f.queriedElements.forEach(e=>Nt(r,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=o.get(t);e||o.set(t,e=new Set),n.forEach(t=>e.add(t))}}),void f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=a.get(t);i||a.set(t,i=new Set),n.forEach(e=>i.add(e))}));w.push(f)});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),_.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,C=new Map;l.forEach(e=>{const t=e.element;n.has(t)&&(C.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Nt(x,t,[]).push(e),e.destroy()})});const k=g.filter(e=>Ii(e,o,a)),E=new Map;Ei(E,this.driver,b,a,wt).forEach(e=>{Ii(e,o,a)&&k.push(e)});const S=new Map;d.forEach((e,t)=>{Ei(S,this.driver,new Set(e),o,Tt)}),k.forEach(e=>{const t=E.get(e),n=S.get(e);E.set(e,Object.assign({},t,n))});const T=[],M=[],P={};l.forEach(e=>{const{element:t,player:l,instruction:r}=e;if(n.has(t)){if(u.has(t))return l.onDestroy(()=>hn(t,r.toStyles)),l.disabled=!0,l.overrideTotalTime(r.totalTime),void i.push(l);let e=P;if(C.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=C.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>C.set(t,e))}const n=this._buildAnimation(l.namespaceId,r,x,s,S,E);if(l.setRealPlayer(n),e===P)T.push(l);else{const t=this.playersByElement.get(e);t&&t.length&&(l.parentPlayer=Pt(t)),i.push(l)}}else dn(t,r.fromStyles),l.onDestroy(()=>hn(t,r.toStyles)),M.push(l),u.has(t)&&i.push(l)}),M.forEach(e=>{const t=s.get(e.element);if(t&&t.length){const n=Pt(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let A=0;A<g.length;A++){const e=g[A],t=e[mi];if(Pi(e,Zt),t&&t.hasAnimation)continue;let n=[];if(r.size){let t=r.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,nn,!0);for(let e=0;e<i.length;e++){let t=r.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?Ai(this,e,i):this.processLeaveNode(e)}return g.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const i=t[mi];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,s){let l=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(l=t)}else{const t=this.playersByElement.get(e);if(t){const e=!s||s==yi;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&l.push(t)})}}return(n||i)&&(l=l.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),l}_beforeAnimationBuild(e,t,n){const i=t.element,s=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const r of t.timelines){const e=r.element,o=e!==i,a=Nt(n,e,[]);this._getPreviousPlayers(e,o,s,l,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),a.push(e)})}dn(i,t.fromStyles)}_buildAnimation(e,t,n,i,s,l){const r=t.triggerName,o=t.element,a=[],u=new Set,c=new Set,h=t.timelines.map(t=>{const h=t.element;u.add(h);const d=h[mi];if(d&&d.removedBeforeQueried)return new Et(t.duration,t.delay);const p=h!==o,f=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const s=t[i];s instanceof St?e(s.players,n):n.push(s)}}(e,t),t}((n.get(h)||pi).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=s.get(h),m=l.get(h),b=At(0,this._normalizer,0,t.keyframes,g,m),y=this._buildPlayer(t,b,f);if(t.subTimeline&&i&&c.add(h),p){const t=new xi(e,r,h);t.setRealPlayer(y),a.push(t)}return y});a.forEach(e=>{Nt(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>(function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t)){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i})(this.playersByQueriedElement,e.element,e))}),u.forEach(e=>Mi(e,tn));const d=Pt(h);return d.onDestroy(()=>{u.forEach(e=>Pi(e,tn)),hn(o,t.toStyles)}),c.forEach(e=>{Nt(i,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Et(e.duration,e.delay)}}class xi{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Et,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>It(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Nt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ci(e){return e&&1===e.nodeType}function ki(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ei(e,t,n,i,s){const l=[];n.forEach(e=>l.push(ki(e)));const r=[];i.forEach((n,i)=>{const l={};n.forEach(e=>{const n=l[e]=t.computeStyle(i,e,s);n&&0!=n.length||(i[mi]=gi,r.push(i))}),e.set(i,l)});let o=0;return n.forEach(e=>ki(e,l[o++])),r}function Si(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),s=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let l=s.get(t);if(l)return l;const r=t.parentNode;return l=n.has(r)?r:i.has(r)?1:e(r),s.set(t,l),l}(e);1!==t&&n.get(t).push(e)}),n}const Ti="$$classes";function Mi(e,t){if(e.classList)e.classList.add(t);else{let n=e[Ti];n||(n=e[Ti]={}),n[t]=!0}}function Pi(e,t){if(e.classList)e.classList.remove(t);else{let n=e[Ti];n&&delete n[t]}}function Ai(e,t,n){Pt(n).onDone(()=>e.processLeaveNode(t))}function Ii(e,t,n){const i=n.get(e);if(!i)return!1;let s=t.get(e);return s?i.forEach(e=>s.add(e)):t.set(e,i),n.delete(e),!0}class Oi{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new wi(e,t,n),this._timelineEngine=new ri(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,s){const l=e+"-"+i;let r=this._triggerCache[l];if(!r){const e=[],t=In(this._driver,s,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);r=function(e,t){return new ii(e,t)}(i,t),this._triggerCache[l]=r}this._transitionEngine.registerTrigger(t,i,r)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,s]=Rt(n);this._timelineEngine.command(e,t,s,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,s){if("@"==n.charAt(0)){const[e,i]=Rt(n);return this._timelineEngine.listen(e,t,i,s)}return this._transitionEngine.listen(e,t,n,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Di(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=Ri(t[0]),t.length>1&&(i=Ri(t[t.length-1]))):t&&(n=Ri(t)),n||i?new Ni(e,n,i):null}let Ni=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&hn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hn(this._element,this._initialStyles),this._endStyles&&(hn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(dn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dn(this._element,this._endStyles),this._endStyles=null),hn(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Ri(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const s=n[i];ji(s)&&((t=t||{})[s]=e[s])}return t}function ji(e){return"display"===e||"position"===e}const zi=3,Li="animation",Ui="animationend",Hi=1e3;class Bi{constructor(e,t,n,i,s,l,r){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=s,this._fillMode=l,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Gi(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),qi(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Wi(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Fi(this._element,this._name,"paused")}resume(){Fi(this._element,this._name,"running")}setPosition(e){const t=Vi(this._element,this._name);this._position=e*this._duration,qi(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=parseFloat(e.elapsedTime.toFixed(zi))*Hi;e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Wi(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Gi(e,"").split(","),i=$i(n,t);i>=0&&(n.splice(i,1),qi(e,"",n.join(",")))}(this._element,this._name))}}function Fi(e,t,n){qi(e,"PlayState",n,Vi(e,t))}function Vi(e,t){const n=Gi(e,"");return n.indexOf(",")>0?$i(n.split(","),t):$i([n],t)}function $i(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Wi(e,t,n){n?e.removeEventListener(Ui,t):e.addEventListener(Ui,t)}function qi(e,t,n,i){const s=Li+t;if(null!=i){const t=e.style[s];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[s]=n}function Gi(e,t){return e.style[Li+t]}const Ki="forwards",Yi="linear";class Ji{constructor(e,t,n,i,s,l,r,o){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=s,this._finalStyles=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=l||Yi,this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Bi(this.element,this.animationName,this._duration,this._delay,this.easing,Ki,()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:Cn(this.element,n))})}this.currentSnapshot=e}}class Xi extends Et{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=qt(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}const Zi="gen_css_kf_",Qi=" ";class es{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Ft(e)}matchesElement(e,t){return Vt(e,t)}containsElement(e,t){return $t(e,t)}query(e,t,n){return Wt(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>qt(e));let i=`@keyframes ${t} {\n`,s="";n.forEach(e=>{s=Qi;const t=parseFloat(e.offset);i+=`${s}${100*t}% {\n`,s+=Qi,Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${s}animation-timing-function: ${n};\n`));default:return void(i+=`${s}${t}: ${n};\n`)}}),i+=`${s}}\n`}),i+="}\n";const l=document.createElement("style");return l.innerHTML=i,l}animate(e,t,n,i,s,l=[],r){r&&this._notifyFaultyScrubber();const o=l.filter(e=>e instanceof Ji),a={};_n(n,i)&&o.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>a[e]=t[e])});const u=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=wn(e,t,a));if(0==n)return new Xi(e,u);const c=`${Zi}${this._count++}`,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);const d=Di(e,t),p=new Ji(e,t,c,n,i,s,u,d);return p.onDestroy(()=>(function(e){e.parentNode.removeChild(e)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ts{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Cn(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class ns{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(is().toString()),this._cssKeyframesDriver=new es}validateStyleProperty(e){return Ft(e)}matchesElement(e,t){return Vt(e,t)}containsElement(e,t){return $t(e,t)}query(e,t,n){return Wt(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,s,l=[],r){if(!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,s,l);const o={duration:n,delay:i,fill:0==i?"both":"forwards"};s&&(o.easing=s);const a={},u=l.filter(e=>e instanceof ts);_n(n,i)&&u.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>a[e]=t[e])});const c=Di(e,t=wn(e,t=t.map(e=>an(e,!1)),a));return new ts(e,t,o,c)}}function is(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class ss extends vt{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:i.A.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?xt(e):e;return os(this._renderer,null,t,"register",[n]),new ls(t,this._renderer)}}class ls extends _t{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new rs(this._id,e,t||{},this._renderer)}}class rs{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return os(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function os(e,t,n,i,s){return e.setProperty(t,`@@${n}:${i}`,s)}const as="@",us="@.disabled";class cs{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new hs("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,s=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,e),t.data.animation.forEach(t=>this.engine.registerTrigger(i,s,e,t.name,t)),new ds(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class hs{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==as&&t==us?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ds extends hs{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==as?"."==t.charAt(1)&&t==us?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==as){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let s=t.substr(1),l="";return s.charAt(0)!=as&&([s,l]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}class ps extends Oi{constructor(e,t,n){super(e.body,t,n)}}function fs(){return"function"==typeof is()?new ns:new es}function gs(){return new Xn}function ms(e,t,n){return new cs(e,t,n)}const bs=new i.j("AnimationModuleType");class ys{}var vs=i.X(s.a,[l,r,o.a,a.b,u.a,c],(function(e){return i.ib([i.jb(512,i.g,i.J,[[8,[f,y,x,S,A,G]],[3,i.g],i.o]),i.jb(5120,i.n,i.U,[[3,i.n]]),i.jb(4608,Z,Q,[i.n,[2,X]]),i.jb(5120,i.Q,i.V,[i.q]),i.jb(4608,i.f,i.f,[]),i.jb(5120,i.a,i.R,[]),i.jb(5120,i.l,i.S,[]),i.jb(5120,i.m,i.T,[]),i.jb(4608,ot,at,[te]),i.jb(6144,i.w,null,[ot]),i.jb(4608,et,nt,[]),i.jb(5120,xe,(function(e,t,n,i,s,l,r,o){return[new Ze(e,t,n),new rt(i),new it(s,l,r,o)]}),[te,i.q,i.s,te,te,et,i.K,[2,tt]]),i.jb(4608,Ce,Ce,[xe,i.q]),i.jb(135680,Se,Se,[te]),i.jb(4608,De,De,[Ce,Se,i.a]),i.jb(5120,Kt,fs,[]),i.jb(5120,Jn,gs,[]),i.jb(4608,Oi,ps,[te,Kt,Jn]),i.jb(5120,i.u,ms,[De,Oi,i.q]),i.jb(6144,Ee,null,[Se]),i.jb(4608,i.y,i.y,[i.q]),i.jb(4608,vt,ss,[i.u,te]),i.jb(1073742336,ee,ee,[]),i.jb(1024,i.h,bt,[]),i.jb(1024,i.b,(function(e){return[(t=e,ve("probe",we),ve("coreTokens",Object.assign({},_e,(t||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>we)];var t}),[[2,i.p]]),i.jb(512,i.c,i.c,[[2,i.b]]),i.jb(131584,i.e,i.e,[i.q,i.K,i.k,i.h,i.g,i.c]),i.jb(1073742336,i.d,i.d,[i.e]),i.jb(1073742336,yt,yt,[[3,yt]]),i.jb(1073742336,ys,ys,[]),i.jb(1073742336,s.a,s.a,[]),i.jb(256,i.I,!0,[]),i.jb(256,bs,"BrowserAnimations",[])])}));Object(i.D)(),mt().bootstrapModuleFactory(vs).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);